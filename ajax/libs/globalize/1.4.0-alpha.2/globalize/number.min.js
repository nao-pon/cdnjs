!function(e,n){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event","cldr/supplemental"],n):"object"==typeof exports?module.exports=n(require("cldrjs"),require("../globalize")):n(e.Cldr,e.Globalize)}(this,function(e,n){var t=n._createError,r=n._regexpEscape,i=n._runtimeBind,u=n._stringPad,a=n._validateCldr,o=n._validateDefaultLocale,m=n._validateParameterPresence,c=n._validateParameterRange,f=n._validateParameterType,l=n._validateParameterTypePlainObject,s=function(e){return t("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},p=function(e,n){f(e,n,void 0===e||"number"==typeof e,"Number")},g=function(e,n){f(e,n,void 0===e||"string"==typeof e,"a string")},d=/^([^0]*)(0+)([^0]*)$/,b=function(e,n,t){var r;return e=e.toPrecision(n+2),r=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:r-=n})},x=/^(('([^']|'')*'|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,h=function(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"":e.replace(/''/g,"'").slice(1,-1)},v=function(e,n,t){var r,i,a,o,m,c,f,l,p,g,x,v,N,F,y,E,D,S,w,_,P,M,j,A,O,C,R,k,B;return n[1],c=n[2],m=n[3],a=n[4],f=n[5],o=n[6],y=n[7],x=n[8],E=n[9],F=n[15],i=n[16],l=n[17],S=n[18],p=n[19],r=n[20],isNaN(e)?l:(e<0?(v=n[12],g=n[13],D=n[14]):(v=n[11],g=n[0],D=n[10]),isFinite(e)?(-1!==v.indexOf("%")?e*=100:-1!==v.indexOf("‰")&&(e*=1e3),r&&(M=Math.abs(Math.floor(e)).toString().length-1,(M=Math.min(M,r.maxExponent))>=3&&(w=r[M]&&r[M].other),"0"===w?w=null:w&&(P=M-(w.split("0").length-1-1),e/=Math.pow(10,P))),isNaN(f*o)?(A=e,O=c,C=m,k=F,B=y,A=(R=a)?k(A,B||{exponent:-R}):k(A),A=String(A),R&&/e-/.test(A)&&(A=(+A).toFixed(R).replace(/0+$/,"").replace(/\.$/,"")),C&&((A=A.split("."))[1]=u(A[1]||"",C,!0),A=A.join(".")),O&&((A=A.split("."))[0]=u(A[0],O),A=A.join(".")),e=A):e=function(e,n,t,r){var i,a;if(n>t&&(t=n),e=(+(e=+(i=b(e,n,r))==+(a=b(e,t,r))?i:a)).toString(10),/e/.test(e))throw s({feature:"integers out of (1e21, 1e-7)"});return n-e.replace(/^0+|\./g,"").length>0&&((e=e.split("."))[1]=u(e[1]||"",n-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,f,o,F),r&&w&&(j=t?t(+e):"other",g+=(_=(w=r[M][j]||w).match(d))[1],D=_[3]+D),e=e.replace(/^-/,""),x&&(e=function(e,n,t){var r,i=n,u="",a=!!t;for(r=(e=String(e).split("."))[0].length;r>i;)u=e[0].slice(r-i,r)+(u.length?",":"")+u,r-=i,a&&(i=t,a=!1);return e[0]=e[0].slice(0,r)+(u.length?",":"")+u,e.join(".")}(e,x,E)),N=g,N+=e,(N+=D).replace(/('([^']|'')+'|'')|./g,function(e,n){return n?h(n):(e=e.replace(/[.,\-+E%\u2030]/,function(e){return S[e]}),p&&(e=e.replace(/[0-9]/,function(e){return p[+e]})),e)})):g+i+D)},N=function(e,n){return function(t){return m(t,"value"),p(t,"value"),v(t,e,n)}},F=function(e){var n=e.attributes["u-nu"];return n?("traditio"===n&&(n="traditional"),-1!==["native","traditional","finance"].indexOf(n)?e.main(["numbers/otherNumberingSystems",n]):n):e.main("numbers/defaultNumberingSystem")},y=function(e){var n,t=F(e);if("latn"!==t){if("numeric"!==(n=e.supplemental(["numberingSystems",t]))._type)throw s("`"+n._type+"` numbering system");return n._digits}},E=function(e){var n,t,r,i,u,a,o,m,c,f,l,p,g,d,b,h,v,N;if(!(e=e.match(x)))throw new Error("Invalid pattern: "+e);if(p=e[1],l=e[4],i=e[5],v=e[9],b=e[10],N=e[11],v?v.replace(/(@+)(#*)/,function(e,n,t){f=n.length,o=f+t.length}):(r=e[8],u=e[7],r?(r.replace(/[0-9]+/,function(e){m=e}),m?(d=+("0."+m),m=m.length):m=0,a=r.length-1):(m=0,a=0),u.replace(/0+$/,function(e){c=e.length})),b)throw s({feature:"scientific notation (not implemented)"});if(l)throw s({feature:"padding (not implemented)"});return-1!==(n=i.lastIndexOf(","))&&(g=(t=i.split(".")[0]).length-n-1,-1!==(t=i.lastIndexOf(",",n-1))&&(h=n-1-t)),[p,l,c,m,a,f,o,d,g,h,N]},D=function(e,n){return n.main(["numbers/symbols-numberSystem-"+F(n),e])},S={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},w=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},_=function(e,n,t){var r,i,u,a,o,m,c,f,l,s,p,g;function d(e,n){e in t&&(c[n]=t[e])}return t=t||{},o=(e=e.split(";"))[0],r=e[1]||"-"+o,i=(u=E(r))[0],a=u[10],f="truncate"===(f=(f=t.round)||"round")?w:Math[f],(m=function(e,n){var t,r;if(e=+e,isNaN(e))return NaN;if("object"==typeof n&&n.exponent){if(r=1,0==(t=+n.exponent))return f(e);if("number"!=typeof t||t%1!=0)return NaN}else{if(1===(r=+n||1))return f(e);if(isNaN(r))return NaN;t=+(r=r.toExponential().split("e"))[1],r=+r[0]}return(e=e.toString().split("e"))[0]=+e[0]/r,e[1]=e[1]?+e[1]-t:-t,(e=(e=f(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=+e[0]*r,e[1]=e[1]?+e[1]+t:t,+(e[0]+"e"+e[1])}).generatorString=function(){return"numberRound("+(t.round?'"'+t.round+'"':"")+")"},c=E(o).concat([o,i+o+a,i,a,m,D("infinity",n),D("nan",n),function(e){var n,t={};for(n in S)t[n]=D(S[n],e);return t}(n),y(n)]),t.compact&&(c[2]=a[2]=1,c[3]=a[3]=0,c[4]=a[4]=0,c[5]=a[5]=c[6]=a[6]=void 0,c[20]=(l=t.compact,p=0,g=(s=n).main(["numbers/decimalFormats-numberSystem-"+F(s),l,"decimalFormat"]),(g=Object.keys(g).reduce(function(e,n){var t=n.split("0").length-1,r=n.split("-")[2];return e[t]=e[t]||{},e[t][r]=g[n],p=Math.max(t,p),e},{})).maxExponent=p,g)),d("minimumIntegerDigits",2),d("minimumFractionDigits",3),d("maximumFractionDigits",4),d("minimumSignificantDigits",5),d("maximumSignificantDigits",6),!1===t.useGrouping&&(c[8]=null),"minimumFractionDigits"in t&&!("maximumFractionDigits"in t)?c[4]=Math.max(c[3],c[4]):!("minimumFractionDigits"in t)&&"maximumFractionDigits"in t&&(c[3]=Math.min(c[3],c[4])),c},P=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,M=/[\-\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]/g,j=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g,A=function(e){return e.replace(P,"").replace(M,"-").replace(j," ")},O=function(e,n){var t,r,i,u,a,o,m,c,f,l;return t=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],i=n[0],r=n[1]||{},f=n[2],e=A(e),l=e,!t.some(function(e){var n=l;return e.every(function(e){return null!==n.match(f[e])&&(n=n.replace(f[e],(t=e,function(e){switch(e=e.split("").map(function(e){return i[e]||r[e]||e}).join(""),t){case"infinity":a=1/0;break;case"nan":a=NaN;break;case"number":e=e.replace(/,/g,""),a=+e;break;case"prefix":case"negativePrefix":o=e;break;case"suffix":c=e;break;case"negativeSuffix":c=e,u=!0;break;default:throw new Error("Internal error")}return""})),!0);var t})&&!n.length})||isNaN(a)?NaN:(-1!==(m=""+o+c).indexOf("%")?a/=100:-1!==m.indexOf("‰")&&(a/=1e3),u&&(a*=-1),a)},C=function(e,n){return Object.keys(e).map(function(t){return n([t,e[t]])}).reduce(function(e,n){return e[n[0]]=n[1],e},{})},R=function(e,n,t){var i,u,a,o,m,c,f,l,s,p,g,d,b,x,v,N,F,y,E,w,P=_(e,n,t);return N=A(P[0]),l=P[4],p=P[5],s=P[6],F=P[8],y=P[9],E=A(P[10]),d=A(P[13]),b=A(P[14]),m=A(P[16]),g=A(P[17]),w=C(P[18],function(e){return[e[0],A(e[1])]}),x=P[19],f=C(function(e){var n,t={};for(n in S)t[D(S[n],e)]=n;return t}(n),function(e){return[A(e[0]),e[1]]}),a=x?"["+x+"]":"\\d",o=r(w[","]),u=r(w["."]),x&&(c=x.split("").reduce(function(e,n,t){return e[n]=String(t),e},{})),N=(i=[N,E,d,b].map(function(e){return e.replace(/('([^']|'')+'|'')|./g,function(e,n){return n?h(n):e=e.replace(/[\-+E%\u2030]/,function(e){return w[e]})})}))[0],E=i[1],d=i[2],b=i[3],v=a+"+",F&&(v="("+(i=y?a+"{1,"+y+"}(("+o+a+"{"+y+"})*("+o+a+"{"+F+"}))":a+"{1,"+F+"}("+o+a+"{"+F+"})+")+"|"+v+")"),isNaN(p*s)&&!l||(v="("+(v=v+"("+(i=u+a+"+")+"|"+u+")?|("+v+")?"+i)+")"),[f,c,{infinity:new RegExp("^"+r(m)),nan:new RegExp("^"+r(g)),negativePrefix:new RegExp("^"+r(d)),negativeSuffix:new RegExp("^"+r(b)),number:new RegExp("^"+v),prefix:new RegExp("^"+r(N)),suffix:new RegExp("^"+r(E))}]},k=function(e,n){if("decimal"!==e&&"percent"!==e)throw new Error("Invalid style");return n.main(["numbers",e+"Formats-numberSystem-"+F(n),"standard"])};return n.numberFormatter=n.prototype.numberFormatter=function(e){var n,t,r,u,m,f;return l(e,"options"),e=e||{},t=this.cldr,n=[e],o(t),t.on("get",a),r=e.raw?e.raw:k(e.style||"decimal",t),m=_(r,t,e),t.off("get",a),function(e){var n=e[2],t=e[3],r=e[4],i=e[5],u=e[6];if(isNaN(i*u)){if(!isNaN(i)||!isNaN(u))throw new Error("Neither or both the minimum and maximum significant digits must be present");c(n,"minimumIntegerDigits",1,21),c(t,"minimumFractionDigits",0,20),c(r,"maximumFractionDigits",t,20)}else c(i,"minimumSignificantDigits",1,21),c(u,"maximumSignificantDigits",i,21)}(m),e.compact?(u=this.pluralGenerator(),f=N(m,u),i(n,t,f,[m,u])):(f=N(m),i(n,t,f,[m])),f},n.numberParser=n.prototype.numberParser=function(e){var n,t,r,u,c,f;return l(e,"options"),e=e||{},t=this.cldr,n=[e],o(t),t.on("get",a),r=e.raw?e.raw:k(e.style||"decimal",t),u=R(r,t,e),t.off("get",a),f=u,i(n,t,c=function(e){return m(e,"value"),g(e,"value"),O(e,f)},[u]),c},n.formatNumber=n.prototype.formatNumber=function(e,n){return m(e,"value"),p(e,"value"),this.numberFormatter(n)(e)},n.parseNumber=n.prototype.parseNumber=function(e,n){return m(e,"value"),g(e,"value"),this.numberParser(n)(e)},n._createErrorUnsupportedFeature=s,n._numberNumberingSystem=F,n._numberNumberingSystemDigitsMap=y,n._numberPattern=k,n._numberSymbol=D,n._looseMatching=A,n._removeLiteralQuotes=h,n._stringPad=u,n._validateParameterTypeNumber=p,n._validateParameterTypeString=g,n});