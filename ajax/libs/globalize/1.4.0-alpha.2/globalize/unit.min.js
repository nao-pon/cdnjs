!function(e,t){"function"==typeof define&&define.amd?define(["cldr","../globalize","./number","./plural"],t):"object"==typeof exports?module.exports=t(require("cldrjs"),require("../globalize")):t(e.Cldr,e.Globalize)}(this,function(e,t){var r=t._formatMessage,n=t._runtimeBind,a=t._validateParameterPresence,i=t._validateParameterTypePlainObject,o=t._validateParameterTypeNumber,u=t._validateParameterTypeString,l=function(e,t,n){return function(i){return a(i,"value"),o(i,"value"),u=i,l=e,m=t,g=(p=n).compoundUnitPattern,p=p.unitProperties,f=l(u),b=m(u),p instanceof Array?(s=p[0],v=p[1],c=r(s[b],[u]),d=r(v.one,[""]).trim(),r(g,[c,d])):(P=p[b],r(P,[f]));var u,l,m,p,c,s,f,d,v,P,b,g}},m=["acceleration","angle","area","digital","duration","length","mass","power","pressure","speed","temperature","volume"];var p=function(e,t,r){var n;if(e=e.replace(/\//,"-per-"),[""].concat(m).some(function(a){return n=r.main(["units",t,a.length?a+"-"+e:e])}),(n=function(e){var t,r;if(e)for(r in t={},e)t[r.replace(/unitPattern-count-/,"")]=e[r];return t}(n))||!/-per-/.test(e)||(e=e.split("-per-"),(n=e.map(function(e){return p(e,t,r)}))[0]&&n[1]))return n},c=p;return t.formatUnit=t.prototype.formatUnit=function(e,t,r){return a(e,"value"),o(e,"value"),this.unitFormatter(t,r)(e)},t.unitFormatter=t.prototype.unitFormatter=function(e,t){var r,o,m,p,s,f,d,v,P;return a(e,"unit"),u(e,"unit"),i(t,"options"),r=[e,t=t||{}],o=t.form||"long",d=e,v=o,f={compoundUnitPattern:(P=this.cldr).main(["units",v,"per/compoundUnitPattern"]),unitProperties:c(d,v,P)},m=t.numberFormatter||this.numberFormatter(),p=this.pluralGenerator(),s=l(m,p,f),n(r,this.cldr,s,[m,p,f]),s},t});