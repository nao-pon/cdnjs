!function(e,r){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime"],r):"object"==typeof exports?module.exports=r(require("../globalize-runtime")):r(e.Globalize)}(this,function(e){var r=e._createError,t=(e._regexpEscape,e._runtimeKey),n=e._stringPad,u=e._validateParameterType,a=e._validateParameterPresence,i=e._validateParameterTypeString,o=function(e){return r("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},f=function(e,r){u(e,r,void 0===e||"number"==typeof e,"Number")},l=/^([^0]*)(0+)([^0]*)$/,c=function(e,r,t){var n;return e=e.toPrecision(r+2),n=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:n-=r})},s=function(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"":e.replace(/''/g,"'").slice(1,-1)},p=function(e,r,t){var u,a,i,f,p,m,g,b,F,h,v,N,x,d,E,P,_,D,y,S,A,M,C,j,k,B,w,O,T;return r[1],m=r[2],p=r[3],i=r[4],g=r[5],f=r[6],E=r[7],v=r[8],P=r[9],d=r[15],a=r[16],b=r[17],D=r[18],F=r[19],u=r[20],isNaN(e)?b:(e<0?(N=r[12],h=r[13],_=r[14]):(N=r[11],h=r[0],_=r[10]),isFinite(e)?(-1!==N.indexOf("%")?e*=100:-1!==N.indexOf("‰")&&(e*=1e3),u&&(M=Math.abs(Math.floor(e)).toString().length-1,(M=Math.min(M,u.maxExponent))>=3&&(y=u[M]&&u[M].other),"0"===y?y=null:y&&(A=M-(y.split("0").length-1-1),e/=Math.pow(10,A))),isNaN(g*f)?(j=e,k=m,B=p,O=d,T=E,j=(w=i)?O(j,T||{exponent:-w}):O(j),j=String(j),w&&/e-/.test(j)&&(j=(+j).toFixed(w).replace(/0+$/,"").replace(/\.$/,"")),B&&((j=j.split("."))[1]=n(j[1]||"",B,!0),j=j.join(".")),k&&((j=j.split("."))[0]=n(j[0],k),j=j.join(".")),e=j):e=function(e,r,t,u){var a,i;if(r>t&&(t=r),e=(+(e=+(a=c(e,r,u))==+(i=c(e,t,u))?a:i)).toString(10),/e/.test(e))throw o({feature:"integers out of (1e21, 1e-7)"});return r-e.replace(/^0+|\./g,"").length>0&&((e=e.split("."))[1]=n(e[1]||"",r-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,g,f,d),u&&y&&(C=t?t(+e):"other",h+=(S=(y=u[M][C]||y).match(l))[1],_=S[3]+_),e=e.replace(/^-/,""),v&&(e=function(e,r,t){var n,u=r,a="",i=!!t;for(n=(e=String(e).split("."))[0].length;n>u;)a=e[0].slice(n-u,n)+(a.length?",":"")+a,n-=u,i&&(u=t,i=!1);return e[0]=e[0].slice(0,n)+(a.length?",":"")+a,e.join(".")}(e,v,P)),x=h,x+=e,(x+=_).replace(/('([^']|'')+'|'')|./g,function(e,r){return r?s(r):(e=e.replace(/[.,\-+E%\u2030]/,function(e){return D[e]}),F&&(e=e.replace(/[0-9]/,function(e){return F[+e]})),e)})):h+a+_)},m=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,g=/[\-\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]/g,b=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g,F=function(e){return e.replace(m,"").replace(g,"-").replace(b," ")},h=function(e,r){var t,n,u,a,i,o,f,l,c,s;return t=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],u=r[0],n=r[1]||{},c=r[2],e=F(e),s=e,!t.some(function(e){var r=s;return e.every(function(e){return null!==r.match(c[e])&&(r=r.replace(c[e],(t=e,function(e){switch(e=e.split("").map(function(e){return u[e]||n[e]||e}).join(""),t){case"infinity":i=1/0;break;case"nan":i=NaN;break;case"number":e=e.replace(/,/g,""),i=+e;break;case"prefix":case"negativePrefix":o=e;break;case"suffix":l=e;break;case"negativeSuffix":l=e,a=!0;break;default:throw new Error("Internal error")}return""})),!0);var t})&&!r.length})||isNaN(i)?NaN:(-1!==(f=""+o+l).indexOf("%")?i/=100:-1!==f.indexOf("‰")&&(i/=1e3),a&&(i*=-1),i)},v=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)};return e._createErrorUnsupportedFeature=o,e._looseMatching=F,e._numberFormat=p,e._numberFormatterFn=function(e,r){return function(t){return a(t,"value"),f(t,"value"),p(t,e,r)}},e._numberParse=h,e._numberParserFn=function(e){return function(r){return a(r,"value"),i(r,"value"),h(r,e)}},e._numberRound=function(e){return e="truncate"===(e=e||"round")?v:Math[e],function(r,t){var n,u;if(r=+r,isNaN(r))return NaN;if("object"==typeof t&&t.exponent){if(u=1,0==(n=+t.exponent))return e(r);if("number"!=typeof n||n%1!=0)return NaN}else{if(1===(u=+t||1))return e(r);if(isNaN(u))return NaN;n=+(u=u.toExponential().split("e"))[1],u=+u[0]}return(r=r.toString().split("e"))[0]=+r[0]/u,r[1]=r[1]?+r[1]-n:-n,(r=(r=e(+(r[0]+"e"+r[1]))).toString().split("e"))[0]=+r[0]*u,r[1]=r[1]?+r[1]+n:n,+(r[0]+"e"+r[1])}},e._removeLiteralQuotes=s,e._validateParameterPresence=a,e._validateParameterTypeNumber=f,e._validateParameterTypeString=i,e.numberFormatter=e.prototype.numberFormatter=function(r){return r=r||{},e[t("numberFormatter",this._locale,[r])]},e.numberParser=e.prototype.numberParser=function(r){return r=r||{},e[t("numberParser",this._locale,[r])]},e.formatNumber=e.prototype.formatNumber=function(e,r){return a(e,"value"),f(e,"value"),this.numberFormatter(r)(e)},e.parseNumber=e.prototype.parseNumber=function(e,r){return a(e,"value"),i(e,"value"),this.numberParser(r)(e)},e});