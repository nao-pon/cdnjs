!function(t,e){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event"],e):"object"==typeof exports?module.exports=e(require("cldrjs"),require("../globalize")):e(t.Cldr,t.Globalize)}(this,function(t,e){var r,n=e._alwaysArray,o=e._createError,a=e._isPlainObject,i=e._runtimeBind,u=e._validateDefaultLocale,s=e._validate,l=e._validateParameterPresence,c=e._validateParameterType,p=e._validateParameterTypePlainObject;r=function(){function t(t,e){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(t))return e?e+"."+t:t;var r=JSON.stringify(t);return e?e+"["+r+"]":r}function e(t,e,r){if(this.lc=[t],this.runtime.pluralFuncs={},this.runtime.pluralFuncs[this.lc[0]]=e,this.runtime.fmt={},r)for(var n in r)this.runtime.fmt[n]=r[n]}return e._parse=function(){function t(t,e,r,n,o,a){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=a,this.name="SyntaxError"}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),{SyntaxError:t,parse:function(e){var r,n=arguments.length>1?arguments[1]:{},o={},a={start:kt},i=kt,u=function(t){return{type:"messageFormatPattern",statements:t}},s=o,l="{",c={type:"literal",value:"{",description:'"{"'},p=null,f=",",h={type:"literal",value:",",description:'","'},m="}",d={type:"literal",value:"}",description:'"}"'},v=function(t,e){var r={type:"messageFormatElement",argumentIndex:t};return e&&e.length?r.elementFormat=e[1]:r.output=!0,r},y="plural",g={type:"literal",value:"plural",description:'"plural"'},A=function(t,e){return{type:"elementFormat",key:t,val:e}},F="selectordinal",_={type:"literal",value:"selectordinal",description:'"selectordinal"'},b="select",w={type:"literal",value:"select",description:'"select"'},x=function(t,e){return{type:"elementFormat",key:t,val:e}},S=function(t,e){return{type:"pluralFormatPattern",pluralForms:e,offset:t||0}},j="offset",C={type:"literal",value:"offset",description:'"offset"'},E=":",P={type:"literal",value:":",description:'":"'},k=function(t){return t},I=function(t,e){return{key:t,val:e}},O=function(t){return t},N="=",G={type:"literal",value:"=",description:'"="'},M=function(t){return{type:"selectFormatPattern",pluralForms:t}},R=function(t){return t},z="#",$={type:"literal",value:"#",description:'"#"'},J=function(){return{type:"octothorpe"}},L=function(t){return{type:"string",val:t.join("")}},Z={type:"other",description:"identifier"},B=/^[0-9a-zA-Z$_]/,D={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},U=/^[^ \t\n\r,.+={}]/,q={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},T=function(t){return t},V=function(t){return t.join("")},H=/^[^{}#\\\0-\x1F \t\n\r]/,K={type:"class",value:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]"},Q=function(t){return t},W="\\\\",X={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},Y=function(){return"\\"},tt="\\#",et={type:"literal",value:"\\#",description:'"\\\\#"'},rt=function(){return"#"},nt="\\{",ot={type:"literal",value:"\\{",description:'"\\\\{"'},at=function(){return"{"},it="\\}",ut={type:"literal",value:"\\}",description:'"\\\\}"'},st=function(){return"}"},lt="\\u",ct={type:"literal",value:"\\u",description:'"\\\\u"'},pt=function(t,e,r,n){return String.fromCharCode(parseInt("0x"+t+e+r+n))},ft=/^[0-9]/,ht={type:"class",value:"[0-9]",description:"[0-9]"},mt=function(t){return parseInt(t.join(""),10)},dt=/^[0-9a-fA-F]/,vt={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},yt={type:"other",description:"whitespace"},gt=function(t){return t.join("")},At=/^[ \t\n\r]/,Ft={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},_t=0,bt=0,wt={line:1,column:1,seenCR:!1},xt=0,St=[],jt=0;if("startRule"in n){if(!(n.startRule in a))throw new Error("Can't start parsing from rule \""+n.startRule+'".');i=a[n.startRule]}function Ct(t){return bt!==t&&(bt>t&&(bt=0,wt={line:1,column:1,seenCR:!1}),function(t,r,n){var o,a;for(o=r;o<n;o++)"\n"===(a=e.charAt(o))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(wt,bt,t),bt=t),wt}function Et(t){_t<xt||(_t>xt&&(xt=_t,St=[]),St.push(t))}function Pt(r,n,o){var a=Ct(o),i=o<e.length?e.charAt(o):null;return null!==n&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(n),new t(null!==r?r:function(t,e){var r,n=new Array(t.length);for(r=0;r<t.length;r++)n[r]=t[r].description;return"Expected "+(t.length>1?n.slice(0,-1).join(", ")+" or "+n[t.length-1]:n[0])+" but "+(e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input")+" found."}(n,i),n,i,o,a.line,a.column)}function kt(){return It()}function It(){var t,e;for(_t,t=[],(e=Ot())===o&&(e=$t())===o&&(e=zt());e!==o;)t.push(e),(e=Ot())===o&&(e=$t())===o&&(e=zt());return t!==o&&(t=u(t)),t}function Ot(){var t,r,n,a,i,u;return t=_t,123===e.charCodeAt(_t)?(r=l,_t++):(r=o,0===jt&&Et(c)),r!==o&&Ut()!==o&&(n=Jt())!==o?(a=_t,44===e.charCodeAt(_t)?(i=f,_t++):(i=o,0===jt&&Et(h)),i!==o&&(u=function(){var t,r,n,a,i,u;if(t=_t,(r=Ut())!==o?(e.substr(_t,6)===y?(n=y,_t+=6):(n=o,0===jt&&Et(g)),n!==o&&(a=Ut())!==o?(44===e.charCodeAt(_t)?(i=f,_t++):(i=o,0===jt&&Et(h)),i!==o&&Ut()!==o&&(u=Nt())!==o&&Ut()!==o?(r=A(n,u),t=r):(_t=t,t=s)):(_t=t,t=s)):(_t=t,t=s),t===o&&(t=_t,(r=Ut())!==o?(e.substr(_t,13)===F?(n=F,_t+=13):(n=o,0===jt&&Et(_)),n!==o&&(a=Ut())!==o?(44===e.charCodeAt(_t)?(i=f,_t++):(i=o,0===jt&&Et(h)),i!==o&&Ut()!==o&&(u=Nt())!==o&&Ut()!==o?(r=A(n,u),t=r):(_t=t,t=s)):(_t=t,t=s)):(_t=t,t=s),t===o&&(t=_t,(r=Ut())!==o?(e.substr(_t,6)===b?(n=b,_t+=6):(n=o,0===jt&&Et(w)),n!==o&&(a=Ut())!==o?(44===e.charCodeAt(_t)?(i=f,_t++):(i=o,0===jt&&Et(h)),i!==o&&Ut()!==o&&(u=function(){var t,e;if(_t,t=[],(e=Mt())!==o)for(;e!==o;)t.push(e),e=Mt();else t=s;return t!==o&&(t=M(t)),t}())!==o&&Ut()!==o?(r=A(n,u),t=r):(_t=t,t=s)):(_t=t,t=s)):(_t=t,t=s),t===o)))if(t=_t,(r=Ut())!==o)if((n=Jt())!==o){for(a=[],i=Rt();i!==o;)a.push(i),i=Rt();a!==o?(r=x(n,a),t=r):(_t=t,t=s)}else _t=t,t=s;else _t=t,t=s;return t}())!==o?a=i=[i,u]:(_t=a,a=s),a===o&&(a=p),a!==o&&(i=Ut())!==o?(125===e.charCodeAt(_t)?(u=m,_t++):(u=o,0===jt&&Et(d)),u!==o?t=r=v(n,a):(_t=t,t=s)):(_t=t,t=s)):(_t=t,t=s),t}function Nt(){var t,r,n,a,i,u,l,c,f;if(t=_t,i=_t,(u=Ut())!==o?(e.substr(_t,6)===j?(l=j,_t+=6):(l=o,0===jt&&Et(C)),l!==o&&Ut()!==o?(58===e.charCodeAt(_t)?(c=E,_t++):(c=o,0===jt&&Et(P)),c!==o&&Ut()!==o&&(f=Bt())!==o&&Ut()!==o?(u=k(f),i=u):(_t=i,i=s)):(_t=i,i=s)):(_t=i,i=s),(r=i)===o&&(r=p),r!==o){if(n=[],(a=Gt())!==o)for(;a!==o;)n.push(a),a=Gt();else n=s;n!==o?t=r=S(r,n):(_t=t,t=s)}else _t=t,t=s;return t}function Gt(){var t,r,n,a,i,u,p,f;return t=_t,Ut()!==o&&(u=_t,(p=Jt())!==o&&(p=O(p)),(u=p)===o&&(u=_t,61===e.charCodeAt(_t)?(p=N,_t++):(p=o,0===jt&&Et(G)),p!==o&&(f=Bt())!==o?(p=k(f),u=p):(_t=u,u=s)),(r=u)!==o)&&Ut()!==o?(123===e.charCodeAt(_t)?(n=l,_t++):(n=o,0===jt&&Et(c)),n!==o&&Ut()!==o&&(a=It())!==o&&Ut()!==o?(125===e.charCodeAt(_t)?(i=m,_t++):(i=o,0===jt&&Et(d)),i!==o?t=I(r,a):(_t=t,t=s)):(_t=t,t=s)):(_t=t,t=s),t}function Mt(){var t,r,n,a,i;return t=_t,Ut()!==o&&(r=Jt())!==o&&Ut()!==o?(123===e.charCodeAt(_t)?(n=l,_t++):(n=o,0===jt&&Et(c)),n!==o&&Ut()!==o&&(a=It())!==o&&Ut()!==o?(125===e.charCodeAt(_t)?(i=m,_t++):(i=o,0===jt&&Et(d)),i!==o?t=I(r,a):(_t=t,t=s)):(_t=t,t=s)):(_t=t,t=s),t}function Rt(){var t,r,n;return t=_t,Ut()!==o?(44===e.charCodeAt(_t)?(r=f,_t++):(r=o,0===jt&&Et(h)),r!==o&&Ut()!==o&&(n=Jt())!==o&&Ut()!==o?t=R(n):(_t=t,t=s)):(_t=t,t=s),t}function zt(){var t;return _t,35===e.charCodeAt(_t)?(t=z,_t++):(t=o,0===jt&&Et($)),t!==o&&(t=J()),t}function $t(){var t,e;if(_t,t=[],(e=Lt())===o&&(e=qt()),e!==o)for(;e!==o;)t.push(e),(e=Lt())===o&&(e=qt());else t=s;return t!==o&&(t=L(t)),t}function Jt(){var t,r,n,a,i,u;if(jt++,t=_t,Ut()!==o){if(r=_t,n=_t,B.test(e.charAt(_t))?(a=e.charAt(_t),_t++):(a=o,0===jt&&Et(D)),a!==o){for(i=[],U.test(e.charAt(_t))?(u=e.charAt(_t),_t++):(u=o,0===jt&&Et(q));u!==o;)i.push(u),U.test(e.charAt(_t))?(u=e.charAt(_t),_t++):(u=o,0===jt&&Et(q));i!==o?n=a=[a,i]:(_t=n,n=s)}else _t=n,n=s;n!==o&&(n=e.substring(r,_t)),(r=n)!==o&&(n=Ut())!==o?t=T(r):(_t=t,t=s)}else _t=t,t=s;return jt--,t===o&&0===jt&&Et(Z),t}function Lt(){var t,e;if(_t,t=[],(e=Zt())!==o)for(;e!==o;)t.push(e),e=Zt();else t=s;return t!==o&&(t=V(t)),t}function Zt(){var t,r,n,a,i,u;return t=_t,H.test(e.charAt(_t))?(r=e.charAt(_t),_t++):(r=o,0===jt&&Et(K)),r!==o&&(r=Q(r)),(t=r)===o&&(t=_t,e.substr(_t,2)===W?(r=W,_t+=2):(r=o,0===jt&&Et(X)),r!==o&&(r=Y()),(t=r)===o&&(t=_t,e.substr(_t,2)===tt?(r=tt,_t+=2):(r=o,0===jt&&Et(et)),r!==o&&(r=rt()),(t=r)===o&&(t=_t,e.substr(_t,2)===nt?(r=nt,_t+=2):(r=o,0===jt&&Et(ot)),r!==o&&(r=at()),(t=r)===o&&(t=_t,e.substr(_t,2)===it?(r=it,_t+=2):(r=o,0===jt&&Et(ut)),r!==o&&(r=st()),(t=r)===o&&(t=_t,e.substr(_t,2)===lt?(r=lt,_t+=2):(r=o,0===jt&&Et(ct)),r!==o&&(n=Dt())!==o&&(a=Dt())!==o&&(i=Dt())!==o&&(u=Dt())!==o?t=r=pt(n,a,i,u):(_t=t,t=s)))))),t}function Bt(){var t,r;if(_t,t=[],ft.test(e.charAt(_t))?(r=e.charAt(_t),_t++):(r=o,0===jt&&Et(ht)),r!==o)for(;r!==o;)t.push(r),ft.test(e.charAt(_t))?(r=e.charAt(_t),_t++):(r=o,0===jt&&Et(ht));else t=s;return t!==o&&(t=mt(t)),t}function Dt(){var t;return dt.test(e.charAt(_t))?(t=e.charAt(_t),_t++):(t=o,0===jt&&Et(vt)),t}function Ut(){var t,e,r;for(jt++,t=_t,e=[],r=qt();r!==o;)e.push(r),r=qt();return e!==o&&(e=gt(e)),jt--,(t=e)===o&&(e=o,0===jt&&Et(yt)),t}function qt(){var t;return At.test(e.charAt(_t))?(t=e.charAt(_t),_t++):(t=o,0===jt&&Et(Ft)),t}if((r=i())!==o&&_t===e.length)return r;throw r!==o&&_t<e.length&&Et({type:"end",description:"end of input"}),Pt(null,St,xt)}}}().parse,e.plurals={},e.formatters={},e.prototype.runtime={number:function(t,e){if(isNaN(t))throw new Error("'"+t+"' isn't a number.");return t-(e||0)},plural:function(t,e,r,n,o){if({}.hasOwnProperty.call(n,t))return n[t]();e&&(t-=e);var a=r(t,o);return a in n?n[a]():n.other()},select:function(t,e){return{}.hasOwnProperty.call(e,t)?e[t]():e.other()},pluralFuncs:{},fmt:{},toString:function(){var e=function(r,n){if("object"!=typeof r){var o=r.toString().replace(/^(function )\w*/,"$1");return(u=/([ \t]*)\S.*$/.exec(o))?o.replace(new RegExp("^"+u[1],"mg"),""):o}var a=[];for(var i in r)"toString"!=i&&(0==n?a.push("var "+i+" = "+e(r[i],n+1)+";\n"):a.push(t(i)+": "+e(r[i],n+1)));if(0==n)return a.join("");if(0==a.length)return"{}";for(var u="  ";--n;)u+="  ";return"{\n"+a.join(",\n").replace(/^/gm,u)+"\n}"};return e(this,0)}},e.prototype._precompile=function(r,n){n=n||{keys:{},offset:{}};var o,a,i=[],u=[];switch(r.type){case"messageFormatPattern":for(o=0;o<r.statements.length;++o)i.push(this._precompile(r.statements[o],n));return a=i.join(" + ")||'""',n.pf_count?a:"function(d) { return "+a+"; }";case"messageFormatElement":return n.pf_count=n.pf_count||0,r.output?t(r.argumentIndex,"d"):(n.keys[n.pf_count]=r.argumentIndex,this._precompile(r.elementFormat,n));case"elementFormat":switch(u=[t(n.keys[n.pf_count],"d")],r.key){case"select":return u.push(this._precompile(r.val,n)),"select("+u.join(", ")+")";case"selectordinal":return"plural("+(u=u.concat([0,t(this.lc[0],"pluralFuncs"),this._precompile(r.val,n),1])).join(", ")+")";case"plural":return n.offset[n.pf_count||0]=r.val.offset||0,"plural("+(u=u.concat([n.offset[n.pf_count]||0,t(this.lc[0],"pluralFuncs"),this._precompile(r.val,n)])).join(", ")+")";default:return this.withIntlSupport&&!(r.key in this.runtime.fmt)&&r.key in e.formatters&&(a=e.formatters[r.key],this.runtime.fmt[r.key]="function"==typeof a(this)?a(this):a),u.push(JSON.stringify(this.lc)),r.val&&r.val.length&&u.push(JSON.stringify(1==r.val.length?r.val[0]:r.val)),"fmt."+r.key+"("+u.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":n.pf_count=n.pf_count||0,"selectFormatPattern"==r.type&&(n.offset[n.pf_count]=0);var s=!0;for(o=0;o<r.pluralForms.length;++o){var l=r.pluralForms[o].key;"other"===l&&(s=!1);var c=JSON.parse(JSON.stringify(n));c.pf_count++,i.push(t(l)+": function() { return "+this._precompile(r.pluralForms[o].val,c)+";}")}if(s)throw new Error("No 'other' form found in "+r.type+" "+n.pf_count);return"{ "+i.join(", ")+" }";case"string":return JSON.stringify(r.val||"");case"octothorpe":return n.pf_count?(u=[t(n.keys[n.pf_count-1],"d")],n.offset[n.pf_count-1]&&u.push(n.offset[n.pf_count-1]),"number("+u.join(", ")+")"):'"#"';default:throw new Error("Bad AST type: "+r.type)}},e.prototype.compile=function(r,n){var o={},a=this.lc,i=function(t,r){try{var n=e._parse(r);return t._precompile(n)}catch(t){throw new Error((n?"Precompiler":"Parser")+" error: "+t.toString())}},u=function(e,r){if(r||(r=0),"object"!=typeof e)return e;for(var n=[],o="",a=0;a<r;++a)o+="  ";for(var i in e)n.push("\n"+o+"  "+t(i)+": "+u(e[i],r+1));return"{"+n.join(",")+"\n"+o+"}"};if("string"==typeof r)return new Function("number, plural, select, pluralFuncs, fmt","return "+i(this,r))(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt);for(var s in n=n||{},r)if(n.locale&&(this.lc=n.locale[s]&&[].concat(n.locale[s])||a),"string"==typeof r[s])try{o[s]=i(this,r[s])}catch(t){throw t.message=t.message.replace(":"," with `"+s+"`:"),t}else for(var l in o[s]={},r[s])try{o[s][l]=i(this,r[s][l])}catch(t){throw t.message=t.message.replace(":"," with `"+l+"` in `"+s+"`:"),t}this.lc=a;var c=this.runtime.toString()+"\n";switch(n.global||""){case"exports":var p=[];for(var f in o)p.push(t(f,"exports")+" = "+u(o[f]));return new Function(c+p.join(";\n"));case"module.exports":return new Function(c+"module.exports = "+u(o));case"":return new Function(c+"return "+u(o));default:return new Function("G",c+t(n.global,"G")+" = "+u(o))}},e}();var f=function(){return o("E_MISSING_PLURAL_MODULE","Plural module not loaded.")},h=function(t){return function(e){var r;return"number"!=typeof e&&"string"!=typeof e||(e=[].slice.call(arguments,0)),c(r=e,"variables",void 0===r||a(r)||Array.isArray(r),"Array or Plain Object"),t(e)}},m=[].slice;return e.loadMessages=function(e){var r,n={"globalize-messages":e,main:{}};for(r in l(e,"json"),p(e,"json"),e)e.hasOwnProperty(r)&&(n.main[r]={});t.load(n)},e.messageFormatter=e.prototype.messageFormatter=function(t){var e,o,a,p,d,v,y,g,A,F,_,b,w,x,S=m.call(arguments,0);return l(t,"path"),c(t,"path","string"==typeof t||Array.isArray(t),"a String nor an Array"),t=n(t),e=this.cldr,u(e),s("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",(v=e).attributes.bundle&&void 0!==v.get("globalize-messages/{bundle}"),{locale:v.locale}),a=e.get(["globalize-messages/{bundle}"].concat(t)),g=a,y=(y=t).join("/"),s("E_MISSING_MESSAGE","Missing required message content `{path}`.",void 0!==g,{path:y}),Array.isArray(a)&&(a=a.join(" ")),F=a,A=(A=t).join("/"),s("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.","string"==typeof F,{expected:"a string",path:A}),p=void 0!==this.plural?this.pluralGenerator():f,o=new r(e.locale,p).compile(a),d=h(o),i(S,e,d,[(_=e,b=o,w=_.locale,x=b.toString,b.toString=function(){var t,e={};return t=x.call(b),/number\(/.test(t)&&(e.number="messageFormat.number"),/plural\(/.test(t)&&(e.plural="messageFormat.plural"),/select\(/.test(t)&&(e.select="messageFormat.select"),t.replace(/pluralFuncs(\[([^\]]+)\]|\.([a-zA-Z]+))/,function(t){return e.pluralFuncs='{"'+w+'": Globalize("'+w+'").pluralGenerator()}',t}),"(function( "+Object.keys(e).join(", ")+" ) {\n  return "+t+"\n})("+Object.keys(e).map(function(t){return e[t]}).join(", ")+")"},b),p]),d},e.formatMessage=e.prototype.formatMessage=function(t){return this.messageFormatter(t).apply({},m.call(arguments,1))},e});