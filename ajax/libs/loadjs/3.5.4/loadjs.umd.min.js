!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.loadjs=n()}(this,function(){var l=function(){},o={},s={},u={};function c(e,n){if(e){var t=u[e];if(s[e]=n,t)for(;t.length;)t[0](e,n),t.splice(0,1)}}function f(e,n){e.call&&(e={success:e}),n.length?(e.error||l)(n):(e.success||l)(e)}function h(t,i,r,o){var c,f,e=document,n=r.async,s=(r.numRetries||0)+1,u=r.before||l,a=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(t)?(c=!0,(f=e.createElement("link")).rel="stylesheet",f.href=a):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(f=e.createElement("img")).src=a:((f=e.createElement("script")).src=t,f.async=void 0===n||n),f.onload=f.onerror=f.onbeforeload=function(e){var n=e.type[0];if(c&&"hideFocus"in f)try{f.sheet.cssText.length||(n="e")}catch(e){n="e"}if("e"==n&&(o+=1)<s)return h(t,i,r,o);i(t,n,e.defaultPrevented)},!1!==u(t,f)&&e.head.appendChild(f)}function t(e,n,t){var i,r;if(n&&n.trim&&(i=n),r=(i?t:n)||{},i){if(i in o)throw"LoadJS";o[i]=!0}!function(e,i,n){var t,r,o=(e=e.push?e:[e]).length,c=o,f=[];for(t=function(e,n,t){if("e"==n&&f.push(e),"b"==n){if(!t)return;f.push(e)}--o||i(f)},r=0;r<c;r++)h(e[r],t,n)}(e,function(e){f(r,e),c(i,e)},r)}return t.ready=function(e,n){return function(e,t){e=e.push?e:[e];var n,i,r,o=[],c=e.length,f=c;for(n=function(e,n){n.length&&o.push(e),--f||t(o)};c--;)i=e[c],(r=s[i])?n(i,r):(u[i]=u[i]||[]).push(n)}(e,function(e){f(n,e)}),t},t.done=function(e){c(e,[])},t.reset=function(){o={},s={},u={}},t.isDefined=function(e){return e in o},t});