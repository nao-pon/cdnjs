!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.loadjs=n()}(this,function(){var e=function(){},n={},t={},i={};function o(e,n){if(e){var o=i[e];if(t[e]=n,o)for(;o.length;)o[0](e,n),o.splice(0,1)}}function r(n,t){n.call&&(n={success:n}),t.length?(n.error||e)(t):(n.success||e)(n)}function c(n,t,i,o){var r,f,s=document,u=i.async,a=(i.numRetries||0)+1,h=i.before||e;o=o||0,/(^css!|\.css$)/.test(n)?(r=!0,(f=s.createElement("link")).rel="stylesheet",f.href=n.replace(/^css!/,"")):((f=s.createElement("script")).src=n,f.async=void 0===u||u),f.onload=f.onerror=f.onbeforeload=function(e){var s=e.type[0];if(r&&"hideFocus"in f)try{f.sheet.cssText.length||(s="e")}catch(e){s="e"}if("e"==s&&(o+=1)<a)return c(n,t,i,o);t(n,s,e.defaultPrevented)},!1!==h(n,f)&&s.head.appendChild(f)}function f(e,t,i){var f,s;if(t&&t.trim&&(f=t),s=(f?i:t)||{},f){if(f in n)throw"LoadJS";n[f]=!0}!function(e,n,t){var i,o,r=(e=e.push?e:[e]).length,f=r,s=[];for(i=function(e,t,i){if("e"==t&&s.push(e),"b"==t){if(!i)return;s.push(e)}--r||n(s)},o=0;o<f;o++)c(e[o],i,t)}(e,function(e){r(s,e),o(f,e)},s)}return f.ready=function(e,n){return function(e,n){var o,r,c,f=[],s=(e=e.push?e:[e]).length,u=s;for(o=function(e,t){t.length&&f.push(e),--u||n(f)};s--;)r=e[s],(c=t[r])?o(r,c):(i[r]=i[r]||[]).push(o)}(e,function(e){r(n,e)}),f},f.done=function(e){o(e,[])},f.reset=function(){n={},t={},i={}},f.isDefined=function(e){return e in n},f});