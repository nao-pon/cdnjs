!function(n){"use strict";var r=function(r){this.options=n.extend({},n.i18n.parser.defaults,r),this.language=n.i18n.languages[n.i18n().locale],this.emitter=n.i18n.parser.emitter};r.prototype={constructor:r,simpleParse:function(n,r){return n.replace(/\$(\d+)/g,function(n,u){var t=parseInt(u,10)-1;return void 0!==r[t]?r[t]:"$"+u})},parse:function(r,u){return r.indexOf("{{")<0?this.simpleParse(r,u):(this.emitter.language=n.i18n.languages[n.i18n().locale]||n.i18n.languages.default,this.emitter.emit(this.ast(r),u))},ast:function(n){function r(n){return function(){for(var r=0;r<n.length;r++){var u=n[r]();if(null!==u)return u}return null}}function u(n){for(var r=v,u=[],t=0;t<n.length;t++){var l=n[t]();if(null===l)return v=r,null;u.push(l)}return u}function t(n,r){return function(){for(var u=v,t=[],l=r();null!==l;)t.push(l),l=r();return t.length<n?(v=u,null):t}}function l(r){var u=r.length;return function(){var t=null;return n.substr(v,u)===r&&(t=r,v+=u),t}}function e(r){return function(){var u=n.substr(v).match(r);return null===u?null:(v+=u[0].length,u[0])}}function i(){var n=u([m,$]);return null===n?null:n[1]}function a(){var n=u([x,g]);return null===n?null:["REPLACE",parseInt(n[1],10)-1]}function o(){var n=u([C,t(0,P)]);if(null===n)return null;var r=n[1];return r.length>1?["CONCAT"].concat(r):r[0]}function c(){var n=u([b,A,a]);return null===n?null:[n[0],n[2]]}function f(){var n=u([b,A,P]);return null===n?null:[n[0],n[2]]}function s(){var n=u([E,y,F]);return null===n?null:n[1]}var v=0,g=e(/^\d+/),h=e(/^[^{}[\]$\\]/),p=e(/^[^{}[\]$\\|]/),d=e(/^[^{}[\]$\s]/),m=l("\\"),$=e(/^./),x=l("$"),C=l("|"),A=l(":"),j=(r([i,d]),r([i,p])),O=r([i,h]),P=r([s,a,function(){var n=t(1,j)();return null===n?null:n.join("")}]),b=function(n,r){return function(){var u=n();return null===u?null:r(u)}}(e(/^[ !"$&'()*,.\/0-9;=?@A-Z\^_`a-z~\x80-\xFF+-]+/),function(n){return n.toString()}),y=r([function(){var n=u([r([c,f]),t(0,o)]);return null===n?null:n[0].concat(n[1])},function(){var n=u([b,t(0,o)]);return null===n?null:[n[0]].concat(n[1])}]),E=l("{{"),F=l("}}"),I=r([s,a,function(){var n=t(1,O)();return null===n?null:n.join("")}]);return function(){var n=t(0,I)();return null===n?null:["CONCAT"].concat(n)}()}},n.extend(n.i18n.parser,new r)}(jQuery);