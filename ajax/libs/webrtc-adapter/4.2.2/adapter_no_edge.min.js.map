{"version":3,"sources":["adapter_no_edge.js"],"names":["f","exports","module","define","amd","window","global","self","this","adapter","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","2","adapterFactory","./adapter_factory.js","3","dependencies","opts","options","shimChrome","shimFirefox","shimEdge","shimSafari","key","hasOwnProperty","utils","logging","log","browserDetails","detectBrowser","extractVersion","disableLog","disableWarnings","chromeShim","edgeShim","firefoxShim","safariShim","browser","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimCreateObjectURL","shimSourceObject","shimOnTrack","shimAddTrackRemoveTrack","shimGetSendersWithDtmf","shimReplaceTrack","shimRTCIceServerUrls","shimCallbacksAPI","shimLocalStreamsAPI","shimRemoteStreamsAPI","./chrome/chrome_shim","./edge/edge_shim","./firefox/firefox_shim","./safari/safari_shim","./utils","4","MediaStream","webkitMediaStream","RTCPeerConnection","prototype","Object","defineProperty","get","_ontrack","set","removeEventListener","addEventListener","origSetRemoteDescription","setRemoteDescription","pc","_ontrackpoly","stream","te","receiver","getReceivers","find","track","id","event","Event","streams","dispatchEvent","getTracks","forEach","apply","arguments","shimSenderWithDtmf","dtmf","undefined","_dtmf","kind","createDTMFSender","_pc","getSenders","_senders","slice","origAddTrack","addTrack","sender","push","origRemoveTrack","removeTrack","idx","indexOf","splice","origAddStream","addStream","origRemoveStream","removeStream","_streams","RTCRtpSender","origGetSenders","senders","URL","HTMLMediaElement","_srcObject","src","revokeObjectURL","createObjectURL","origGetLocalStreams","getLocalStreams","nativeStreams","_reverseStreams","map","DOMException","newStream","signalingState","oldStream","keys","streamid","OrigPeerConnection","pcConfig","pcConstraints","iceServers","newIceServers","server","deprecated","JSON","parse","stringify","urls","url","generateCertificate","iceTransportPolicy","iceTransports","webkitRTCPeerConnection","origGetStats","getStats","selector","successCallback","errorCallback","args","fixChromeStats_","response","standardReport","result","report","standardStats","timestamp","type","localcandidate","remotecandidate","names","name","stat","makeMapStats","stats","Map","Promise","resolve","reject","then","version","method","nativeMethod","promise","err","RTCIceCandidate","RTCSessionDescription","nativeAddIceCandidate","addIceCandidate","../utils.js","./getusermedia","5","navigator","constraintsToChrome_","c","mandatory","optional","cc","ideal","exact","min","max","oldname_","prefix","charAt","toUpperCase","oc","mix","advanced","concat","shimConstraints_","constraints","func","audio","remap","obj","b","video","face","facingMode","getSupportedFacingModeLies","mediaDevices","getSupportedConstraints","matches","enumerateDevices","devices","dev","filter","d","some","match","label","toLowerCase","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","message","constraint","constraintName","toString","getUserMedia","onSuccess","onError","webkitGetUserMedia","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","device","groupId","echoCancellation","frameRate","height","width","origGetUserMedia","bind","cs","getAudioTracks","getVideoTracks","stop","6","mozSrcObject","mozRTCPeerConnection","j","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","inboundrtp","outboundrtp","candidatepair","nativeGetStats","onSucc","onErr","assign","../utils","7","InternalError","NotSupportedError","SecurityError","The operation is insecure.","getUserMedia_","constraintsToFF37_","mozGetUserMedia","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","8","_localStreams","getStreamById","_remoteStreams","_addTrack","index","tracks","getRemoteStreams","_onaddstream","_onaddstreampoly","createOffer","createAnswer","setLocalDescription","failureCallback","withCallback","description","candidate","cb","errcb","9","logDisabled_","deprecationWarnings_","bool","console","oldMethod","newMethod","warn","uastring","expr","pos","parseInt","userAgent","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","getOwnPropertyDescriptor","srcObject","nativeSetAttribute","setAttribute"],"mappings":"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"}