!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","popper.js"],t):t(e["react-popper"]={},e.react,e.PropTypes,e.PopperJS)}(this,function(e,u,t,p){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,p=p&&p.hasOwnProperty("default")?p.default:p;var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},l=function(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},o=function(e){function a(){var e,t,r;i(this,a);for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return(t=r=s(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o))))._setTargetNode=function(e){r._targetNode=e},r._getTargetNode=function(){return r._targetNode},s(r,t)}return n(a,e),r(a,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,r=e.children,n=l(e,["tag","children"]);return!1!==t?u.createElement(t,n,r):r}}]),a}(u.Component);o.childContextTypes={popperManager:t.object.isRequired},o.defaultProps={tag:"div"},o.propTypes="production"!==process.env.NODE_ENV?{tag:t.oneOfType([t.string,t.bool]),children:t.oneOfType([t.node,t.func])}:{};var a=function(e,t){var r=e.component,n=void 0===r?"div":r,o=e.innerRef,p=e.children,a=l(e,["component","innerRef","children"]),i=t.popperManager,s=function(e){i.setTargetNode(e),"function"==typeof o&&o(e)};if("function"==typeof p)return p({targetProps:{ref:s},restProps:a});var f=d({},a);return"string"==typeof n?f.ref=s:f.innerRef=s,u.createElement(n,f,p)};a.contextTypes={popperManager:t.object.isRequired},a.propTypes={component:t.oneOfType([t.node,t.func]),innerRef:t.func,children:t.oneOfType([t.node,t.func])};var f=function(e){function a(){var e,t,r;i(this,a);for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return(t=r=s(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o)))).state={},r._setArrowNode=function(e){r._arrowNode=e},r._getTargetNode=function(){if(r.props.target)return r.props.target;if(!r.context.popperManager||!r.context.popperManager.getTargetNode())throw new Error("Target missing. Popper must be given a target from the Popper Manager, or as a prop.");return r.context.popperManager.getTargetNode()},r._getOffsets=function(t){return Object.keys(t.offsets).map(function(e){return t.offsets[e]})},r._isDataDirty=function(e){return!r.state.data||JSON.stringify(r._getOffsets(r.state.data))!==JSON.stringify(r._getOffsets(e))},r._updateStateModifier={enabled:!0,order:900,fn:function(e){return r._isDataDirty(e)&&r.setState({data:e}),e}},r._getPopperStyle=function(){var e=r.state.data;return r._popper&&e?d({position:e.offsets.popper.position},e.styles):{position:"absolute",pointerEvents:"none",opacity:0}},r._getPopperPlacement=function(){return r.state.data?r.state.data.placement:void 0},r._getPopperHide=function(){return r.state.data&&r.state.data.hide?"":void 0},r._getArrowStyle=function(){if(r.state.data&&r.state.data.offsets.arrow){var e=r.state.data.offsets.arrow;return{top:e.top,left:e.left}}return{}},r._handlePopperRef=function(e){(r._popperNode=e)?r._createPopper():r._destroyPopper(),r.props.innerRef&&r.props.innerRef(e)},r._scheduleUpdate=function(){r._popper&&r._popper.scheduleUpdate()},s(r,t)}return n(a,e),r(a,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled&&e.target===this.props.target||(this._destroyPopper(),this._createPopper()),e.children!==this.props.children&&this._scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_createPopper",value:function(){var e=this,t=this.props,r=t.placement,n=t.eventsEnabled,o=d({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(o.arrow={element:this._arrowNode}),this._popper=new p(this._getTargetNode(),this._popperNode,{placement:r,eventsEnabled:n,modifiers:o}),setTimeout(function(){return e._scheduleUpdate()})}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this.props,t=e.component,r=(e.innerRef,e.placement,e.eventsEnabled,e.modifiers,e.children),n=l(e,["component","innerRef","placement","eventsEnabled","modifiers","children"]),o=this._getPopperStyle(),p=this._getPopperPlacement(),a=this._getPopperHide();if("function"==typeof r)return r({popperProps:{ref:this._handlePopperRef,style:o,"data-placement":p,"data-x-out-of-boundaries":a},restProps:n,scheduleUpdate:this._scheduleUpdate});var i=d({},n,{style:d({},n.style,o),"data-placement":p,"data-x-out-of-boundaries":a});return"string"==typeof t?i.ref=this._handlePopperRef:i.innerRef=this._handlePopperRef,u.createElement(t,i,r)}}]),a}(u.Component);f.contextTypes={popperManager:t.object},f.childContextTypes={popper:t.object.isRequired},f.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,modifiers:{}},f.propTypes="production"!==process.env.NODE_ENV?{component:t.oneOfType([t.node,t.func]),innerRef:t.func,placement:t.oneOf(p.placements),eventsEnabled:t.bool,modifiers:t.object,children:t.oneOfType([t.node,t.func]),target:t.oneOfType([t.instanceOf(Element),t.shape({getBoundingClientRect:t.func.isRequired,clientWidth:t.number.isRequired,clientHeight:t.number.isRequired})])}:{};var c=function(e,t){var r=e.component,n=void 0===r?"span":r,o=e.innerRef,p=e.children,a=l(e,["component","innerRef","children"]),i=t.popper,s=function(e){i.setArrowNode(e),"function"==typeof o&&o(e)},f=i.getArrowStyle();if("function"==typeof p)return p({arrowProps:{ref:s,style:f},restProps:a});var c=d({},a,{style:d({},f,a.style)});return"string"==typeof n?c.ref=s:c.innerRef=s,u.createElement(n,c,p)};c.contextTypes={popper:t.object.isRequired},c.propTypes={component:t.oneOfType([t.node,t.func]),innerRef:t.func,children:t.oneOfType([t.node,t.func])},e.Manager=o,e.Target=a,e.Popper=f,e.Arrow=c,Object.defineProperty(e,"__esModule",{value:!0})});