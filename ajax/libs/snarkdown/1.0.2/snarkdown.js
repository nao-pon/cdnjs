function e(e){return e.replace(RegExp("^"+(e.match(/^(\t| )+/)||"")[0],"gm"),"")}function n(e){return e.replace(/"/g,"&quot;")}function r(o){function a(e){var n=e.replace(/\*/g,"_").replace(/^( {2}\n\n*|\n{2,})/g,"\n\n"),r=m[m.length-1]===e,o=t[n];return o?o[1]?(m[r?"pop":"push"](e),o[r?1:0]):o[0]:e}function c(){for(var e="",n=m.length;n--;)e+=a(m[n]);return e}var l,g,s,u,p,i=/(?:^```(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:\!\[([^\]]*?)\]\(([^\)]+?)\))|(\[)|(\](?:\(([^\)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(\-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,3})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*])/gm,m=[],h="",f=0,$={};for(o=o.replace(/^\n+|\n+$/g,"").replace(/^\[(.+?)\]:\s*(.+)$/gm,function(e,n,r){return $[n.toLowerCase()]=r,""});s=i.exec(o);)g=o.substring(f,s.index),f=i.lastIndex,l=s[0],g.match(/[^\\](\\\\)*\\$/)||(s[2]||s[3]?l='<pre class="code '+(s[3]?"poetry":s[1].toLowerCase())+'">'+e((s[2]||s[3]).replace(/^\n+|\n+$/g,""))+"</pre>":s[5]?(p=s[5],"."===p.charAt(p.length-1)&&(p=".",s[4]=s[4].replace(/^\d+/gm,"")),u=r(e(s[4].replace(/^\s*[>*+.-]/gm,""))),">"!==p&&(p="."===p?"#":"*",u=u.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),l=t[p][0]+u+t[p][1]):s[7]?l='<img src="'+n(s[7])+'" alt="'+n(s[6])+'">':s[9]?(h=h.replace("<a>",'<a href="'+n(s[10]||$[g.toLowerCase()])+'">'),l=c()+"</a>"):s[8]?l="<a>":s[11]||s[13]?(p="h"+(s[13]?s[13].length:"="===s[12][0]?1:2),l="<"+p+">"+r(s[11]||s[14])+"</"+p+">"):s[15]?l="<code>"+s[15]+"</code>":s[16]&&(l=a(s[16]))),h+=g,h+=l;return(h+o.substring(f)+c()).trim()}var t={_:["<em>","</em>"],__:["<strong>","</strong>"],"\n\n":["<br />"],">":["<blockquote>","</blockquote>"],"*":["<ul>","</ul>"],"#":["<ol>","</ol>"]};module.exports=r;
//# sourceMappingURL=snarkdown.js.map