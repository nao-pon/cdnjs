!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.snarkdown=e()}(this,function(){function n(n,e){var r=e.replace(/\*/g,"_").replace(/^( {2}\n\n*|\n{2,})/g,"\n\n"),t=n[n.length-1]===e,o=c[r];return o?o[1]===!1?o[0]:(n[t?"pop":"push"](e),o[t?1:0]):e}function e(n){return n.replace(new RegExp("^"+(n.match(/^(\t| )+/)||"")[0],"gm"),"")}function r(n){return n.replace(/"/g,"&quot;")}function t(n){return n.replace(/^\n+|\n+$/g,"")}function o(u){var l,s,p,i,f,g=/(?:^```(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:\!\[([^\]]*?)\]\(([^\)]+?)\))|(\[)|(\](?:\(([^\)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(\-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,3})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*])/gm,d=[],m="",h=0,$={};for(u=t(u).replace(/^\[(.+?)\]:\s*(.+)$/gm,function(n,e,r){return $[e.toLowerCase()]=r,""});p=g.exec(u);)s=u.substring(h,p.index),h=g.lastIndex,l=p[0],a.test(s)||(p[2]||p[3]?l='\n<pre class="code '+(p[3]?"poetry":p[1].toLowerCase())+'">'+e(t(p[2]||p[3]))+"</pre>\n":p[5]?(f=p[5],"."===f.charAt(f.length-1)&&(f=".",p[4]=p[4].replace(/^\d+/gm,"")),i=o(e(p[4].replace(/^\s*[>*+.-]/gm,""))),">"!==f&&(f="."===f?"#":"*",i=i.replace(/^(.*)$/gm,"\t<li>$1</li>")),l="\n"+c[f][0]+"\n"+i+"\n"+c[f][1]+"\n"):p[7]?l='<img src="'+r(p[7])+'" alt="'+r(p[6])+'">':p[9]?(m=m.replace("<a>",'<a href="'+r(p[10]||$[s.toLowerCase()])+'">'),l="</a>"):p[8]?l="<a>":p[11]||p[13]?(f="h"+(p[13]?p[13].length:"="===p[12][0]?1:2),l="\n\n<"+f+">"+o(p[11]||p[14])+"</"+f+">\n"):p[15]?l="<code>"+p[15]+"</code>":p[16]&&(l=n(d,p[16]))),m+=s,m+=l;for(m+=u.substring(h);p=d.pop();)m+=n(d,p);return t(m)}var c={_:["<em>","</em>"],__:["<strong>","</strong>"],"\n\n":["<br />\n\n",!1],">":["<blockquote>","</blockquote>"],"*":["<ul>","</ul>"],"#":["<ol>","</ol>"]},a=/[^\\](\\\\)*\\$/;return o});
//# sourceMappingURL=snarkdown.umd.js.map