function n(n,e){var r=e.replace(/\*/g,"_").replace(/^( {2}\n\n*|\n{2,})/g,"\n\n"),t=n[n.length-1]===e,o=c[r];return o?o[1]===!1?o[0]:(n[t?"pop":"push"](e),o[t?1:0]):e}function e(n){return n.replace(new RegExp("^"+(n.match(/^(\t| )+/)||"")[0],"gm"),"")}function r(n){return n.replace(/"/g,"&quot;")}function t(n){return n.replace(/^\n+|\n+$/g,"")}function o(l){var s,u,p,g,i,m=/(?:^```(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:\!\[([^\]]*?)\]\(([^\)]+?)\))|(\[)|(\](?:\(([^\)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(\-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,3})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*])/gm,f=[],d="",h=0,$={};for(l=t(l).replace(/^\[(.+?)\]:\s*(.+)$/gm,function(n,e,r){return $[e.toLowerCase()]=r,""});p=m.exec(l);)u=l.substring(h,p.index),h=m.lastIndex,s=p[0],a.test(u)||(p[2]||p[3]?s='\n<pre class="code '+(p[3]?"poetry":p[1].toLowerCase())+'">'+e(t(p[2]||p[3]))+"</pre>\n":p[5]?(i=p[5],"."===i.charAt(i.length-1)&&(i=".",p[4]=p[4].replace(/^\d+/gm,"")),g=o(e(p[4].replace(/^\s*[>*+.-]/gm,""))),">"!==i&&(i="."===i?"#":"*",g=g.replace(/^(.*)$/gm,"\t<li>$1</li>")),s="\n"+c[i][0]+"\n"+g+"\n"+c[i][1]+"\n"):p[7]?s='<img src="'+r(p[7])+'" alt="'+r(p[6])+'">':p[9]?(d=d.replace("<a>",'<a href="'+r(p[10]||$[u.toLowerCase()])+'">'),s="</a>"):p[8]?s="<a>":p[11]||p[13]?(i="h"+(p[13]?p[13].length:"="===p[12][0]?1:2),s="\n\n<"+i+">"+o(p[11]||p[14])+"</"+i+">\n"):p[15]?s="<code>"+p[15]+"</code>":p[16]&&(s=n(f,p[16]))),d+=u,d+=s;for(d+=l.substring(h);p=f.pop();)d+=n(f,p);return t(d)}var c={_:["<em>","</em>"],__:["<strong>","</strong>"],"\n\n":["<br />\n\n",!1],">":["<blockquote>","</blockquote>"],"*":["<ul>","</ul>"],"#":["<ol>","</ol>"]},a=/[^\\](\\\\)*\\$/;module.exports=o;
//# sourceMappingURL=snarkdown.js.map