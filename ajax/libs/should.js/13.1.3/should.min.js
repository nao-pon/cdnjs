!function(){"use strict";function t(t,e,n){if(!t)throw new Error("Type class must be initialized at least with `type` information");this.type=t,this.cls=e,this.sub=n}function e(){this.checks=[]}function n(t){return dt.getType(t)}function r(t){for(var e=arguments,n=1,r=e.length;n<r;n++)t=t.replace(/%s/,e[n]);return t}function a(t,e,n,r){this.a=t,this.b=e,this.reason=n,this.path=r}function i(t){return t.type+(t.cls?"("+t.cls+(t.sub?" "+t.sub:"")+")":"")}function o(t,e,n,r){e[t]="boolean"!=typeof n[t]?r[t]:n[t]}function s(t,e,n,r){o("checkProtoEql",this,t=t||{},gt),o("plusZeroAndMinusZeroEqual",this,t,gt),o("checkSubType",this,t,gt),o("collectAllFails",this,t,gt),this.a=e,this.b=n,this._meet=t._meet||[],this.fails=t.fails||[],this.path=r||[]}function c(t){this.name="ShortcutError",this.message="fail fast",this.fail=t}function h(t,e){for(var n=t.keys(),a=n.next();!a.done;a=n.next()){var i=a.value,o=e.has(i);if(this.collectFail(!o,r(mt,i)),o){var s=e.get(i);l(t.get(i),s,this)}}}function u(t,e){for(var n=t.keys(),a=n.next();!a.done;a=n.next()){var i=a.value,o=e.has(i);this.collectFail(!o,r(mt,i))}}function l(t,e,n){return new s(n,t,e).check()}function p(t,e){return Tt.call(t,e)}function f(t,e){return Et.call(t,e)}function d(t,e){if(t&&e)for(var n in e)t[n]=e[n];return t}function y(t){return!!t&&(!!t.__shouldIterator__||"function"==typeof t.next&&"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&"function"==typeof t[Symbol.iterator]&&t[Symbol.iterator]()===t)}function b(t){return"function"==typeof t&&/^function\s*\*\s*/.test(t.toString())}function m(t){this._obj=t}function g(){this._typeAdaptors=[],this._iterableTypes={}}function T(t,e,r){if(b(t))return T(t(),e,r);if(y(t))for(var a=t.next();!a.done;){if(!1===e.call(r,a.value,"value",t))return;a=t.next()}else{var i=n(t);jt.requireAdaptor(i,"forEach")(t,e,r)}}function E(t){var e=n(t),r=jt.getAdaptor(e,"size");if(r)return r(t);var a=0;return T(t,function(){a+=1}),a}function j(t){var e=n(t),r=jt.getAdaptor(e,"isEmpty");if(r)return r(t);var a=!0;return T(t,function(){return a=!1,!1}),a}function O(t,e){var r=n(t);return jt.requireAdaptor(r,"has")(t,e)}function v(t,e){var r=n(t);return jt.requireAdaptor(r,"get")(t,e)}function A(t,e,n){var r=!1;return T(t,function(a,i){if(e.call(n,a,i,t))return r=!0,!1},n),r}function w(t){return jt.isIterableType(n(t))}function S(t){return jt.requireAdaptor(n(t),"iterator")(t)}function C(t){return!!t.match(/\d+/)}function x(t,e){var n=C(t),r=C(e);return n&&r?1*t-1*e:n&&!r?-1:!n&&r?1:t.localeCompare(e)}function B(t){return function(e){var n=t(e);return n.sort(x),n}}function R(t){t=t||{},this.seen=[];var e;e="function"==typeof t.keysFunc?t.keysFunc:!1===t.keys?Object.getOwnPropertyNames:Object.keys,this.getKeys=B(e),this.maxLineLength="number"==typeof t.maxLineLength?t.maxLineLength:60,this.propSep=t.propSep||",",this.isUTCdate=!!t.isUTCdate}function k(t,e){return t.split(wt).map(function(t){return e+t}).join(wt)}function P(t,e,n){t=String(t);var r=!1;if(e<0&&(r=!0,e=-e),t.length<e){var a=new Array(e-t.length+1).join(n);return r?t+a:a+t}return t}function _(t,e){return P(t,e,"0")}function M(t){if(t.name)return t.name;var e=t.toString().match(St);return null===e?"":e[1]}function F(t){for(;t;){var e=Object.getOwnPropertyDescriptor(t,"constructor");if(void 0!==e&&"function"==typeof e.value){var n=M(e.value);if(""!==n)return n}t=Object.getPrototypeOf(t)}}function N(t){return k(t,Ct)}function q(t,e){var n=(e=e||{}).filterKey||function(){return!0},r=e.formatKey||this.format,a=e.formatValue||this.format,i=void 0!==e.keyValueSep?e.keyValueSep:": ";this.seen.push(t);var o=0,s=[];T(t,function(t,e){if(n(e)){var c=r.call(this,e),h=a.call(this,t,e),u=c?c+i+h:h;o+=u.length,s.push(u)}},this),this.seen.pop(),(e.additionalKeys||[]).forEach(function(t){var e=t[0]+i+this.format(t[1]);o+=e.length,s.push(e)},this);var c=e.prefix||F(t)||"";c.length>0&&(c+=" ");var h,u;Array.isArray(e.brackets)?(h=e.brackets[0],u=e.brackets[1]):(h="{",u="}");var l=e.value||"";return 0===s.length?l||c+h+u:o<=this.maxLineLength?c+h+" "+(l?l+" ":"")+s.join(this.propSep+" ")+" "+u:c+h+"\n"+(l?"  "+l+"\n":"")+s.map(N).join(this.propSep+"\n")+"\n"+u}function D(t){return"string"==typeof t&&t.match(/^[a-zA-Z_$][a-zA-Z_$0-9]*$/)?t:this.format(t)}function I(t,e){var n;try{n=Object.getOwnPropertyDescriptor(t,e)||{value:t[e]}}catch(t){n={value:t}}return n}function J(t,e){var n=I(t,e);return n.get&&n.set?"[Getter/Setter]":n.get?"[Getter]":n.set?"[Setter]":this.format(n.value)}function L(t,e){return e=e||{},e.keyValueSep=": ",e.formatKey=e.formatKey||D,e.formatValue=e.formatValue||function(e,n){return J.call(this,t,n)},q.call(this,t,e)}function U(t){return L.call(this,t,{additionalKeys:[["[[PrimitiveValue]]",t.valueOf()]]})}function Y(t,e){var n=e?"UTC":"",r=t["get"+n+"FullYear"]()+"-"+_(t["get"+n+"Month"]()+1,2)+"-"+_(t["get"+n+"Date"](),2),a=_(t["get"+n+"Hours"](),2)+":"+_(t["get"+n+"Minutes"](),2)+":"+_(t["get"+n+"Seconds"](),2)+"."+_(t["get"+n+"Milliseconds"](),3),i=t.getTimezoneOffset(),o=Math.abs(i),s=Math.floor(o/60),c=o-60*s,h=(i<0?"+":"-")+_(s,2)+_(c,2);return r+" "+a+(e?"":" "+h)}function Z(t,e,n){return function(r){for(var a=this.byteArrayMaxLength||50,i=r[t],o=[],s=0,c=0;c<a&&c<i;c++){var h=_((r[c]||0).toString(16),n);s+=h.length,o.push(h)}var u=r.constructor.name||e||"";return u&&(u+=" "),0===o.length?u+"[]":s<=this.maxLineLength?u+"[ "+o.join(this.propSep+" ")+" ]":u+"[\n"+o.map(N).join(this.propSep+"\n")+"\n]"}}function K(t){return q.call(this,t,{keyValueSep:" => "})}function G(t){return q.call(this,t,{keyValueSep:"",formatKey:function(){return""}})}function W(t,e){return function(n){for(var r=n.constructor.extractLane,a=0,i=[],o=0;o<e;o++){var s=this.format(r(n,o));a+=s.length,i.push(s)}return a<=this.maxLineLength?t+" [ "+i.join(this.propSep+" ")+" ]":t+" [\n"+i.map(N).join(this.propSep+"\n")+"\n]"}}function H(t,e){return new R(e).format(t)}function V(t){return t instanceof Number||t instanceof String||t instanceof Boolean}function z(t){return"symbol"==typeof t?t:String(t)}function X(t){if("object"==typeof t&&null!==t){var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}return!1}function $(t,e){return Bt.getFormatter(e).format(t)}function Q(t){var e=Bt.getFormatter();return H.formatPlainObjectKey.call(e,t)}function tt(t){if(d(this,t),t.message||Object.defineProperty(this,"message",{get:function(){return this._message||(this._message=this.generateMessage(),this.generatedMessage=!0),this._message},configurable:!0,enumerable:!1}),Error.captureStackTrace)Error.captureStackTrace(this,this.stackStartFunction);else{var e=new Error;if(e.stack){var n=e.stack;if(this.stackStartFunction){var r=xt(this.stackStartFunction),a=n.indexOf("\n"+r);if(a>=0){var i=n.indexOf("\n",a+1);n=n.substring(i+1)}}this.stack=n}}}function et(t){return Rt+t}function nt(t){return t.split("\n").map(et).join("\n")}function rt(t){d(this,t),t.message||Object.defineProperty(this,"message",{get:function(){return this._message||(this._message=this.generateMessage(),this.generatedMessage=!0),this._message}})}function at(t){this.obj=t,this.anyOne=!1,this.negate=!1,this.params={actual:t}}function it(){at.apply(this,arguments)}function ot(t,e,n,r,a){var i=new at(t);i.params={operator:r,expected:e,message:n,stackStartFunction:a||ot},i.fail()}function st(t,e){t||ot(t,!0,e,"==",Pt.ok)}function ct(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||!0===e.call({},t))}function ht(t,e,n,r){var a;"string"==typeof n&&(r=n,n=null);try{e()}catch(t){a=t}if(r=(n&&n.name?" ("+n.name+")":".")+(r?" "+r:"."),t&&!a&&ot(a,n,"Missing expected exception"+r),!t&&ct(a,n)&&ot(a,n,"Got unwanted exception"+r),t&&a&&n&&!ct(a,n)||!t&&a)throw a}function ut(t,e,n){return((t.path.length>0?"at "+t.path.map(Q).join(" -> "):"")+(t.a===e?"":", A has "+$(t.a))+(t.b===n?"":" and B has "+$(t.b))+(t.showReason?" because "+t.reason:"")).trim()}function lt(t){return new at(t)}var pt={NUMBER:"number",UNDEFINED:"undefined",STRING:"string",BOOLEAN:"boolean",OBJECT:"object",FUNCTION:"function",NULL:"null",ARRAY:"array",REGEXP:"regexp",DATE:"date",ERROR:"error",ARGUMENTS:"arguments",SYMBOL:"symbol",ARRAY_BUFFER:"array-buffer",TYPED_ARRAY:"typed-array",DATA_VIEW:"data-view",MAP:"map",SET:"set",WEAK_SET:"weak-set",WEAK_MAP:"weak-map",PROMISE:"promise",BUFFER:"buffer",HTML_ELEMENT:"html-element",HTML_ELEMENT_TEXT:"html-element-text",DOCUMENT:"document",WINDOW:"window",FILE:"file",FILE_LIST:"file-list",BLOB:"blob",HOST:"host",XHR:"xhr",SIMD:"simd"};t.prototype={toString:function(t){t=t||";";var e=[this.type];return this.cls&&e.push(this.cls),this.sub&&e.push(this.sub),e.join(t)},toTryTypes:function(){var e=[];return this.sub&&e.push(new t(this.type,this.cls,this.sub)),this.cls&&e.push(new t(this.type,this.cls)),e.push(new t(this.type)),e}};var ft=Object.prototype.toString;e.prototype={add:function(t){return this.checks.push(t),this},addBeforeFirstMatch:function(t,e){var n=this.getFirstMatch(t);n?this.checks.splice(n.index,0,e):this.add(e)},addTypeOf:function(e,n){return this.add(function(r,a){if(a===e)return new t(n)})},addClass:function(e,n,r){return this.add(function(a,i,o){if(o===e)return new t(pt.OBJECT,n,r)})},getFirstMatch:function(t){for(var e=typeof t,n=ft.call(t),r=0,a=this.checks.length;r<a;r++){var i=this.checks[r].call(this,t,e,n);if(void 0!==i)return{result:i,func:this.checks[r],index:r}}},getType:function(t){var e=this.getFirstMatch(t);return e&&e.result}};var dt=new e;dt.addTypeOf(pt.NUMBER,pt.NUMBER).addTypeOf(pt.UNDEFINED,pt.UNDEFINED).addTypeOf(pt.STRING,pt.STRING).addTypeOf(pt.BOOLEAN,pt.BOOLEAN).addTypeOf(pt.FUNCTION,pt.FUNCTION).addTypeOf(pt.SYMBOL,pt.SYMBOL).add(function(e){if(null===e)return new t(pt.NULL)}).addClass("[object String]",pt.STRING).addClass("[object Boolean]",pt.BOOLEAN).addClass("[object Number]",pt.NUMBER).addClass("[object Array]",pt.ARRAY).addClass("[object RegExp]",pt.REGEXP).addClass("[object Error]",pt.ERROR).addClass("[object Date]",pt.DATE).addClass("[object Arguments]",pt.ARGUMENTS).addClass("[object ArrayBuffer]",pt.ARRAY_BUFFER).addClass("[object Int8Array]",pt.TYPED_ARRAY,"int8").addClass("[object Uint8Array]",pt.TYPED_ARRAY,"uint8").addClass("[object Uint8ClampedArray]",pt.TYPED_ARRAY,"uint8clamped").addClass("[object Int16Array]",pt.TYPED_ARRAY,"int16").addClass("[object Uint16Array]",pt.TYPED_ARRAY,"uint16").addClass("[object Int32Array]",pt.TYPED_ARRAY,"int32").addClass("[object Uint32Array]",pt.TYPED_ARRAY,"uint32").addClass("[object Float32Array]",pt.TYPED_ARRAY,"float32").addClass("[object Float64Array]",pt.TYPED_ARRAY,"float64").addClass("[object Bool16x8]",pt.SIMD,"bool16x8").addClass("[object Bool32x4]",pt.SIMD,"bool32x4").addClass("[object Bool8x16]",pt.SIMD,"bool8x16").addClass("[object Float32x4]",pt.SIMD,"float32x4").addClass("[object Int16x8]",pt.SIMD,"int16x8").addClass("[object Int32x4]",pt.SIMD,"int32x4").addClass("[object Int8x16]",pt.SIMD,"int8x16").addClass("[object Uint16x8]",pt.SIMD,"uint16x8").addClass("[object Uint32x4]",pt.SIMD,"uint32x4").addClass("[object Uint8x16]",pt.SIMD,"uint8x16").addClass("[object DataView]",pt.DATA_VIEW).addClass("[object Map]",pt.MAP).addClass("[object WeakMap]",pt.WEAK_MAP).addClass("[object Set]",pt.SET).addClass("[object WeakSet]",pt.WEAK_SET).addClass("[object Promise]",pt.PROMISE).addClass("[object Blob]",pt.BLOB).addClass("[object File]",pt.FILE).addClass("[object FileList]",pt.FILE_LIST).addClass("[object XMLHttpRequest]",pt.XHR).add(function(e){if(typeof Promise===pt.FUNCTION&&e instanceof Promise||typeof e.then===pt.FUNCTION)return new t(pt.OBJECT,pt.PROMISE)}).add(function(e){if("undefined"!=typeof Buffer&&e instanceof Buffer)return new t(pt.OBJECT,pt.BUFFER)}).add(function(e){if("undefined"!=typeof Node&&e instanceof Node)return new t(pt.OBJECT,pt.HTML_ELEMENT,e.nodeName)}).add(function(e){if(e.Boolean===Boolean&&e.Number===Number&&e.String===String&&e.Date===Date)return new t(pt.OBJECT,pt.HOST)}).add(function(){return new t(pt.OBJECT)}),n.checker=dt,n.TypeChecker=e,n.Type=t,Object.keys(pt).forEach(function(t){n[t]=pt[t]});var yt=Object.prototype.hasOwnProperty,bt="A is not equal to B",mt="Set/Map missing key %s",gt={checkProtoEql:!0,checkSubType:!0,plusZeroAndMinusZeroEqual:!0,collectAllFails:!1};c.prototype=Object.create(Error.prototype),s.checkStrictEquality=function(t,e){this.collectFail(t!==e,bt)},s.add=function(t,e,n,r){var a=Array.prototype.slice.call(arguments);r=a.pop(),s.prototype["_check_"+a.join("_")]=r},s.prototype={check:function(){try{this.check0()}catch(t){if(t instanceof c)return[t.fail];throw t}return this.fails},check0:function(){var t=this.a,e=this.b;if(t===e)return this.collectFail(0===t&&1/t!=1/e&&!this.plusZeroAndMinusZeroEqual,"+0 is not equal to -0");var a=n(t),o=n(e);if(a.type!==o.type||a.cls!==o.cls||a.sub!==o.sub)return this.collectFail(!0,r("A has type %s and B has type %s",i(a),i(o)));var s=a.type,c=a.type;a.cls&&(s+="_"+a.cls,c+="_"+a.cls),a.sub&&(c+="_"+a.sub),(this["_check_"+c]||this["_check_"+s]||this["_check_"+a.type]||this.defaultCheck).call(this,this.a,this.b)},collectFail:function(t,e,n){if(t){var r=new a(this.a,this.b,e,this.path);if(r.showReason=!!n,this.fails.push(r),!this.collectAllFails)throw new c(r)}},checkPlainObjectsEquality:function(t,e){for(var n=this._meet,a=this._meet.length;a--;){var i=n[a];if(i[0]===t&&i[1]===e)return}n.push([t,e]);var o;for(o in e)yt.call(e,o)&&(yt.call(t,o)?this.checkPropertyEquality(o):this.collectFail(!0,r("%s has no key %s","A",o)));for(o in t)yt.call(t,o)&&this.collectFail(!yt.call(e,o),r("%s has no key %s","B",o));n.pop(),this.checkProtoEql&&this.collectFail(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e),"A and B have different prototypes",!0)},checkPropertyEquality:function(t){new s(this,this.a[t],this.b[t],this.path.concat([t])).check0()},defaultCheck:s.checkStrictEquality},s.add(n.NUMBER,function(t,e){this.collectFail(t!==t&&e===e||e!==e&&t===t||t!==e&&t===t&&e===e,bt)}),[n.SYMBOL,n.BOOLEAN,n.STRING].forEach(function(t){s.add(t,s.checkStrictEquality)}),s.add(n.FUNCTION,function(t,e){this.collectFail(t.toString()!==e.toString(),"function A is not equal to B by source code value (via .toString call)"),this.checkPlainObjectsEquality(t,e)}),s.add(n.OBJECT,n.REGEXP,function(t,e){for(var n=["source","global","multiline","lastIndex","ignoreCase","sticky","unicode"];n.length;)this.checkPropertyEquality(n.shift());this.checkPlainObjectsEquality(t,e)}),s.add(n.OBJECT,n.DATE,function(t,e){this.collectFail(+t!=+e,bt),this.checkPlainObjectsEquality(t,e)}),[n.NUMBER,n.BOOLEAN,n.STRING].forEach(function(t){s.add(n.OBJECT,t,function(t,e){this.collectFail(t.valueOf()!==e.valueOf(),"A wrapped value is not equal to B wrapped value"),this.checkPlainObjectsEquality(t,e)})}),s.add(n.OBJECT,function(t,e){this.checkPlainObjectsEquality(t,e)}),[n.ARRAY,n.ARGUMENTS,n.TYPED_ARRAY].forEach(function(t){s.add(n.OBJECT,t,function(t,e){this.checkPropertyEquality("length"),this.checkPlainObjectsEquality(t,e)})}),s.add(n.OBJECT,n.ARRAY_BUFFER,function(t,e){this.checkPropertyEquality("byteLength"),this.checkPlainObjectsEquality(t,e)}),s.add(n.OBJECT,n.ERROR,function(t,e){this.checkPropertyEquality("name"),this.checkPropertyEquality("message"),this.checkPlainObjectsEquality(t,e)}),s.add(n.OBJECT,n.BUFFER,function(t){this.checkPropertyEquality("length");for(var e=t.length;e--;)this.checkPropertyEquality(e)}),s.add(n.OBJECT,n.MAP,function(t,e){this._meet.push([t,e]),h.call(this,t,e),h.call(this,e,t),this._meet.pop(),this.checkPlainObjectsEquality(t,e)}),s.add(n.OBJECT,n.SET,function(t,e){this._meet.push([t,e]),u.call(this,t,e),u.call(this,e,t),this._meet.pop(),this.checkPlainObjectsEquality(t,e)}),l.EQ=s;var Tt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable;m.prototype={__shouldIterator__:!0,next:function(){if(this._done)throw new Error("Iterator already reached the end");this._keys||(this._keys=Object.keys(this._obj),this._index=0);var t=this._keys[this._index];return this._done=this._index===this._keys.length,this._index+=1,{value:this._done?void 0:[t,this._obj[t]],done:this._done}}},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(m.prototype[Symbol.iterator]=function(){return this}),g.prototype={add:function(t,e,r,a){return this.addType(new n.Type(t,e,r),a)},addType:function(t,e){this._typeAdaptors[t.toString()]=e},getAdaptor:function(t,e){for(var n=t.toTryTypes();n.length;){var r=n.shift(),a=this._typeAdaptors[r];if(a&&a[e])return a[e]}},requireAdaptor:function(t,e){var n=this.getAdaptor(t,e);if(!n)throw new Error("There is no type adaptor `"+e+"` for "+t.toString());return n},addIterableType:function(t){this._iterableTypes[t.toString()]=!0},isIterableType:function(t){return!!this._iterableTypes[t.toString()]}};var jt=new g,Ot={forEach:function(t,e,n){for(var r in t)if(p(t,r)&&f(t,r)&&!1===e.call(n,t[r],r,t))return},has:function(t,e){return p(t,e)},get:function(t,e){return t[e]},iterator:function(t){return new m(t)}};jt.addType(new n.Type(n.OBJECT),Ot),jt.addType(new n.Type(n.FUNCTION),Ot);var vt={has:function(t,e){return t.has(e)},get:function(t,e){return t.get(e)},forEach:function(t,e,n){T(t.entries(),function(r){return e.call(n,r[1],r[0],t)})},size:function(t){return t.size},isEmpty:function(t){return 0===t.size},iterator:function(t){return t.entries()}},At=d({},vt);At.get=function(t,e){if(t.has(e))return e},jt.addType(new n.Type(n.OBJECT,n.MAP),vt),jt.addType(new n.Type(n.OBJECT,n.SET),At),jt.addType(new n.Type(n.OBJECT,n.WEAK_SET),At),jt.addType(new n.Type(n.OBJECT,n.WEAK_MAP),vt),jt.addType(new n.Type(n.STRING),{isEmpty:function(t){return""===t},size:function(t){return t.length}}),jt.addIterableType(new n.Type(n.OBJECT,n.ARRAY)),jt.addIterableType(new n.Type(n.OBJECT,n.ARGUMENTS)),R.prototype={constructor:R,format:function(t){var e=n(t);if(this.alreadySeen(t))return"[Circular]";for(var r=e.toTryTypes(),a=this.defaultFormat;r.length;){var i=r.shift(),o=R.formatterFunctionName(i);if(this[o]){a=this[o];break}}return a.call(this,t).trim()},defaultFormat:function(t){return String(t)},alreadySeen:function(t){return this.seen.indexOf(t)>=0}},R.addType=function(t,e){R.prototype[R.formatterFunctionName(t)]=e},R.formatterFunctionName=function(t){return"_format_"+t.toString("_")};var wt="\n",St=/^\s*function\s*(\S*)\s*\(/,Ct="  ";H.Formatter=R,H.addSpaces=N,H.pad0=_,H.functionName=M,H.constructorName=F,H.formatPlainObjectKey=D,H.formatPlainObject=L,H.typeAdaptorForEachFormat=q,R.addType(new n.Type(n.UNDEFINED),function(){return"undefined"}),R.addType(new n.Type(n.NULL),function(){return"null"}),R.addType(new n.Type(n.BOOLEAN),function(t){return t?"true":"false"}),R.addType(new n.Type(n.SYMBOL),function(t){return t.toString()}),R.addType(new n.Type(n.NUMBER),function(t){return 0===t&&1/t<0?"-0":String(t)}),R.addType(new n.Type(n.STRING),function(t){return"'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'"}),R.addType(new n.Type(n.FUNCTION),function(t){return L.call(this,t,{prefix:"Function",additionalKeys:[["name",M(t)]]})}),R.addType(new n.Type(n.OBJECT),L),R.addType(new n.Type(n.OBJECT,n.NUMBER),U),R.addType(new n.Type(n.OBJECT,n.BOOLEAN),U),R.addType(new n.Type(n.OBJECT,n.STRING),function(t){var e=t.valueOf();return L.call(this,t,{filterKey:function(t){return!(t.match(/\d+/)&&parseInt(t,10)<e.length)},additionalKeys:[["[[PrimitiveValue]]",e]]})}),R.addType(new n.Type(n.OBJECT,n.REGEXP),function(t){return L.call(this,t,{value:String(t)})}),R.addType(new n.Type(n.OBJECT,n.ARRAY),function(t){return L.call(this,t,{formatKey:function(t){if(!t.match(/\d+/))return D.call(this,t)},brackets:["[","]"]})}),R.addType(new n.Type(n.OBJECT,n.ARGUMENTS),function(t){return L.call(this,t,{formatKey:function(t){if(!t.match(/\d+/))return D.call(this,t)},brackets:["[","]"],prefix:"Arguments"})}),R.addType(new n.Type(n.OBJECT,n.DATE),function(t){return L.call(this,t,{value:Y(t,this.isUTCdate)})}),R.addType(new n.Type(n.OBJECT,n.ERROR),function(t){return L.call(this,t,{prefix:t.name,additionalKeys:[["message",t.message]]})}),R.addType(new n.Type(n.OBJECT,n.SET),G),R.addType(new n.Type(n.OBJECT,n.MAP),K),R.addType(new n.Type(n.OBJECT,n.WEAK_MAP),K),R.addType(new n.Type(n.OBJECT,n.WEAK_SET),G),R.addType(new n.Type(n.OBJECT,n.BUFFER),Z("length","Buffer",2)),R.addType(new n.Type(n.OBJECT,n.ARRAY_BUFFER),Z("byteLength","ArrayBuffer",2)),R.addType(new n.Type(n.OBJECT,n.TYPED_ARRAY,"int8"),Z("length","Int8Array",2)),R.addType(new n.Type(n.OBJECT,n.TYPED_ARRAY,"uint8"),Z("length","Uint8Array",2)),R.addType(new n.Type(n.OBJECT,n.TYPED_ARRAY,"uint8clamped"),Z("length","Uint8ClampedArray",2)),R.addType(new n.Type(n.OBJECT,n.TYPED_ARRAY,"int16"),Z("length","Int16Array",4)),R.addType(new n.Type(n.OBJECT,n.TYPED_ARRAY,"uint16"),Z("length","Uint16Array",4)),R.addType(new n.Type(n.OBJECT,n.TYPED_ARRAY,"int32"),Z("length","Int32Array",8)),R.addType(new n.Type(n.OBJECT,n.TYPED_ARRAY,"uint32"),Z("length","Uint32Array",8)),R.addType(new n.Type(n.OBJECT,n.SIMD,"bool16x8"),W("Bool16x8",8)),R.addType(new n.Type(n.OBJECT,n.SIMD,"bool32x4"),W("Bool32x4",4)),R.addType(new n.Type(n.OBJECT,n.SIMD,"bool8x16"),W("Bool8x16",16)),R.addType(new n.Type(n.OBJECT,n.SIMD,"float32x4"),W("Float32x4",4)),R.addType(new n.Type(n.OBJECT,n.SIMD,"int16x8"),W("Int16x8",8)),R.addType(new n.Type(n.OBJECT,n.SIMD,"int32x4"),W("Int32x4",4)),R.addType(new n.Type(n.OBJECT,n.SIMD,"int8x16"),W("Int8x16",16)),R.addType(new n.Type(n.OBJECT,n.SIMD,"uint16x8"),W("Uint16x8",8)),R.addType(new n.Type(n.OBJECT,n.SIMD,"uint32x4"),W("Uint32x4",4)),R.addType(new n.Type(n.OBJECT,n.SIMD,"uint8x16"),W("Uint8x16",16)),R.addType(new n.Type(n.OBJECT,n.PROMISE),function(){return"[Promise]"}),R.addType(new n.Type(n.OBJECT,n.XHR),function(){return"[XMLHttpRequest]"}),R.addType(new n.Type(n.OBJECT,n.HTML_ELEMENT),function(t){return t.outerHTML}),R.addType(new n.Type(n.OBJECT,n.HTML_ELEMENT,"#text"),function(t){return t.nodeValue}),R.addType(new n.Type(n.OBJECT,n.HTML_ELEMENT,"#document"),function(t){return t.documentElement.outerHTML}),R.addType(new n.Type(n.OBJECT,n.HOST),function(){return"[Host]"});var xt=H.functionName,Bt={typeAdaptors:jt,getFormatter:function(t){return new H.Formatter(t||Bt)}},Rt="    ";rt.prototype={generateMessage:(tt.prototype=Object.create(Error.prototype,{name:{value:"AssertionError"},generateMessage:{value:function(){if(!this.operator&&this.previous)return this.previous.message;var t=$(this.actual),e="expected"in this?" "+$(this.expected):"",n="details"in this&&this.details?" ("+this.details+")":"",r=this.previous?"\n"+nt(this.previous.message):"";return"expected "+t+(this.negate?" not ":" ")+this.operator+e+n+r}}})).generateMessage},at.prototype={constructor:at,assert:function(t){if(t)return this;var e=this.params;throw"obj"in e&&!("actual"in e)?e.actual=e.obj:"obj"in e||"actual"in e||(e.actual=this.obj),e.stackStartFunction=e.stackStartFunction||this.assert,e.negate=this.negate,e.assertion=this,this.light?new rt(e):new tt(e)},fail:function(){return this.assert(!1)},assertZeroArguments:function(t){if(0!==t.length)throw new TypeError("This assertion does not expect any arguments. You may need to check your code")}},it.prototype.then=function(t,e){return this.obj.then(t,e)},at.add=function(t,e){Object.defineProperty(at.prototype,t,{enumerable:!0,configurable:!0,value:function(){var n=new at(this.obj,this,t);n.anyOne=this.anyOne,n.onlyThis=this.onlyThis,n.light=!0;try{e.apply(n,arguments)}catch(t){if(t instanceof tt||t instanceof rt){if(this.negate)return this.obj=n.obj,this.negate=!1,this;n!==t.assertion&&(n.params.previous=t),n.negate=!1,n.light=!1,n.fail()}throw t}return this.negate&&(n.negate=!0,n.params.details="false negative fail",n.light=!1,n.fail()),this.params.operator||(this.params=n.params),this.obj=n.obj,this.negate=!1,this}}),Object.defineProperty(it.prototype,t,{enumerable:!0,configurable:!0,value:function(){var e=arguments;return this.obj=this.obj.then(function(n){return n[t].apply(n,e)}),this}})},at.addChain=function(t,e){e=e||function(){},Object.defineProperty(at.prototype,t,{get:function(){return e.call(this),this},enumerable:!0}),Object.defineProperty(it.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.obj=this.obj.then(function(e){return e[t]}),this}})},at.alias=function(t,e){var n=Object.getOwnPropertyDescriptor(at.prototype,t);if(!n)throw new Error("Alias "+t+" -> "+e+" could not be created as "+t+" not defined");Object.defineProperty(at.prototype,e,n);var r=Object.getOwnPropertyDescriptor(it.prototype,t);r&&Object.defineProperty(it.prototype,e,r)},at.addChain("not",function(){this.negate=!this.negate}),at.addChain("any",function(){this.anyOne=!0}),at.addChain("only",function(){this.onlyThis=!0});var kt=Array.prototype.slice,Pt=st;Pt.fail=ot,Pt.ok=st,Pt.equal=function(t,e,n){t!=e&&ot(t,e,n,"==",Pt.equal)},Pt.notEqual=function(t,e,n){t==e&&ot(t,e,n,"!=",Pt.notEqual)},Pt.deepEqual=function(t,e,n){0!==l(t,e).length&&ot(t,e,n,"deepEqual",Pt.deepEqual)},Pt.notDeepEqual=function(t,e,n){l(t,e).result&&ot(t,e,n,"notDeepEqual",Pt.notDeepEqual)},Pt.strictEqual=function(t,e,n){t!==e&&ot(t,e,n,"===",Pt.strictEqual)},Pt.notStrictEqual=function(t,e,n){t===e&&ot(t,e,n,"!==",Pt.notStrictEqual)},Pt.throws=function(){ht.apply(this,[!0].concat(kt.call(arguments)))},Pt.doesNotThrow=function(){ht.apply(this,[!1].concat(kt.call(arguments)))},Pt.ifError=function(t){if(t)throw t};var _t=Array.prototype.slice;lt.AssertionError=tt,lt.Assertion=at,lt.modules={format:H,type:n,equal:l},lt.format=$,lt.config=Bt,lt.extend=function(t,e){t=t||"should",e=e||Object.prototype;var n=Object.getOwnPropertyDescriptor(e,t);return Object.defineProperty(e,t,{set:function(){},get:function(){return lt(V(this)?this.valueOf():this)},configurable:!0}),{name:t,descriptor:n,proto:e}},lt.noConflict=function(t){return(t=t||lt._prevShould)&&(delete t.proto[t.name],t.descriptor&&Object.defineProperty(t.proto,t.name,t.descriptor)),lt},lt.use=function(t){return t(lt,lt.Assertion),this},lt.use(function(t){var e=t.format;d(t,Pt),t.exist=t.exists=function(n,r){if(null==n)throw new tt({message:r||"expected "+e(n)+" to exist",stackStartFunction:t.exist})},t.not={},t.not.exist=t.not.exists=function(n,r){if(null!=n)throw new tt({message:r||"expected "+e(n)+" to not exist",stackStartFunction:t.not.exist})}}).use(function(t,e){["an","of","a","and","be","been","has","have","with","is","which","the","it"].forEach(function(t){e.addChain(t)})}).use(function(t,e){e.add("true",function(t){this.is.exactly(!0,t)}),e.alias("true","True"),e.add("false",function(t){this.is.exactly(!1,t)}),e.alias("false","False"),e.add("ok",function(){this.assertZeroArguments(arguments),this.params={operator:"to be truthy"},this.assert(this.obj)})}).use(function(t,e){e.add("NaN",function(){this.assertZeroArguments(arguments),this.params={operator:"to be NaN"},this.assert(this.obj!==this.obj)}),e.add("Infinity",function(){this.assertZeroArguments(arguments),this.params={operator:"to be Infinity"},this.is.a.Number().and.not.a.NaN().and.assert(!isFinite(this.obj))}),e.add("within",function(t,e,n){this.params={operator:"to be within "+t+".."+e,message:n},this.assert(this.obj>=t&&this.obj<=e)}),e.add("approximately",function(t,e,n){this.params={operator:"to be approximately "+t+" ±"+e,message:n},this.assert(Math.abs(this.obj-t)<=e)}),e.add("above",function(t,e){this.params={operator:"to be above "+t,message:e},this.assert(this.obj>t)}),e.add("below",function(t,e){this.params={operator:"to be below "+t,message:e},this.assert(this.obj<t)}),e.alias("above","greaterThan"),e.alias("below","lessThan"),e.add("aboveOrEqual",function(t,e){this.params={operator:"to be above or equal "+t,message:e},this.assert(this.obj>=t)}),e.add("belowOrEqual",function(t,e){this.params={operator:"to be below or equal "+t,message:e},this.assert(this.obj<=t)}),e.alias("aboveOrEqual","greaterThanOrEqual"),e.alias("belowOrEqual","lessThanOrEqual")}).use(function(t,e){function r(n,r,a){e.add(n,function(e){1!==arguments.length?e=Array.prototype.slice.call(arguments):t(e).be.Array(),this.params={operator:r,expected:e};var n=this.obj,i=!1;T(e,function(e){try{return t(e)[a](n),i=!0,!1}catch(e){if(e instanceof t.AssertionError)return;throw e}}),this.assert(i)})}e.add("eql",function(e,r){this.params={operator:"to equal",expected:e,message:r};var a=this.obj,i=l(this.obj,e,t.config);this.params.details=i.map(function(t){return ut(t,a,e)}).join(", "),this.params.showDiff=0===l(n(a),n(e)).length,this.assert(0===i.length)}),e.add("equal",function(t,e){this.params={operator:"to be",expected:t,message:e},this.params.showDiff=0===l(n(this.obj),n(t)).length,this.assert(t===this.obj)}),e.alias("equal","equals"),e.alias("equal","exactly"),e.alias("eql","eqls"),e.alias("eql","deepEqual"),r("equalOneOf","to be equals one of","equal"),r("oneOf","to be one of","eql")}).use(function(t,e){e.add("Number",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a number"},this.have.type("number")}),e.add("arguments",function(){this.assertZeroArguments(arguments),this.params={operator:"to be arguments"},this.have.class("Arguments")}),e.alias("arguments","Arguments"),e.add("type",function(e,n){this.params={operator:"to have type "+e,message:n},t(typeof this.obj).be.exactly(e)}),e.add("instanceof",function(t,e){this.params={operator:"to be an instance of "+xt(t),message:e},this.assert(Object(this.obj)instanceof t)}),e.alias("instanceof","instanceOf"),e.add("Function",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a function"},this.have.type("function")}),e.add("Object",function(){this.assertZeroArguments(arguments),this.params={operator:"to be an object"},this.is.not.null().and.have.type("object")}),e.add("String",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a string"},this.have.type("string")}),e.add("Array",function(){this.assertZeroArguments(arguments),this.params={operator:"to be an array"},this.have.class("Array")}),e.add("Boolean",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a boolean"},this.have.type("boolean")}),e.add("Error",function(){this.assertZeroArguments(arguments),this.params={operator:"to be an error"},this.have.instanceOf(Error)}),e.add("Date",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a date"},this.have.instanceOf(Date)}),e.add("null",function(){this.assertZeroArguments(arguments),this.params={operator:"to be null"},this.assert(null===this.obj)}),e.alias("null","Null"),e.add("class",function(t){this.params={operator:"to have [[Class]] "+t},this.assert(Object.prototype.toString.call(this.obj)==="[object "+t+"]")}),e.alias("class","Class"),e.add("undefined",function(){this.assertZeroArguments(arguments),this.params={operator:"to be undefined"},this.assert(void 0===this.obj)}),e.alias("undefined","Undefined"),e.add("iterable",function(){this.assertZeroArguments(arguments),this.params={operator:"to be iterable"},t(this.obj).have.property(Symbol.iterator).which.is.a.Function()}),e.add("iterator",function(){this.assertZeroArguments(arguments),this.params={operator:"to be iterator"},t(this.obj).have.property("next").which.is.a.Function()}),e.add("generator",function(){this.assertZeroArguments(arguments),this.params={operator:"to be generator"},t(this.obj).be.iterable.and.iterator.and.it.is.equal(this.obj[Symbol.iterator]())})}).use(function(t,e){e.add("startWith",function(e,n){this.params={operator:"to start with "+t.format(e),message:n},this.assert(0===this.obj.indexOf(e))}),e.add("endWith",function(e,n){this.params={operator:"to end with "+t.format(e),message:n},this.assert(this.obj.indexOf(e,this.obj.length-e.length)>=0)})}).use(function(t,e){var n=t.format;e.add("propertyWithDescriptor",function(e,r){this.params={actual:this.obj,operator:"to have own property with descriptor "+n(r)};var a=this.obj;this.have.ownProperty(e),t(Object.getOwnPropertyDescriptor(Object(a),e)).have.properties(r)}),e.add("property",function(t,e){if(t=z(t),arguments.length>1){var n={};n[t]=e,this.have.properties(n)}else this.have.properties(t);this.obj=this.obj[t]}),e.add("properties",function(t){var e={};arguments.length>1?t=_t.call(arguments):Array.isArray(t)||("string"==typeof t||"symbol"==typeof t?t=[t]:(e=t,t=Object.keys(t)));var r=Object(this.obj),a=[];t.forEach(function(t){t in r||a.push(Q(t))});var i=a;0===i.length?i=t.map(Q):this.anyOne&&(i=t.filter(function(t){return a.indexOf(Q(t))<0}).map(Q));var o=(1===i.length?"to have property ":"to have "+(this.anyOne?"any of ":"")+"properties ")+i.join(", ");this.params={obj:this.obj,operator:o},this.assert(0===a.length||this.anyOne&&a.length!=t.length);var s=Object.keys(e);if(s.length){var c=[];i=[],s.forEach(function(t){var a=e[t];0!==l(r[t],a).length?c.push(Q(t)+" of "+n(a)+" (got "+n(r[t])+")"):i.push(Q(t)+" of "+n(a))}),(0!==c.length&&!this.anyOne||this.anyOne&&0===i.length)&&(i=c),o=(1===i.length?"to have property ":"to have "+(this.anyOne?"any of ":"")+"properties ")+i.join(", "),this.params={obj:this.obj,operator:o},this.assert(0===c.length||this.anyOne&&c.length!=s.length)}}),e.add("length",function(t,e){this.have.property("length",t,e)}),e.alias("length","lengthOf"),e.add("ownProperty",function(t,e){t=z(t),this.params={actual:this.obj,operator:"to have own property "+Q(t),message:e},this.assert(p(this.obj,t)),this.obj=this.obj[t]}),e.alias("ownProperty","hasOwnProperty"),e.add("empty",function(){this.params={operator:"to be empty"},this.assert(j(this.obj))},!0),e.add("keys",function(t){t=_t.call(arguments);var e=Object(this.obj),n=t.filter(function(t){return!O(e,t)}),r="to have "+(this.onlyThis?"only ":"")+(1===t.length?"key ":"keys ");this.params={operator:r+t.join(", ")},n.length>0&&(this.params.operator+="\n\tmissing keys: "+n.join(", ")),this.assert(0===n.length),this.onlyThis&&e.should.have.size(t.length)}),e.add("key",function(t){this.have.keys(t),this.obj=v(this.obj,t)}),e.add("value",function(t,e){this.have.key(t).which.is.eql(e)}),e.add("size",function(t){this.params={operator:"to have size "+t},E(this.obj).should.be.exactly(t)}),e.add("propertyByPath",function(e){var n=(e=_t.call(arguments)).map(Q);e=e.map(z);for(var r,a=t(Object(this.obj)),i=[];e.length;)r=e.shift(),this.params={operator:"to have property by path "+n.join(", ")+" - failed on "+Q(r)},a=a.have.property(r),i.push(r);this.params={obj:this.obj,operator:"to have property by path "+n.join(", ")},this.obj=a.obj})}).use(function(t,e){var n=t.format;e.add("throw",function(e,r){var a=this.obj,i={},o="",s=!1;if(b(a))return t(a()).throw(e,r);if(y(a))return t(a.next.bind(a)).throw(e,r);this.is.a.Function();var c=!0;try{a()}catch(t){s=!0,i=t}if(s)if(e){if("string"==typeof e)c=e==i.message;else if(e instanceof RegExp)c=e.test(i.message);else if("function"==typeof e)c=i instanceof e;else if(null!=e)try{t(i).match(e)}catch(e){if(!(e instanceof t.AssertionError))throw e;o=": "+e.message,c=!1}if(c){if("function"==typeof e&&r)try{t(i).match(r)}catch(e){if(!(e instanceof t.AssertionError))throw e;o=": "+e.message,c=!1}}else"string"==typeof e||e instanceof RegExp?o=" with a message matching "+n(e)+", but got '"+i.message+"'":"function"==typeof e&&(o=" of type "+xt(e)+", but got "+xt(i.constructor))}else o=" (got "+n(i)+")";this.params={operator:"to throw exception"+o},this.assert(s),this.assert(c)}),e.alias("throw","throwError")}).use(function(t,e){var n=t.format;e.add("match",function(e,r){if(this.params={operator:"to match "+n(e),message:r},0!==l(this.obj,e).length)if(e instanceof RegExp)if("string"==typeof this.obj)this.assert(e.exec(this.obj));else if(null!=this.obj&&"object"==typeof this.obj){var a=[],i=[];T(this.obj,function(t,r){e.exec(t)?i.push(Q(r)):a.push(Q(r)+" ("+n(t)+")")},this),a.length&&(this.params.operator+="\n    not matched properties: "+a.join(", ")),i.length&&(this.params.operator+="\n    matched properties: "+i.join(", ")),this.assert(0===a.length)}else this.assert(!1);else if("function"==typeof e){var o;"boolean"==typeof(o=e(this.obj))&&this.assert(o)}else"object"==typeof this.obj&&null!=this.obj&&(X(e)||Array.isArray(e))?(a=[],i=[],T(e,function(e,r){try{t(this.obj).have.property(r).which.match(e),i.push(Q(r))}catch(e){if(!(e instanceof t.AssertionError))throw e;a.push(Q(r)+" ("+n(this.obj[r])+")")}},this),a.length&&(this.params.operator+="\n    not matched properties: "+a.join(", ")),i.length&&(this.params.operator+="\n    matched properties: "+i.join(", ")),this.assert(0===a.length)):this.assert(!1)}),e.add("matchEach",function(e,r){this.params={operator:"to match each "+n(e),message:r},T(this.obj,function(n){t(n).match(e)},this)}),e.add("matchAny",function(e,r){this.params={operator:"to match any "+n(e),message:r},this.assert(A(this.obj,function(n){try{return t(n).match(e),!0}catch(e){if(e instanceof t.AssertionError)return!1;throw e}}))}),e.alias("matchAny","matchSome"),e.alias("matchEach","matchEvery")}).use(function(t,e){var n=t.format;e.add("containEql",function(e){this.params={operator:"to contain "+n(e)},this.is.not.null().and.not.undefined();var r=this.obj;"string"==typeof r?this.assert(r.indexOf(String(e))>=0):w(r)?this.assert(A(r,function(t){return 0===l(t,e).length})):T(e,function(e,n){t(r).have.value(n,e)},this)}),e.add("containDeepOrdered",function(e){this.params={operator:"to contain "+n(e)};var r=this.obj;if("string"==typeof r)this.is.equal(String(e));else if(w(r)&&w(e)){for(var a=S(r),i=S(e),o=a.next(),s=i.next();!o.done&&!s.done;){try{t(o.value[1]).containDeepOrdered(s.value[1]),s=i.next()}catch(e){if(!(e instanceof t.AssertionError))throw e}o=a.next()}this.assert(s.done)}else null!=r&&"object"==typeof r&&null!=e&&"object"==typeof e?(T(e,function(e,n){t(r[n]).containDeepOrdered(e)}),j(e)&&this.eql(e)):this.eql(e)}),e.add("containDeep",function(e){this.params={operator:"to contain "+n(e)};var r=this.obj;if("string"==typeof r&&"string"==typeof e)this.is.equal(String(e));else if(w(r)&&w(e)){var a={};T(e,function(e){this.assert(A(r,function(n,r){if(r in a)return!1;try{return t(n).containDeep(e),a[r]=!0,!0}catch(e){if(e instanceof t.AssertionError)return!1;throw e}}))},this)}else null!=r&&null!=e&&"object"==typeof r&&"object"==typeof e?(T(e,function(e,n){t(r[n]).containDeep(e)}),j(e)&&this.eql(e)):this.eql(e)})}).use(function(t,e){e.add("Promise",function(){this.assertZeroArguments(arguments),this.params={operator:"to be promise"};var e=this.obj;t(e).have.property("then").which.is.a.Function()}),e.prototype.fulfilled=function(){this.assertZeroArguments(arguments),this.params={operator:"to be fulfilled"},t(this.obj).be.a.Promise();var e=this;return this.obj.then(function(t){return e.negate&&e.fail(),t},function(n){return e.negate||(e.params.operator+=", but it was rejected with "+t.format(n),e.fail()),n})},e.prototype.resolved=e.prototype.fulfilled,e.prototype.rejected=function(){this.assertZeroArguments(arguments),this.params={operator:"to be rejected"},t(this.obj).be.a.Promise();var e=this;return this.obj.then(function(n){return e.negate||(e.params.operator+=", but it was fulfilled",0!=arguments.length&&(e.params.operator+=" with "+t.format(n)),e.fail()),n},function(t){return e.negate&&e.fail(),t})},e.prototype.fulfilledWith=function(e){this.params={operator:"to be fulfilled with "+t.format(e)},t(this.obj).be.a.Promise();var n=this;return this.obj.then(function(r){return n.negate&&n.fail(),t(r).eql(e),r},function(e){return n.negate||(n.params.operator+=", but it was rejected with "+t.format(e),n.fail()),e})},e.prototype.resolvedWith=e.prototype.fulfilledWith,e.prototype.rejectedWith=function(e,n){this.params={operator:"to be rejected"},t(this.obj).be.a.Promise();var r=this;return this.obj.then(function(t){return r.negate||r.fail(),t},function(a){r.negate&&r.fail();var i=!0,o="";if("string"==typeof e)i=e===a.message;else if(e instanceof RegExp)i=e.test(a.message);else if("function"==typeof e)i=a instanceof e;else if(null!==e&&"object"==typeof e)try{t(a).match(e)}catch(e){if(!(e instanceof t.AssertionError))throw e;o=": "+e.message,i=!1}if(i){if("function"==typeof e&&n)try{t(a).match(n)}catch(e){if(!(e instanceof t.AssertionError))throw e;o=": "+e.message,i=!1}}else"string"==typeof e||e instanceof RegExp?o=" with a message matching "+t.format(e)+", but got '"+a.message+"'":"function"==typeof e&&(o=" of type "+xt(e)+", but got "+xt(a.constructor));return r.params.operator+=o,r.assert(i),a})},Object.defineProperty(e.prototype,"finally",{get:function(){t(this.obj).be.a.Promise();var e=this;return new it(this.obj.then(function(n){var r=t(n);return r.negate=e.negate,r.anyOne=e.anyOne,r}))}}),e.alias("finally","eventually")});var Mt=Object.prototype,Ft="object"==typeof global&&global&&global.Object===Object&&global,Nt="object"==typeof self&&self&&self.Object===Object&&self,qt=Ft||Nt||Function("return this")();try{lt._prevShould=lt.extend("should",Mt),Object.defineProperty(qt,"should",{enumerable:!1,configurable:!0,value:lt})}catch(t){}"function"==typeof define&&define.amd?define([],function(){return lt}):"object"==typeof module&&module.exports&&(module.exports=lt)}();