!function(t,r){function e(t,r){for(var e=~~((t[d]-1)/2),n=1;n<=e;n++)r(t[2*n-1],t[2*n])}function n(r){var n=t.createElement(r||"div");return e(arguments,function(t,r){n[t]=r}),n}function o(t,r,e){return e&&!e[M]&&o(t,e),t.insertBefore(r,e||null),t}function i(){var r=t.styleSheets;return r[d]||o(t.documentElement[k],n(g)),r[0]}function a(t,r){var e=[m,r,~~(100*t)].join("-");if(!j[e]){var n,o=i(),a="{"+m+":"+t+"}";for(n=0;n<S[d];n++)try{o.insertRule("@"+(S[n]&&"-"+S[n].toLowerCase()+"-"||"")+"keyframes "+e+"{0%{"+m+":1}"+r+"%"+a+"to"+a+"}",o.cssRules[d])}catch(t){}j[e]=1}return e}function s(t,e){var n=t[g];if(n[e]!==r)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var o=0;o<S[d];o++){var i=S[o]+e;if(n[i]!==r)return i}}function u(t){return e(arguments,function(r,e){t[g][s(t,r)||r]=e}),t}function f(t){return e(arguments,function(e,n){t[e]===r&&(t[e]=n)}),t}var l,c="width",d="length",h="radius",p="lines",v="color",m="opacity",g="style",w="height",b="left",x="top",y="px",k="firstChild",M="parentNode",C="position",R="absolute",z="transform",L="Origin",N="coord",S="webkit0Moz0ms0O".split(0),j={},B=function(t){this.el=this[p](this.opts=f(t||{},p,12,"trail",100,d,7,c,5,h,10,v,"#000",m,.25,"speed",1))},E=B.prototype={spin:function(t){var r=this,e=r.el;if(t&&o(t,u(e,b,~~(t.offsetWidth/2)+y,x,~~(t.offsetHeight/2)+y),t[k]),r.on=1,!l){var n=r.opts,i=0,a=20/n.speed,s=(1-n[m])/(a*n.trail/100),f=a/n[p];!function t(){i++;for(var o=n[p];o;o--){var u=Math.max(1-(i+o*f)%a*s,n[m]);r[m](e,n[p]-o,u,n)}r.on&&setTimeout(t,50)}()}return r},stop:function(){var t=this,r=t.el;return t.on=0,r[M]&&r[M].removeChild(r),t}};E[p]=function(t){function r(r,e){return u(n(),C,R,c,t[d]+t[c]+y,w,t[c]+y,"background",r,"boxShadow",e,z+L,b,z,"rotate("+~~(360/t[p]*s)+"deg) translate("+t[h]+y+",0)","borderRadius","100em")}for(var e=u(n(),C,"relative"),i=a(t[m],t.trail),s=0;s<t[p];s++){var f=u(n(),C,R,x,1+~(t[c]/2)+y,z,"translate3d(0,0,0)","animation",i+" "+1/t.speed+"s linear infinite "+(1/t[p]*s/t.speed-1)+"s");t.shadow&&o(f,u(r("#000","0 0 4px #000"),x,2+y)),o(e,o(f,r(t[v],"0 0 1px rgba(0,0,0,.1)")))}return e},E[m]=function(t,r,e){t.childNodes[r][g][m]=e};var O="group0roundrect0fill0stroke".split(0);!function(){var t=u(n(O[0]),"behavior","url(#default#VML)");if(!s(t,z)&&t.adj){var r,e=i();for(r=0;r<O[d];r++)e.addRule(O[r],"behavior:url(#default#VML)");E[p]=function(){function t(){return u(n(O[0],N+"size",s+" "+s,N+L,-a+" "+-a),c,s,w,s)}function r(r,e,s){o(f,o(u(t(),"rotation",360/i[p]*r+"deg",b,~~e),o(u(n(O[1],"arcsize",1),c,a,w,i[c],b,i[h],x,-i[c]/2,"filter",s),n(O[2],v,i[v],m,i[m]),n(O[3],m,0))))}var e,i=this.opts,a=i[d]+i[c],s=2*a,f=t(),l=~(i[d]+i[h]+i[c])+y;if(i.shadow)for(e=1;e<=i[p];e++)r(e,-2,"progid:DXImage"+z+".Microsoft.Blur(pixel"+h+"=2,makeshadow=1,shadow"+m+"=.3)");for(e=1;e<=i[p];e++)r(e);return o(u(n(),"margin",l+" 0 0 "+l,C,"relative"),f)},E[m]=function(t,r,e,n){n=n.shadow&&n[p]||0,t[k].childNodes[r+n][k][k][m]=e}}else l=s(t,"animation")}(),window.Spinner=B}(document);