!function(t,i,e){function o(t,e){var o,r=i.createElement(t||"div");for(o in e)r[o]=e[o];return r}function r(t,i,e){return e&&!e.parentNode&&r(t,e),t.insertBefore(i,e||null),t}function n(t,i,e,o){var r=["opacity",i,~~(100*t),e,o].join("-"),n=.01+e/o*100,a=Math.max(1-(1-t)/i*(100-n),t),s=p.substring(0,p.indexOf("Animation")).toLowerCase(),f=s&&"-"+s+"-"||"";return d[r]||(c.insertRule("@"+f+"keyframes "+r+"{0%{opacity:"+a+"}"+n+"%{opacity:"+t+"}"+(n+.01)+"%{opacity:1}"+(n+i)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",0),d[r]=1),r}function a(t,i){var o,r,n=t.style;if(n[i]!==e)return i;for(i=i.charAt(0).toUpperCase()+i.slice(1),r=0;r<u.length;r++)if(o=u[r]+i,n[o]!==e)return o}function s(t,i){for(var e in i)t.style[a(t,e)||e]=i[e];return t}function f(t,i){for(var o in i)t[o]===e&&(t[o]=i[o]);return t}function l(t){for(var i={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)i.x+=t.offsetLeft,i.y+=t.offsetTop;return i}var p,u=["webkit","Moz","ms","O"],d={};r(i.getElementsByTagName("head")[0],o("style"));var c=i.styleSheets[i.styleSheets.length-1],h=function(t){this.opts=f(t||{},{lines:12,length:7,width:5,radius:10,color:"#000",speed:1,trail:100,opacity:.25})},y=h.prototype={spin:function(t){var i,e,n=this,a=n.el=s(o(),{position:"relative"});if(t&&(e=l(r(t,a,t.firstChild)),i=l(a),s(a,{left:(t.offsetWidth>>1)-i.x+e.x+"px",top:(t.offsetHeight>>1)-i.y+e.y+"px"})),n.lines(a,n.opts),!p){var f=n.opts,u=0,d=20/f.speed,c=(1-f.opacity)/(d*f.trail/100),h=d/f.lines;!function t(){u++;for(var i=f.lines;i;i--){var e=Math.max(1-(u+i*h)%d*c,f.opacity);n.opacity(a,f.lines-i,e,f)}n.timeout=n.el&&setTimeout(t,50)}()}return n},stop:function(){var t=this,i=t.el;return clearTimeout(t.timeout),i&&i.parentNode&&i.parentNode.removeChild(i),t.el=e,t}};y.lines=function(t,i){function e(t,e){return s(o(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*f)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.width>>1)+"px"})}for(var a,f=0;f<i.lines;f++)a=s(o(),{position:"absolute",top:1+~(i.width/2)+"px",transform:"translate3d(0,0,0)",opacity:i.opacity,animation:p&&n(i.opacity,i.trail,f,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&r(a,s(e("#000","0 0 4px #000"),{top:"2px"})),r(t,r(a,e(i.color,"0 0 1px rgba(0,0,0,.1)")));return t},y.opacity=function(t,i,e){t.childNodes[i].style.opacity=e},function(){var t,i=s(o("group"),{behavior:"url(#default#VML)"});if(!a(i,"transform")&&i.adj){for(t=4;t--;)c.addRule(["group","roundrect","fill","stroke"][t],"behavior:url(#default#VML)");y.lines=function(t,i){function e(){return s(o("group",{coordsize:l+" "+l,coordorigin:-f+" "+-f}),{width:l,height:l})}function n(t,n,a){r(p,r(s(e(),{rotation:360/i.lines*t+"deg",left:~~n}),r(s(o("roundrect",{arcsize:1}),{width:f,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),o("fill",{color:i.color,opacity:i.opacity}),o("stroke",{opacity:0}))))}var a,f=i.length+i.width,l=2*f,p=e(),u=~(i.length+i.radius+i.width)+"px";if(i.shadow)for(a=1;a<=i.lines;a++)n(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)n(a);return r(s(t,{margin:u+" 0 0 "+u}),p)},y.opacity=function(t,i,e,o){o=o.shadow&&o.lines||0,t.firstChild.childNodes[i+o].firstChild.firstChild.opacity=e}}else p=a(i,"animation")}(),t.Spinner=h}(window,document);