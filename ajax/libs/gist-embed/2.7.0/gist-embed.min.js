!function(t){"use strict";function e(t){var e,i,n=[];if("number"==typeof t)n.push(t);else{i=t.split(",");for(var s=0;s<i.length;s++)if(2===(e=i[s].split("-")).length)for(var l=parseInt(e[0],10);l<=e[1];l++)n.push(l);else 1===e.length&&n.push(parseInt(e[0],10))}return n}var i={};t.fn.gist=function(n){return this.each(function(){var s,l,a,r,o,d,c,f,h,p,u,g,m=t(this),b={};if(m.css("display","block"),s=m.data("gist-id")||"",a=m.data("gist-file"),f=!0===m.data("gist-hide-footer"),h=!0===m.data("gist-hide-line-numbers"),r=m.data("gist-line"),o=m.data("gist-lines-expanded"),c=m.data("gist-highlight-line"),p=!(u=!0===m.data("gist-show-spinner"))&&(void 0===m.data("gist-show-loading")||m.data("gist-show-loading")),a&&(b.file=a),!s)return!1;function y(i){var n,s,a,d,p;if(i&&i.div){if(i.stylesheet&&(0===i.stylesheet.indexOf("<link")?i.stylesheet=i.stylesheet.replace(/\\/g,"").match(/href=\"([^\s]*)\"/)[1]:0!==i.stylesheet.indexOf("http")&&(0!==i.stylesheet.indexOf("/")&&(i.stylesheet="/"+i.stylesheet),i.stylesheet="https://gist.github.com"+i.stylesheet)),i.stylesheet&&0===t('link[href="'+i.stylesheet+'"]').length&&(n=document.createElement("link"),s=document.getElementsByTagName("head")[0],n.type="text/css",n.rel="stylesheet",n.href=i.stylesheet,s.insertBefore(n,s.firstChild)),(p=t(i.div)).removeAttr("id"),m.html("").append(p),c&&(d=e(c),p.find("td.line-data").css({width:"100%"}),p.find(".js-file-line").each(function(e){-1!==t.inArray(e+1,d)&&t(this).css({"background-color":"rgb(255, 255, 204)"})})),r){a=e(r);var u=[];if(p.find(".js-file-line").each(function(e){-1===t.inArray(e+1,a)&&(o?(u.push(e+1),t(this).parent().hide()):t(this).parent().remove())}),o){var g=function(t,e){if(0===t.length)return[];return t.slice(1).reduce(function(t,i){return e(i)?t.push([i]):t.push(t.pop().concat([i])),t},[t.slice(0,1)])}(u,function(t){return!u.includes(t-1)});t.each(g,function(e,i){var n=i[0],s=n-1,l=i[i.length-1],a=t("<a></<a>");a.attr("lines",i.join()).css({display:"block",cursor:"pointer"}).html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 44" style="height: 15px; position: relative; top: 2px;"><path fill="#bbb" fill-rule="evenodd" d="M8.0066 16.05305v-7.6523c0-.82422-.47656-1.0273-1.0586-.4414l-3.5117 3.5039c-1.8789 1.875-4.6953-.94142-2.8164-2.8164L8.7215.61564c.68359-.67579 1.8008-.6797 2.4922 0l8.1641 8.0312c1.8789 1.875-.9375 4.6914-2.8164 2.8164l-3.5078-3.5039c-.58984-.58985-1.0625-.38673-1.0625.4414v27.30827c0 .82031.47656 1.0273 1.0586.44141l3.5117-3.5039c1.8789-1.875 4.6953.9375 2.8164 2.8164l-8.1016 8.0273c-.6836.6797-1.8008.6797-2.4922 0l-8.1641-8.0273c-1.8789-1.8789.9375-4.6914 2.8164-2.8164l3.5078 3.5039c.58984.58984 1.0625.38672 1.0625-.4414V16.05304z"/></svg>').on("click",function(e){e.preventDefault(),t(this).closest("tr").remove();var i=t(this);t("table.highlight").find("tr:hidden td[data-line-number]").each(function(e,n){if(r=i.attr("lines").split(","),-1===t.inArray(t(n).attr("data-line-number"),r))return!0;t(n).parent().show()})});var o=t("<td></td>").addClass("blob-num js-line-number collapsed").attr("style","background-color: #f9f9f9; color: #999; font-size: 12px; font-style: italic; text-align: center; padding-top: 5px !important; padding-bottom: 5px !important;").append(a),d=t("<td></td>").addClass("blob-code blob-code-inner js-file-line collapsed").attr("style","background-color: #f9f9f9; color: #999; font-size: 12px; font-style: italic; padding-top: 5px !important; padding-bottom: 5px !important;").html("... Lines "+n+" - "+l),c=t("<tr></tr>").append(o).append(d);p.find(".js-line-number[data-line-number="+s+"]").parent().after(c)})}}f&&(p.find(".gist-meta").remove(),p.find(".gist-data").css("border-bottom","0px"),p.find(".gist-file").css("border-bottom","1px solid #ddd")),h&&p.find(".js-line-number").remove()}else m.html("Failed loading gist "+l)}function v(t){m.html("Failed loading gist "+l+": "+t)}function x(){"function"==typeof n&&n()}l="https://gist.github.com/"+s+".json",g=!0===m.data("gist-enable-cache")||i[l],d="Loading gist "+l+(b.file?", file: "+b.file:"")+"...",p&&m.html(d),u&&m.html('<img style="display:block;margin-left:auto;margin-right:auto"  alt="'+d+'" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif">'),t.ajax({url:l,data:b,dataType:"jsonp",timeout:2e4,beforeSend:function(){if(g){if(i[l])return i[l].then(function(t){y(t),x()},function(t){v(t)}),!1;i[l]=t.Deferred()}},success:function(t){g&&i[l]&&i[l].resolve(t),y(t)},error:function(t,e){v(e)},complete:function(){x()}})})},t(function(){t("[data-gist-id]").gist()})}(jQuery);