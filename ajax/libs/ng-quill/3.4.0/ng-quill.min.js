!function(e,t){"function"==typeof define&&define.amd?define(["quill"],t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t(require("quill")):e.Requester=t(e.Quill)}(this,function(e){"use strict";var t;return(t=angular.module("ngQuill",[])).provider("ngQuillConfig",function(){var e={modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},theme:"snow",placeholder:"Insert text here ...",readOnly:!1,bounds:document.body};this.set=function(t){(t=t||{}).modules&&(e.modules=t.modules),t.theme&&(e.theme=t.theme),null!==t.placeholder&&void 0!==t.placeholder&&(e.placeholder=t.placeholder.trim()),t.bounds&&(e.bounds=t.bounds),t.readOnly&&(e.readOnly=t.readOnly),t.formats&&(e.formats=t.formats)},this.$get=function(){return e}}),t.component("ngQuillEditor",{bindings:{modules:"<modules",theme:"@?",readOnly:"<?",formats:"<?",placeholder:"@?",bounds:"<?",scrollingContainer:"<?",scrict:"<?",onEditorCreated:"&?",onContentChanged:"&?",onSelectionChanged:"&?",ngModel:"<",maxLength:"<",minLength:"<"},require:{ngModelCtrl:"ngModel"},transclude:{toolbar:"?ngQuillToolbar"},template:'<div class="ng-hide" ng-show="$ctrl.ready"><ng-transclude ng-transclude-slot="toolbar"></ng-transclude></div>',controller:["$scope","$element","$timeout","$transclude","ngQuillConfig",function(t,n,l,i,o){var r,d,s={},a=!1,h=!1,u=o.placeholder;this.validate=function(e){this.maxLength&&(e.length>this.maxLength+1?this.ngModelCtrl.$setValidity("maxlength",!1):this.ngModelCtrl.$setValidity("maxlength",!0)),this.minLength>1&&(e.length<=this.minLength&&e.length>1?this.ngModelCtrl.$setValidity("minlength",!1):this.ngModelCtrl.$setValidity("minlength",!0))},this.$onChanges=function(e){e.ngModel&&e.ngModel.currentValue!==e.ngModel.previousValue&&(r=e.ngModel.currentValue,d&&!h&&(a=!0,r?d.setContents(d.clipboard.convert(r)):d.setText("")),h=!1),d&&e.readOnly&&d.enable(!e.readOnly.currentValue)},this.$onInit=function(){null!==this.placeholder&&void 0!==this.placeholder&&(u=this.placeholder.trim()),s={theme:this.theme||o.theme,readOnly:this.readOnly||o.readOnly,modules:this.modules||o.modules,formats:this.formats||o.formats,placeholder:u,bounds:this.bounds||o.bounds,strict:this.strict,scrollingContainer:this.scrollingContainer}},this.$postLink=function(){l(function(){this._initEditor(void 0)}.bind(this),0)},this._initEditor=function(l){var o=angular.element("<div></div>"),u=n.children();if(l=o[0],i.isSlotFilled("toolbar")&&(s.modules.toolbar=u.find("ng-quill-toolbar").children()[0]),u.append(o),d=new e(l,s),this.ready=!0,d.on("selection-change",function(e,n,l){this.onSelectionChanged&&this.onSelectionChanged({editor:d,oldRange:n,range:e,source:l}),e||t.$applyAsync(function(){this.ngModelCtrl.$setTouched()}.bind(this))}.bind(this)),d.on("text-change",function(e,n,i){var o=l.children[0].innerHTML,r=d.getText();"<p><br></p>"===o&&(o=null),this.validate(r),a||t.$applyAsync(function(){h=!0,this.ngModelCtrl.$setViewValue(o),this.onContentChanged&&this.onContentChanged({editor:d,html:o,text:r,delta:e,oldDelta:n,source:i})}.bind(this)),a=!1}.bind(this)),r){a=!0;var c=d.clipboard.convert(r);d.setContents(c),d.history.clear()}this.onEditorCreated&&this.onEditorCreated({editor:d})}}]}),t.name});