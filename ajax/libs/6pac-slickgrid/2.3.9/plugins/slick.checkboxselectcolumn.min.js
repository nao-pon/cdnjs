!function(e){e.extend(!0,window,{Slick:{CheckboxSelectColumn:function(t){function o(e,t){var o,n,c=d.getSelectedRows(),i={};for(n=0;n<c.length;n++)i[o=c[n]]=!0,i[o]!==a[o]&&(d.invalidateRow(o),delete a[o]);for(n in a)d.invalidateRow(n);a=i,d.render(),c.length&&c.length==d.getDataLength()?d.updateColumnHeader(g.columnId,"<input type='checkbox' checked='checked'>",g.toolTip):d.updateColumnHeader(g.columnId,"<input type='checkbox'>",g.toolTip)}function n(e,t){32==e.which&&d.getColumns()[t.cell].id===g.columnId&&(d.getEditorLock().isActive()&&!d.getEditorLock().commitCurrentEdit()||i(t.row),e.preventDefault(),e.stopImmediatePropagation())}function c(t,o){if(d.getColumns()[o.cell].id===g.columnId&&e(t.target).is(":checkbox")){if(d.getEditorLock().isActive()&&!d.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();i(o.row),t.stopPropagation(),t.stopImmediatePropagation()}}function i(t){a[t]?d.setSelectedRows(e.grep(d.getSelectedRows(),function(e){return e!=t})):d.setSelectedRows(d.getSelectedRows().concat(t)),d.setActiveCell(t,r()),d.focus()}function l(t,o){if(o.column.id==g.columnId&&e(t.target).is(":checkbox")){if(d.getEditorLock().isActive()&&!d.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();if(e(t.target).is(":checked")){for(var n=[],c=0;c<d.getDataLength();c++)n.push(c);d.setSelectedRows(n)}else d.setSelectedRows([]);t.stopPropagation(),t.stopImmediatePropagation()}}function r(){if(null===p){p=0;for(var e=d.getColumns(),t=0;t<e.length;t++)e[t].id==g.columnId&&(p=t)}return p}function s(e,t,o,n,c){return c?a[e]?"<input type='checkbox' checked='checked'>":"<input type='checkbox'>":null}var d,u=new Slick.EventHandler,a={},g=e.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},t),p=null;e.extend(this,{init:function(e){d=e,u.subscribe(d.onSelectedRowsChanged,o).subscribe(d.onClick,c).subscribe(d.onHeaderClick,l).subscribe(d.onKeyDown,n)},destroy:function(){u.unsubscribeAll()},deSelectRows:function(t){var o,n=t.length,c=[];for(o=0;o<n;o++)a[t[o]]&&(c[c.length]=t[o]);d.setSelectedRows(e.grep(d.getSelectedRows(),function(e){return c.indexOf(e)<0}))},selectRows:function(e){var t,o=e.length,n=[];for(t=0;t<o;t++)a[e[t]]||(n[n.length]=e[t]);d.setSelectedRows(d.getSelectedRows().concat(n))},getColumnDefinition:function(){return{id:g.columnId,name:"<input type='checkbox'>",toolTip:g.toolTip,field:"sel",width:g.width,resizable:!1,sortable:!1,cssClass:g.cssClass,formatter:s}}})}}})}(jQuery);