!function(e){function n(n){function t(t){n=e.extend(!0,{},s,n),r=(o=t).getUID(),a=o.getColumns(),c=o.getData(),(l=e(o.getPreHeaderPanel())).html("<div class='slick-placeholder'>Drop a column header here to group by the column</div>"),d=l.find(".slick-placeholder"),l.droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",deactivate:function(e,n){l.removeClass("slick-header-column-denied")},drop:function(n,t){!function(n,t){var o=t.attr("id").replace(r,""),c=!0;p.forEach(function(e,n,t){e.id==o&&(c=!1)}),c&&a.forEach(function(c,l,u){if(c.id==o&&null!=c.grouping){var s=e("<div id='"+r+c.id+"_entry' data-id='"+c.id+"' class='slick-dropped-grouping'>");e("<span class='slick-groupby-remove'></span>").text(t.text()+" ").appendTo(s),e("</div>").appendTo(s),s.appendTo(n),function(e){p.push(e),i()}(c),function(n,t,o,c){var l=c;e("#"+r+n+"_entry").on("click",function(){e(this).off("click"),function(e,n,t){t.remove();var o=[];a.forEach(function(e,n,t){o[e.id]=e}),function(e){for(var n,t,i=arguments,o=i.length;o>1&&e.length;)for(n=i[--o];-1!=(t=e.indexOf(n));)e.splice(t,1)}(p,o[e]),0==p.length&&d.show();i()}(n,0,l)})}(c.id,0,0,s)}})}(this,t.draggable)},over:function(e,n){var t=n.draggable.attr("id").replace(r,"");a.forEach(function(e,n,i){e.id==t&&null==e.grouping&&l.addClass("slick-header-column-denied")})}}),l.sortable({items:"div.slick-dropped-grouping",cursor:"default",tolerance:"pointer",helper:"clone",update:function(n,t){for(var o=e(this).sortable("toArray",{attribute:"data-id"}),r=[],a=0,c=o.length;a<c;a++)for(var l=0,d=p.length;l<d;l++)if(p[l].id==o[a]){r.push(p[l]);break}p=r,i()}}),u=l.html()}function i(){if(0!=p.length){var e=[];p.forEach(function(n,t,i){e.push(n.grouping)}),c.setGrouping(e)}else c.setGrouping([])}var o,r,a,c,l,d,u,s={},p=[];e.extend(this,{init:t,destroy:function(){},clearDroppedGroups:function(){p=[]}})}e.extend(!0,window,{Slick:{DraggableGrouping:n}})}(jQuery);