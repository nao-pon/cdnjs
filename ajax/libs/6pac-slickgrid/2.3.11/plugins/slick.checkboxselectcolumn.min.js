!function(e){function t(t){function o(e,t){var o,n,c=s.getSelectedRows(),i={};for(n=0;n<c.length;n++)i[o=c[n]]=!0,i[o]!==u[o]&&(s.invalidateRow(o),delete u[o]);for(n in u)s.invalidateRow(n);u=i,s.render(),c.length&&c.length==s.getDataLength()?s.updateColumnHeader(a.columnId,"<input type='checkbox' checked='checked'>",a.toolTip):s.updateColumnHeader(a.columnId,"<input type='checkbox'>",a.toolTip)}function n(e,t){32==e.which&&s.getColumns()[t.cell].id===a.columnId&&(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit()||i(t.row),e.preventDefault(),e.stopImmediatePropagation())}function c(t,o){if(s.getColumns()[o.cell].id===a.columnId&&e(t.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();i(o.row),t.stopPropagation(),t.stopImmediatePropagation()}}function i(t){u[t]?s.setSelectedRows(e.grep(s.getSelectedRows(),function(e){return e!=t})):s.setSelectedRows(s.getSelectedRows().concat(t)),s.setActiveCell(t,function(){if(null===g){g=0;for(var e=s.getColumns(),t=0;t<e.length;t++)e[t].id==a.columnId&&(g=t)}return g}()),s.focus()}function l(t,o){if(o.column.id==a.columnId&&e(t.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();if(e(t.target).is(":checked")){for(var n=[],c=0;c<s.getDataLength();c++)n.push(c);s.setSelectedRows(n)}else s.setSelectedRows([]);t.stopPropagation(),t.stopImmediatePropagation()}}function r(e,t,o,n,c){return c?u[e]?"<input type='checkbox' checked='checked'>":"<input type='checkbox'>":null}var s,d=new Slick.EventHandler,u={},a=e.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},t),g=null;e.extend(this,{init:function(e){s=e,d.subscribe(s.onSelectedRowsChanged,o).subscribe(s.onClick,c).subscribe(s.onHeaderClick,l).subscribe(s.onKeyDown,n)},destroy:function(){d.unsubscribeAll()},deSelectRows:function(t){var o,n=t.length,c=[];for(o=0;o<n;o++)u[t[o]]&&(c[c.length]=t[o]);s.setSelectedRows(e.grep(s.getSelectedRows(),function(e){return c.indexOf(e)<0}))},selectRows:function(e){var t,o=e.length,n=[];for(t=0;t<o;t++)u[e[t]]||(n[n.length]=e[t]);s.setSelectedRows(s.getSelectedRows().concat(n))},getColumnDefinition:function(){return{id:a.columnId,name:"<input type='checkbox'>",toolTip:a.toolTip,field:"sel",width:a.width,resizable:!1,sortable:!1,cssClass:a.cssClass,formatter:r}}})}e.extend(!0,window,{Slick:{CheckboxSelectColumn:t}})}(jQuery);