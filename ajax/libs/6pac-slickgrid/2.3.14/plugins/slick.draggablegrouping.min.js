!function(e){e.extend(!0,window,{Slick:{DraggableGrouping:function(n){var t,i,o,r,a,c,l={};function d(){a.droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",deactivate:function(e,n){a.removeClass("slick-header-column-denied")},drop:function(e,n){s(this,n.draggable)},over:function(e,n){var t=n.draggable.attr("id").replace(i,"");o.forEach(function(e,n,i){e.id==t&&null==e.grouping&&a.addClass("slick-header-column-denied")})}}),a.sortable({items:"div.slick-dropped-grouping",cursor:"default",tolerance:"pointer",helper:"clone",update:function(n,t){for(var i=e(this).sortable("toArray",{attribute:"data-id"}),o=[],r=0,a=i.length;r<a;r++)for(var c=0,l=u.length;c<l;c++)if(u[c].id==i[r]){o.push(u[c]);break}u=o,f()}}),a.html()}var u=[];function s(n,t){var r=t.attr("id").replace(i,""),a=!0;u.forEach(function(e,n,t){e.id==r&&(a=!1)}),a&&o.forEach(function(o,a,c){if(o.id==r&&null!=o.grouping){var l=e("<div id='"+i+o.id+"_entry' data-id='"+o.id+"' class='slick-dropped-grouping'>"),d=e("<span class='slick-groupby-remove'></span>").text(t.text()+" ");d.appendTo(l),e("</div>").appendTo(l),l.appendTo(n),s=o,u.push(s),f(),p(o.id,n,t,l)}var s})}function p(n,t,r,a){var l=a;e("#"+i+n+"_entry").on("click",function(){e(this).off("click"),function(e,n,t){t.remove();var i=[];o.forEach(function(e,n,t){i[e.id]=e}),function(e){for(var n,t,i=arguments,o=i.length;o>1&&e.length;)for(n=i[--o];-1!=(t=e.indexOf(n));)e.splice(t,1)}(u,i[e]),0==u.length&&c.show();f()}(n,0,l)})}function f(){if(0!=u.length){var e=[];u.forEach(function(n,t,i){e.push(n.grouping)}),r.setGrouping(e)}else r.setGrouping([])}e.extend(this,{init:function(u){n=e.extend(!0,{},l,n),i=(t=u).getUID(),o=t.getColumns(),r=t.getData(),(a=e(t.getPreHeaderPanel())).html("<div class='slick-placeholder'>Drop a column header here to group by the column</div>"),c=a.find(".slick-placeholder"),d()},destroy:function(){},clearDroppedGroups:function(){u=[]}})}}})}(jQuery);