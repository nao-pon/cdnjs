!function(g){g.extend(!0,window,{Slick:{CheckboxSelectColumn:function(e){var r,t=new Slick.EventHandler,d={},s=g.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},e);function o(e,t){var o,n,c=u(),l=r.getSelectedRows(),i={};for(n=0;n<l.length;n++)o=l[n],i[o]=!0,i[o]!==d[o]&&(r.invalidateRow(o),delete d[o]);for(n in d)r.invalidateRow(n);d=i,r.render(),l.length&&l.length==r.getDataLength()?r.updateColumnHeader(s.columnId,"<input id='header-selector"+c+"' type='checkbox' checked='checked'><label for='header-selector"+c+"'></label>",s.toolTip):r.updateColumnHeader(s.columnId,"<input id='header-selector"+c+"' type='checkbox'><label for='header-selector"+c+"'></label>",s.toolTip)}function n(e,t){32==e.which&&r.getColumns()[t.cell].id===s.columnId&&(r.getEditorLock().isActive()&&!r.getEditorLock().commitCurrentEdit()||l(t.row),e.preventDefault(),e.stopImmediatePropagation())}function c(e,t){if(r.getColumns()[t.cell].id===s.columnId&&g(e.target).is(":checkbox")){if(r.getEditorLock().isActive()&&!r.getEditorLock().commitCurrentEdit())return e.preventDefault(),void e.stopImmediatePropagation();l(t.row),e.stopPropagation(),e.stopImmediatePropagation()}}function l(t){d[t]?r.setSelectedRows(g.grep(r.getSelectedRows(),function(e){return e!=t})):r.setSelectedRows(r.getSelectedRows().concat(t)),r.setActiveCell(t,function(){if(null===a){a=0;for(var e=r.getColumns(),t=0;t<e.length;t++)e[t].id==s.columnId&&(a=t)}return a}()),r.focus()}function i(e,t){if(t.column.id==s.columnId&&g(e.target).is(":checkbox")){if(r.getEditorLock().isActive()&&!r.getEditorLock().commitCurrentEdit())return e.preventDefault(),void e.stopImmediatePropagation();if(g(e.target).is(":checked")){for(var o=[],n=0;n<r.getDataLength();n++)o.push(n);r.setSelectedRows(o)}else r.setSelectedRows([]);e.stopPropagation(),e.stopImmediatePropagation()}}var a=null;function u(){return Math.round(1e7*Math.random())}function f(e,t,o,n,c){var l=u()+e;return c?d[e]?"<input id='selector"+l+"' type='checkbox' checked='checked'><label for='selector"+l+"'></label>":"<input id='selector"+l+"' type='checkbox'><label for='selector"+l+"'></label>":null}g.extend(this,{init:function(e){r=e,t.subscribe(r.onSelectedRowsChanged,o).subscribe(r.onClick,c).subscribe(r.onHeaderClick,i).subscribe(r.onKeyDown,n)},destroy:function(){t.unsubscribeAll()},deSelectRows:function(e){var t,o=e.length,n=[];for(t=0;t<o;t++)d[e[t]]&&(n[n.length]=e[t]);r.setSelectedRows(g.grep(r.getSelectedRows(),function(e){return n.indexOf(e)<0}))},selectRows:function(e){var t,o=e.length,n=[];for(t=0;t<o;t++)d[e[t]]||(n[n.length]=e[t]);r.setSelectedRows(r.getSelectedRows().concat(n))},getColumnDefinition:function(){var e=u();return{id:s.columnId,name:"<input id='header-selector"+e+"' type='checkbox'><label for='header-selector"+e+"'></label>",toolTip:s.toolTip,field:"sel",width:s.width,resizable:!1,sortable:!1,cssClass:s.cssClass,formatter:f}}})}}})}(jQuery);