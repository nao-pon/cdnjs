!function(t){t.extend(!0,window,{Slick:{Data:{DataView:function(e){function n(t){for(var e,n=t=t||0,r=E.length;n<r;n++){if(void 0===(e=E[n][N]))throw new Error("Each data element must implement a unique 'id' property");G[e]=n}}function r(){var t=W?Math.max(1,Math.ceil(X/W)):1;return{pageSize:W,pageNum:J,totalRows:X,totalPages:t,dataView:A}}function i(t,e){z=e,S=t,x=null,!1===e&&E.reverse(),E.sort(t),!1===e&&E.reverse(),G={},n(),R()}function o(t,e){z=e,x=t,S=null;var r=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===e&&E.reverse(),E.sort(),Object.prototype.toString=r,!1===e&&E.reverse(),G={},n(),R()}function a(n){e.groupItemMetadataProvider||(e.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),L=[],H=[],U=(n=n||[])instanceof Array?n:[n];for(var r=0;r<U.length;r++){var i=U[r]=t.extend(!0,{},K,U[r]);i.getterIsAFn="function"==typeof i.getter,i.compiledAccumulators=[];for(var o=i.aggregators.length;o--;)i.compiledAccumulators[o]=function(t){var e=$(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}(i.aggregators[o]);H[r]={}}R()}function l(){if(!k){k={};for(var t=0,e=T.length;t<e;t++)k[T[t][N]]=t}}function s(t){return E[G[t]]}function u(t,e){if(void 0===G[t]||t!==e[N])throw new Error("Invalid or non-matching id");E[G[t]]=e,D||(D={}),D[t]=!0,R()}function g(t,e){E.splice(t,0,e),n(t),R()}function c(t){if(!S)throw new Error("sortedAddItem() requires a sort comparer, use sort()");g(function(t){for(var e=0,n=E.length;e<n;){var r=e+n>>>1;-1===S(E[r],t)?e=r+1:n=r}return e}(t),t)}function f(t){var e=G[t];if(void 0===e)throw new Error("Invalid id");delete G[t],E.splice(e,1),n(e),R()}function p(t,e){if(null==t)for(var n=0;n<U.length;n++)H[n]={},U[n].collapsed=e;else H[t]={},U[t].collapsed=e;R()}function h(t,e,n){H[t][e]=U[t].collapsed^n,R()}function d(t,e){for(var n,r,i,o=[],a={},l=e?e.level+1:0,s=U[l],u=0,g=s.predefinedValues.length;u<g;u++)(n=a[r=s.predefinedValues[u]])||((n=new Slick.Group).value=r,n.level=l,n.groupingKey=(e?e.groupingKey+Q:"")+r,o[o.length]=n,a[r]=n);for(u=0,g=t.length;u<g;u++)i=t[u],(n=a[r=s.getterIsAFn?s.getter(i):i[s.getter]])||((n=new Slick.Group).value=r,n.level=l,n.groupingKey=(e?e.groupingKey+Q:"")+r,o[o.length]=n,a[r]=n),n.rows[n.count++]=i;if(l<U.length-1)for(u=0;u<o.length;u++)(n=o[u]).groups=d(n.rows,n);return o.sort(U[l].comparer),o}function m(t){var e,n=t.group,r=U[n.level],i=n.level==U.length,o=r.aggregators.length;if(!i&&r.aggregateChildGroups)for(var a=n.groups.length;a--;)n.groups[a].totals.initialized||m(n.groups[a].totals);for(;o--;)(e=r.aggregators[o]).init(),!i&&r.aggregateChildGroups?r.compiledAccumulators[o].call(e,n.groups):r.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function v(t){var e=U[t.level],n=new Slick.GroupTotals;n.group=t,t.totals=n,e.lazyTotalsCalculation||m(n)}function _(t,e){for(var n,r=U[e=e||0],i=r.collapsed,o=H[e],a=t.length;a--;)(n=t[a]).collapsed&&!r.aggregateCollapsed||(n.groups&&_(n.groups,e+1),r.aggregators.length&&(r.aggregateEmpty||n.rows.length||n.groups&&n.groups.length)&&v(n),n.collapsed=i^o[n.groupingKey],n.title=r.formatter?r.formatter(n):n.value)}function w(t,e){for(var n,r,i=U[e=e||0],o=[],a=0,l=0,s=t.length;l<s;l++){if(r=t[l],o[a++]=r,!r.collapsed)for(var u=0,g=(n=r.groups?w(r.groups,e+1):r.rows).length;u<g;u++)o[a++]=n[u];r.totals&&i.displayTotalsRow&&(!r.collapsed||i.aggregateCollapsed)&&(o[a++]=r.totals)}return o}function $(t){var e=t.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:e[1].split(","),body:e[2]}}function y(t,e){for(var n=[],r=0,i=0,o=t.length;i<o;i++)j(t[i],e)&&(n[r++]=t[i]);return n}function C(t,e,n){for(var r,i=[],o=0,a=0,l=t.length;a<l;a++)r=t[a],n[a]?i[o++]=r:j(r,e)&&(i[o++]=r,n[a]=!0);return i}function I(t){k=null,B.isFilterNarrowing==V.isFilterNarrowing&&B.isFilterExpanding==V.isFilterExpanding||(q=[]);var n=function(t){if(j){var n=e.inlineFilters?M:y,r=e.inlineFilters?F:C;B.isFilterNarrowing?O=n(O,b):B.isFilterExpanding?O=r(t,b,q):B.isFilterUnchanged||(O=n(t,b))}else O=W?t:t.concat();var i;return W?(O.length<=J*W&&(J=0===O.length?0:Math.floor((O.length-1)/W)),i=O.slice(W*J,W*J+W)):i=O,{totalRows:O.length,rows:i}}(t);X=n.totalRows;var r=n.rows;L=[],U.length&&(L=d(r)).length&&(_(L),r=w(L));var i=function(t,e){var n,r,i,o=[],a=0,l=e.length;B&&B.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,B.ignoreDiffsBefore))),B&&B.ignoreDiffsAfter&&(l=Math.min(e.length,Math.max(0,B.ignoreDiffsAfter)));for(var s=a,u=t.length;s<l;s++)s>=u?o[o.length]=s:(n=e[s],r=t[s],(U.length&&(i=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||i&&(n.__groupTotals||r.__groupTotals)||n[N]!=r[N]||D&&D[n[N]])&&(o[o.length]=s));return o}(T,r);return T=r,i}function R(){if(!P){var t=T.length,e=X,n=I(E);W&&X<J*W&&(J=Math.max(0,Math.ceil(X/W)-1),n=I(E)),D=null,V=B,B={},e!==X&&tt.notify(r(),null,A),t!==T.length&&Y.notify({previous:t,current:T.length,dataView:A},null,A),n.length>0&&Z.notify({rows:n,dataView:A},null,A)}}var x,S,b,M,F,A=this,N="id",E=[],T=[],G={},k=null,j=null,D=null,P=!1,z=!0,B={},V={},O=[],q=[],K={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},U=[],L=[],H=[],Q=":|:",W=0,J=0,X=0,Y=new Slick.Event,Z=new Slick.Event,tt=new Slick.Event;e=t.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},e),t.extend(this,{beginUpdate:function(){P=!0},endUpdate:function(){P=!1,R()},setPagingOptions:function(t){void 0!=t.pageSize&&(W=t.pageSize,J=W?Math.min(J,Math.max(0,Math.ceil(X/W)-1)):0),void 0!=t.pageNum&&(J=Math.min(t.pageNum,Math.max(0,Math.ceil(X/W)-1))),tt.notify(r(),null,A),R()},getPagingInfo:r,getItems:function(){return E},setItems:function(t,e){void 0!==e&&(N=e),E=O=t,G={},n(),function(){for(var t,e=0,n=E.length;e<n;e++)if(void 0===(t=E[e][N])||G[t]!==e)throw new Error("Each data element must implement a unique 'id' property")}(),R()},setFilter:function(t){j=t,e.inlineFilters&&(M=function(){var t=$(j),e="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args",i);return o.displayName=o.name="compiledFilter",o}(),F=function(){var t=$(j),e="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args,_cache",i);return o.displayName=o.name="compiledFilterWithCaching",o}()),R()},getFilter:function(){return j},getFilteredItems:function(){return O},sort:i,fastSort:o,reSort:function(){S?i(S,z):x&&o(x,z)},setGrouping:a,getGrouping:function(){return U},groupBy:function(t,e,n){a(null!=t?{getter:t,formatter:e,comparer:n}:[])},setAggregators:function(t,e){if(!U.length)throw new Error("At least one grouping must be specified before calling setAggregators().");U[0].aggregators=t,U[0].aggregateCollapsed=e,a(U)},collapseAllGroups:function(t){p(t,!0)},expandAllGroups:function(t){p(t,!1)},collapseGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(Q)?h(n.split(Q).length-1,n,!0):h(e.length-1,e.join(Q),!0)},expandGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(Q)?h(n.split(Q).length-1,n,!1):h(e.length-1,e.join(Q),!1)},getGroups:function(){return L},getIdxById:function(t){return G[t]},getRowByItem:function(t){return l(),k[t[N]]},getRowById:function(t){return l(),k[t]},getItemById:s,getItemByIdx:function(t){return E[t]},mapItemsToRows:function(t){var e=[];l();for(var n=0,r=t.length;n<r;n++){var i=k[t[n][N]];null!=i&&(e[e.length]=i)}return e},mapRowsToIds:function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]<T.length&&(e[e.length]=T[t[n]][N]);return e},mapIdsToRows:function(t){var e=[];l();for(var n=0,r=t.length;n<r;n++){var i=k[t[n]];null!=i&&(e[e.length]=i)}return e},setRefreshHints:function(t){B=t},setFilterArgs:function(t){b=t},refresh:R,updateItem:u,insertItem:g,addItem:function(t){E.push(t),n(E.length-1),R()},sortedAddItem:c,sortedUpdateItem:function(t){if(!S)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var e=s(t.id);0!==S(e,t)?(f(t.id),c(t)):u(t.id,t)},deleteItem:f,syncGridSelection:function(e,n,r){function i(t){s.join(",")!=t.join(",")&&(s=t,u.notify({grid:e,ids:s,dataView:l},new Slick.EventData,l))}function o(){if(s.length>0){a=!0;var t=l.mapIdsToRows(s);n||i(l.mapRowsToIds(t)),e.setSelectedRows(t),a=!1}}var a,l=this,s=l.mapRowsToIds(e.getSelectedRows()),u=new Slick.Event;return e.onSelectedRowsChanged.subscribe(function(n,o){if(!a){var u=l.mapRowsToIds(e.getSelectedRows());r&&e.getOptions().multiSelect?i(t.grep(s,function(t){return void 0===l.getRowById(t)}).concat(u)):i(u)}}),this.onRowsChanged.subscribe(o),this.onRowCountChanged.subscribe(o),u},syncGridCellCssStyles:function(t,e){function n(t){i={};for(var e in t){var n=T[e][N];i[n]=t[e]}}function r(){if(i){o=!0,l();var n={};for(var r in i){var a=k[r];void 0!=a&&(n[a]=i[r])}t.setCellCssStyles(e,n),o=!1}}var i,o;n(t.getCellCssStyles(e)),t.onCellCssStylesChanged.subscribe(function(i,a){o||e==a.key&&(a.hash?n(a.hash):(t.onCellCssStylesChanged.unsubscribe(styleChanged),A.onRowsChanged.unsubscribe(r),A.onRowCountChanged.unsubscribe(r)))}),this.onRowsChanged.subscribe(r),this.onRowCountChanged.subscribe(r)},getLength:function(){return T.length},getItem:function(t){var e=T[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=U[e.level];n.displayTotalsRow||(m(e.totals),e.title=n.formatter?n.formatter(e):e.value)}else e&&e.__groupTotals&&!e.initialized&&m(e);return e},getItemMetadata:function(t){var n=T[t];return void 0===n?null:n.__group?e.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?e.groupItemMetadataProvider.getTotalsRowMetadata(n):null},onRowCountChanged:Y,onRowsChanged:Z,onPagingInfoChanged:tt})},Aggregators:{Avg:function(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}},Max:function(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}},Sum:function(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}}}}})}(jQuery);