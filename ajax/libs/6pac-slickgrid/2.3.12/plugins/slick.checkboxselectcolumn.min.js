!function(e){e.extend(!0,window,{Slick:{CheckboxSelectColumn:function(t){function o(e,t){var o,n,c=r(),l=s.getSelectedRows(),i={};for(n=0;n<l.length;n++)i[o=l[n]]=!0,i[o]!==u[o]&&(s.invalidateRow(o),delete u[o]);for(n in u)s.invalidateRow(n);u=i,s.render(),l.length&&l.length==s.getDataLength()?s.updateColumnHeader(f.columnId,"<input id='header-selector"+c+"' type='checkbox' checked='checked'><label for='header-selector"+c+"'></label>",f.toolTip):s.updateColumnHeader(f.columnId,"<input id='header-selector"+c+"' type='checkbox'><label for='header-selector"+c+"'></label>",f.toolTip)}function n(e,t){32==e.which&&s.getColumns()[t.cell].id===f.columnId&&(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit()||l(t.row),e.preventDefault(),e.stopImmediatePropagation())}function c(t,o){if(s.getColumns()[o.cell].id===f.columnId&&e(t.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();l(o.row),t.stopPropagation(),t.stopImmediatePropagation()}}function l(t){u[t]?s.setSelectedRows(e.grep(s.getSelectedRows(),function(e){return e!=t})):s.setSelectedRows(s.getSelectedRows().concat(t)),s.setActiveCell(t,function(){if(null===g){g=0;for(var e=s.getColumns(),t=0;t<e.length;t++)e[t].id==f.columnId&&(g=t)}return g}()),s.focus()}function i(t,o){if(o.column.id==f.columnId&&e(t.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();if(e(t.target).is(":checked")){for(var n=[],c=0;c<s.getDataLength();c++)n.push(c);s.setSelectedRows(n)}else s.setSelectedRows([]);t.stopPropagation(),t.stopImmediatePropagation()}}function r(){return Math.round(1e7*Math.random())}function d(e,t,o,n,c){var l=r()+e;return c?u[e]?"<input id='selector"+l+"' type='checkbox' checked='checked'><label for='selector"+l+"'></label>":"<input id='selector"+l+"' type='checkbox'><label for='selector"+l+"'></label>":null}var s,a=new Slick.EventHandler,u={},f=e.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},t),g=null;e.extend(this,{init:function(e){s=e,a.subscribe(s.onSelectedRowsChanged,o).subscribe(s.onClick,c).subscribe(s.onHeaderClick,i).subscribe(s.onKeyDown,n)},destroy:function(){a.unsubscribeAll()},deSelectRows:function(t){var o,n=t.length,c=[];for(o=0;o<n;o++)u[t[o]]&&(c[c.length]=t[o]);s.setSelectedRows(e.grep(s.getSelectedRows(),function(e){return c.indexOf(e)<0}))},selectRows:function(e){var t,o=e.length,n=[];for(t=0;t<o;t++)u[e[t]]||(n[n.length]=e[t]);s.setSelectedRows(s.getSelectedRows().concat(n))},getColumnDefinition:function(){var e=r();return{id:f.columnId,name:"<input id='header-selector"+e+"' type='checkbox'><label for='header-selector"+e+"'></label>",toolTip:f.toolTip,field:"sel",width:f.width,resizable:!1,sortable:!1,cssClass:f.cssClass,formatter:d}}})}}})}(jQuery);