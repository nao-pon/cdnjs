{"version":3,"file":"Tween.min.js","sources":["../src/shim.js","../src/dist/core.js","../src/dist/Easing.js","../node_modules/intertween/index.js","../src/dist/NodeCache.js","../src/dist/Event.js","../src/dist/Tween.js","../src/dist/PlaybackPosition.js","../src/dist/Timeline.js"],"sourcesContent":["/* global global */\r\nexport let create = Object.create || function (source) {\r\n  return Object.assign({}, source || {})\r\n}\r\nexport let assign = Object.assign || function (source, ...args) {\r\n  for (let i = 0, len = args.length; i < len; i++) {\r\n    let arg = args[i]\r\n    for (let p in arg) {\r\n      source[p] = arg[p]\r\n    }\r\n  }\r\n  return source\r\n}\r\n\r\nif (!Array.isArray) {\r\n  Array.isArray = source => source && source.push && source.splice\r\n}\r\nexport let root = typeof (window) !== 'undefined' ? window : typeof (global) !== 'undefined' ? global : this\r\nexport let requestAnimationFrame = root.requestAnimationFrame || function (fn) { return root.setTimeout(fn, 16) }\r\nexport let cancelAnimationFrame = root.cancelAnimationFrame || function (id) { return root.clearTimeout(id) }\r\n","/* global process */\nimport { root, requestAnimationFrame, cancelAnimationFrame } from '../shim'\n\nlet _tweens = []\nlet isStarted = false\nlet _autoPlay = false\nlet _tick\nconst _ticker = requestAnimationFrame\nconst _stopTicker = cancelAnimationFrame\n\nconst add = tween => {\n  _tweens.push(tween)\n\n  if (_autoPlay && !isStarted) {\n    _tick = _ticker(update)\n    isStarted = true\n  }\n}\n\nconst getAll = () => _tweens\n\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\nconst removeAll = () => {\n  _tweens.length = 0\n}\n\nconst get = tween => {\n  for (let i = 0; i < _tweens.length; i++) {\n    if (tween === _tweens[i]) {\n      return _tweens[i]\n    }\n  }\n\n  return null\n}\n\nconst has = tween => {\n  return get(tween) !== null\n}\n\nconst remove = tween => {\n  let i = _tweens.indexOf(tween)\n  if (i !== -1) {\n    _tweens.splice(i, 1)\n  }\n}\n\nlet now = (function () {\n  if (typeof (process) !== 'undefined' && process.hrtime !== undefined) {\n    return function () {\n      let time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n  // In a browser, use window.performance.now if it is available.\n  } else if (root.performance !== undefined &&\n   root.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n  // Use Date.now if it is available.\n  } else {\n    let offset = root.performance && root.performance.timing && root.performance.timing.navigationStart ? root.performance.timing.navigationStart : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n}())\n\nconst update = (time, preserve) => {\n  time = time !== undefined ? time : now()\n\n  _tick = _ticker(update)\n\n  if (_tweens.length === 0) {\n    _stopTicker(_tick)\n    isStarted = false\n    return false\n  }\n\n  let i = 0\n  while (i < _tweens.length) {\n    _tweens[i].update(time, preserve)\n    i++\n  }\n\n  return true\n}\n\nconst isRunning = () => isStarted\n\nconst Plugins = {}\n\n// Normalise time when visiblity is changed (if available) ...\nif (root.document && root.document.addEventListener) {\n  let doc = root.document\n  let timeDiff = 0\n  let timePause = 0\n  doc.addEventListener('visibilitychange', () => {\n    if (document.hidden) {\n      timePause = now()\n      _stopTicker(_tick)\n      isStarted = false\n    } else {\n      timeDiff = now() - timePause\n\n      for (let i = 0, length = _tweens.length; i < length; i++) {\n        _tweens[i]._startTime += timeDiff\n      }\n      _tick = _ticker(update)\n      isStarted = true\n    }\n\n    return true\n  })\n}\n\nexport { Plugins, get, has, getAll, removeAll, remove, add, now, update, autoPlay, isRunning }\n","const Easing = {\n\n  Linear: {\n\n    None (k) {\n      return k\n    }\n\n  },\n\n  Quadratic: {\n\n    In (k) {\n      return k * k\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n\n  },\n\n  Cubic: {\n\n    In (k) {\n      return k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n\n  },\n\n  Quartic: {\n\n    In (k) {\n      return k * k * k * k\n    },\n\n    Out (k) {\n      return 1 - (--k * k * k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n\n  },\n\n  Quintic: {\n\n    In (k) {\n      return k * k * k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n\n  },\n\n  Sinusoidal: {\n\n    In (k) {\n      return 1 - Math.cos(k * Math.PI / 2)\n    },\n\n    Out (k) {\n      return Math.sin(k * Math.PI / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n\n  },\n\n  Exponential: {\n\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n\n  },\n\n  Circular: {\n\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - (--k * k))\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n\n  },\n\n  Elastic: {\n\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n      }\n\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n    }\n\n  },\n\n  Back: {\n\n    In (k) {\n      let s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      let s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      let s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n\n  },\n\n  Bounce: {\n\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k\n      } else if (k < (2 / 2.75)) {\n        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75\n      } else if (k < (2.5 / 2.75)) {\n        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375\n      } else {\n        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n\n  }\n\n}\n\nexport default Easing\n","/**\r\n * @name InterTween\r\n * @description The lightweight, fastest, smartest, effecient value interpolator with no-dependecy, zero-configuration and relative interpolation\r\n * @author dalisoft (https://github.com/dalisoft)\r\n * @license MIT-License\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([], factory);\r\n    } else if (typeof module !== 'undefined' && module.exports) {\r\n        module.exports = factory();\r\n    } else {\r\n        root.InterTween = factory();\r\n    }\r\n}\r\n    (typeof(window) !== 'undefined' ? window : this, function () {\r\n\r\n        // RegExp variables\r\n        var colorMatch = /rgb/g;\r\n        var isIncrementReqForColor = /argb/g;\r\n        // This RegExp (numRegExp) is original from @jkroso string tweening and optimized by @dalisoft\r\n        var numRegExp =\r\n                /\\s+|([A-Za-z?().,{}:\"\"[\\]#\\%]+)|([-+/*%]+=)?([-+*/%]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\r\n        var hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i;\r\n        var trimRegExp = /\\n|\\r|\\t/g;\r\n\t\tvar colorSpaceExp = /, | ,| , /g;\r\n        var rgbMax = 255;\r\n\r\n        // Helpers\r\n        function s2f(val) {\r\n            var floatedVal = parseFloat(val);\r\n            return typeof floatedVal === \"number\" && !isNaN(floatedVal) ? floatedVal : val;\r\n        }\r\n        var isArray = Array.isArray;\r\n\r\n        function h2r_f(all, hex) {\r\n            var r;\r\n            var g;\r\n            var b;\r\n            if (hex.length === 3) {\r\n                r = hex[0];\r\n                g = hex[1];\r\n                b = hex[2];\r\n                hex = r + r + g + g + b + b;\r\n            }\r\n            var color = parseInt(hex, 16);\r\n            r = color >> 16 & rgbMax;\r\n            g = color >> 8 & rgbMax;\r\n            b = color & rgbMax;\r\n            return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n        };\r\n\r\n        function trim(str) {\r\n            return typeof str === \"string\" ? str.replace(trimRegExp, \"\").replace(colorSpaceExp, ',') : str;\r\n        };\r\n        var relativeModes = {\r\n            '+=': 1,\r\n            '-=': 1,\r\n            '*=': 2,\r\n            '/=': 3,\r\n            '%=': 4\r\n        };\r\n\r\n        function r2n(s, e) {\r\n            if (typeof e === 'number') {\r\n                return e;\r\n            } else {\r\n                var rv = relativeModes[e.substr(0, 2)],\r\n                v = e.substr(2);\r\n                if (rv === 1) {\r\n                    var e2 = e[0] + v;\r\n                    return s + parseFloat(e2);\r\n                } else if (rv === 2) {\r\n                    return s * +v;\r\n                } else if (rv === 3) {\r\n                    return s / +v;\r\n                } else if (rv === 4) {\r\n                    return s * (+v / 100);\r\n                }\r\n            }\r\n            return e;\r\n        }\r\n\r\n        var h2r = function (hex) {\r\n            return typeof hex !== 'string' ? hex : trim(hex)\r\n            .replace(hexColor, h2r_f);\r\n        }\r\n\r\n        function s2n(str) {\r\n\t\t\tvar hr = h2r(str);\r\n            return typeof hr === 'string' ? hr.match(numRegExp).map(s2f) : str;\r\n        }\r\n\r\n        // Splitted functions\r\n        function stringTween(s, e, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            if (!numRegExp.test(e))\r\n                return e;\r\n            var sv = s2n(s);\r\n            var ev = s2n(e);\r\n            var uv = unitTween(sv, ev, d);\r\n            if (uv) {\r\n                return uv;\r\n            }\r\n            uv = null;\r\n            var cm = null;\r\n            var cmls = null;\r\n            var rv = [];\r\n\t\t\tvar i = 0;\r\n\t\t\tvar len = ev.length;\r\n            for (; i < len; i++) {\r\n                var ve = ev[i],\r\n                vs = sv[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? e : null;\r\n                if (isIncrementReqForColor.test(ve)) {\r\n                    cm = i + 2;\r\n                    cmls = i + 11;\r\n                } else if (colorMatch.test(ve)) {\r\n                    cm = i;\r\n                    cmls = i + 9;\r\n                }\r\n                ev[i] = vs === ve ? null : rv[i] !== null ? r2n(vs, ve) : ve;\r\n            }\r\n            return function (t) {\r\n                var str = '';\r\n\t\t\t\ti = 0;\r\n                for (; i < len; i++) {\r\n                    var a = sv[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    str += typeof b === 'number' ? cm !== null && i > cm &&\r\n                    i < cmls ? (a + ( b - a ) * t) | 0 : (((a + ( b - a ) * t) * d) |\r\n                        0) / d : a;\r\n                    if (t === 1 && r !== null) {\r\n                        sv[i] = b;\r\n                        ev[i] = r2n(b, r);\r\n                    }\r\n                }\r\n                return str;\r\n            }\r\n        }\r\n\r\n        function tweenThemTo(sv, ev) {\r\n            var vs = [];\r\n            for (var i = 0, len = sv.length; i < len; i++) {\r\n                var s = sv[i];\r\n                vs[i] = isArray(s) ? arrayTween(s, ev) : typeof s === 'object' ? objectTween(s, ev) : typeof s === 'string' ? stringTween(s, ev) : s;\r\n            }\r\n            return function (t) {\r\n                for (var i = 0, len = vs.length; i < len; i++) {\r\n                    sv[i] = typeof vs[i] === 'function' ? vs[i](t) : typeof vs[i] === 'number' ? vs[i] + (ev - vs[i]) * t : vs[i];\r\n                }\r\n                return sv;\r\n            }\r\n        };\r\n\r\n        function parseInterpolatables(sv, ev) {\r\n            var vs = [];\r\n            for (var i = 0, len = ev.length; i < len; i++) {\r\n                var e = ev[i];\r\n                vs[i] = mainTween(i === 0 ? sv : ev[i - 1], e);\r\n            }\r\n\t\t\tvar lastItem = ev[ev.length - 1];\r\n\t\t\tvs.push(mainTween(lastItem, lastItem));\r\n\t\t\tvar endLength = vs.length - 1;\r\n            return function (t) {\r\n\t\t\t\tvar totalTime = t * endLength;\r\n\t\t\t\tvar roundedTime = Math.floor(totalTime);\r\n\t\t\t\tvar elapsed = totalTime - roundedTime;\r\n\r\n\t\t\t\tvar item = vs[roundedTime];\r\n\t\t\t\tvar interpolated = item(elapsed);\r\n\t\t\t\treturn interpolated;\r\n\t\t\t};\r\n        }\r\n\r\n        function arrayTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            var s = sv.slice();\r\n            var rv = [];\r\n\t\t\tvar minLength = Math.min(sv.length, ev.length);\r\n            for (var i = 0; i < minLength; i++) {\r\n                var vs = s[i],\r\n                ve = ev[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? ve : null;\r\n                s[i] = ve.nodeType || ve.update ? ve.update : vs === ve ? null : isArray(ve) ?\r\n                    isArray(vs) && ve.length === vs.length ? arrayTween(vs, ve, d) : parseInterpolatables(vs, ve) : isArray(vs) ? tweenThemTo(vs, ve) : typeof vs === 'object' ?\r\n                    objectTween(vs, ve, d) : typeof vs === 'string' ?\r\n                    stringTween(vs, ve, d) : vs !== undefined ? vs : ve;\r\n\t\t\t\tev[i] = rv[i] !== null ? r2n(\r\n                        vs, ve) : ve;\r\n            }\r\n            return function (t) {\r\n                for (var i = 0; i < minLength; i++) {\r\n                    var a = s[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    if (a === null || a === undefined)\r\n                        continue;\r\n                    sv[i] = typeof a === 'number' ? (((a + (b - a) * t) * d) | 0) /\r\n                        d : typeof a === 'function' ? a(t) : a.update ? a.update(t) : b && b.update ? b.update(t) : b;\r\n                    if (r && t === 1) {\r\n                        s[i] = b;\r\n                        ev[i] = r2n(s[i], r);\r\n                    }\r\n                }\r\n                return sv;\r\n            }\r\n        }\r\n\r\n        var units = [\"px\", \"pt\", \"pc\", \"deg\", \"rad\", \"turn\", \"em\", \"ex\", \"cm\", \"mm\", \"dm\", \"inch\", \"in\", \"rem\", \"vw\", \"vh\", \"vmin\", \"vmax\", \"%\"];\r\n        function unitTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            if (ev.length === 2 && sv.length === 2) {\r\n                var unidx = units.indexOf(ev[1]);\r\n                if (unidx !== -1) {\r\n                    var s = +sv[0],\r\n                    e = +ev[0],\r\n                    u = ev[1],\r\n\t\t\t\t\tr = typeof ev[0] === 'string' && ev[0].indexOf('=') === 1 ? ev[0] : null;\r\n\t\t\t\t\tif (r) {\r\n\t\t\t\t\t\te = r2n(s, e);\r\n\t\t\t\t\t}\r\n                    return s === e && ev[0] === u ? ev : function (t) {\r\n                        var v = ((((s + (e - s) * t) * d) | 0) / d) + u;\r\n\t\t\t\t\t\tif (r && t === 1) {\r\n\t\t\t\t\t\t\ts = e;\r\n\t\t\t\t\t\t\te = r2n(s, r);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn v;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function objectTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            var rv = {};\r\n            var s = {};\r\n            for (var i in ev) {\r\n                s[i] = sv && sv[i];\r\n                var vs = s[i],\r\n                ve = ev[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? ve : null;\r\n\t\t\t\tif (sv[i] === undefined) continue;\r\n                s[i] = ve.nodeType ? ve : ve.update ? ve : vs === ve ? null : isArray(ve) ?\r\n                    isArray(vs) && ve.length === vs.length ? arrayTween(vs, ve, d) : parseInterpolatables(vs, ve) : isArray(vs) ? tweenThemTo(vs, ve) : typeof vs === 'object' ?\r\n                    objectTween(vs, ve, d) : typeof vs === 'string' ?\r\n                    stringTween(vs, ve, d) : vs !== undefined ? vs : ve;\r\n\t\t\t\tev[i] = rv[i] !== null ? r2n(vs, ve) : ve;\r\n            }\r\n            return function (t) {\r\n                for (var i in ev) {\r\n                    var a = s[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    if (a === null || a === undefined)\r\n                        continue;\r\n                    sv[i] = typeof a === 'number' ? (((a + (b - a) * t) * d) | 0) /\r\n                        d : typeof a === 'function' ? a(t) : a.update ? a.update(t) : b.update ? b.update(t) : b;\r\n                    if (r && t === 1) {\r\n                        s[i] = b;\r\n                        ev[i] = r2n(s[i], r);\r\n                    }\r\n                }\r\n                return sv;\r\n            }\r\n        }\r\n\r\n        function mainTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n\t\t\tvar rv = typeof(ev) === 'string' && typeof sv === 'number' && ev.indexOf('=') === 1 ? ev : null;\r\n\t\t\tif (rv) {\r\n\t\t\t\tev = r2n(sv, rv);\r\n\t\t\t}\r\n            return ev.nodeType ? ev : sv.nodeType ? sv : isArray(ev) ? isArray(sv) && sv.length === ev.length ? arrayTween(sv, ev, d) : parseInterpolatables(sv, ev) : isArray(sv) ? tweenThemTo(sv, ev) : typeof ev === 'object' ?\r\n            objectTween(sv, ev, d) : typeof ev === 'string' ? stringTween(sv, ev, d) :\r\n            typeof ev === 'function' ? ev : function (t) {\r\n\t\t\t\tvar vv = typeof ev === 'number' ? (((sv + (ev - sv) * t) *\r\n                        d) | 0) / d : sv\r\n\t\t\t\tif (rv && t === 1) {\r\n\t\t\t\t\tsv += ev;\r\n\t\t\t\t\tev = r2n(sv, rv);\r\n\t\t\t\t}\r\n                return vv;\r\n            }\r\n        }\r\n\r\n        return mainTween;\r\n\r\n    }));\r\n","import { assign } from '../shim'\r\n\r\nlet Store = {}\r\nexport default function (node, tween) {\r\n  if (!node || !node.nodeType || !tween) return tween\r\n  var ID = node.queueID || 'queue_' + Math.round(Math.random() * 1000 + Date.now())\r\n  if (!node.queueID) {\r\n    node.queueID = ID\r\n  }\r\n  if (Store[ID]) {\r\n    if (tween) {\r\n      Store[ID] = assign(Store[ID], tween)\r\n    }\r\n    return Store[ID]\r\n  }\r\n\r\n  Store[ID] = tween\r\n  return Store[ID]\r\n};\r\n","export default class EventClass {\r\n  constructor () {\r\n    this._events = {}\r\n  }\r\n\r\n  on (event, callback) {\r\n    if (!this._events[event]) {\r\n      this._events[event] = []\r\n    }\r\n\r\n    this._events[event].push(callback)\r\n    return this\r\n  }\r\n\r\n  once (event, callback) {\r\n    if (!this._events[event]) {\r\n      this._events[event] = []\r\n    }\r\n\r\n    let {_events} = this\r\n    let spliceIndex = _events[event].length\r\n    this._events[event].push((...args) => {\r\n      callback.apply(this, args)\r\n      _events[event].splice(spliceIndex, 1)\r\n    })\r\n    return this\r\n  }\r\n\r\n  off (event, callback) {\r\n    let {_events} = this\r\n\r\n    if (event === undefined || !_events[event]) {\r\n      return this\r\n    }\r\n\r\n    if (callback) {\r\n      this._events[event] = this._events[event].filter(cb => cb !== callback)\r\n    } else {\r\n      this._events[event].length = 0\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  emit (event, arg1, arg2, arg3, arg4) {\r\n    let {_events} = this\r\n\r\n    let _event = _events[event]\r\n\r\n    if (!_event || !_event.length) {\r\n      return this\r\n    }\r\n\r\n    let i = 0\r\n    const len = _event.length\r\n    for (; i < len; i++) {\n      _event[i](arg1, arg2, arg3, arg4)\n    }\r\n  }\r\n}\r\n","import {\n  add,\n  remove,\n  now,\n  Plugins\n}\n  from './core'\nimport Easing from './Easing'\nimport InterTween from 'intertween'\nimport NodeCache from './NodeCache'\nimport EventClass from './Event'\nimport { create } from '../shim'\n\nObject.create = create\n\n// Events list\nexport const EVENT_UPDATE = 'update'\nexport const EVENT_COMPLETE = 'complete'\nexport const EVENT_START = 'start'\nexport const EVENT_REPEAT = 'repeat'\nexport const EVENT_REVERSE = 'reverse'\nexport const EVENT_PAUSE = 'pause'\nexport const EVENT_PLAY = 'play'\nexport const EVENT_RS = 'restart'\nexport const EVENT_STOP = 'stop'\nexport const EVENT_SEEK = 'seek'\n\nlet _id = 0 // Unique ID\nconst defaultEasing = Easing.Linear.None\n\nclass Tween extends EventClass {\n  static fromTo (node, object, to, params = {}) {\n    params.quickRender = params.quickRender ? params.quickRender : !to\n    let tween = new Tween(node, object).to(to, params)\n    if (params.quickRender) {\n      tween.render().update(tween._startTime)\n      tween._rendered = false\n      tween._onStartCallbackFired = false\n    }\n    return tween\n  }\n  static to (node, to, params) {\n    return Tween.fromTo(node, null, to, params)\n  }\n  static from (node, from, params) {\n    return Tween.fromTo(node, from, null, params)\n  }\n  constructor (node, object) {\n    super()\n\n    this.id = _id++\n    if (typeof node !== 'undefined' && !object && !node.nodeType) {\n      object = this.object = node\n      node = null\n    } else if (typeof node !== 'undefined') {\n      this.node = node\n      if (typeof object === 'object') {\n        object = this.object = NodeCache(node, object)\n      } else {\n        this.object = object\n      }\n    }\n    let isArr = this.isArr = Array.isArray(object)\n    this._valuesStart = isArr ? [] : {}\n    this._valuesEnd = null\n    this._valuesFunc = {}\n\n    this._duration = 1000\n    this._easingFunction = defaultEasing\n\n    this._startTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this._isFinite = true\n    this._elapsed = 0\n\n    return this\n  }\n\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  reverse () {\n    const {\n      _reversed\n    } = this\n\n    this._reversed = !_reversed\n\n    return this\n  }\n\n  reversed () {\n    return this._reversed\n  }\n\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  restart (noDelay) {\n    this._repeat = this._r\n    this._startTime = now() + (noDelay ? 0 : this._delayTime)\n\n    if (!this._isPlaying) {\n      add(this)\n    }\n\n    return this.emit(EVENT_RS, this._object)\n  }\n\n  seek (time, keepPlaying) {\n    this._startTime = now() + Math.max(0, Math.min(\n      time, this._duration))\n\n    this.emit(EVENT_SEEK, time, this._object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  duration (amount) {\n    this._duration = typeof (amount) === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  to (properties, duration = 1000) {\n    this._valuesEnd = properties\n\n    if (typeof duration === 'number' || typeof (duration) === 'function') {\n      this._duration = typeof (duration) === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (let prop in duration) {\n        if (typeof this[prop] === 'function') {\n          let [arg1, arg2, arg3, arg4] = Array.isArray(duration[prop]) ? duration[prop] : [duration[prop]]\n          this[prop](arg1, arg2, arg3, arg4)\n        }\n      }\n    }\n\n    return this\n  }\n\n  render () {\n    if (this._rendered) {\n      return this\n    }\n\n    let {\n      _valuesEnd,\n      _valuesFunc,\n      _valuesStart,\n      object,\n      Renderer,\n      node,\n      InitialValues\n    } = this\n\n    if (node && InitialValues) {\n      if (!object) {\n        object = this.object = NodeCache(node, InitialValues(node, _valuesEnd))\n      } else if (!_valuesEnd) {\n        _valuesEnd = this._valuesEnd = InitialValues(node, object)\n      }\n    }\n\n    for (let property in _valuesEnd) {\n      let start = object[property]\n      let end = _valuesEnd[property]\n\n      if (Plugins[property]) {\n        let plugin = Plugins[property].prototype.update ? new Plugins[property](this, start, end, property, object) : Plugins[property](this, start, end, property, object)\n        if (plugin) {\n          _valuesFunc[property] = plugin\n        }\n        continue\n      }\n\n      if (!object || object[property] === undefined) {\n        continue\n      }\n\n      if (typeof end === 'number' && typeof start === 'number') {\n        _valuesStart[property] = start\n        _valuesEnd[property] = end\n      } else {\n        _valuesFunc[property] = InterTween(start, end)\n      }\n    }\n\n    if (Renderer && this.node) {\n      this.__render = new Renderer(this, object, _valuesEnd)\n    }\n\n    return this\n  }\n\n  start (time) {\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += this._delayTime\n\n    add(this)\n\n    this._isPlaying = true\n\n    return this\n  }\n\n  stop () {\n    let {\n      _isPlaying,\n      object,\n      _startTime,\n      _duration\n    } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    this.update(_startTime + _duration)\n\n    remove(this)\n    this._isPlaying = false\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  delay (amount) {\n    this._delayTime = typeof (amount) === 'function' ? amount(this._delayTime) : amount\n    this._startTime += this._delayTime\n\n    return this\n  }\n\n  repeat (amount) {\n    this._repeat = typeof (amount) === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n    this._isFinite = isFinite(amount)\n\n    return this\n  }\n\n  repeatDelay (amount) {\n    this._repeatDelayTime = typeof (amount) === 'function' ? amount(this._repeatDelayTime) : amount\n\n    return this\n  }\n\n  reverseDelay (amount) {\n    this._reverseDelayTime = typeof (amount) === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  yoyo (state) {\n    this._yoyo = typeof (state) === 'function' ? state(this._yoyo) : state\n\n    return this\n  }\n\n  easing (fn) {\n    this._easingFunction = fn\n\n    return this\n  }\n\n  reassignValues () {\n    const {\n      _valuesStart,\n      _valuesEnd,\n      object,\n      isArr\n    } = this\n\n    for (let property in _valuesEnd) {\n      if (isArr) {\n        property *= 1\n      }\n\n      let start = _valuesStart[property]\n      let end = _valuesEnd[property]\n\n      object[property] = typeof end === 'function' ? end(0) : start\n    }\n\n    return this\n  }\n\n  get (time) {\n    this.update(time)\n    return this.object\n  }\n\n  update (time, preserve) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _repeat,\n      _repeatDelayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      _valuesFunc,\n      object,\n      _isFinite,\n      _isPlaying,\n      __render\n    } = this\n\n    let elapsed\n    let value\n    let property\n\n    time = time !== undefined ? time : now()\n\n    if (!_isPlaying || time < _startTime) {\n      return true\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n        this._rendered = true\n      }\n\n      this.emit(EVENT_START, object)\n\n      this._onStartCallbackFired = true\n    }\n\n    elapsed = (time - _startTime) / _duration\n    elapsed = elapsed > 1 ? 1 : elapsed\n    elapsed = _reversed ? 1 - elapsed : elapsed\n\n    if (!object) {\n      return true\n    }\n\n    for (property in _valuesEnd) {\n      value = _easingFunction[property] ? _easingFunction[property](elapsed) : typeof _easingFunction === 'function' ? _easingFunction(elapsed) : defaultEasing(elapsed)\n\n      let start = _valuesStart[property]\n      let end = _valuesEnd[property]\n      let fnc = _valuesFunc[property]\n\n      if (fnc && fnc.update) {\n        fnc.update(value, elapsed)\n      } else if (fnc) {\n        object[property] = fnc(value)\n      } else if (typeof end === 'number') {\n        object[property] = start + (end - start) * value\n      } else {\n        object[property] = end\n      }\n    }\n\n    if (__render) {\n      __render.update(object, elapsed)\n    }\n\n    this.emit(EVENT_UPDATE, object, elapsed)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        }\n\n        this.emit(_yoyo && !_reversed ? EVENT_REVERSE : EVENT_REPEAT, object)\n\n        if (!_reversed && _repeatDelayTime) {\n          this._startTime = time + _repeatDelayTime\n        } else if (_reversed && _reverseDelayTime) {\n          this._startTime = time + _reverseDelayTime\n        } else {\n          this._startTime = time\n        }\n\n        return true\n      } else {\n        if (!preserve) {\n          remove(this)\n        }\n        this._isPlaying = false\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n        _id--\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","export default class PlaybackPosition {\r\n  constructor () {\r\n    this.totalTime = 0\r\n    this.labels = []\r\n    this.offsets = []\r\n  }\r\n  parseLabel (name, offset) {\r\n    const { offsets, labels } = this\r\n    let i = labels.indexOf(name)\r\n    if (typeof name === 'string' && name.indexOf('=') !== -1 && !offset && i === -1) {\r\n      const rty = name.substr(name.indexOf('=') - 1, 2)\r\n      let rt = name.split(rty)\r\n      offset = rt.length === 2 ? rty + rt[1] : null\r\n      name = rt[0]\r\n      i = labels.indexOf(name)\r\n    }\r\n    if (i !== -1 && name) {\r\n      let currOffset = offsets[i] || 0\r\n      if (typeof offset === 'number') {\r\n        currOffset = offset\r\n      } else if (typeof offset === 'string') {\r\n        if (offset.indexOf('=') !== -1) {\r\n          const type = offset.charAt(0)\r\n          offset = Number(offset.substr(2))\r\n          if (type === '+' || type === '-') {\r\n            currOffset += parseFloat(type + offset)\r\n          } else if (type === '*') {\r\n            currOffset *= offset\r\n          } else if (type === '/') {\r\n            currOffset /= offset\r\n          } else if (type === '%') {\r\n            currOffset *= offset / 100\r\n          }\r\n        }\r\n      }\r\n      return currOffset\r\n    }\r\n    return typeof offset === 'number' ? offset : 0\r\n  }\r\n  addLabel (name, offset) {\r\n    this.labels.push(name)\r\n    this.offsets.push(this.parseLabel(name, offset))\r\n    return this\r\n  }\r\n  setLabel (name, offset) {\r\n    const i = this.labels.indexOf(name)\r\n    if (i !== -1) {\r\n      this.offsets.splice(i, 1, this.parseLabel(name, offset))\r\n    }\r\n    return this\r\n  }\r\n  eraseLabel (name) {\r\n    const i = this.labels.indexOf(name)\r\n    if (i !== -1) {\r\n      this.labels.splice(i, 1)\r\n      this.offsets.splice(i, 1)\r\n    }\r\n    return this\r\n  }\r\n}\n","import Tween, { EVENT_UPDATE, EVENT_RS, EVENT_REPEAT, EVENT_REVERSE, EVENT_COMPLETE } from './Tween'\r\nimport { add, now, remove } from './core'\r\nimport PlaybackPosition from './PlaybackPosition'\r\n\r\nlet _id = 0\r\nclass Timeline extends Tween {\r\n  constructor (params) {\r\n    super()\r\n    this._totalDuration = 0\r\n    this._startTime = now()\r\n    this._tweens = []\r\n    this._elapsed = 0\r\n    this._id = _id++\r\n    this._defaultParams = params\r\n    this.position = new PlaybackPosition()\r\n    this.position.addLabel('afterLast', this._totalDuration)\r\n    this.position.addLabel('afterInit', this._startTime)\r\n\r\n    return this\r\n  }\r\n\r\n  fromTo (nodes, from, to, params) {\r\n    if (Array.isArray(nodes)) {\r\n      if (this._defaultParams) {\r\n        params = Object.assign(this._defaultParams, params)\r\n      }\r\n      const position = params.label\r\n      const offset = typeof position === 'number' ? position : this.position.parseLabel(typeof position !== 'undefined' ? position : 'afterLast', null)\r\n      nodes.map((node, i) => {\r\n        this.add(Tween.fromTo(node, typeof from === 'function' ? from(i, nodes.length) : from, typeof to === 'function' ? to(i, nodes.length) : to, typeof params === 'function' ? params(i, nodes.length) : params), offset + (params.stagger || 0) * i)\r\n      })\r\n    }\r\n    return this.start()\r\n  }\r\n\r\n  from (nodes, from, params) {\r\n    return this.fromTo(nodes, from, null, params)\r\n  }\r\n\r\n  to (nodes, to, params) {\r\n    return this.fromTo(nodes, null, to, params)\r\n  }\r\n\r\n  addLabel (name, offset) {\r\n    this.position.addLabel(name, offset)\r\n    return this\r\n  }\r\n\r\n  map (fn) {\r\n    for (let i = 0, len = this._tweens.length; i < len; i++) {\r\n      let _tween = this._tweens[i]\r\n      fn(_tween, i)\r\n      this._totalDuration = Math.max(this._totalDuration, _tween._duration + _tween._startTime)\r\n    }\r\n    return this\r\n  }\r\n\r\n  add (tween, position) {\n    if (Array.isArray(tween)) {\r\n      tween.map(_tween => {\r\n        this.add(_tween, position)\r\n      })\r\n      return this\r\n    } else if (typeof tween === 'object' && !(tween instanceof Tween)) {\n      tween = new Tween(tween.from).to(tween.to, tween)\n    }\r\n\r\n    let {\r\n      _defaultParams,\r\n      _totalDuration\r\n    } = this\r\n\r\n    if (_defaultParams) {\r\n      for (let method in _defaultParams) {\r\n        if (typeof tween[method] === 'function') {\r\n          tween[method](_defaultParams[method])\r\n        }\r\n      }\r\n    }\r\n\r\n    const offset = typeof position === 'number' ? position : this.position.parseLabel(typeof position !== 'undefined' ? position : 'afterLast', null)\r\n    tween._startTime = Math.max(this._startTime, tween._delayTime)\r\n    tween._startTime += offset\r\n    tween._isPlaying = true\r\n    this._totalDuration = Math.max(_totalDuration, tween._startTime + tween._delayTime + tween._duration)\r\n    this._tweens.push(tween)\r\n    this.position.setLabel('afterLast', this._totalDuration)\r\n    return this\r\n  }\r\n\r\n  restart () {\r\n    this._startTime += now()\r\n\r\n    add(this)\r\n\r\n    return this.emit(EVENT_RS)\r\n  }\r\n\r\n  easing (easing) {\r\n    return this.map(tween => tween.easing(easing))\r\n  }\r\n\r\n  interpolation (interpolation) {\r\n    return this.map(tween => tween.interpolation(interpolation))\r\n  }\r\n\r\n  update (time) {\r\n    let {\r\n      _tweens,\r\n      _totalDuration,\r\n      _repeatDelayTime,\r\n      _reverseDelayTime,\r\n      _startTime,\r\n      _reversed,\r\n      _yoyo,\r\n      _repeat,\r\n      _isFinite,\r\n      _elapsed,\r\n      _isPlaying\r\n    } = this\r\n\r\n    if (!_isPlaying || time < _startTime) {\n      return true\n    }\r\n\r\n    let elapsed = (time - _startTime) / _totalDuration\r\n    elapsed = elapsed > 1 ? 1 : elapsed\r\n    elapsed = _reversed ? 1 - elapsed : elapsed\r\n    elapsed = ((elapsed * 1000) | 0) / 1000\r\n    if (elapsed === _elapsed) {\r\n      return true\r\n    }\r\n    this._elapsed = elapsed\r\n\r\n    let timing = time - _startTime\r\n    let _timing = _reversed ? _totalDuration - timing : timing\r\n\r\n    let i = 0\r\n    while (i < _tweens.length) {\r\n      _tweens[i].update(_timing)\r\n      i++\r\n    }\r\n\r\n    this.emit(EVENT_UPDATE, elapsed, timing)\r\n\r\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\r\n          this._repeat--\r\n        }\r\n\r\n        this.emit(_reversed ? EVENT_REVERSE : EVENT_REPEAT)\r\n\r\n        if (_yoyo) {\r\n          this._reversed = !_reversed\r\n        }\r\n\r\n        if (!_reversed && _repeatDelayTime) {\r\n          this._startTime = time + _repeatDelayTime\r\n        } else if (_reversed && _reverseDelayTime) {\r\n          this._startTime = time + _reverseDelayTime\r\n        } else {\r\n          this._startTime = time\r\n        }\r\n\r\n        while (i < _tweens.length) {\r\n          _tweens[i].reassignValues()\r\n          i++\r\n        }\r\n\r\n        return true\n      } else {\n        this.emit(EVENT_COMPLETE)\r\n        this._repeat = this._r\r\n\r\n        remove(this)\r\n        this._isPlaying = false\r\n\r\n        return false\n      }\n    }\r\n\r\n    return true\n  }\r\n\r\n  elapsed (value) {\r\n    return value !== undefined ? this.update(value * this._totalDuration) : this._elapsed\r\n  }\r\n\r\n  seek (value) {\r\n    return this.update(value < 1.1 ? value * this._totalDuration : value)\r\n  }\r\n}\r\nexport default Timeline\r\n"],"names":["create","Object","source","assign","let","i","len","args","length","arg","p","Array","isArray","push","splice","_tick","root","window","global","this","_tweens","isStarted","_autoPlay","_ticker","requestAnimationFrame","fn","setTimeout","_stopTicker","cancelAnimationFrame","id","clearTimeout","add","tween","update","get","remove","indexOf","now","undefined","process","hrtime","time","performance","bind","offset","timing","navigationStart","Date","preserve","Plugins","document","addEventListener","timeDiff","timePause","hidden","_startTime","const","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","factory","module","exports","InterTween","s2f","val","floatedVal","parseFloat","isNaN","h2r_f","all","hex","r","g","b","color","parseInt","rgbMax","trim","str","replace","trimRegExp","colorSpaceExp","r2n","e","rv","relativeModes","substr","v","e2","s2n","hr","h2r","match","numRegExp","map","stringTween","d","test","sv","ev","uv","unitTween","cm","cmls","ve","vs","isIncrementReqForColor","colorMatch","t","a","tweenThemTo","arrayTween","objectTween","parseInterpolatables","mainTween","lastItem","endLength","totalTime","roundedTime","floor","elapsed","item","slice","minLength","min","nodeType","units","u","vv","hexColor","+=","-=","*=","/=","%=","Store","node","ID","queueID","round","random","EventClass","_events","on","event","callback","once","spliceIndex","apply","off","filter","cb","emit","arg1","arg2","arg3","arg4","_event","_id","defaultEasing","Tween","object","super","NodeCache","isArr","_valuesStart","_valuesEnd","_valuesFunc","_duration","_easingFunction","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_onStartCallbackFired","_pausedTime","_isFinite","_elapsed","fromTo","to","params","quickRender","render","_rendered","from","isPlaying","reverse","reversed","pause","play","restart","noDelay","_object","seek","keepPlaying","max","duration","amount","properties","prop","Renderer","InitialValues","property","start","end","plugin","prototype","__render","stop","delay","repeat","isFinite","repeatDelay","_repeatDelayTime","reverseDelay","_reverseDelayTime","yoyo","state","easing","reassignValues","value","fnc","PlaybackPosition","labels","offsets","parseLabel","name","rty","rt","split","currOffset","type","charAt","Number","addLabel","setLabel","eraseLabel","Timeline","_totalDuration","_defaultParams","position","nodes","label","stagger","_tween","method","interpolation","_timing"],"mappings":"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"}