{"version":3,"file":"Tween.min.js","sources":["../src/dist/toNumber.js","../src/dist/Event.js","../src/dist/core.js","../src/dist/Easing.js","../src/dist/Interpolation.js","../src/dist/SubTween.js","../src/dist/Store.js","../src/dist/Tween.js","../src/dist/Plugins.js","../src/dist/Composite.js","../src/dist/Timeline.js","../src/dist/Decorators.js"],"sourcesContent":["export default function toNumber (val) {\n  let floatedVal = parseFloat(val)\n  return typeof floatedVal === 'number' && !isNaN(floatedVal) ? floatedVal : val\n}\n","const bind = (fn, ctx) => {\n  return function () {\n    return fn.apply(ctx, arguments)\n  }\n}\n\nexport default class EventClass {\n  constructor () {\n    this._events = {}\n    this._bind = this\n    this.on = bind(this.on, this)\n    this.once = bind(this.once, this)\n    this.off = bind(this.off, this)\n    this.emit = bind(this.emit, this)\n  }\n\n  bind (scope) {\n    this._bind = scope\n    return this\n  }\n\n  on (event, callback) {\n    if (!this._events[event]) {\n      this._events[event] = []\n    }\n\n    this._events[event].push(callback)\n    return this\n  }\n\n  once (event, callback) {\n    if (!this._events[event]) {\n      this._events[event] = []\n    }\n\n    let {_events, _bind} = this\n    let spliceIndex = _events[event].length\n    this._events[event].push((...args) => {\n      callback.apply(_bind, args)\n      _events[event].splice(spliceIndex, 1)\n    })\n    return this\n  }\n\n  off (event, callback) {\n    let {_events} = this\n\n    if (event === undefined || !_events[event]) {\n      return this\n    }\n\n    if (callback) {\n      this._events[event] = this._events[event].filter(cb => cb !== callback)\n    } else {\n      this._events[event].length = 0\n    }\n\n    return this\n  }\n\n  emit (event, arg1, arg2, arg3, arg4) {\n    let {_events, _bind} = this\n\n    if (event === undefined || !_events[event]) {\n      return this\n    }\n\n    let _event = _events[event]\n\n    for (let i = 0, length = _event.length; i < length; i++) {\n      _event[i].call(_bind, arg1, arg2, arg3, arg4)\n    }\n  }\n}\n","/* global global, window, Object, document, process, requestAnimationFrame, cancelAnimationFrame, setTimeout, clearTimeout */\nimport EventClass from './Event'\n\nlet _tweens = {}\nlet isStarted = false\nlet _autoPlay = false\nlet _tick\nlet {emit, on, once, off} = new EventClass()\nlet root = typeof (window) !== 'undefined' ? window : typeof (global) !== 'undefined' ? global : {}\nlet _nextId = 0\n\nlet _ticker = fn => typeof (requestAnimationFrame) !== 'undefined' ? requestAnimationFrame(fn) : setTimeout(fn, 16.6)\nlet _stopTicker = fn => typeof (cancelAnimationFrame) !== 'undefined' ? cancelAnimationFrame(fn) : clearTimeout(fn)\n\nlet setProp = (o, p, param) => Object.defineProperty(o, p, param)\nsetProp(_tweens, 'length', {enumerable: false, writable: true, value: 0})\n\nconst add = tween => {\n  let {id} = tween\n  _tweens[id] = tween\n  _tweens.length++\n\n  if (_autoPlay && !isStarted) {\n    update()\n    isStarted = true\n    emit('start')\n  }\n\n  emit('add', tween, _tweens)\n}\n\nconst nextId = () => {\n  let id = _nextId\n  _nextId++\n  return id\n}\n\nconst getAll = () => {\n  return _tweens\n}\n\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\nconst removeAll = () => {\n  for (let id in _tweens) {\n    _tweens[+id] = null\n    delete _tweens[+id]\n  }\n  _tweens.length = 0\n}\n\nconst get = tween => {\n  for (let searchTween in _tweens) {\n    if (tween.id === +searchTween) {\n      return _tweens[+searchTween]\n    }\n  }\n\n  return null\n}\n\nconst has = tween => {\n  return get(tween) !== null\n}\n\nconst remove = tween => {\n  for (let searchTween in _tweens) {\n    if (tween.id === +searchTween) {\n      delete _tweens[+searchTween]\n      _tweens.length--\n    }\n  }\n}\n\nlet now = (function () {\n  if (typeof (process) !== 'undefined' && process.hrtime !== undefined) {\n    return function () {\n      let time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n  // In a browser, use window.performance.now if it is available.\n  } else if (root.performance !== undefined &&\n   root.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n  // Use Date.now if it is available.\n  } else {\n    let offset = root.performance && root.performance.timing && root.performance.timing.navigationStart ? root.performance.timing.navigationStart : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n}())\n\nconst update = (time, preserve) => {\n  time = time !== undefined ? time : now()\n\n  if (_autoPlay) {\n    _tick = _ticker(update)\n  }\n\n  emit('update', time, _tweens)\n\n  if (_tweens.length === 0) {\n    isStarted = false\n    _stopTicker(_tick)\n    emit('stop', time)\n    return false\n  }\n\n  for (let i in _tweens) {\n    if (_tweens[i].update(time) || preserve) {\n      i++\n    } else {\n      delete _tweens[+i]\n      _tweens.length--\n    }\n  }\n\n  return true\n}\n\n// Normalise time when visiblity is changed (if available) ...\nif (root.document) {\n  let doc = root.document\n  let timeDiff = 0\n  let timePause = 0\n  doc.addEventListener('visibilitychange', () => {\n    if (_tweens.length === 0) {\n      return false\n    }\n\n    if (document.hidden) {\n      timePause = now()\n    } else {\n      timeDiff = now() - timePause\n\n      for (let tween in _tweens) {\n        _tweens[tween]._startTime += timeDiff\n      }\n    }\n\n    return true\n  })\n}\n\nexport { get, has, nextId, getAll, removeAll, remove, add, now, update, autoPlay, on, once, off, emit }\n","const Easing = {\n\n  Linear: {\n\n    None (k) {\n      return k\n    }\n\n  },\n\n  Quadratic: {\n\n    In (k) {\n      return k * k\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n\n  },\n\n  Cubic: {\n\n    In (k) {\n      return k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n\n  },\n\n  Quartic: {\n\n    In (k) {\n      return k * k * k * k\n    },\n\n    Out (k) {\n      return 1 - (--k * k * k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n\n  },\n\n  Quintic: {\n\n    In (k) {\n      return k * k * k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n\n  },\n\n  Sinusoidal: {\n\n    In (k) {\n      return 1 - Math.cos(k * Math.PI / 2)\n    },\n\n    Out (k) {\n      return Math.sin(k * Math.PI / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n\n  },\n\n  Exponential: {\n\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n\n  },\n\n  Circular: {\n\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - (--k * k))\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n\n  },\n\n  Elastic: {\n\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n      }\n\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n    }\n\n  },\n\n  Back: {\n\n    In (k) {\n      let s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      let s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      let s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n\n  },\n\n  Bounce: {\n\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k\n      } else if (k < (2 / 2.75)) {\n        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75\n      } else if (k < (2.5 / 2.75)) {\n        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375\n      } else {\n        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n\n  }\n\n}\n\nexport default Easing\n","const Interpolation = {\n\n  Linear (v, k) {\n    let m = v.length - 1\n    let f = m * k\n    let i = Math.floor(f)\n    let fn = Interpolation.Utils.Linear\n\n    if (k < 0) {\n      return fn(v[0], v[1], f)\n    }\n\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f)\n    }\n\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i)\n  },\n\n  Bezier (v, k) {\n    let b = 0\n    let n = v.length - 1\n    let pw = Math.pow\n    let bn = Interpolation.Utils.Bernstein\n\n    for (let i = 0; i <= n; i++) {\n      b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i)\n    }\n\n    return b\n  },\n\n  CatmullRom (v, k) {\n    let m = v.length - 1\n    let f = m * k\n    let i = Math.floor(f)\n    let fn = Interpolation.Utils.CatmullRom\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor(f = m * (1 + k))\n      }\n\n      return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i)\n    } else {\n      if (k < 0) {\n        return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0])\n      }\n\n      if (k > 1) {\n        return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m])\n      }\n\n      return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i)\n    }\n  },\n\n  Utils: {\n\n    Linear (p0, p1, t) {\n      return typeof p1 === 'function' ? p1(t) : (p1 - p0) * t + p0\n    },\n\n    Bernstein (n, i) {\n      let fc = Interpolation.Utils.Factorial\n\n      return fc(n) / fc(i) / fc(n - i)\n    },\n\n    Factorial: (function () {\n      let a = [1]\n\n      return n => {\n        let s = 1\n\n        if (a[n]) {\n          return a[n]\n        }\n\n        for (let i = n; i > 1; i--) {\n          s *= i\n        }\n\n        a[n] = s\n        return s\n      }\n    })(),\n\n    CatmullRom (p0, p1, p2, p3, t) {\n      let v0 = (p2 - p0) * 0.5\n      let v1 = (p3 - p1) * 0.5\n      let t2 = t * t\n      let t3 = t * t2\n\n      return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1\n    }\n\n  }\n\n}\n\nexport default Interpolation\n","import toNumber from './toNumber'\n\nlet colorMatch = /rgb|hsl|hsv/g\nlet isIncrementReqForColor = /ahsv|ahsl|argb/g\n\n// Credits:\n// @jkroso for string parse library\n// Optimized, Extended by @dalisoft\nconst numRegExp =\n  /\\s+|([A-Za-z?().,{}:\"\"[\\]#]+)|([-+/*%]+=)?([-+*/%]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g\nlet hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i\nlet trimRegExp = /\\n|\\r|\\t/g\nlet hexReplace = (all, hex) => {\n  let r\n  let g\n  let b\n  if (hex.length === 3) {\n    r = parseInt(hex[0] + hex[0], 16)\n    g = parseInt(hex[1] + hex[1], 16)\n    b = parseInt(hex[2] + hex[2], 16)\n  } else if (hex.length === 6) {\n    r = parseInt(hex.substr(0, 2), 16)\n    g = parseInt(hex.substr(2, 2), 16)\n    b = parseInt(hex.substr(4, 6), 16)\n  }\n\n  return `rgb(${r},${g},${b})`\n}\nlet trim = str => typeof str === 'string' ? str.replace(trimRegExp, '') : str\n\nconst SubTween = (start, end, roundv = 10000) => {\n  if (Array.isArray(start)) {\n    let isColorPropsExist = null\n    let startIndex = null\n    end = end.map((v, i) => colorMatch.test(v) ? ((isColorPropsExist = v), (startIndex = i), null) : v === start[i] ? null : typeof v === 'number' ? (v - start[i]) : numRegExp.test(v) ? SubTween(trim(start[i]), trim(v)) : v)\n    let endIndex = startIndex !== null ? startIndex + 6 : null\n    if (isColorPropsExist && isIncrementReqForColor.test(isColorPropsExist)) {\n      startIndex++\n      endIndex++\n    }\n\n    let map = [...start]\n    return (t) => {\n      for (let i = 0, v, length = end.length; i < length; i++) {\n        v = end[i]\n        if (typeof v === 'function') {\n          map[i] = v(t)\n        } else if (typeof v === 'number') {\n          map[i] = (((start[i] + v * t) * roundv) | 0) / roundv\n\n          if (startIndex !== null && i > startIndex && i < endIndex) {\n            map[i] = map[i] | 0\n          }\n        }\n      }\n\n      return map\n    }\n  } else if (typeof start === 'object') {\n    for (let property in end) {\n      if (end[property] === start[property]) {\n        end[property] = null\n      } else if (typeof start[property] === 'number') {\n        end[property] -= start[property]\n      } else if (typeof end[property] === 'object' || (typeof end[property] === 'string' && numRegExp.test(end[property]))) {\n        end[property] = SubTween(start[property], end[property])\n      }\n    }\n\n    let map = {...start}\n    return (t) => {\n      for (let property in end) {\n        let to = end[property]\n        if (typeof to === 'function') {\n          map[property] = to(t)\n        } else if (typeof to === 'number') {\n          map[property] = (((start[property] + to * t) * roundv) | 0) / roundv\n        }\n      }\n\n      return map\n    }\n  } else if (typeof start === 'number') {\n    end -= start\n    let isSame = start === end\n    return (t) => {\n      return isSame ? end : (((start + end * t) * roundv) | 0) / roundv\n    }\n  } else if ((typeof start === 'string' && typeof end === 'string' && numRegExp.test(start) && numRegExp.test(end)) || (typeof end === 'string' && (hexColor.test(start) || hexColor.test(end)))) {\n    let _startMap = trim(start).replace(hexColor, hexReplace).match(numRegExp).map(toNumber)\n    let _endMap = trim(end).replace(hexColor, hexReplace).match(numRegExp).map(toNumber)\n    let _tween = SubTween(_startMap, _endMap)\n    return (t) => {\n      let _t = _tween(t)\n      let i = 0\n      let s = ''\n      while (i < _t.length) {\n        s += _t[i]\n        i++\n      }\n\n      return s\n    }\n  } else if (typeof end === 'function') {\n    return end\n  } else if (!Array.isArray(start) && Array.isArray(end)) {\n    end.unshift(start)\n    end.push(end[end.length - 1])\n    return end.map((v, i) => SubTween(i === 0 ? start : end[i - 1], v))\n  } else {\n    let isSame = start === end\n    return (t) => isSame ? start : t >= 0.5 ? end : start\n  }\n}\n\nexport default SubTween\n","const Store = {\n  add: function (tween) {\n    if (Store[tween] && JSON.stringify(tween) && JSON.stringify(Store[tween])) {\n      return Store[tween]\n    }\n\n    Store[tween] = tween\n    return tween\n  }\n}\n\nexport default Store\n","import {\n  add,\n  remove,\n  now,\n  nextId\n}\n  from './core'\nimport Easing from './Easing'\nimport Interpolation from './Interpolation'\nimport SubTween from './SubTween'\nimport Store from './Store'\nimport EventClass from './Event'\n\nconst defaultEasing = Easing.Linear.None\n\n// Events list\nconst EVENT_UPDATE = 'update'\nconst EVENT_COMPLETE = 'complete'\nconst EVENT_START = 'start'\nconst EVENT_REPEAT = 'repeat'\nconst EVENT_REVERSE = 'reverse'\nconst EVENT_PAUSE = 'pause'\nconst EVENT_PLAY = 'play'\nconst EVENT_RS = 'restart'\nconst EVENT_STOP = 'stop'\nconst EVENT_SEEK = 'seek'\n\nclass Tween extends EventClass {\n  constructor (object = {}, instate) {\n    super()\n\n    this.isJoinToString = typeof object === 'string'\n    this.object = object\n    this._valuesStart = Tween.createEmptyConst(object)\n    this._valuesEnd = Tween.createEmptyConst(object)\n\n    this._duration = 1000\n    this._easingFunction = defaultEasing\n    this._interpolationFunction = Interpolation.Linear\n\n    this._startTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this.id = nextId()\n\n    if (instate && instate.to) {\n      return new Tween(object)\n        .to(instate.to, instate)\n    }\n\n    return this\n  }\n\n  static createEmptyConst (oldObject) {\n    return typeof (oldObject) === 'number' ? 0 : Array.isArray(oldObject) ? [] : typeof (oldObject) === 'object' ? {}\n      : ''\n  }\n\n  static checkValidness (valid) {\n    return valid !== undefined && valid !== null && valid !== '' && ((typeof valid === 'number' && !isNaN(valid)) || typeof valid !== 'number') && valid !== Infinity\n  }\n\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  reverse () {\n    const {\n      _reversed\n    } = this\n\n    this._reversed = !_reversed\n\n    return this\n  }\n\n  reversed () {\n    return this._reversed\n  }\n\n  useActiveMode () {\n    this.object = Store.add(this.object)\n    return this\n  }\n\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  restart (noDelay) {\n    this._repeat = this._r\n    this._startTime = now() + (noDelay ? 0 : this._delayTime)\n\n    if (!this._isPlaying) {\n      add(this)\n    }\n\n    return this.emit(EVENT_RS, this._object)\n  }\n\n  seek (time, keepPlaying) {\n    this._startTime = now() + Math.max(0, Math.min(\n      time, this._duration))\n\n    this.emit(EVENT_SEEK, time, this._object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  duration (amount) {\n    this._duration = typeof (amount) === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  to (properties = {}, duration = 1000) {\n    if (typeof properties === 'object') {\n      this._valuesEnd = properties\n    }\n\n    if (typeof duration === 'number') {\n      this._duration = typeof (duration) === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (let prop in duration) {\n        if (this[prop]) {\n          this[prop](...(Array.isArray(duration) ? duration : [duration]))\n        }\n      }\n    }\n\n    return this\n  }\n\n  render () {\n    if (this._rendered) {\n      return this\n    }\n\n    let {\n      _valuesEnd,\n      object\n    } = this\n\n    for (let property in _valuesEnd) {\n      if (typeof _valuesEnd[property] === 'object' && _valuesEnd[property]) {\n        this._valuesEnd[property] = SubTween(object[property], _valuesEnd[property])\n        if (typeof this._valuesEnd[property] === 'function') {\n          this.object[property] = this._valuesEnd[property](0)\n        }\n      } else if (typeof _valuesEnd[property] === 'string' && typeof object[property] === 'string') {\n        this._valuesEnd[property] = SubTween(object[property], _valuesEnd[property])\n        if (typeof this._valuesEnd[property] === 'function') {\n          this.object[property] = this._valuesEnd[property](0)\n        }\n      }\n\n      // If `to()` specifies a property that doesn't exist in the source object,\n      // we should not set that property in the object\n      if (Tween.checkValidness(object[property]) === false) {\n        continue\n      }\n\n      // If duplicate or non-tweening numerics matched,\n      // we should skip from adding to _valuesStart\n      if (object[property] === _valuesEnd[property]) {\n        continue\n      }\n\n      this._valuesStart[property] = object[property]\n    }\n\n    return this\n  }\n\n  start (time) {\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += this._delayTime\n\n    this.render()\n    this._rendered = true\n\n    add(this)\n\n    this.emit(EVENT_START, this.object)\n\n    this._isPlaying = true\n\n    return this\n  }\n\n  stop () {\n    let {\n      _isPlaying,\n      object\n    } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    remove(this)\n    this._isPlaying = false\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  end () {\n    const {\n      _startTime,\n      _duration\n    } = this\n\n    return this.update(_startTime + _duration)\n  }\n\n  delay (amount) {\n    this._delayTime = typeof (amount) === 'function' ? amount(this._delayTime) : amount\n    this._startTime += this._delayTime\n\n    return this\n  }\n\n  repeat (amount) {\n    this._repeat = typeof (amount) === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n\n    return this\n  }\n\n  repeatDelay (amount) {\n    this._repeatDelayTime = typeof (amount) === 'function' ? amount(this._repeatDelayTime) : amount\n\n    return this\n  }\n\n  reverseDelay (amount) {\n    this._reverseDelayTime = typeof (amount) === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  yoyo (state) {\n    this._yoyo = typeof (state) === 'function' ? state(this._yoyo) : state\n\n    return this\n  }\n\n  easing (fn) {\n    this._easingFunction = fn\n\n    return this\n  }\n\n  interpolation (fn) {\n    this._interpolationFunction = fn\n\n    return this\n  }\n\n  get (time) {\n    this.update(time)\n    return this.object\n  }\n\n  update (time) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _interpolationFunction,\n      _repeat,\n      _repeatDelayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      object\n    } = this\n\n    let property\n    let elapsed\n    let value\n\n    time = time !== undefined ? time : now()\n\n    if (time < _startTime) {\n      return true\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n\n        this.emit(EVENT_START, object)\n\n        this._rendered = true\n      }\n\n      this._onStartCallbackFired = true\n    }\n\n    elapsed = (time - _startTime) / _duration\n    elapsed = elapsed > 1 ? 1 : elapsed\n    elapsed = _reversed ? 1 - elapsed : elapsed\n\n    value = typeof _easingFunction === 'function' ? _easingFunction(elapsed) : defaultEasing(elapsed)\n\n    for (property in _valuesEnd) {\n      // Don't update properties that do not exist in the source object\n      if (_valuesStart[property] === undefined) {\n        continue\n      }\n\n      let start = _valuesStart[property]\n      let end = _valuesEnd[property]\n      value = _easingFunction[property] ? _easingFunction[property](elapsed) : value\n\n      if (typeof end === 'function') {\n        object[property] = end(value)\n      } else if (Array.isArray(end)) {\n        object[property] = _interpolationFunction(end, value)\n      } else if (typeof (end) === 'string') {\n        if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n          end = start + parseFloat(end)\n        } else {\n          end = parseFloat(end)\n        }\n\n        // Protect against non numeric properties.\n        if (typeof (end) === 'number') {\n          object[property] = start + (end - start) * value\n        }\n      } else if (typeof (start) === 'number') {\n        object[property] = start + (end - start) * value\n      }\n    }\n\n    this.emit(EVENT_UPDATE, object, value, elapsed)\n\n    this.object = object\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (isFinite(_repeat)) {\n          this._repeat--\n        }\n\n        for (property in _valuesEnd) {\n          if (typeof (_valuesEnd[property]) === 'string' && typeof (_valuesStart[property]) === 'number') {\n            this._valuesStart[property] = _valuesStart[property] + parseFloat(_valuesEnd[property])\n          }\n        }\n\n        // Reassign starting values, restart by making startTime = now\n        this.emit(_reversed ? EVENT_REVERSE : EVENT_REPEAT, object)\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        }\n\n        if (!_reversed && _repeatDelayTime) {\n          this._startTime += _duration + _repeatDelayTime\n        } else if (_reversed && _reverseDelayTime) {\n          this._startTime += _duration + _reverseDelayTime\n        } else {\n          this._startTime += _duration\n        }\n\n        return true\n      } else {\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","const cache = {\n  filter: {\n    grayscale: 1,\n    brightness: 1,\n    sepia: 1,\n    invert: 1,\n    saturate: 1,\n    contrast: 1,\n    blur: 1,\n    hueRotate: 1,\n    dropShadow: 1\n  },\n  transform: {\n    translate: 1,\n    translateX: 1,\n    translateY: 1,\n    translateZ: 1,\n    rotate: 1,\n    rotateX: 1,\n    rotateY: 1,\n    rotateZ: 1,\n    scale: 1,\n    scaleX: 1,\n    scaleY: 1,\n    scaleZ: 1,\n    skew: 1,\n    skewX: 1,\n    skewY: 1,\n    x: 1,\n    y: 1,\n    z: 1\n  },\n  scroll: {\n    scrollTop: 1,\n    scrollLeft: 1\n  }\n}\n\nexport { cache as PropertyTypes }\n\nexport default class Plugins {\n  static Attr () {\n    let layer = this.domNode\n    return {\n      update (RenderObject) {\n        for (let p in RenderObject) {\n          if (cache.transform[p] || cache.filter[p] || cache.scroll[p]) continue\n          layer.setAttribute(p, RenderObject[p])\n        }\n      }\n    }\n  }\n\n  static Style () {\n    let layer = this.domNode\n    let style = layer.style\n    return {\n      update (RenderObject) {\n        for (let p in RenderObject) {\n          if (cache.transform[p] || cache.filter[p]) continue\n          style[p] = RenderObject[p]\n        }\n      }\n    }\n  }\n\n  static Transform () {\n    let layer = this.domNode\n    let style = layer.style\n    return {\n      update (RenderObject) {\n        let transform = ''\n        for (let p in RenderObject) {\n          if (!cache.transform[p]) continue\n          if (p === 'x' || p === 'y' || p === 'z') {\n            transform += ' translate3d( ' + (RenderObject.x || '0px') + ', ' + (RenderObject.y || '0px') + ', ' + (RenderObject.z || '0px') + ')'\n          } else if (cache.transform[p]) {\n            transform += ` ${p}( ${RenderObject[p]})`\n          }\n        }\n\n        if (transform) {\n          style.transform = transform\n        }\n      }\n    }\n  }\n\n  static SVGTransform (xPos, yPos) {\n    let layer = this.domNode\n    let bbox = {}\n    let self = null\n    let attrName = 'transform'\n    let rotate = 'rotate'\n    let x = 'x'\n    let y = 'y'\n    return (self = {\n      update (RenderObject) {\n        let transform = ''\n        for (let p in RenderObject) {\n          if (!cache[attrName][p]) continue\n          if (bbox.x === undefined || bbox.y === undefined) {\n            self.setOrigin(xPos, yPos)\n            continue\n          }\n\n          if (p === rotate) {\n            transform += ` rotate(${RenderObject[p]} ${bbox.x} ${bbox.y})`\n          } else if (p === x || p === y) {\n            transform += ` translate(${RenderObject.x || 0}, ${RenderObject.y || 0})`\n          } else {\n            transform += ` ${p}(${RenderObject[p]})`\n          }\n        }\n\n        if (transform) {\n          layer.setAttribute(attrName, transform)\n        }\n\n        return self\n      },\n\n      init () {\n        return self.setOrigin(xPos, yPos)\n      },\n\n      setOrigin (x, y) {\n        let {width, height, left, top} = layer.getBoundingClientRect()\n\n        x = typeof (x) === 'number' ? left + x : typeof x === 'string' && x.indexOf('%') > -1 ? left + (width * (parseFloat(x) / 100)) : left + (width / 2)\n        y = typeof (y) === 'number' ? left + y : typeof y === 'string' && y.indexOf('%') > -1 ? top + (height * (parseFloat(y) / 100)) : top + (height / 2)\n\n        if (bbox.x !== undefined && bbox.y !== undefined) {\n          let diffX = bbox.x - x\n          let diffY = bbox.y - y\n\n          x += x - diffX\n          y += y - diffY\n        }\n\n        bbox.x = x\n        bbox.y = y\n\n        return self\n      }\n    })\n  }\n\n  static Filter () {\n    let layer = this.domNode\n    let style = layer.style\n    return {\n      update (RenderObject) {\n        let filter = ''\n        for (let p in RenderObject) {\n          if (!cache.filter[p]) continue\n          if (cache.filter[p]) {\n            filter += ` ${p}( ${RenderObject[p]})`\n          }\n        }\n\n        if (filter) {\n          style.webkitFilter = style.filter = filter\n        }\n      }\n    }\n  }\n\n  static Scroll () {\n    let layer = this.domNode\n    return {\n      update: (RenderObject) => {\n        for (let p in RenderObject) {\n          if (!cache.scroll[p]) continue\n          layer[p] = RenderObject[p]\n        }\n      }\n    }\n  }\n}\n","import Plugins from './Plugins'\n\nexport default class Composite {\n  constructor (domNode) {\n    this.domNode = domNode\n    this.plugins = {}\n\n    this.map = this.map.bind(this)\n    this.render = this.render.bind(this)\n    this.init = this.init.bind(this)\n    this.fetch = this.fetch.bind(this)\n\n    return this\n  }\n\n  map (type, ...args) {\n    let {plugins} = this\n\n    for (let p in plugins) {\n      let plugin = plugins[p]\n\n      plugin && plugin[type] && plugin[type].apply(this, args)\n    }\n\n    return this\n  }\n\n  render (object, value, elapsed) {\n    return this.map('update', object, value, elapsed)\n  }\n\n  init (object) {\n    return this.map('init', object)\n  }\n\n  fetch (object) {\n    return this.map('fetch', object)\n  }\n\n  applyPlugin (name, ...args) {\n    if (Plugins[name] !== undefined) {\n      this.plugins[name] = Plugins[name].apply(this, args)\n      return this.plugins[name]\n    }\n\n    return this\n  }\n\n  appendTo (node) {\n    node.appendChild(this.domNode)\n    return this\n  }\n}\n","import Tween from './Tween'\nimport { add, now, nextId } from './core'\n\nclass Timeline extends Tween {\n  constructor (params) {\n    super()\n    this._totalDuration = 0\n    this._startTime = now()\n    this._tweens = {}\n    this._elapsed = 0\n    this._id = nextId()\n    this._labels = {}\n    this._defaultParams = params\n\n    return this\n  }\n\n  setLabel (name, value) {\n    this._labels[name] = this.parsePosition(0, value, 0)\n    return this\n  }\n\n  parsePosition (startTime, input, total) {\n    let position = startTime + total\n\n    if (typeof input === 'string') {\n      for (let label in this._labels) {\n        if (input.indexOf(label) === 0) {\n          let inp = input.split(label)[1]\n\n          if (inp.length === 0 || (inp[0] === '+' || inp[0] === '-')) {\n            position = this._labels[label] + startTime\n            input = input.replace(label, '')\n          }\n        }\n      }\n\n      if (input.indexOf('+') === 0 || input.indexOf('-') === 0) {\n        position += parseFloat(input)\n      }\n    } else if (typeof input === 'number') {\n      position += input\n    }\n\n    return position\n  }\n\n  map (fn) {\n    for (let tween in this._tweens) {\n      fn(this._tweens[tween])\n    }\n\n    return this\n  }\n\n  add (tween, position) {\n    if (typeof tween === 'object' && !(tween instanceof Tween)) {\n      tween = new Tween(tween.from, tween)\n    }\n\n    let {\n      _defaultParams,\n      _totalDuration\n    } = this\n\n    if (_defaultParams) {\n      for (let method in _defaultParams) {\n        tween[method](_defaultParams[method])\n      }\n    }\n\n    tween._startTime = this.parsePosition(0, position, _totalDuration)\n    tween._startTime += now()\n    this._totalDuration = Math.max(_totalDuration, tween._duration + tween._startTime)\n    this._tweens[tween.id] = tween\n    return this\n  }\n\n  restart () {\n    this._startTime += now()\n\n    add(this)\n\n    return this.emit('restart')\n  }\n\n  easing (easing) {\n    return this.map(tween => tween.easing(easing))\n  }\n\n  interpolation (interpolation) {\n    return this.map(tween => tween.interpolation(interpolation))\n  }\n\n  update (time) {\n    let {\n      _tweens,\n      _totalDuration,\n      _repeatDelayTime,\n      _reverseDelayTime,\n      _startTime,\n      _reversed,\n      _yoyo,\n      _repeat\n    } = this\n\n    if (time < _startTime) {\n      return true\n    }\n\n    let elapsed = Math.min(1, Math.max(0, (time - _startTime) / _totalDuration))\n    elapsed = _reversed ? 1 - elapsed : elapsed\n    this._elapsed = elapsed\n\n    let timing = time - _startTime\n    let _timing = _reversed ? _totalDuration - timing : timing\n\n    for (let tween in _tweens) {\n      let _tween = _tweens[tween]\n      if (_tween.skip || _tween.update(_timing)) {\n        continue\n      } else {\n        _tween.skip = true\n      }\n    }\n\n    this.emit('update', elapsed, timing)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (isFinite(_repeat)) {\n          this._repeat--\n        }\n\n        // Reassign starting values, restart by making startTime = now\n        this.emit(_reversed ? 'reverse' : 'repeat')\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        }\n\n        if (!_reversed && _repeatDelayTime) {\n          this._startTime += _totalDuration + _repeatDelayTime\n        } else if (_reversed && _reverseDelayTime) {\n          this._startTime += _totalDuration + _reverseDelayTime\n        } else {\n          this._startTime += _totalDuration\n        }\n\n        for (let tween in _tweens) {\n          let _tween = _tweens[tween]\n          if (_tween.skip) {\n            _tween.skip = false\n          }\n        }\n\n        return true\n      } else {\n        this.emit('complete')\n        this._repeat = this._r\n\n        return false\n      }\n    }\n\n    return true\n  }\n\n  elapsed (value) {\n    return value !== undefined ? this.update(value * this._totalDuration) : this._elapsed\n  }\n\n  seek (value) {\n    return this.update(value < 1.1 ? value * this._totalDuration : value)\n  }\n}\nexport default Timeline\n","import Tween from './Tween'\n\nconst lin = k => k\n\nexport default function TweenInit (target) {\n  const {\n    from,\n    to,\n    duration = 1000,\n    easing = lin,\n    events,\n    instance\n  } = target\n  const tweenInstance = new Tween(from, instance).to(to, duration).easing(easing)\n  if (events) {\n    tweenInstance._events = events\n  }\n\n  target.start = tweenInstance.start.bind(tweenInstance)\n}\n"],"names":["toNumber","val","let","floatedVal","parseFloat","isNaN","const","bind","fn","ctx","apply","arguments","EventClass","this","_events","_bind","on","once","off","emit","scope","event","callback","push","spliceIndex","length","args","splice","undefined","filter","cb","arg1","arg2","arg3","arg4","_event","i","call","_tick","_tweens","isStarted","_autoPlay","root","window","global","_nextId","_ticker","requestAnimationFrame","setTimeout","_stopTicker","cancelAnimationFrame","clearTimeout","o","p","param","Object","defineProperty","setProp","enumerable","writable","value","add","tween","id","update","nextId","get","searchTween","remove","now","process","hrtime","time","performance","offset","timing","navigationStart","Date","preserve","document","timeDiff","timePause","addEventListener","hidden","_startTime","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","Interpolation","v","m","f","floor","Utils","Bezier","b","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","a","p2","p3","v0","v1","t2","colorMatch","isIncrementReqForColor","numRegExp","hexColor","trimRegExp","hexReplace","all","hex","r","g","parseInt","substr","trim","str","replace","SubTween","start","end","roundv","Array","isArray","isColorPropsExist","startIndex","map","test","endIndex","property","to","isSame","_startMap","match","_endMap","_tween","_t","unshift","Store","JSON","stringify","defaultEasing","Tween","object","instate","super","isJoinToString","_valuesStart","createEmptyConst","_valuesEnd","_duration","_easingFunction","_interpolationFunction","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_onStartCallbackFired","_pausedTime","oldObject","checkValidness","valid","Infinity","isPlaying","reverse","reversed","useActiveMode","pause","play","restart","noDelay","_object","seek","keepPlaying","max","min","duration","amount","properties","prop","ref","render","_rendered","stop","delay","repeat","repeatDelay","_repeatDelayTime","reverseDelay","_reverseDelayTime","yoyo","state","easing","interpolation","elapsed","charAt","isFinite","cache","grayscale","brightness","sepia","invert","saturate","contrast","blur","hueRotate","dropShadow","transform","translate","translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","x","y","z","scroll","scrollTop","scrollLeft","Plugins","Attr","layer","domNode","RenderObject","setAttribute","Style","style","Transform","SVGTransform","xPos","yPos","bbox","self","setOrigin","init","getBoundingClientRect","width","height","left","top","indexOf","Filter","webkitFilter","Scroll","Composite","plugins","fetch","type","plugin","applyPlugin","name","appendTo","node","appendChild","Timeline","params","_totalDuration","_elapsed","_id","_labels","_defaultParams","setLabel","parsePosition","startTime","input","total","position","label","inp","split","from","method","_timing","skip","lin","target","events","instance","tweenInstance"],"mappings":"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"}