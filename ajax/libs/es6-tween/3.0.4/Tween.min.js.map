{"version":3,"file":"Tween.min.js","sources":["../src/dist/toNumber.js","../src/dist/core.js","../src/dist/Easing.js","../src/dist/Interpolation.js","../src/dist/SubTween.js","../src/dist/Store.js","../src/dist/Event.js","../src/dist/Tween.js","../src/dist/Timeline.js"],"sourcesContent":["export default function toNumber (val) {\r\n  let floatedVal = parseFloat(val)\r\n  return typeof floatedVal === 'number' && !isNaN(floatedVal) ? floatedVal : val\r\n}\r\n","/* global global, window, Object, document, process, requestAnimationFrame, cancelAnimationFrame, setTimeout, clearTimeout */\n\nlet _tweens = {}\nlet isStarted = false\nlet _autoPlay = false\nlet _tick\nlet root = typeof (window) !== 'undefined' ? window : typeof (global) !== 'undefined' ? global : {}\nlet _nextId = 0\n\nlet _ticker = fn => typeof (requestAnimationFrame) !== 'undefined' ? requestAnimationFrame(fn) : setTimeout(fn, 16.6)\nlet _stopTicker = fn => typeof (cancelAnimationFrame) !== 'undefined' ? cancelAnimationFrame(fn) : clearTimeout(fn)\n\nlet setProp = (o, p, param) => Object.defineProperty(o, p, param)\nsetProp(_tweens, 'length', {enumerable: false, writable: true, value: 0})\n\nconst add = tween => {\n  let {id} = tween\n  _tweens[id] = tween\n  _tweens.length++\n\n  if (_autoPlay && !isStarted) {\n    update()\n    isStarted = true\n  }\n}\n\nconst nextId = () => {\n  let id = _nextId\n  _nextId++\n  return id\n}\n\nconst getAll = () => {\n  return _tweens\n}\n\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\nconst removeAll = () => {\n  for (let id in _tweens) {\n    _tweens[+id] = null\n    delete _tweens[+id]\n  }\n  _tweens.length = 0\n}\n\nconst get = tween => {\n  for (let searchTween in _tweens) {\n    if (tween.id === +searchTween) {\n      return _tweens[+searchTween]\n    }\n  }\n\n  return null\n}\n\nconst has = tween => {\n  return get(tween) !== null\n}\n\nconst remove = tween => {\n  for (let searchTween in _tweens) {\n    if (tween.id === +searchTween) {\n      delete _tweens[+searchTween]\n      _tweens.length--\n    }\n  }\n}\n\nlet now = (function () {\n  if (typeof (process) !== 'undefined' && process.hrtime !== undefined) {\n    return function () {\n      let time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n  // In a browser, use window.performance.now if it is available.\n  } else if (root.performance !== undefined &&\n   root.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n  // Use Date.now if it is available.\n  } else {\n    let offset = root.performance && root.performance.timing && root.performance.timing.navigationStart ? root.performance.timing.navigationStart : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n}())\n\nconst update = (time, preserve) => {\n  time = time !== undefined ? time : now()\n\n  if (_autoPlay) {\n    _tick = _ticker(update)\n  }\n\n  if (_tweens.length === 0) {\n    isStarted = false\n    _stopTicker(_tick)\n    return false\n  }\n\n  for (let i in _tweens) {\n    if (_tweens[i].update(time) || preserve) {\n      i++\n    } else {\n      delete _tweens[+i]\n      _tweens.length--\n    }\n  }\n\n  return true\n}\n\nconst Plugins = {}\n\n// Normalise time when visiblity is changed (if available) ...\nif (root.document) {\n  let doc = root.document\n  let timeDiff = 0\n  let timePause = 0\n  doc.addEventListener('visibilitychange', () => {\n    if (_tweens.length === 0) {\n      return false\n    }\n\n    if (document.hidden) {\n      timePause = now()\n    } else {\n      timeDiff = now() - timePause\n\n      for (let tween in _tweens) {\n        _tweens[tween]._startTime += timeDiff\n      }\n    }\n\n    return true\n  })\n}\n\nexport { Plugins, get, has, nextId, getAll, removeAll, remove, add, now, update, autoPlay }\n","const Easing = {\n\n  Linear: {\n\n    None (k) {\n      return k\n    }\n\n  },\n\n  Quadratic: {\n\n    In (k) {\n      return k * k\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n\n  },\n\n  Cubic: {\n\n    In (k) {\n      return k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n\n  },\n\n  Quartic: {\n\n    In (k) {\n      return k * k * k * k\n    },\n\n    Out (k) {\n      return 1 - (--k * k * k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n\n  },\n\n  Quintic: {\n\n    In (k) {\n      return k * k * k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n\n  },\n\n  Sinusoidal: {\n\n    In (k) {\n      return 1 - Math.cos(k * Math.PI / 2)\n    },\n\n    Out (k) {\n      return Math.sin(k * Math.PI / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n\n  },\n\n  Exponential: {\n\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n\n  },\n\n  Circular: {\n\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - (--k * k))\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n\n  },\n\n  Elastic: {\n\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n      }\n\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n    }\n\n  },\n\n  Back: {\n\n    In (k) {\n      let s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      let s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      let s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n\n  },\n\n  Bounce: {\n\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k\n      } else if (k < (2 / 2.75)) {\n        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75\n      } else if (k < (2.5 / 2.75)) {\n        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375\n      } else {\n        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n\n  }\n\n}\n\nexport default Easing\n","const Interpolation = {\n\n  Linear (v, k) {\n    let m = v.length - 1\n    let f = m * k\n    let i = Math.floor(f)\n    let fn = Interpolation.Utils.Linear\n\n    if (k < 0) {\n      return fn(v[0], v[1], f)\n    }\n\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f)\n    }\n\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i)\n  },\n\n  Bezier (v, k) {\n    let b = 0\n    let n = v.length - 1\n    let pw = Math.pow\n    let bn = Interpolation.Utils.Bernstein\n\n    for (let i = 0; i <= n; i++) {\n      b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i)\n    }\n\n    return b\n  },\n\n  CatmullRom (v, k) {\n    let m = v.length - 1\n    let f = m * k\n    let i = Math.floor(f)\n    let fn = Interpolation.Utils.CatmullRom\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor(f = m * (1 + k))\n      }\n\n      return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i)\n    } else {\n      if (k < 0) {\n        return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0])\n      }\n\n      if (k > 1) {\n        return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m])\n      }\n\n      return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i)\n    }\n  },\n\n  Utils: {\n\n    Linear (p0, p1, t) {\n      return typeof p1 === 'function' ? p1(t) : (p1 - p0) * t + p0\n    },\n\n    Bernstein (n, i) {\n      let fc = Interpolation.Utils.Factorial\n\n      return fc(n) / fc(i) / fc(n - i)\n    },\n\n    Factorial: (function () {\n      let a = [1]\n\n      return n => {\n        let s = 1\n\n        if (a[n]) {\n          return a[n]\n        }\n\n        for (let i = n; i > 1; i--) {\n          s *= i\n        }\n\n        a[n] = s\n        return s\n      }\n    })(),\n\n    CatmullRom (p0, p1, p2, p3, t) {\n      let v0 = (p2 - p0) * 0.5\n      let v1 = (p3 - p1) * 0.5\n      let t2 = t * t\n      let t3 = t * t2\n\n      return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1\n    }\n\n  }\n\n}\n\nexport default Interpolation\n","import toNumber from './toNumber'\r\n\r\nlet colorMatch = /rgb|hsl|hsv/g\r\nlet isIncrementReqForColor = /ahsv|ahsl|argb/g\r\n\r\n// Credits:\r\n// @jkroso for string parse library\r\n// Optimized, Extended by @dalisoft\r\nconst numRegExp =\r\n  /\\s+|([A-Za-z?().,{}:\"\"[\\]#]+)|([-+/*%]+=)?([-+*/%]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g\r\nlet hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i\r\nlet trimRegExp = /\\n|\\r|\\t/g\r\nlet hexReplace = (all, hex) => {\r\n  let r\r\n  let g\r\n  let b\r\n  if (hex.length === 3) {\r\n    r = parseInt(hex[0] + hex[0], 16)\r\n    g = parseInt(hex[1] + hex[1], 16)\r\n    b = parseInt(hex[2] + hex[2], 16)\r\n  } else if (hex.length === 6) {\r\n    r = parseInt(hex.substr(0, 2), 16)\r\n    g = parseInt(hex.substr(2, 2), 16)\r\n    b = parseInt(hex.substr(4, 6), 16)\r\n  }\r\n\r\n  return `rgb(${r},${g},${b})`\r\n}\r\nlet trim = str => typeof str === 'string' ? str.replace(trimRegExp, '') : str\r\n\r\nconst SubTween = (start, end, roundv = 10000) => {\r\n  if (typeof end === 'function' || (end && end.nodeType)) {\r\n    return end\r\n  } else if (start && start.nodeType) {\r\n    return start\r\n  } else if (Array.isArray(start)) {\r\n    let isColorPropsExist = null\r\n    let startIndex = null\r\n    end = end.map((v, i) => typeof v === 'string' && colorMatch.test(v) ? ((isColorPropsExist = v), (startIndex = i), null) : v === start[i] ? null : typeof v === 'number' ? (v - start[i]) : typeof v === 'string' && numRegExp.test(v) ? SubTween(trim(start[i]), trim(v)) : SubTween(start[i], v))\r\n    let endIndex = startIndex !== null ? startIndex + 6 : null\r\n    if (isColorPropsExist && isIncrementReqForColor.test(isColorPropsExist)) {\r\n      startIndex++\r\n      endIndex++\r\n    }\r\n\r\n    let map = [...start]\r\n    return (t) => {\r\n      for (let i = 0, v, length = end.length; i < length; i++) {\r\n        v = end[i]\r\n        if (typeof v === 'function') {\r\n          map[i] = v(t)\r\n        } else if (typeof v === 'number') {\r\n          map[i] = (((start[i] + v * t) * roundv) | 0) / roundv\r\n\r\n          if (startIndex !== null && i > startIndex && i < endIndex) {\r\n            map[i] = map[i] | 0\r\n          }\n        }\r\n      }\r\n\r\n      return map\r\n    }\r\n  } else if (typeof start === 'object') {\r\n    for (let property in end) {\r\n      if (end[property] === start[property]) {\r\n        end[property] = null\r\n      } else if (typeof start[property] === 'number') {\r\n        end[property] -= start[property]\r\n      } else if (typeof end[property] === 'object' || (typeof end[property] === 'string' && numRegExp.test(end[property]))) {\r\n        end[property] = SubTween(start[property], end[property])\r\n      }\r\n    }\r\n\r\n    let map = {...start}\r\n    return (t) => {\r\n      for (let property in end) {\r\n        let to = end[property]\r\n        if (typeof to === 'function') {\r\n          map[property] = to(t)\r\n        } else if (typeof to === 'number') {\r\n          map[property] = (((start[property] + to * t) * roundv) | 0) / roundv\r\n        }\r\n      }\r\n\r\n      return map\r\n    }\r\n  } else if (typeof start === 'number') {\r\n    end -= start\r\n    let isSame = start === end\r\n    return (t) => {\r\n      return isSame ? end : (((start + end * t) * roundv) | 0) / roundv\r\n    }\r\n  } else if ((typeof start === 'string' && typeof end === 'string' && numRegExp.test(start) && numRegExp.test(end)) || (typeof end === 'string' && start && (hexColor.test(start) || hexColor.test(end)))) {\r\n    let _startMap = trim(start).replace(hexColor, hexReplace).match(numRegExp).map(toNumber)\r\n    let _endMap = trim(end).replace(hexColor, hexReplace).match(numRegExp).map(toNumber)\r\n    let _tween = SubTween(_startMap, _endMap)\r\n    return (t) => {\r\n      let _t = _tween(t)\r\n      let i = 0\r\n      let s = ''\r\n      while (i < _t.length) {\r\n        s += _t[i]\r\n        i++\r\n      }\r\n\r\n      return s\r\n    }\r\n  } else if (!Array.isArray(start) && Array.isArray(end)) {\r\n    end.unshift(start)\r\n    end.push(end[end.length - 1])\r\n    return end.map((v, i) => SubTween(i === 0 ? start : end[i - 1], v))\r\n  } else {\r\n    return end\r\n  }\r\n}\r\n\r\nexport default SubTween\r\n","const Store = {\r\n  add: function (tween) {\r\n    if (Store[tween] && JSON.stringify(tween) && JSON.stringify(Store[tween])) {\r\n      return Store[tween]\r\n    }\r\n\r\n    Store[tween] = tween\r\n    return tween\r\n  }\r\n}\r\n\r\nexport default Store\r\n","export default class EventClass {\r\n  constructor () {\r\n    this._events = {}\r\n  }\r\n\r\n  bind (scope) {\r\n    this._bind = scope\r\n    return this\r\n  }\r\n\r\n  on (event, callback) {\r\n    if (!this._events[event]) {\r\n      this._events[event] = []\r\n    }\r\n\r\n    this._events[event].push(callback)\r\n    return this\r\n  }\r\n\r\n  once (event, callback) {\r\n    if (!this._events[event]) {\r\n      this._events[event] = []\r\n    }\r\n\r\n    let {_events, _bind} = this\r\n    let spliceIndex = _events[event].length\r\n    this._events[event].push((...args) => {\r\n      callback.apply(_bind, args)\r\n      _events[event].splice(spliceIndex, 1)\r\n    })\r\n    return this\r\n  }\r\n\r\n  off (event, callback) {\r\n    let {_events} = this\r\n\r\n    if (event === undefined || !_events[event]) {\r\n      return this\r\n    }\r\n\r\n    if (callback) {\r\n      this._events[event] = this._events[event].filter(cb => cb !== callback)\r\n    } else {\r\n      this._events[event].length = 0\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  emit (event, arg1, arg2, arg3, arg4) {\r\n    let {_events, _bind} = this\r\n\r\n    if (event === undefined || !_events[event]) {\r\n      return this\r\n    }\r\n\r\n    let _event = _events[event]\r\n\r\n    for (let i = 0, length = _event.length; i < length; i++) {\n      _event[i].call(_bind, arg1, arg2, arg3, arg4)\n    }\r\n  }\r\n}\r\n","import {\n  add,\n  remove,\n  now,\n  nextId,\n  Plugins\n}\n  from './core'\nimport Easing from './Easing'\nimport Interpolation from './Interpolation'\nimport SubTween from './SubTween'\nimport Store from './Store'\nimport EventClass from './Event'\n\nconst defaultEasing = Easing.Linear.None\n\n// Events list\nconst EVENT_UPDATE = 'update'\nconst EVENT_COMPLETE = 'complete'\nconst EVENT_START = 'start'\nconst EVENT_REPEAT = 'repeat'\nconst EVENT_REVERSE = 'reverse'\nconst EVENT_PAUSE = 'pause'\nconst EVENT_PLAY = 'play'\nconst EVENT_RS = 'restart'\nconst EVENT_STOP = 'stop'\nconst EVENT_SEEK = 'seek'\n\nclass Tween extends EventClass {\n  static fromTo (from, instance) {\n    return new Tween(from, instance)\n  }\n  constructor (object = {}, instate) {\n    super()\n\n    if (object.node) {\n      this.node = object.node\n      delete object.node\n    }\n    this.object = object\n    this._valuesStart = Tween.createEmptyConst(object)\n    this._valuesEnd = Tween.createEmptyConst(object)\n\n    this._duration = 1000\n    this._easingFunction = defaultEasing\n    this._interpolationFunction = Interpolation.Linear\n\n    this._startTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this.id = nextId()\n    this._plugins = {}\n\n    if (instate && instate.to) {\n      return new Tween(object)\n        .to(instate.to, instate)\n    }\n\n    return this\n  }\n\n  static createEmptyConst (oldObject) {\n    return typeof (oldObject) === 'number' ? 0 : Array.isArray(oldObject) ? [] : typeof (oldObject) === 'object' ? {}\n      : ''\n  }\n\n  static checkValidness (valid) {\n    return valid !== undefined && valid !== null && valid !== '' && ((typeof valid === 'number' && !isNaN(valid)) || typeof valid !== 'number') && valid !== Infinity\n  }\n\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  reverse () {\n    const {\n      _reversed\n    } = this\n\n    this._reversed = !_reversed\n\n    return this\n  }\n\n  reversed () {\n    return this._reversed\n  }\n\n  useActiveMode () {\n    this.object = Store.add(this.object)\n    return this\n  }\n\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  restart (noDelay) {\n    this._repeat = this._r\n    this._startTime = now() + (noDelay ? 0 : this._delayTime)\n\n    if (!this._isPlaying) {\n      add(this)\n    }\n\n    return this.emit(EVENT_RS, this._object)\n  }\n\n  seek (time, keepPlaying) {\n    this._startTime = now() + Math.max(0, Math.min(\n      time, this._duration))\n\n    this.emit(EVENT_SEEK, time, this._object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  duration (amount) {\n    this._duration = typeof (amount) === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  to (properties = {}, duration = 1000) {\n    if (typeof properties === 'object') {\n      this._valuesEnd = properties\n    }\n\n    if (typeof duration === 'number') {\n      this._duration = typeof (duration) === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (let prop in duration) {\n        if (this[prop]) {\n          this[prop](...(Array.isArray(duration) ? duration : [duration]))\n        }\n      }\n    }\n\n    return this\n  }\n\n  render () {\n    if (this._rendered) {\n      return this\n    }\n\n    let {\n      _valuesEnd,\n      object\n    } = this\n\n    for (let property in _valuesEnd) {\n      let isPluginProp = Plugins[property]\n      if (isPluginProp) {\n        isPluginProp = this._plugins[property] = new Plugins[property](this, object[property], _valuesEnd[property])\n        isPluginProp.preprocess && isPluginProp.preprocess(object[property], _valuesEnd[property])\n      }\n      if (typeof _valuesEnd[property] === 'object' && _valuesEnd[property]) {\n        this._valuesEnd[property] = SubTween(object[property], _valuesEnd[property])\n        if (typeof this._valuesEnd[property] === 'function') {\n          this.object[property] = this._valuesEnd[property](0)\n        }\n      } else if (typeof _valuesEnd[property] === 'string' && typeof object[property] === 'string') {\n        this._valuesEnd[property] = SubTween(object[property], _valuesEnd[property])\n        if (typeof this._valuesEnd[property] === 'function') {\n          this.object[property] = this._valuesEnd[property](0)\n        }\n      }\n\n      // If `to()` specifies a property that doesn't exist in the source object,\n      // we should not set that property in the object\n      if (Tween.checkValidness(object[property]) === false) {\n        continue\n      }\n\n      // If duplicate or non-tweening numerics matched,\n      // we should skip from adding to _valuesStart\n      if (object[property] === _valuesEnd[property]) {\n        continue\n      }\n\n      this._valuesStart[property] = object[property]\n\n      if (isPluginProp) {\n        isPluginProp.postprocess && isPluginProp.postprocess(this.object[property], this._valuesEnd[property])\n      }\n    }\n\n    return this\n  }\n\n  start (time) {\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += this._delayTime\n\n    this.render()\n    this._rendered = true\n\n    add(this)\n\n    this.emit(EVENT_START, this.object)\n\n    this._isPlaying = true\n\n    return this\n  }\n\n  stop () {\n    let {\n      _isPlaying,\n      object\n    } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    remove(this)\n    this._isPlaying = false\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  end () {\n    const {\n      _startTime,\n      _duration\n    } = this\n\n    return this.update(_startTime + _duration)\n  }\n\n  delay (amount) {\n    this._delayTime = typeof (amount) === 'function' ? amount(this._delayTime) : amount\n    this._startTime += this._delayTime\n\n    return this\n  }\n\n  repeat (amount) {\n    this._repeat = typeof (amount) === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n\n    return this\n  }\n\n  repeatDelay (amount) {\n    this._repeatDelayTime = typeof (amount) === 'function' ? amount(this._repeatDelayTime) : amount\n\n    return this\n  }\n\n  reverseDelay (amount) {\n    this._reverseDelayTime = typeof (amount) === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  yoyo (state) {\n    this._yoyo = typeof (state) === 'function' ? state(this._yoyo) : state\n\n    return this\n  }\n\n  easing (fn) {\n    this._easingFunction = fn\n\n    return this\n  }\n\n  interpolation (fn) {\n    this._interpolationFunction = fn\n\n    return this\n  }\n\n  get (time) {\n    this.update(time)\n    return this.object\n  }\n\n  update (time) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _interpolationFunction,\n      _repeat,\n      _repeatDelayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      _plugins,\n      object\n    } = this\n\n    let property\n    let elapsed\n    let value\n\n    time = time !== undefined ? time : now()\n\n    if (time < _startTime) {\n      return true\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n\n        this.emit(EVENT_START, object)\n\n        this._rendered = true\n      }\n\n      this._onStartCallbackFired = true\n    }\n\n    elapsed = (time - _startTime) / _duration\n    elapsed = elapsed > 1 ? 1 : elapsed\n    elapsed = _reversed ? 1 - elapsed : elapsed\r\n\r\n    value = typeof _easingFunction === 'function' ? _easingFunction(elapsed) : defaultEasing(elapsed)\n\n    for (property in _valuesEnd) {\n      // Don't update properties that do not exist in the source object\n      if (_valuesStart[property] === undefined) {\n        continue\n      }\n\n      let start = _valuesStart[property]\n      let end = _valuesEnd[property]\n      let plugin = _plugins[property]\n      value = _easingFunction[property] ? _easingFunction[property](elapsed) : value\n\n      if (plugin) {\n        plugin.update(value, elapsed, _reversed)\n      } else if (typeof end === 'function') {\n        object[property] = end(value)\n      } else if (Array.isArray(end)) {\n        object[property] = _interpolationFunction(end, value)\n      } else if (typeof (end) === 'string') {\n        if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n          end = start + parseFloat(end)\n        } else {\n          end = parseFloat(end)\n        }\n\n        // Protect against non numeric properties.\n        if (typeof (end) === 'number') {\n          object[property] = start + (end - start) * value\n        }\n      } else if (typeof (start) === 'number') {\n        object[property] = start + (end - start) * value\n      }\n    }\r\n\r\n    this.emit(EVENT_UPDATE, object, value, elapsed)\n\n    this.object = object\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (isFinite(_repeat)) {\n          this._repeat--\n        }\n\n        for (property in _valuesEnd) {\n          if (typeof (_valuesEnd[property]) === 'string' && typeof (_valuesStart[property]) === 'number') {\n            this._valuesStart[property] = _valuesStart[property] + parseFloat(_valuesEnd[property])\n          }\n        }\n\n        // Reassign starting values, restart by making startTime = now\n        this.emit(_reversed ? EVENT_REVERSE : EVENT_REPEAT, object)\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        }\n\n        if (!_reversed && _repeatDelayTime) {\n          this._startTime += _duration + _repeatDelayTime\n        } else if (_reversed && _reverseDelayTime) {\n          this._startTime += _duration + _reverseDelayTime\n        } else {\n          this._startTime += _duration\n        }\n\n        return true\n      } else {\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","import Tween from './Tween'\r\nimport { add, now, nextId } from './core'\r\n\r\nclass Timeline extends Tween {\r\n  constructor (params) {\r\n    super()\r\n    this._totalDuration = 0\r\n    this._startTime = now()\r\n    this._tweens = {}\r\n    this._elapsed = 0\r\n    this._id = nextId()\r\n    this._labels = {}\r\n    this._defaultParams = params\r\n\r\n    return this\r\n  }\r\n\r\n  setLabel (name, value) {\r\n    this._labels[name] = this.parsePosition(0, value, 0)\r\n    return this\r\n  }\r\n\r\n  parsePosition (startTime, input, total) {\r\n    let position = startTime + total\r\n\r\n    if (typeof input === 'string') {\n      for (let label in this._labels) {\n        if (input.indexOf(label) === 0) {\n          let inp = input.split(label)[1]\r\n\r\n          if (inp.length === 0 || (inp[0] === '+' || inp[0] === '-')) {\n            position = this._labels[label] + startTime\r\n            input = input.replace(label, '')\n          }\n        }\n      }\r\n\r\n      if (input.indexOf('+') === 0 || input.indexOf('-') === 0) {\n        position += parseFloat(input)\n      }\n    } else if (typeof input === 'number') {\n      position += input\n    }\r\n\r\n    return position\r\n  }\r\n\r\n  map (fn) {\r\n    for (let tween in this._tweens) {\r\n      fn(this._tweens[tween])\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  add (tween, position) {\n    if (typeof tween === 'object' && !(tween instanceof Tween)) {\n      tween = new Tween(tween.from, tween)\n    }\r\n\r\n    let {\r\n      _defaultParams,\r\n      _totalDuration\r\n    } = this\r\n\r\n    if (_defaultParams) {\r\n      for (let method in _defaultParams) {\r\n        tween[method](_defaultParams[method])\r\n      }\r\n    }\r\n\r\n    tween._startTime = this.parsePosition(0, position, _totalDuration)\r\n    tween._startTime += now()\r\n    this._totalDuration = Math.max(_totalDuration, tween._duration + tween._startTime)\r\n    this._tweens[tween.id] = tween\r\n    return this\r\n  }\r\n\r\n  restart () {\r\n    this._startTime += now()\r\n\r\n    add(this)\r\n\r\n    return this.emit('restart')\r\n  }\r\n\r\n  easing (easing) {\r\n    return this.map(tween => tween.easing(easing))\r\n  }\r\n\r\n  interpolation (interpolation) {\r\n    return this.map(tween => tween.interpolation(interpolation))\r\n  }\r\n\r\n  update (time) {\r\n    let {\r\n      _tweens,\r\n      _totalDuration,\r\n      _repeatDelayTime,\r\n      _reverseDelayTime,\r\n      _startTime,\r\n      _reversed,\r\n      _yoyo,\r\n      _repeat\r\n    } = this\r\n\r\n    if (time < _startTime) {\n      return true\n    }\r\n\r\n    let elapsed = Math.min(1, Math.max(0, (time - _startTime) / _totalDuration))\r\n    elapsed = _reversed ? 1 - elapsed : elapsed\r\n    this._elapsed = elapsed\r\n\r\n    let timing = time - _startTime\r\n    let _timing = _reversed ? _totalDuration - timing : timing\r\n\r\n    for (let tween in _tweens) {\r\n      let _tween = _tweens[tween]\r\n      if (_tween.skip || _tween.update(_timing)) {\r\n        continue\r\n      } else {\r\n        _tween.skip = true\r\n      }\r\n    }\r\n\r\n    this.emit('update', elapsed, timing)\r\n\r\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (isFinite(_repeat)) {\r\n          this._repeat--\r\n        }\r\n\r\n        // Reassign starting values, restart by making startTime = now\r\n        this.emit(_reversed ? 'reverse' : 'repeat')\r\n\r\n        if (_yoyo) {\r\n          this._reversed = !_reversed\r\n        }\r\n\r\n        if (!_reversed && _repeatDelayTime) {\r\n          this._startTime += _totalDuration + _repeatDelayTime\r\n        } else if (_reversed && _reverseDelayTime) {\r\n          this._startTime += _totalDuration + _reverseDelayTime\r\n        } else {\r\n          this._startTime += _totalDuration\r\n        }\r\n\r\n        for (let tween in _tweens) {\r\n          let _tween = _tweens[tween]\r\n          if (_tween.skip) {\r\n            _tween.skip = false\r\n          }\r\n        }\r\n\r\n        return true\n      } else {\n        this.emit('complete')\r\n        this._repeat = this._r\r\n\r\n        return false\n      }\n    }\r\n\r\n    return true\n  }\r\n\r\n  elapsed (value) {\r\n    return value !== undefined ? this.update(value * this._totalDuration) : this._elapsed\r\n  }\r\n\r\n  seek (value) {\r\n    return this.update(value < 1.1 ? value * this._totalDuration : value)\r\n  }\r\n}\r\nexport default Timeline\r\n"],"names":["toNumber","val","let","floatedVal","parseFloat","isNaN","_tick","_tweens","isStarted","_autoPlay","root","window","global","_nextId","_ticker","fn","requestAnimationFrame","setTimeout","_stopTicker","cancelAnimationFrame","clearTimeout","o","p","param","Object","defineProperty","setProp","enumerable","writable","value","const","add","tween","id","length","update","nextId","get","searchTween","remove","now","undefined","process","hrtime","time","performance","bind","offset","timing","navigationStart","Date","preserve","i","Plugins","document","timeDiff","timePause","addEventListener","hidden","_startTime","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","Interpolation","v","m","f","floor","Utils","Bezier","b","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","a","p2","p3","v0","v1","t2","colorMatch","isIncrementReqForColor","numRegExp","hexColor","trimRegExp","hexReplace","all","hex","r","g","parseInt","substr","trim","str","replace","SubTween","start","end","roundv","nodeType","Array","isArray","isColorPropsExist","startIndex","map","test","endIndex","property","to","isSame","_startMap","match","_endMap","_tween","_t","unshift","push","Store","JSON","stringify","EventClass","this","_events","scope","_bind","on","event","callback","once","spliceIndex","apply","args","splice","off","filter","cb","emit","arg1","arg2","arg3","arg4","_event","call","defaultEasing","Tween","object","instate","super","node","_valuesStart","createEmptyConst","_valuesEnd","_duration","_easingFunction","_interpolationFunction","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_onStartCallbackFired","_pausedTime","_plugins","fromTo","from","instance","oldObject","checkValidness","valid","Infinity","isPlaying","reverse","reversed","useActiveMode","pause","play","restart","noDelay","_object","seek","keepPlaying","max","min","duration","amount","properties","prop","ref","render","_rendered","isPluginProp","preprocess","postprocess","stop","delay","repeat","repeatDelay","_repeatDelayTime","reverseDelay","_reverseDelayTime","yoyo","state","easing","interpolation","elapsed","plugin","charAt","isFinite","Timeline","params","_totalDuration","_elapsed","_id","_labels","_defaultParams","setLabel","name","parsePosition","startTime","input","total","position","label","indexOf","inp","split","method","_timing","skip"],"mappings":"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"}