/*! cta.js - v0.1.0 - 2015-03-30
* http://kushagragour.in/lab/ctajs/
* Copyright (c) 2015 Kushagra Gour; Licensed MIT */

!function(){function a(a){for(var b,c=0,d="string"==typeof a?a.split(/\s*,\s*/):[],e=d.length;e--;)b=d[e],c=Math.max(parseFloat(b)||0,c);return c}function b(b){var c=0,f=0,j=0,k=0,l=window.getComputedStyle(b)||{},m=l[d+g];c=Math.max(a(m),c);var n=l[d+h];f=Math.max(a(n),f);l[e+h];k=Math.max(a(l[e+h]),k);var o=a(l[e+g]);return o>0&&(o*=parseInt(l[e+i],10)||1),j=Math.max(o,j),j||c}function c(a,d,e,g){if(!f)return void(g&&g(d));var h,i,k,l,m,n=1;return"function"==typeof e&&(g=e,e={}),e=e||{},e.duration=e.duration||j.duration,e.targetShowDuration=e.targetShowDuration||b(d)||j.targetShowDuration,e.relativeToWindow=e.relativeToWindow||j.relativeToWindow,"none"===window.getComputedStyle(d).display&&d.style.setProperty("display","block","important"),h=window.getComputedStyle(d).background,i=window.getComputedStyle(a).background,k=d.getBoundingClientRect(),l=a.getBoundingClientRect(),scaleXRatio=l.width/k.width,scaleYRatio=l.height/k.height,diffX=l.left-k.left,diffY=l.top-k.top,d.style.removeProperty("display"),m=document.createElement("div"),m.style.setProperty("pointer-events","none","important"),m.style.setProperty("position",e.relativeToWindow?"fixed":"absolute","important"),m.style.setProperty("transform-origin","top left","important"),m.style.setProperty("transition",e.duration+"s ease"),m.style.setProperty("width",k.width+"px","important"),m.style.setProperty("height",k.height+"px","important"),m.style.setProperty("left",k.left+(e.relativeToWindow?0:window.pageXOffset)+"px","important"),m.style.setProperty("top",k.top+(e.relativeToWindow?0:window.pageYOffset)+"px","important"),m.style.setProperty("background",i,"important"),m.style.setProperty("transform","translate("+diffX+"px, "+diffY+"px) scale("+scaleXRatio+", "+scaleYRatio+")","important"),document.body.appendChild(m),requestAnimationFrame(function(){m.style.setProperty("background",h,"important"),m.style.removeProperty("transform"),m.addEventListener("transitionend",function a(){m.removeEventListener("transitionend",a),g&&g(d),m.style.transitionDuration=e.targetShowDuration+n+"s",m.style.opacity=0,setTimeout(function(){m.parentNode.removeChild(m)},1e3*(e.targetShowDuration+n))})}),function(b,e){c(d,a,b,e)}}var d,e,f=/chrome/.test(navigator.userAgent.toLowerCase()),g="Duration",h="Delay",i="IterationCount";d=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"WebkitTransition":"transition",e=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend?"WebkitAnimation":"animation";var j={duration:.3,targetShowDuration:0,extraTransitionDuration:1,relativeToWindow:!1};c.isSupported=f,"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define([],c):window.cta=c}();