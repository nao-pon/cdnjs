/*!
 * Copyright (c) 2017 NAVER corp
 * @egjs/persist projects are licensed under the MIT <https://naver.github.io/egjs/license.txt> license
 * 
 * @egjs/persist JavaScript library
 * https://github.com/naver/egjs/persist
 * 
 * @version 2.0.0-rc.1
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Persist=t():(e.eg=e.eg||{},e.eg.Persist=t())}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window&&window||{};t.window=n;t.document=n.document,t.history=n.history,t.localStorage=n.localStorage,t.location=n.location,t.sessionStorage=n.sessionStorage,t.navigator=n.navigator,t.JSON=n.JSON,t.RegExp=n.RegExp,t.parseFloat=n.parseFloat,t.performance=n.performance},function(e,t,o){"use strict";function n(){return r.performance.navigation.type===a}Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),i=r.navigator.userAgent,a=r.performance.navigation.TYPE_BACK_FORWARD||2,u=function(){var e=new r.RegExp("iPhone|iPad","i").test(i),t=new r.RegExp("Mac","i").test(i)&&!new r.RegExp("Chrome","i").test(i)&&new r.RegExp("Apple","i").test(i),o=new r.RegExp("Android ","i").test(i),n=new r.RegExp("wv; |inapp;","i").test(i),a=o?(0,r.parseFloat)(new r.RegExp("(Android)\\s([\\d_\\.]+|\\d_0)","i").exec(i)[2]):void 0;return!(e||t||o&&(a<=4.3&&n||a<3))}();t.default={isBackForwardNavigated:n,isNeeded:u},e.exports=t.default},function(e,t,o){"use strict";function n(e,t){return"string"!=typeof e?void console.warn("first param must be a string!"):((t||2===arguments.length)&&i.default.setStateByKey(e,t),i.default.getStateByKey(e))}Object.defineProperty(t,"__esModule",{value:!0});var r=o(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=o(1);n.isNeeded=function(){return a.isNeeded},n.VERSION="2.0.0-rc.1",t.default=n,e.exports=t.default},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="___persist___",e.exports=t.default},function(e,t,o){"use strict";var n=o(2),r=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports=r.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e){var t="__tmp__"+m.default;try{return e.setItem(t,m.default),e.getItem(t)===m.default}catch(e){return!1}}}function i(){console.warn("window.history or session/localStorage has no valid format data to be handled in persist.")}function a(){return S?y.location.href+m.default:void 0}function u(){return S}function s(){var e=void 0,t=S?S.getItem(y.location.href+m.default):y.history.state;if(null===t)return{};var o="string"==typeof t&&t.length>0&&"null"!==t;try{e=y.JSON.parse(t);var n=!("object"!==(void 0===e?"undefined":p(e))||e instanceof Array);if(!o||!n)throw new Error}catch(t){i(),e={}}return e}function f(e){if(w||S){var t=s()[e];return"null"!==t&&void 0!==t||(t=null),t}}function l(e){if(S)e?S.setItem(y.location.href+m.default,y.JSON.stringify(e)):S.removeItem(y.location.href+m.default);else try{y.history.replaceState(null===e?null:y.JSON.stringify(e),document.title,y.location.href)}catch(e){console.warn(e.message)}e?y.window[m.default]=!0:delete y.window[m.default]}function c(e,t){if(w||S){var o=s();o[e]=t,l(o)}}function d(){l(null)}Object.defineProperty(t,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=o(0),g=o(1),v=n(g),_=o(3),m=n(_),w="replaceState"in y.history&&"state"in y.history,S=function(){var e=void 0;return r(y.sessionStorage)?e=y.sessionStorage:r(y.localStorage)&&(e=y.localStorage),e}();!v.default.isBackForwardNavigated()&&d(),t.default={reset:d,setStateByKey:c,getStateByKey:f,getStorageKey:a,getStorage:u},e.exports=t.default}])});
//# sourceMappingURL=persist.min.js.map