var Tracing=function(){function n(){}function t(n){return"function"==typeof n}function r(n){return void 0===n||null===n}function o(n){return!r(y[n])}function i(n){return"string"==typeof n}function e(n){return u(n,[])}function f(n,t){for(var r in n)n.hasOwnProperty(r)&&t(r,n[r])}function u(n,t){return f(n,function(n,r){t[n]=r}),t}function a(n,t){for(var r=n.split("."),o=d,i=0;i<r.length;i++){if(!(r[i]in o))throw"Property "+r.slice(0,i+1).join(".")+" not found!";arguments.length>1&&i==r.length-1&&(o[r[i]]=t),o=o[r[i]]}return o}function c(n,t,r){t=t.map(JSON.stringify),console.log(">"+new Array(r+1).join("  ")+n+" called with arguments: ("+t.join(", ")+")")}function l(n,t,r){console.log(">"+new Array(r+1).join("  ")+n+" returned: "+JSON.stringify(t))}function h(r){var i=a(r);if(!t(i))throw"Not a valid function to trace!";if(o(r))throw"This function is already being traced!";y[r]={original:i,before:n,after:n};var f=function(){var n,t=y[r];return w++,t.before.call(this,r,e(arguments),w),n=t.original.apply(this,arguments),t.after.call(this,r,n,w),w--,n};u(i,f),f.prototype=i.prototype,a(r,f)}function s(n){if(!i(n))throw"The function name should be a string.";if(!o(n))throw"This function is not being traced!";var t=a(n),r=y[n];u(t,r.original),r.prototype=t.prototype,a(n,r.original),delete y[n]}function g(r,e){if(!i(r))throw"The function name should be a string.";return o(r)||h(r),t(e)?e:n}function p(n,t){var r=g(n,t);y[n].before=r}function v(n,t){var r=g(n,t);y[n].after=r}var y={},d=Function("return this")(),w=0;return{trace:function(n){for(var t=0;t<arguments.length;t++)p(arguments[t],c),v(arguments[t],l)},before:function(n,t){p(n,t)},after:function(n,t){v(n,t)},untrace:function(n){if(arguments.length>0)for(var t=0;t<arguments.length;t++)s(arguments[t]);else f(y,s)}}}();