// Response 0.3.1 | responsejs.com | MIT License
window.Response=function(j,e,g,v,G){function Q(a){var b="scroll."+j,d="allLoaded."+j;H(a,function(a){a instanceof Object||h("create @args must be object(s)");var c=R(ha).configure(a),p,e=c.verge,a=c.breakpoints;a.length&&(p=a[0]||a[1]||!1,q.ready(function(a){function f(){c.reset();k(c.$,function(a,b){c[b].decideValue().updateDOM()}).trigger(d)}function g(){k(c.$,function(a,b){I(c[b].$,e)&&c[b].updateDOM()})}a=!!c.lazy;k(c.target().$,function(b,f){c[f]=R(c).prepareData(b);(!a||I(c[f].$,e))&&c[f].updateDOM()});
if(c.dynamic&&p<r)l.on("resize."+j,f);a&&(l.on(b,g),c.$.one(d,function(){l.off(b,g)}))}))});return m}function J(){J.on||(e.fn.dataset=s,e.fn.deletes=S,k(["inX","inY","inViewport"],function(a){e.fn[a]=function(b,d){return e(t(this,function(f){return!d===m[a](f,b)}))}}),J.on=1);return m}var m,n=v.documentElement,q=e(v),l=e(g),T="i"+j,h=function(a){throw"Error using Response."+(a||"");},ia=!!g.JSON&&!!JSON.parse,ja=function(a){a.setAttribute("data-a-b",j);return!!(a.dataset&&a.dataset.aB===j)}(v.createElement(j)),
K=e!==g.jQuery?e:function(a){return a instanceof e?a:e(a)},R=Object.create||function(a){function b(){}b.prototype=a;return new b},L=Array.isArray||e.isArray,o=function(a,b,d){for(var f=[],c=-1,e=a.length;c++<e;)c in a&&(f[c]=b.call(d,a[c]));return f},k=function(a,b){for(var d=-1,f=a.length;d++<f;)d in a&&b(a[d],d,a);return a},w=function(a,b,d){for(var f=[],c=a.length,b=b||"",d=d||"";c&&c--;)c in a&&(f[c]=b+a[c]+d);return f},t=function(a,b,d){var f=-1,c=[],e=a.length;if(b)for(d=!!d;f++<e;)d===!b(a[f],
f)&&c.push(a[f]);else for(;f++<e;)a[f]&&c.push(a[f]);return c},ka=/[^a-z0-9_\-\.]/gi,la=/([a-z])([A-Z])/g,ma=/-(.)/g,M=/^data-(.+)$/,na=/\s+/,oa=/([^a-z0-9_\-])/gi,pa=function(a){return a.replace(oa,"\\$1")},U=function(a){return a.replace(M,"$1").replace(ma,function(a,d){return d.toUpperCase()})},x=function(a){return"data-"+(a?a.replace(M,"$1").replace(la,"$1-$2").toLowerCase():a)},y=function(a){return"string"===typeof a?a.split(na):a},qa=function(a){return"string"===typeof a?a.toLowerCase().replace(ka,
""):""},V=function(a){var b;return!a||"string"!==typeof a?a:"true"===a?!0:"false"===a?!1:"undefined"===a?G:"null"===a?null:isFinite(b=parseFloat(a))?b:a},N=function(a,b,d){e.each(b,function(b,c){a[b]=c||d?c:a[b]});return a},H=function(a,b){return L(a)?o(a,b):b(a)},s=function(a,b){var d=arguments.length,f=(this&&this.nodeType&&1===this.nodeType?this:this[0]&&this[0].nodeType&&1===this[0].nodeType?this[0]:!1)||h("dataset @elem"),c,p=!1,i;if(d){L(a)&&(p=!0,a=a[0]);if("string"===typeof a){a=x(a);if(1===
d)return c=f.getAttribute(a),p?V(c):c;if(this===f||2>(i=this.length||1))f.setAttribute(a,b);else for(;i--;)i in this&&s.apply(this[i],arguments)}else if(a instanceof Object)for(i in a)a.hasOwnProperty(i)&&s.call(this,i,a[i]);return this}if(ja)return f.dataset;c={};e.each(f.attributes,function(a,b){if(M.test(b.nodeName)){var f=U(b.nodeName);c[f]=b.nodeValue}});return c},S=function(a){if("string"===typeof a){var b=K(this);k(y(a),function(a){a&&b.removeAttr(x(a))})}return this},z=function(a,b,d){return s.apply(a,
[].slice.call(arguments).slice(1))},A=g.screen.width,B=g.screen.height,r=Math.max(A,B),C=n.clientWidth?function(){return n.clientWidth}:function(){return l.width()},D=n.clientHeight?function(){return n.clientHeight}:function(){return l.height()},E=function(a,b,d){b=b||0;return!d?a>=b:a>=b&&a<=d},W=function(){var a=q.width()-C();return 0<a?a:0},X=function(){var a=q.height()-D();return 0<a?a:0},Y=function(){return g.pageXOffset||n.scrollLeft},Z=function(){return g.pageYOffset||n.scrollTop},$=function(a,
b,d,f,c){c="number"===typeof c?c:0;return d+f>=a-c&&a+b>=d-c},aa=function(a,b){a=K(a);return a.length&&$(a.offset().left,a.width(),Y(),C(),b)},ba=function(a,b){a=K(a);return a.length&&$(a.offset().top,a.height(),Z(),D(),b)},I=function(a,b){return(!W()||aa(a,b))&&(!X()||ba(a,b))},ca=function(a,b){return E(C(),a,b)},da=function(a,b){return E(D(),a,b)},O={band:function(a,b){return E(A,a,b)},wave:function(a,b){return E(B,a,b)}},F=g.matchMedia||g.msMatchMedia,u=function(a){var b=g.devicePixelRatio;if(!arguments.length)return b||
(u(2)?2:u(1.5)?1.5:u(1)?1:0);if(!isFinite(a))return!1;if(b)return b>=a;a="only all and (min--moz-device-pixel-ratio:"+a+")";return!F?!1:F(a).matches||F(a.replace("-moz-","")).matches},ea=function(a){var b={IMG:1,INPUT:1,SOURCE:3,EMBED:3,TRACK:3,IFRAME:5,AUDIO:5,VIDEO:5,SCRIPT:5}[a.tagName.toUpperCase()]||-1;return 4>b?b:"string"===typeof a.getAttribute("src")?5:-5},fa=function(a,b,d){a&&b||h("store");k(a,function(a){if(d||!z(a,b))z(a,b,0<ea(a)?a.getAttribute("src"):e(a).html()||"")});return m},ga=
function(a){return w(o(o(a,pa),x),"[","]").join()},P=function(a,b){return a&&b&&b.length?o(y(b),s,a):[]},ha=function(){var a=[],b={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},d={width:ca,height:da};d["device-width"]=O.band;d["device-height"]=O.wave;d["device-pixel-ratio"]=u;return{e:0,$:0,mode:0,breakpoints:0,prefix:0,prop:"width",keys:[],dynamic:0,values:[],method:0,verge:G,newValue:0,currValue:1,aka:0,lazy:0,valid8:function(a,c){this.breakpoints?(a=L(a)?t(a,isFinite).sort(function(a,
b){return a-b}):[],a.length||h("create @breakpoints")):(c=this.prop,a=b[c]||b[c.split("-").pop()]||h("create @prop"));this.breakpoints=t(a,function(a){return a<=r})},reset:function(){a=[!0];return this},memoize:function(b){"boolean"!==typeof a[b]&&(a[b]=this.method(b));return a[b]},configure:function(a){var b,e;N(this,a,!0);this.verge=isFinite(this.verge)?this.verge:Math.min(r,500);this.method=d[this.prop]||h("create @prop");this.dynamic="d"!==this.prop[0];b=this.prefix?t(o(y(this.prefix),qa)):["min-"+
this.prop+"-"];a=1<b.length?b.slice(1):0;this.prefix=b[0];this.valid8();this.keys=w(this.breakpoints,this.prefix);this.aka=G;if(a){e=[];for(b=a.length;b--;)e.push(w(this.breakpoints,a[b]));this.aka=e}return this},target:function(){this.$=e(ga([].concat.apply(this.keys,this.aka||[])));fa(this.$,T);this.keys.push(T);return this},decideValue:function(){for(var a=0,b=this.breakpoints,d=b.length,e=d;!a&&e--;)this.memoize(b[e])&&(a=this.values[e]);this.newValue=a||this.values[d];return this},prepareData:function(a){this.e=
a;this.$=e(a);this.mode=ea(this.e);this.values=P(this.$,this.keys);if(this.aka)for(a=this.aka.length;a--;)this.values=N(this.values,P(this.$,this.aka[a]));return this.decideValue()},updateDOM:function(){if(this.currValue===this.newValue)return this;this.currValue=this.newValue;return 0<this.mode?this.e.setAttribute("src",this.newValue):this.$.html(this.newValue)}}}();m={viewportW:C,viewportH:D,deviceW:A,deviceH:B,deviceMax:r,deviceMin:A+B-r,inX:aa,inY:ba,inViewport:I,scrollX:Y,scrollY:Z,overflowX:W,
overflowY:X,band:ca,wave:da,device:O,dpr:u,action:function(a){H(a,function(a){"function"===typeof a||h("action");q.ready(a);l.resize(a)});return this},dataset:z,deletes:function(a,b){return S.call(a,b)},route:H,merge:N,store:fa,target:function(a){return e(ga(y(a)))},access:P,create:Q,media:F,render:V,decide:function(){h("decide: method depreciated")},chain:J,camelize:U,datatize:x,map:o,each:k,sift:t,affix:w};q.ready(function(a){if(a=z(v.body,"responsejs"))a=ia?JSON.parse(a):e.parseJSON?e.parseJSON(a):
{},a.create&&Q(a.create)});return m}("Response",this.jQuery||this.Zepto,this,this.document);