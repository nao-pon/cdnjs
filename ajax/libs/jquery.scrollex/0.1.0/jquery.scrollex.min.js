/* jquery.scrollex v0.1.0 | (c) n33 | n33.co @n33co | MIT */
(function(e){function v(e,r,i){return typeof e=="string"&&(e.slice(-1)=="%"?e=parseInt(e[t](0,e[n]-1))/100*r:e.slice(-2)=="vh"?e=parseInt(e[t](0,e[n]-2))/100*i:e.slice(-2)=="px"&&(e=parseInt(e[t](0,e[n]-2)))),e}var t="substring",n="length",r="scroll",i="_scrollexId",s="default",o=null,u="options",a="apply",f="element",l="initialize",c="unscrollex",h=e(window),p=1,d={};h.on(r,function(){var t=h.scrollTop();e.map(d,function(e){e.handler(t)})}).on("load",function(){h.trigger(r)}),jQuery.fn.scrollex=function(t){var c,m,g,y,b,w,E=e(this);if(this[n]==0)return E;if(this[n]>1){for(c=0;c<this[n];c++)e(this[c]).scrollex(t);return E}if(E.data(i))return E;m=p++,g=jQuery.extend({top:0,bottom:0,mode:s,enter:o,leave:o,initialize:o,terminate:o,scroll:o},t);switch(g.mode){case"top":y=function(e,t,n,r,i){return e>=r&&e<=i};break;case"bottom":y=function(e,t,n,r,i){return n>=r&&n<=i};break;case"middle":y=function(e,t,n,r,i){return t>=r&&t<=i};break;case"top-only":y=function(e,t,n,r){return e<=r&&r<=n};break;case"bottom-only":y=function(e,t,n,r,i){return n>=i&&i>=e};break;default:case s:y=function(e,t,n,r,i){return n>=r&&e<=i}}return b=function(e){var t=this.state,n=!1,i=this.$element.offset(),s=h.height(),o=e+s/2,l=e+s,c=this.$element.outerHeight(),p=i.top+v(this[u].top,c,s),d=i.top+c-v(this[u].bottom,c,s);n=this.test(e,o,l,p,d),n!=t&&(this.state=n,n?this[u].enter&&this[u].enter[a](this[f]):this[u].leave&&this[u].leave[a](this[f])),this[u][r]&&this[u][r][a](this[f],[(o-p)/(d-p)])},w={id:m,options:g,test:y,handler:b,state:!1,element:this,$element:E},d[m]=w,E.data(i,w.id),w[u][l]&&w[u][l][a](this),E},jQuery.fn[c]=function(){var t,r,s,o=e(this);if(this[n]==0)return o;if(this[n]>1){for(t=0;t<this[n];t++)e(this[t])[c]();return o}return r=o.data(i),r?(s=d[r],delete d[r],o.removeData(i),s[u].terminate&&s[u].terminate[a](this),o):o}})(jQuery);