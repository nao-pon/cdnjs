{"version":3,"sources":["closebrackets.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","getOption","conf","name","defaults","ensureBound","chars","i","length","ch","charAt","key","keyMap","handler","cm","handleChar","getConfig","deflt","state","closeBrackets","override","getModeAt","getCursor","contractSelection","sel","inverted","cmpPos","anchor","head","Pos","line","Pass","pairs","pos","indexOf","type","triples","identical","ranges","listSelections","opening","curType","range","cur","next","getRange","empty","isWordChar","enteringString","getLine","isClosingBracket","test","stringStartsAfter","left","right","operation","execCommand","sels","getSelections","replaceSelections","slice","setSelections","replaceSelection","triggerElectric","lastIndexOf","charsAround","str","token","getTokenAt","stream","StringStream","start","type1","getMode","explode","defineOption","val","old","Init","removeKeyMap","addKeyMap","Backspace","around","replaceRange","Enter","linesep","lineSeparator","indentLine"],"mappings":"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"}