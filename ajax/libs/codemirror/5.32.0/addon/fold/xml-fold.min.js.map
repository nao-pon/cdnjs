{"version":3,"sources":["xml-fold.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","Iter","cm","line","ch","range","this","text","getLine","min","Math","max","from","firstLine","to","lastLine","tagAt","iter","type","getTokenTypeAt","Pos","test","nextLine","prevLine","length","toTagEnd","gt","indexOf","lastSlash","lastIndexOf","selfClose","slice","toTagStart","lt","xmlTagStart","lastIndex","match","exec","index","toNextTag","found","toPrevTag","findMatchingClose","tag","stack","end","next","startLine","startCh","i","push","findMatchingOpen","prev","endLine","endCh","start","nameStartChar","RegExp","registerHelper","openTag","startPos","endPos","findMatchingTag","pos","a","b","cmp","here","open","close","at","findEnclosingTag","scanForClosingTag","name"],"mappings":"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"}