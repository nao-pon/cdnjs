!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define("picker",["vue"],e):"object"==typeof exports?exports.picker=e(require("vue")):(t.MINT=t.MINT||{},t.MINT.picker=e(t.Vue))}(this,function(t){return function(t){function e(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}({0:function(t,e,n){"use strict";t.exports=n(94)},1:function(e,n){e.exports=t},64:function(t,e){t.exports='<div class="picker-slot {{classNames}}" :style="{ flex: flex }"> <div v-if=!divider v-el:wrapper class=picker-slot-wrapper :class="{ dragging: dragging }" :style="{ height: contentHeight + \'px\' }"> <div class=picker-item v-for="itemValue in values" :class="{ \'picker-selected\': itemValue === value }">{{ itemValue }}</div> </div> <div v-if=divider>{{ content }}</div> </div>'},65:function(t,e){t.exports='<div class=picker :class="{ \'picker-3d\': rotateEffect }"> <div class=picker-toolbar v-if=showToolbar><slot></slot></div> <div class=picker-items> <picker-slot v-for="slot in slots" :values="slot.values || []" :text-align="slot.textAlign || \'center\'" :visible-item-count=visibleItemCount :class-name=slot.className :flex=slot.flex :value.sync=values[slot.valueIndex] :rotate-effect=rotateEffect :divider=slot.divider :content=slot.content></picker-slot> <div class=picker-center-highlight></div> </div> </div>'},93:function(t,e,n){var a,r;n(174),a=n(145),r=n(64),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},94:function(t,e,n){var a,r;n(175),a=n(146),r=n(65),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},115:function(t,e){var n=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},a=function(t,e){if(!t||!e)return!1;if(-1!=e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},r=function(t,e){if(t){for(var n=t.className,r=(e||"").split(" "),o=0,s=r.length;s>o;o++){var i=r[o];i&&(t.classList?t.classList.add(i):a(t,i)||(n+=" "+i))}t.classList||(t.className=n)}},o=function(t,e){if(t&&e){for(var r=e.split(" "),o=" "+t.className+" ",s=0,i=r.length;i>s;s++){var l=r[s];l&&(t.classList?t.classList.remove(l):a(t,l)&&(o=o.replace(" "+l+" "," ")))}t.classList||(t.className=n(o))}};t.exports={hasClass:a,addClass:r,removeClass:o}},116:function(t,e){var n=function(t,e){if(!t)return null;var a,r;if("string"==typeof t)return document.createTextNode(t);if(t.tag){a=document.createElement(t.tag);for(var o in t)if(t.hasOwnProperty(o)){if("content"===o||"tag"===o)continue;if("key"===o&&e){var s=t[o];s&&(e[s]=a);continue}a[o]=t[o]}var i=t.content;if(i)if("string"==typeof i)r=document.createTextNode(i),a.appendChild(r);else{i instanceof Array||(i=[i]);for(var l=0,u=i.length;u>l;l++){var c=i[l];r=n(c,e),a.appendChild(r)}}}return a};t.exports=n},117:function(t,e){var n=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),a=function(){return document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}(),r=function(t,e,r){var o=function(){r&&r.apply(this,arguments),a(t,e,o)};n(t,e,o)};t.exports={on:n,off:a,once:r}},118:function(t,e,n){var a=n(115),r=n(117),o=n(119),s=n(116);t.exports={on:r.on,off:r.off,once:r.once,getStyle:o.getStyle,setStyle:o.setStyle,removeClass:a.removeClass,addClass:a.addClass,hasClass:a.hasClass,create:s}},119:function(t,e){function n(t){return t.replace(a,function(t,e,n,a){return a?n.toUpperCase():n}).replace(r,"Moz$1")}var a=/([\:\-\_]+(.))/g,r=/^moz([A-Z])/,o=Number(document.documentMode),s=9>o?function(t,e){if(!t||!e)return null;e=n(e),"float"===e&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(a){return 1}break;default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(a){return t.style[e]}}:function(t,e){if(!t||!e)return null;e=n(e),"float"===e&&(e="cssFloat");try{var a=document.defaultView.getComputedStyle(t,"");return t.style[e]||a?a[e]:null}catch(r){return t.style[e]}},i=function(t,e,a){if(t&&e)if("object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&i(t,r,e[r]);else e=n(e),"opacity"===e&&9>o?t.style.filter=isNaN(a)?"":"alpha(opacity="+100*a+")":t.style[e]=a};t.exports={getStyle:s,setStyle:i}},120:function(t,e){!function(t){for(var e=0,n=["webkit","moz"],a=t.requestAnimationFrame,r=t.cancelAnimationFrame,o=n.length;--o>=0&&!a;)a=t[n[o]+"RequestAnimationFrame"],r=t[n[o]+"CancelAnimationFrame"];a&&r||(a=function(t){var n=+new Date,a=Math.max(e+16,n);return setTimeout(function(){t(e=a)},a-n)},r=clearTimeout),t.requestAnimationFrame=a,t.cancelAnimationFrame=r}(window)},124:function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){var r=function(t){e.drag&&e.drag(a?t.changedTouches[0]||t.touches[0]:t)},o=function s(t){a||(document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s)),document.onselectstart=null,document.ondragstart=null,n=!1,e.end&&e.end(a?t.changedTouches[0]||t.touches[0]:t)};t.addEventListener(a?"touchstart":"mousedown",function(t){n||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},a||(document.addEventListener("mousemove",r),document.addEventListener("mouseup",o)),n=!0,e.start&&(t.preventDefault(),e.start(a?t.changedTouches[0]||t.touches[0]:t)))}),a&&(t.addEventListener("touchmove",r),t.addEventListener("touchend",o),t.addEventListener("touchcancel",o))};var n=!1,a="ontouchstart"in window},125:function(t,e){"use strict";e.__esModule=!0;var n,a=document.documentElement.style,r=!1;window.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?n="presto":"MozAppearance"in a?n="gecko":"WebkitAppearance"in a?n="webkit":"string"==typeof navigator.cpuClass&&(n="trident");var o={trident:"-ms-",gecko:"-moz-",webkit:"-webkit-",presto:"-o-"}[n],s={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[n],i=document.createElement("div"),l=s+"Perspective",u=s+"Transform",c=o+"transform",f=s+"Transition",d=o+"transition",p=s.toLowerCase()+"TransitionEnd";void 0!==i.style[l]&&(r=!0);var v=function(t){var e={left:0,top:0};if(null===t||null===t.style)return e;var n=t.style[u],a=/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/g.exec(n);return a&&(e.left=+a[1],e.top=+a[3]),e},m=function(t,e,n){if((null!==e||null!==n)&&null!==t&&null!==t.style&&(t.style[u]||0!==e||0!==n)){if(null===e||null===n){var a=v(t);null===e&&(e=a.left),null===n&&(n=a.top)}h(t),r?t.style[u]+=" translate("+(e?e+"px":"0px")+","+(n?n+"px":"0px")+") translateZ(0px)":t.style[u]+=" translate("+(e?e+"px":"0px")+","+(n?n+"px":"0px")+")"}},h=function(t){if(null!==t&&null!==t.style){var e=t.style[u];e&&(e=e.replace(/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/g,""),t.style[u]=e)}};e["default"]={transformProperty:u,transformStyleName:c,transitionProperty:f,transitionStyleName:d,transitionEndProperty:p,getElementTranslate:v,translateElement:m,cancelTranslateElement:h}},145:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=a(r),s=n(124),i=a(s),l=n(125),u=a(l),c=n(118);n(120);var f=function(t,e){if(t){var n=u["default"].transformProperty;t.style[n]=t.style[n].replace(/rotateX\(.+?deg\)/gi,"")+(" rotateX("+e+"deg)")}},d=36,p={3:-45,5:-20,7:-15};e["default"]={props:{values:{type:Array,"default":function(){return[]}},value:{},visibleItemCount:{type:Number,"default":5},rotateEffect:{type:Boolean,"default":!1},divider:{type:Boolean,"default":!1},textAlign:{type:String,"default":"center"},flex:{},className:{},content:{}},data:function(){return{dragging:!1,animationFrameId:null}},computed:{classNames:function(){var t="picker-slot-",e=[];this.rotateEffect&&e.push(t+"absolute");var n=this.textAlign||"center";return e.push(t+n),this.divider&&e.push(t+"divider"),this.className&&e.push(this.className),e.join(" ")},contentHeight:function(){return d*this.visibleItemCount},valueIndex:function(){return this.values.indexOf(this.value)},dragRange:function(){var t=this.values,e=this.visibleItemCount;return[-d*(t.length-Math.ceil(e/2)),d*Math.floor(e/2)]}},methods:{value2Translate:function(t){var e=this.values,n=e.indexOf(t),a=Math.floor(this.visibleItemCount/2);return-1!==n?(n-a)*-d:void 0},translate2Value:function(t){t=Math.round(t/d)*d;var e=-(t-Math.floor(this.visibleItemCount/2)*d)/d;return this.values[e]},updateRotate:function(t,e){if(!this.divider){var n=this.dragRange,a=this.$els.wrapper;e||(e=a.querySelectorAll(".picker-item")),void 0===t&&(t=u["default"].getElementTranslate(a).top);var r=Math.ceil(this.visibleItemCount/2),o=p[this.visibleItemCount]||-20;[].forEach.call(e,function(e,a){var s=a*d,i=n[1]-t,l=s-i,u=l/d,p=o*u;p>180&&(p=180),-180>p&&(p=-180),f(e,p),Math.abs(u)>r?(0,c.addClass)(e,"picker-item-far"):(0,c.removeClass)(e,"picker-item-far")})}},planUpdateRotate:function(){var t=this,e=this.$els.wrapper;cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(function(){t.updateRotate()}),(0,c.once)(e,u["default"].transitionEndProperty,function(){t.animationFrameId=null,cancelAnimationFrame(t.animationFrameId)})},initEvents:function(){var t,e,n,a=this,r=this.$els.wrapper,s={};(0,i["default"])(r,{start:function(t){cancelAnimationFrame(a.animationFrameId),a.animationFrameId=null,s={range:a.dragRange,start:new Date,startLeft:t.pageX,startTop:t.pageY,startTranslateTop:u["default"].getElementTranslate(r).top},n=r.querySelectorAll(".picker-item")},drag:function(o){a.dragging=!0,s.left=o.pageX,s.top=o.pageY;var i=s.top-s.startTop,l=s.startTranslateTop+i;u["default"].translateElement(r,null,l),t=l-e||l,e=l,a.rotateEffect&&a.updateRotate(e,n)},end:function(){a.dragging=!1;var e,n=7,i=u["default"].getElementTranslate(r).top,l=new Date-s.start;300>l&&(e=i+t*n);var c=s.range;o["default"].nextTick(function(){var t;t=e?Math.round(e/d)*d:Math.round(i/d)*d,t=Math.max(Math.min(t,c[1]),c[0]),u["default"].translateElement(r,null,t),a.value=a.translate2Value(t),a.rotateEffect&&a.planUpdateRotate()}),s={}}})},doOnValueChange:function(){var t=this.value,e=this.$els.wrapper;u["default"].translateElement(e,null,this.value2Translate(t))},doOnValuesChange:function(){var t=this.$el,e=t.querySelectorAll(".picker-item");[].forEach.call(e,function(t,e){u["default"].translateElement(t,null,d*e)}),this.rotateEffect&&this.planUpdateRotate()}},ready:function(){this.ready=!0,this.divider||(this.initEvents(),this.doOnValueChange()),this.rotateEffect&&this.doOnValuesChange()},watch:{values:function(t){var e=this;-1===this.valueIndex&&(this.value=(t||[])[0]),this.rotateEffect&&o["default"].nextTick(function(){e.doOnValuesChange()})},value:function(){this.doOnValueChange(),this.rotateEffect&&this.planUpdateRotate(),this.$dispatch("slotValueChange",this)}}}},146:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"mt-picker",props:{slots:{type:Array},showToolbar:{type:Boolean,"default":!1},visibleItemCount:{type:Number,"default":5},rotateEffect:{type:Boolean,"default":!1}},beforeCompile:function(){var t=this.slots||[];this.values=[];var e=this.values,n=0;t.forEach(function(t){t.divider||(t.valueIndex=n++,e[t.valueIndex]=(t.values||[])[t.defaultIndex||0])})},methods:{getSlot:function(t){var e,n=this.slots||[],a=0,r=this.$children;return n.forEach(function(n,o){n.divider||(t===a&&(e=r[o]),a++)}),e},getSlotValue:function(t){var e=this.getSlot(t);return e?e.value:null},setSlotValue:function(t,e){var n=this.getSlot(t);n&&(n.value=e)},getSlotValues:function(t){var e=this.getSlot(t);return e?e.values:null},setSlotValues:function(t,e){var n=this.getSlot(t);n&&(n.values=e)},getValues:function(){return this.values},setValues:function(t){var e=this,n=this.slotCount;if(t=t||[],n!==t.length)throw new Error("values length is not equal slot count.");t.forEach(function(t,n){e.setSlotValue(n,t)})}},events:{slotValueChange:function(){this.$emit("change",this,this.values)}},computed:{values:function a(){var t=this.slots||[],a=[];return t.forEach(function(t){t.divider||a.push(t.value)}),a},slotCount:function(){var t=this.slots||[],e=0;return t.forEach(function(t){t.divider||e++}),e}},components:{PickerSlot:n(93)}}},174:function(t,e){},175:function(t,e){}})});