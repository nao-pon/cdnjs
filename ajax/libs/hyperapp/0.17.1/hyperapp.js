!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd||n(e.hyperapp={})}(this,function(e){"use strict";e.h=function(e,n){for(var t,r=[],o=[],i=arguments.length;i-- >2;)r.push(arguments[i]);for(;r.length;)if(Array.isArray(t=r.pop()))for(i=t.length;i--;)r.push(t[i]);else null==t||!0===t||!1===t||o.push("number"==typeof t?t+"":t);return"string"==typeof e?{tag:e,props:n||{},children:o}:e(n||{},o)},e.app=function(e,n,t){function r(e,n){return e&&{tag:e.tagName.toLowerCase(),props:{},children:n.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:r(e,n)})}}function o(e){for(g=!g,e=n(w),t&&!g&&(y=v(t,y,m,m=e));e=N.pop();)e()}function i(){n&&!g&&setTimeout(o,g=!g)}function f(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function u(e,n,t){var r={};return 0===e.length?n:(r[e[0]]=1<e.length?u(e.slice(1),n,t[e[0]]):n,f(t,r))}function l(e,n){for(var t=0;t<e.length;t++)n=n[e[t]];return n}function p(e,n,t){for(var r in t)"function"==typeof t[r]?function(r,o){t[r]=function(r){return n=l(e,w.state),"function"==typeof(r=o(r))&&(r=r(n,t)),r&&r!==n&&!r.then&&i(w.state=u(e,f(n,r),w.state)),r}}(r,t[r]):p(e.concat(r),n[r]=n[r]||{},t[r])}function c(e){if(e&&e.props)return e.props.key}function s(e,n,t,r){if("key"===n);else if("style"===n)for(var o in f(r,t=t||{}))e.style[o]=null==t[o]?"":t[o];else{try{e[n]=null==t?"":t}catch(e){}"function"!=typeof t&&(null==t||!1===t?e.removeAttribute(n):e.setAttribute(n,t))}}function a(e,n){if("string"==typeof e)var t=document.createTextNode(e);else{t=(n=n||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag),e.props.oncreate&&N.push(function(){e.props.oncreate(t)});for(var r=0;r<e.children.length;r++)t.appendChild(a(e.children[r],n));for(var r in e.props)s(t,r,e.props[r])}return t}function d(e,n){if("string"!=typeof n){for(var t=0;t<n.children.length;t++)d(e.childNodes[t],n.children[t]);n.props.ondestroy&&n.props.ondestroy(e)}}function h(e,n,t){function r(){d(n,t),e.removeChild(n)}t.props&&t.props.onremove?t.props.onremove(n,r):r()}function v(e,n,t,r,o,i){if(t===r);else if(null==t)n=e.insertBefore(a(r,o),n);else if(null!=r.tag&&r.tag===t.tag){!function(e,n,t){for(var r in f(n,t)){var o=t[r],i="value"===r||"checked"===r?e[r]:n[r];o!==i&&s(e,r,o,i)}t.onupdate&&N.push(function(){t.onupdate(e,n)})}(n,t.props,r.props),o=o||"svg"===r.tag;for(var u=r.children.length,l=t.children.length,p={},d=[],g={},y=0;y<l;y++){var m=d[y]=n.childNodes[y];null!=(B=c(b=t.children[y]))&&(p[B]=[m,b])}y=0;for(var w=0;w<u;){m=d[y];var b=t.children[y],k=r.children[w];if(g[B=c(b)])y++;else{var A=c(k),x=p[A]||[];null==A?(null==B&&(v(n,m,b,k,o),w++),y++):(B===A?(v(n,x[0],x[1],k,o),y++):x[0]?(n.insertBefore(x[0],m),v(n,x[0],x[1],k,o)):v(n,m,null,k,o),w++,g[A]=k)}}for(;y<l;){var B;null==(B=c(b=t.children[y]))&&h(n,d[y],b),y++}for(var y in p){var C=(x=p[y])[1];g[C.props.key]||h(n,x[0],C)}}else n&&r!==n.nodeValue&&("string"==typeof r&&"string"==typeof t?n.nodeValue=r:(n=e.insertBefore(a(r,o),i=n),h(e,i,t)));return n}var g,y=t&&t.children[0],m=r(y,[].map),N=[],w=f({},e);return i(p([],w.state=f({},w.state),w.actions=f({},w.actions))),w}});
//# sourceMappingURL=hyperapp.js.map