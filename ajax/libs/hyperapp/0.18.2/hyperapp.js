!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd||n(e.hyperapp={})}(this,function(e){"use strict";e.h=function(e,n){for(var r,o=[],t=[],i=arguments.length;i-- >2;)o.push(arguments[i]);for(;o.length;)if(Array.isArray(r=o.pop()))for(i=r.length;i--;)o.push(r[i]);else null==r||!0===r||!1===r||t.push("number"==typeof r?r+"":r);return"string"==typeof e?{name:e,props:n||{},children:t}:e(n||{},t)},e.app=function(e,n,r,o){var t,i=o&&o.children[0],l=f(i,[].map),u=[];return p(h([],e=a(e),n=a(n))),n;function f(e,n){return e&&{name:e.nodeName.toLowerCase(),props:{},children:n.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:f(e,n)})}}function c(f){for(t=!t,f=r(e,n),o&&!t&&(i=w(o,i,l,l=f));f=u.pop();)f()}function p(){t||(t=!t,setTimeout(c))}function a(e,n){var r={};for(var o in e)r[o]=e[o];for(var o in n)r[o]=n[o];return r}function s(e,n,r,o){return e.length?(o[e[0]]=1<e.length?s(e.slice(1),n,r[e[0]],{}):n,a(r,o)):n}function d(e,n){for(var r=0;r<e.length;r++)n=n[e[r]];return n}function h(n,r,o){for(var t in o)"function"==typeof o[t]?(i=t,l=o[t],o[i]=function(t){return r=d(n,e),"function"==typeof(t=l(t))&&(t=t(r,o)),t&&t!==r&&!t.then&&p(e=s(n,a(r,t),e,{})),t}):h(n.concat(t),r[t]=r[t]||{},o[t]=a(o[t]));var i,l}function v(e){return e&&e.props?e.props.key:null}function m(e,n,r,o){if("key"===n);else if("style"===n)for(var t in a(o,r))e[n][t]=null==r||null==r[t]?"":r[t];else{var i=null==r||!1===r;if(n in e)try{e[n]=null==r?"":r}catch(e){}else i||"function"==typeof r||e.setAttribute(n,!0===r?"":r);i&&e.removeAttribute(n)}}function y(e,n){if("string"==typeof e)var r=document.createTextNode(e);else{r=(n=n||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),e.props.oncreate&&u.push(function(){e.props.oncreate(r)});for(var o=0;o<e.children.length;o++)r.appendChild(y(e.children[o],n));for(var t in e.props)m(r,t,e.props[t])}return r}function g(e,n,r){if(r=n.props){for(var o=0;o<n.children.length;o++)g(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}function N(e,n,r,o){function t(){e.removeChild(g(n,r))}r.props&&(o=r.props.onremove)?o(n,t):t()}function w(e,n,r,o,t,i){if(o===r);else if(null==r)n=e.insertBefore(y(o,t),n);else if(o.name&&o.name===r.name){t=t||"svg"===o.name,function(e,n,r,o){for(var t in a(n,r))(o="value"===t||"checked"===t?e[t]:n[t])!==r[t]&&m(e,t,r[t],o);r.onupdate&&u.push(function(){r.onupdate(e,n)})}(n,r.props,o.props);for(var l=[],f={},c={},p=0;p<r.children.length;p++)l[p]=n.childNodes[p],null!=(g=v(d=r.children[p]))&&(f[g]=[l[p],d]);p=0;for(var s=0;s<o.children.length;){var d=r.children[p],h=o.children[s],g=v(d),b=v(h);if(c[g])p++;else if(null==b)null==g&&(w(n,l[p],d,h,t),s++),p++;else{var k=f[b]||[];g===b?(w(n,k[0],k[1],h,t),p++):k[0]?w(n,n.insertBefore(k[0],l[p]),k[1],h,t):w(n,l[p],null,h,t),s++,c[b]=h}}for(;p<r.children.length;)null==v(d=r.children[p])&&N(n,l[p],d),p++;for(var p in f)c[f[p][1].props.key]||N(n,f[p][0],f[p][1])}else o.name===r.name?n.nodeValue=o:(n=e.insertBefore(y(o,t),i=n),N(e,i,r));return n}}});
//# sourceMappingURL=hyperapp.js.map