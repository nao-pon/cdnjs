!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.hyperapp={})}(this,function(n){"use strict";function e(n,e){var t,i=[];for(r=arguments.length;r-- >2;)o.push(arguments[r]);for(;o.length;)if(Array.isArray(t=o.pop()))for(r=t.length;r--;)o.push(t[r]);else null!=t&&!0!==t&&!1!==t&&i.push("number"==typeof t?t+="":t);return"string"==typeof n?{tag:n,props:e||{},children:i}:n(e,i)}function t(n,e){function t(n,e,o){function i(n){return"function"==typeof n?i(n(f(o,b))):(n&&(n=p(o,c(f(o,b),n),b))&&r(b=n),b)}Object.keys(e||{}).map(function(r){var u=e[r],p=o.concat(r);"function"==typeof u?n[r]=function(n){var e=[];w.map(function(t){"function"==typeof(t=t({name:p.join("."),data:n}))&&e.push(t)});var t=u(f(o,b),f(o,k),n);return e.map(function(n){t=n(t)}),"function"==typeof t?t(i):i(t)}:t(n[r]||(n[r]={}),u,p)})}function r(){m&&!g&&requestAnimationFrame(o,g=!g)}function o(n){for(A=d(y,A,e,e=m(b,k),g=!g);n=i.pop();)n()}function u(n,e,t){var r=c(t);return r[n]=e,r}function f(n,e){return 0===n.length?e:e&&f(n.slice(1),e[n[0]])}function p(n,e,t){var r=n[0];return 0===n.length?e:u(r,n.length>1?p(n.slice(1),e,null!=t&&r in t?t[r]:{}):e,t)}function c(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function a(n,e){if("string"==typeof n)var t=document.createTextNode(n);else{var t=(e=e||"svg"===n.tag)?document.createElementNS("http://www.w3.org/2000/svg",n.tag):document.createElement(n.tag);n.props&&n.props.oncreate&&i.push(function(){n.props.oncreate(t)});for(var r=0;r<n.children.length;)t.appendChild(a(n.children[r++],e));for(var r in n.props)l(t,r,n.props[r])}return t}function l(n,e,t,r){if("key"===e);else if("style"===e)for(var e in c(r,t=t||{}))n.style[e]=t[e]||"";else{try{n[e]=t}catch(n){}"function"!=typeof t&&(t?n.setAttribute(e,t):n.removeAttribute(e))}}function s(n,e,t){for(var r in c(e,t)){var o=t[r],u="value"===r||"checked"===r?n[r]:e[r];o!==u&&l(n,r,o,u)}t&&t.onupdate&&i.push(function(){t.onupdate(n,e)})}function h(n,e,t){t&&t.onremove?t.onremove(e):n.removeChild(e)}function v(n){return n&&(n=n.props)&&n.key}function d(n,e,t,r,o,i){if(null==t)e=n.insertBefore(a(r,o),e);else if(null!=r.tag&&r.tag===t.tag){s(e,t.props,r.props),o=o||"svg"===r.tag;for(var u=r.children.length,f=t.children.length,p={},c=[],l={},g=0;g<f;g++){var y=c[g]=e.childNodes[g],m=t.children[g],b=v(m);null!=b&&(p[b]=[y,m])}for(var g=0,k=0;k<u;){var y=c[g],m=t.children[g],w=r.children[k],b=v(m);if(l[b])g++;else{var A=v(w),x=p[A]||[];null==A?(null==b&&(d(e,y,m,w,o),k++),g++):(b===A?(d(e,x[0],x[1],w,o),g++):x[0]?(e.insertBefore(x[0],y),d(e,x[0],x[1],w,o)):d(e,y,null,w,o),k++,l[A]=w)}}for(;g<f;){var m=t.children[g],b=v(m);null==b&&h(e,c[g],m.props),g++}for(var g in p){var x=p[g],j=x[1];l[j.props.key]||h(e,x[0],j.props)}}else e&&r!==e.nodeValue&&("string"==typeof r&&"string"==typeof t?e.nodeValue=r:(e=n.insertBefore(a(r,o),i=e),h(n,i,t.props)));return e}var g,y=n.root||document.body,m=n.view,b=n.state,k={},w=[],A=y.children[0];return t(k,n.actions,[]),r((n.hooks||[]).map(function(n){"function"==typeof(n=n(b,k))&&w.push(n)})),k}var r,o=[],i=[];n.h=e,n.app=t});
//# sourceMappingURL=hyperapp.js.map