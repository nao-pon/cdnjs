!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mobx"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","mobx","react","react-dom"],t):t(e.mobxReact={},e.mobx,e.React,e.ReactDOM)}(this,function(e,l,f,t){"use strict";var a="default"in f?f.default:f;"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n,p=(function(e,t){var p,u,l,f,d,h,y,b;e.exports=(p={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},u={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l=Object.defineProperty,f=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,b=y&&y(Object),function e(t,n,r){if("string"!=typeof n){if(b){var o=y(n);o&&o!==b&&e(t,o,r)}var i=f(n);d&&(i=i.concat(d(n)));for(var a=0;a<i.length;++a){var s=i[a];if(!(p[s]||u[s]||r&&r[s])){var c=h(n,s);try{l(t,s,c)}catch(e){}}}return t}return t})}(n={exports:{}},n.exports),n.exports),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(function(){function p(e){this.value=e}function e(o){var i,a;function s(e,t){try{var n=o[e](t),r=n.value;r instanceof p?Promise.resolve(r.value).then(function(e){s("next",e)},function(e){s("throw",e)}):c(n.done?"return":"normal",n.value)}catch(e){c("throw",e)}}function c(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?s(i.key,i.arg):a=null}this._invoke=function(r,o){return new Promise(function(e,t){var n={key:r,arg:o,resolve:e,reject:t,next:null};a?a=a.next=n:(i=a=n,s(r,o))})},"function"!=typeof o.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),d=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),h=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},r=function(){function e(){u(this,e),this.listeners=[]}return d(e,[{key:"on",value:function(t){var n=this;return this.listeners.push(t),function(){var e=n.listeners.indexOf(t);-1!==e&&n.listeners.splice(e,1)}}},{key:"emit",value:function(t){this.listeners.forEach(function(e){return e(t)})}}]),e}();function o(p){function e(t,n,r,o,i,a){for(var e=arguments.length,s=Array(6<e?e-6:0),c=6;c<e;c++)s[c-6]=arguments[c];return l.untracked(function(){if(o=o||"<<anonymous>>",a=a||r,null==n[r]){if(t){var e=null===n[r]?"null":"undefined";return new Error("The "+i+" `"+a+"` is marked as required in `"+o+"`, but its value is `"+e+"`.")}return null}return p.apply(void 0,[n,r,o,i,a].concat(s))})}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function b(e){var t,n=void 0===e?"undefined":s(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===n||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":n)}function v(c,p){return o(function(o,i,a,e,s){return l.untracked(function(){if(c&&b(o[i])===p.toLowerCase())return null;var e=void 0;switch(p){case"Array":e=l.isObservableArray;break;case"Object":e=l.isObservableObject;break;case"Map":e=l.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+p)}var t=o[i];if(!e(t)){var n=function(e){var t=b(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(t),r=c?" or javascript `"+p.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+n+"` supplied to `"+a+"`, expected `mobx.Observable"+p+"`"+r+".")}return null})})}function i(p,u){return o(function(r,o,i,a,s){for(var e=arguments.length,c=Array(5<e?e-5:0),t=5;t<e;t++)c[t-5]=arguments[t];return l.untracked(function(){if("function"!=typeof u)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation.");var e=v(p,"Array")(r,o,i);if(e instanceof Error)return e;for(var t=r[o],n=0;n<t.length;n++)if((e=u.apply(void 0,[t,n,i,a,s+"["+n+"]"].concat(c)))instanceof Error)return e;return null})})}var c=v(!1,"Array"),m=i.bind(null,!1),g=v(!1,"Map"),_=v(!1,"Object"),w=v(!0,"Array"),O=i.bind(null,!0),x=v(!0,"Object"),j=Object.freeze({observableArray:c,observableArrayOf:m,observableMap:g,observableObject:_,arrayOrObservableArray:w,arrayOrObservableArrayOf:O,objectOrObservableObject:x});var S={mobxStores:x};Object.seal(S);var P={contextTypes:{get:function(){return S},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function C(i,s,e){var t,n,r="inject-"+(s.displayName||s.name||s.constructor&&s.constructor.name||"Unknown");e&&(r+="-with-"+e);var o=(n=t=function(e){function a(){var e,t,n;u(this,a);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=n=y(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o)))).storeRef=function(e){n.wrappedInstance=e},y(n,t)}return h(a,e),d(a,[{key:"render",value:function(){var e={};for(var t in this.props)this.props.hasOwnProperty(t)&&(e[t]=this.props[t]);var n,r=i(this.context.mobxStores||{},e,this.context)||{};for(var o in r)e[o]=r[o];return(n=s).prototype&&n.prototype.render&&(e.ref=this.storeRef),f.createElement(s,e)}}]),a}(f.Component),t.displayName=r,n);return p(o,s),o.wrappedComponent=s,Object.defineProperties(o,P),o}function U(){var e,n=void 0;if("function"==typeof arguments[0])return n=arguments[0],function(e){var t=C(n,e);return t.isMobxInjector=!1,(t=L(t)).isMobxInjector=!0,t};for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e=t,n=function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}}),n},function(e){return C(n,e,t.join("-"))}}var k=!1,E=!1,R=!1,M="undefined"!=typeof WeakMap?new WeakMap:void 0,D=new r;function T(e){if(t.findDOMNode)try{return t.findDOMNode(e)}catch(e){return null}return null}function I(e){var t=T(e);t&&M&&M.set(t,e),D.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function A(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");k||(k=!0)}var W=new r;function N(e,t){if(F(e,t))return!0;if("object"!==(void 0===e?"undefined":s(e))||null===e||"object"!==(void 0===t?"undefined":s(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(t,n[o])||!F(e[n[o]],t[n[o]]))return!1;return!0}function F(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var B={componentWillUnmount:function(){if(!0!==E&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,k)){var e=T(this);e&&M&&M.delete(e),D.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){k&&I(this)},componentDidUpdate:function(){k&&I(this)},shouldComponentUpdate:function(e,t){return E&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!N(this.props,e)}};function L(t,e){if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return R||(R=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?U.apply(null,t)(L(e)):function(e){return L(t,e)};var n=t;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===f.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||f.Component.isPrototypeOf(n))){var r,o,i=L((o=r=function(e){function t(){return u(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),d(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(f.Component),r.displayName=n.displayName||n.name,r.contextTypes=n.contextTypes,r.propTypes=n.propTypes,r.defaultProps=n.defaultProps,o));return p(i,n),i}if(!n)throw new Error("Please pass a valid component to 'observer'");var a,s=n.prototype||n;a=s,["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(e){!function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=e[t],o=B[t],i=r?!0===n?function(){o.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),o.apply(this,arguments)}:o;e[t]=i}(a,e)}),a.shouldComponentUpdate?console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):a.shouldComponentUpdate=B.shouldComponentUpdate,n.isMobXReactObserver=!0;var c=s.render;return s.render=function(){return function(e){var t=this;if(!0===E)return e.call(this);function n(e){var t=this[e],n=l.createAtom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return n.reportObserved(),t},set:function(e){s||N(t,e)?t=e:(t=e,a=!0,n.reportChanged(),a=!1)}})}function r(){var e=this;p=!1;var t=void 0,n=void 0;if(u.track(function(){k&&(e.__$mobRenderStart=Date.now());try{n=l._allowStateChanges(!1,c)}catch(e){t=e}k&&(e.__$mobRenderEnd=Date.now())}),t)throw W.emit(t),t;return n}var o=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalFiber&&this._reactInternalFiber._debugID,a=!1,s=!1;n.call(this,"props"),n.call(this,"state");var c=e.bind(this),p=!1,u=new l.Reaction(o+"#"+i+".render()",function(){if(!p&&(p=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t.__$mobxIsUnmounted)){var e=!0;try{s=!0,a||f.Component.prototype.forceUpdate.call(t),e=!1}finally{s=!1,e&&u.dispose()}}});return u.reactComponent=this,r.$mobx=u,(this.render=r).call(this)}.call(this,c)},n}var $=L(function(e){var t=e.children,n=e.inject,r=e.render,o=t||r;if(void 0===o)return null;if(!n)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var i=U(n)(o);return a.createElement(i,null)});$.displayName="Observer";var q,X,H=function(e,t,n,r,o){var i="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[i]?new Error("Invalid prop `"+o+"` of type `"+s(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function G(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function K(e){var t=this.constructor.getDerivedStateFromProps(e,this.state);null!=t&&this.setState(t)}function V(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}$.propTypes={render:H,children:H};var Y={children:V.__suppressDeprecationWarning=K.__suppressDeprecationWarning=G.__suppressDeprecationWarning=!0,key:!0,ref:!0},z=(X=q=function(e){function r(e,t){u(this,r);var n=y(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.state=e||{},n}return h(r,e),d(r,[{key:"render",value:function(){return f.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var n in t)e[n]=t[n];for(var r in this.state)Y[r]||"suppressChangedStoreWarning"===r||(e[r]=this.props[r]);return{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).length!==Object.keys(t).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)Y[n]||t[n]===e[n]||console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),r}(f.Component),q.contextTypes={mobxStores:x},q.childContextTypes={mobxStores:x.isRequired},X);if(function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=G,t.componentWillReceiveProps=K),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=V;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(z),!f.Component)throw new Error("mobx-react requires React to be available");if(!l.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof t.unstable_batchedUpdates&&l.configure({reactionScheduler:t.unstable_batchedUpdates});if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":s(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var J={spy:l.spy,extras:{getDebugName:l.getDebugName}},Q={renderReporter:D,componentByNodeRegistry:M,componentByNodeRegistery:M,trackComponents:A};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(Q,J)}e.propTypes=j,e.PropTypes=j,e.onError=function(e){return W.on(e)},e.observer=L,e.Observer=$,e.renderReporter=D,e.componentByNodeRegistery=M,e.componentByNodeRegistry=M,e.trackComponents=A,e.useStaticRendering=function(e){E=e},e.Provider=z,e.inject=U,Object.defineProperty(e,"__esModule",{value:!0})});