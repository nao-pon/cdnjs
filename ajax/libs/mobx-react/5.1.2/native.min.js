"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var mobx=require("mobx"),React=require("react"),React__default=_interopDefault(React),reactNative=require("react-native"),unstable_batchedUpdates$1=void 0,findDOMNode=void 0,commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var hoistNonReactStatics=createCommonjsModule(function(e,t){var p,l,u,f,b,d,y,v;e.exports=(p={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u=Object.defineProperty,f=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,v=y&&y(Object),function e(t,r,n){if("string"!=typeof r){if(v){var o=y(r);o&&o!==v&&e(t,o,n)}var a=f(r);b&&(a=a.concat(b(r)));for(var i=0;i<a.length;++i){var s=a[i];if(!(p[s]||l[s]||n&&n[s])){var c=d(r,s);try{u(t,s,c)}catch(e){}}}return t}return t})}),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},asyncGenerator=function(){function p(e){this.value=e}function t(o){var a,i;function s(e,t){try{var r=o[e](t),n=r.value;n instanceof p?Promise.resolve(n.value).then(function(e){s("next",e)},function(e){s("throw",e)}):c(r.done?"return":"normal",r.value)}catch(e){c("throw",e)}}function c(e,t){switch(e){case"return":a.resolve({value:t,done:!0});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:!1})}(a=a.next)?s(a.key,a.arg):i=null}this._invoke=function(n,o){return new Promise(function(e,t){var r={key:n,arg:o,resolve:e,reject:t,next:null};i?i=i.next=r:(a=i=r,s(n,o))})},"function"!=typeof o.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(e){return new p(e)}}}(),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},EventEmitter=function(){function e(){classCallCheck(this,e),this.listeners=[]}return createClass(e,[{key:"on",value:function(t){var r=this;return this.listeners.push(t),function(){var e=r.listeners.indexOf(t);-1!==e&&r.listeners.splice(e,1)}}},{key:"emit",value:function(t){this.listeners.forEach(function(e){return e(t)})}}]),e}();function createChainableTypeChecker(p){function e(t,r,n,o,a,i){for(var e=arguments.length,s=Array(6<e?e-6:0),c=6;c<e;c++)s[c-6]=arguments[c];return mobx.untracked(function(){if(o=o||"<<anonymous>>",i=i||n,null==r[n]){if(t){var e=null===r[n]?"null":"undefined";return new Error("The "+a+" `"+i+"` is marked as required in `"+o+"`, but its value is `"+e+"`.")}return null}return p.apply(void 0,[r,n,o,a,i].concat(s))})}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function isSymbol(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function getPropType(e){var t=void 0===e?"undefined":_typeof(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":isSymbol(t,e)?"symbol":t}function getPreciseType(e){var t=getPropType(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function createObservableTypeCheckerCreator(c,p){return createChainableTypeChecker(function(o,a,i,e,s){return mobx.untracked(function(){if(c&&getPropType(o[a])===p.toLowerCase())return null;var e=void 0;switch(p){case"Array":e=mobx.isObservableArray;break;case"Object":e=mobx.isObservableObject;break;case"Map":e=mobx.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+p)}var t=o[a];if(!e(t)){var r=getPreciseType(t),n=c?" or javascript `"+p.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+r+"` supplied to `"+i+"`, expected `mobx.Observable"+p+"`"+n+".")}return null})})}function createObservableArrayOfTypeChecker(p,l){return createChainableTypeChecker(function(n,o,a,i,s){for(var e=arguments.length,c=Array(5<e?e-5:0),t=5;t<e;t++)c[t-5]=arguments[t];return mobx.untracked(function(){if("function"!=typeof l)return new Error("Property `"+s+"` of component `"+a+"` has invalid PropType notation.");var e=createObservableTypeCheckerCreator(p,"Array")(n,o,a);if(e instanceof Error)return e;for(var t=n[o],r=0;r<t.length;r++)if((e=l.apply(void 0,[t,r,a,i,s+"["+r+"]"].concat(c)))instanceof Error)return e;return null})})}var observableArray=createObservableTypeCheckerCreator(!1,"Array"),observableArrayOf=createObservableArrayOfTypeChecker.bind(null,!1),observableMap=createObservableTypeCheckerCreator(!1,"Map"),observableObject=createObservableTypeCheckerCreator(!1,"Object"),arrayOrObservableArray=createObservableTypeCheckerCreator(!0,"Array"),arrayOrObservableArrayOf=createObservableArrayOfTypeChecker.bind(null,!0),objectOrObservableObject=createObservableTypeCheckerCreator(!0,"Object"),propTypes=Object.freeze({observableArray:observableArray,observableArrayOf:observableArrayOf,observableMap:observableMap,observableObject:observableObject,arrayOrObservableArray:arrayOrObservableArray,arrayOrObservableArrayOf:arrayOrObservableArrayOf,objectOrObservableObject:objectOrObservableObject});function isStateless(e){return!(e.prototype&&e.prototype.render)}var injectorContextTypes={mobxStores:objectOrObservableObject};Object.seal(injectorContextTypes);var proxiedInjectorProps={contextTypes:{get:function(){return injectorContextTypes},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function createStoreInjector(o,a,e){var t,r,n="inject-"+(a.displayName||a.name||a.constructor&&a.constructor.name||"Unknown");e&&(n+="-with-"+e);var i=(r=t=function(e){function i(){var e,t,r;classCallCheck(this,i);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=r=possibleConstructorReturn(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).storeRef=function(e){r.wrappedInstance=e},possibleConstructorReturn(r,t)}return inherits(i,e),createClass(i,[{key:"render",value:function(){var e={};for(var t in this.props)this.props.hasOwnProperty(t)&&(e[t]=this.props[t]);var r=o(this.context.mobxStores||{},e,this.context)||{};for(var n in r)e[n]=r[n];return isStateless(a)||(e.ref=this.storeRef),React.createElement(a,e)}}]),i}(React.Component),t.displayName=n,r);return hoistNonReactStatics(i,a),i.wrappedComponent=a,Object.defineProperties(i,proxiedInjectorProps),i}function grabStoresByName(e){return function(t,r){return e.forEach(function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}}),r}}function inject(){var r=void 0;if("function"==typeof arguments[0])return r=arguments[0],function(e){var t=createStoreInjector(r,e);return t.isMobxInjector=!1,(t=observer(t)).isMobxInjector=!0,t};for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r=grabStoresByName(t),function(e){return createStoreInjector(r,e,t.join("-"))}}var isDevtoolsEnabled=!1,isUsingStaticRendering=!1,warnedAboutObserverInjectDeprecation=!1,componentByNodeRegistry="undefined"!=typeof WeakMap?new WeakMap:void 0,renderReporter=new EventEmitter;function findDOMNode$1(e){if(findDOMNode)try{return findDOMNode(e)}catch(e){return null}return null}function reportRendering(e){var t=findDOMNode$1(e);t&&componentByNodeRegistry&&componentByNodeRegistry.set(t,e),renderReporter.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function trackComponents(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");isDevtoolsEnabled||(isDevtoolsEnabled=!0)}function useStaticRendering(e){isUsingStaticRendering=e}var errorsReporter=new EventEmitter;function patch(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=e[t],o=reactiveMixin[t],a=n?!0===r?function(){o.apply(this,arguments),n.apply(this,arguments)}:function(){n.apply(this,arguments),o.apply(this,arguments)}:o;e[t]=a}function shallowEqual(e,t){if(is(e,t))return!0;if("object"!==(void 0===e?"undefined":_typeof(e))||null===e||"object"!==(void 0===t?"undefined":_typeof(t))||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!hasOwnProperty.call(t,r[o])||!is(e[r[o]],t[r[o]]))return!1;return!0}function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function makeComponentReactive(e){var t=this;if(!0===isUsingStaticRendering)return e.call(this);function r(e){var t=this[e],r=mobx.createAtom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return r.reportObserved(),t},set:function(e){s||shallowEqual(t,e)?t=e:(t=e,i=!0,r.reportChanged(),i=!1)}})}function n(){var e=this;p=!1;var t=void 0,r=void 0;if(l.track(function(){isDevtoolsEnabled&&(e.__$mobRenderStart=Date.now());try{r=mobx._allowStateChanges(!1,c)}catch(e){t=e}isDevtoolsEnabled&&(e.__$mobRenderEnd=Date.now())}),t)throw errorsReporter.emit(t),t;return r}var o=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",a=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalFiber&&this._reactInternalFiber._debugID,i=!1,s=!1;r.call(this,"props"),r.call(this,"state");var c=e.bind(this),p=!1,l=new mobx.Reaction(o+"#"+a+".render()",function(){if(!p&&(p=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t.__$mobxIsUnmounted)){var e=!0;try{s=!0,i||React.Component.prototype.forceUpdate.call(t),e=!1}finally{s=!1,e&&l.dispose()}}});return l.reactComponent=this,n.$mobx=l,(this.render=n).call(this)}var reactiveMixin={componentWillUnmount:function(){if(!0!==isUsingStaticRendering&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,isDevtoolsEnabled)){var e=findDOMNode$1(this);e&&componentByNodeRegistry&&componentByNodeRegistry.delete(e),renderReporter.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){isDevtoolsEnabled&&reportRendering(this)},componentDidUpdate:function(){isDevtoolsEnabled&&reportRendering(this)},shouldComponentUpdate:function(e,t){return isUsingStaticRendering&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!shallowEqual(this.props,e)}};function observer(t,e){if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return warnedAboutObserverInjectDeprecation||(warnedAboutObserverInjectDeprecation=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?inject.apply(null,t)(observer(e)):function(e){return observer(t,e)};var r=t;if(!0===r.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),r.__proto__===React.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),!("function"!=typeof r||r.prototype&&r.prototype.render||r.isReactClass||React.Component.isPrototypeOf(r))){var n,o,a=observer((o=n=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),createClass(t,[{key:"render",value:function(){return r.call(this,this.props,this.context)}}]),t}(React.Component),n.displayName=r.displayName||r.name,n.contextTypes=r.contextTypes,n.propTypes=r.propTypes,n.defaultProps=r.defaultProps,o));return hoistNonReactStatics(a,r),a}if(!r)throw new Error("Please pass a valid component to 'observer'");var i=r.prototype||r;mixinLifecycleEvents(i),r.isMobXReactObserver=!0;var s=i.render;return i.render=function(){return makeComponentReactive.call(this,s)},r}function mixinLifecycleEvents(t){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(e){patch(t,e)}),t.shouldComponentUpdate?console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):t.shouldComponentUpdate=reactiveMixin.shouldComponentUpdate}var Observer=observer(function(e){var t=e.children,r=e.inject,n=e.render,o=t||n;if(void 0===o)return null;if(!r)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var a=inject(r)(o);return React__default.createElement(a,null)});Observer.displayName="Observer";var _class,_temp,ObserverPropsCheck=function(e,t,r,n,o){var a="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[a]?new Error("Invalid prop,do not use children and render in the same time in`"+r):"function"!=typeof e[t]&&"function"!=typeof e[a]?new Error("Invalid prop `"+o+"` of type `"+_typeof(e[t])+"` supplied to `"+r+"`, expected `function`."):void 0};function componentWillMount(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function componentWillReceiveProps(e){var t=this.constructor.getDerivedStateFromProps(e,this.state);null!=t&&this.setState(t)}function componentWillUpdate(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function polyfill(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,o=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==o){var a=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+a+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=componentWillMount,t.componentWillReceiveProps=componentWillReceiveProps),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=componentWillUpdate;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;s.call(this,e,t,n)}}return e}Observer.propTypes={render:ObserverPropsCheck,children:ObserverPropsCheck},componentWillMount.__suppressDeprecationWarning=!0,componentWillReceiveProps.__suppressDeprecationWarning=!0;var specialReactKeys={children:componentWillUpdate.__suppressDeprecationWarning=!0,key:!0,ref:!0},Provider=(_temp=_class=function(e){function n(e,t){classCallCheck(this,n);var r=possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.state=e||{},r}return inherits(n,e),createClass(n,[{key:"render",value:function(){return React.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var r in t)e[r]=t[r];for(var n in this.state)specialReactKeys[n]||"suppressChangedStoreWarning"===n||(e[n]=this.props[n]);return{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).length!==Object.keys(t).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var r in e)specialReactKeys[r]||t[r]===e[r]||console.warn("MobX Provider: Provided store '"+r+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),n}(React.Component),_class.contextTypes={mobxStores:objectOrObservableObject},_class.childContextTypes={mobxStores:objectOrObservableObject.isRequired},_temp);if(polyfill(Provider),!React.Component)throw new Error("mobx-react requires React to be available");if(!mobx.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof unstable_batchedUpdates$1?mobx.configure({reactionScheduler:unstable_batchedUpdates$1}):"function"==typeof reactNative.unstable_batchedUpdates&&mobx.configure({reactionScheduler:reactNative.unstable_batchedUpdates});var onError=function(e){return errorsReporter.on(e)};if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":_typeof(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var mobx$1={spy:mobx.spy,extras:{getDebugName:mobx.getDebugName}},mobxReact={renderReporter:renderReporter,componentByNodeRegistry:componentByNodeRegistry,componentByNodeRegistery:componentByNodeRegistry,trackComponents:trackComponents};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(mobxReact,mobx$1)}exports.propTypes=propTypes,exports.PropTypes=propTypes,exports.onError=onError,exports.observer=observer,exports.Observer=Observer,exports.renderReporter=renderReporter,exports.componentByNodeRegistery=componentByNodeRegistry,exports.componentByNodeRegistry=componentByNodeRegistry,exports.trackComponents=trackComponents,exports.useStaticRendering=useStaticRendering,exports.Provider=Provider,exports.inject=inject;