!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mobx"),require("react")):"function"==typeof define&&define.amd?define(["exports","mobx","react"],t):t(e.mobxReact={},e.mobx,e.React)}(this,function(e,t,r){"use strict";var n="default"in r?r.default:r,o=void 0,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e){this.value=e}function t(t){var r,n;function o(r,n){try{var a=t[r](n),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){o("next",e)},function(e){o("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?o(r.key,r.arg):n=null}this._invoke=function(e,t){return new Promise(function(i,a){var s={key:e,arg:t,resolve:i,reject:a,next:null};n?n=n.next=s:(r=n=s,o(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},p=function(){function e(){a(this,e),this.listeners=[]}return s(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var r=t.listeners.indexOf(e);-1!==r&&t.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(t){return t(e)})}}]),e}(),l={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},f={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},d=Object.defineProperty,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,m=v&&v(Object),O=function e(t,r,n){if("string"!=typeof r){if(m){var o=v(r);o&&o!==m&&e(t,o,n)}var i=y(r);b&&(i=i.concat(b(r)));for(var a=0;a<i.length;++a){var s=i[a];if(!(l[s]||f[s]||n&&n[s])){var c=h(r,s);try{d(t,s,c)}catch(e){}}}return t}return t};function g(e){function r(r,n,o,i,a,s){for(var c=arguments.length,u=Array(c>6?c-6:0),p=6;p<c;p++)u[p-6]=arguments[p];return t.untracked(function(){if(i=i||"<<anonymous>>",s=s||o,null==n[o]){if(r){var t=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+s+"` is marked as required in `"+i+"`, but its value is `"+t+"`.")}return null}return e.apply(void 0,[n,o,i,a,s].concat(u))})}var n=r.bind(null,!1);return n.isRequired=r.bind(null,!0),n}function w(e){var t,r=void 0===e?"undefined":i(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===r||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":r)}function x(e,r){return g(function(n,o,i,a,s){return t.untracked(function(){if(e&&w(n[o])===r.toLowerCase())return null;var a=void 0;switch(r){case"Array":a=t.isObservableArray;break;case"Object":a=t.isObservableObject;break;case"Map":a=t.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+r)}var c=n[o];if(!a(c)){var u=function(e){var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(c),p=e?" or javascript `"+r.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+u+"` supplied to `"+i+"`, expected `mobx.Observable"+r+"`"+p+".")}return null})})}function _(e,r){return g(function(n,o,i,a,s){for(var c=arguments.length,u=Array(c>5?c-5:0),p=5;p<c;p++)u[p-5]=arguments[p];return t.untracked(function(){if("function"!=typeof r)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation.");var t=x(e,"Array")(n,o,i);if(t instanceof Error)return t;for(var c=n[o],p=0;p<c.length;p++)if((t=r.apply(void 0,[c,p,i,a,s+"["+p+"]"].concat(u)))instanceof Error)return t;return null})})}var j=x(!1,"Array"),k=_.bind(null,!1),P=x(!1,"Map"),C=x(!1,"Object"),S=x(!0,"Array"),E=_.bind(null,!0),M=x(!0,"Object"),R=Object.freeze({observableArray:j,observableArrayOf:k,observableMap:P,observableObject:C,arrayOrObservableArray:S,arrayOrObservableArrayOf:E,objectOrObservableObject:M});var T={mobxStores:M};Object.seal(T);var I={contextTypes:{get:function(){return T},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function A(e,t,n){var o,i,p="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(p+="-with-"+n);var l=(i=o=function(n){function o(){var e,t,r;a(this,o);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=r=u(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(i))),r.storeRef=function(e){r.wrappedInstance=e},u(r,t)}return c(o,n),s(o,[{key:"render",value:function(){var n={};for(var o in this.props)this.props.hasOwnProperty(o)&&(n[o]=this.props[o]);var i,a=e(this.context.mobxStores||{},n,this.context)||{};for(var s in a)n[s]=a[s];return(i=t).prototype&&i.prototype.render&&(n.ref=this.storeRef),r.createElement(t,n)}}]),o}(r.Component),o.displayName=p,i);return O(l,t),l.wrappedComponent=t,Object.defineProperties(l,I),l}function D(){var e,t=void 0;if("function"==typeof arguments[0])return t=arguments[0],function(e){var r=A(t,e);return r.isMobxInjector=!1,(r=z(r)).isMobxInjector=!0,r};for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e=r,t=function(t,r){return e.forEach(function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}}),r},function(e){return A(t,e,r.join("-"))}}var U=!1,N=!1,W=!1,L="undefined"!=typeof WeakMap?new WeakMap:void 0,$=new p;function B(e){if(o)try{return o(e)}catch(e){return null}return null}function q(e){var t=B(e);t&&L&&L.set(t,e),$.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function X(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");U||(U=!0)}var H=new p;function G(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e[t],o=F[t],i=n?!0===r?function(){o.apply(this,arguments),n.apply(this,arguments)}:function(){n.apply(this,arguments),o.apply(this,arguments)}:o;e[t]=i}function K(e,t){if(V(e,t))return!0;if("object"!==(void 0===e?"undefined":i(e))||null===e||"object"!==(void 0===t?"undefined":i(t))||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!hasOwnProperty.call(t,r[o])||!V(e[r[o]],t[r[o]]))return!1;return!0}function V(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var F={componentWillMount:function(){var e=this;if(!0!==N){var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalFiber&&this._reactInternalFiber._debugID,i=!1,a=!1;l.call(this,"props"),l.call(this,"state");var s=this.render.bind(this),c=null,u=!1,p=function(){u=!1;var r=void 0,n=void 0;if(c.track(function(){U&&(e.__$mobRenderStart=Date.now());try{n=t.extras.allowStateChanges(!1,s)}catch(e){r=e}U&&(e.__$mobRenderEnd=Date.now())}),r)throw H.emit(r),r;return n};this.render=function(){return(c=new t.Reaction(n+"#"+o+".render()",function(){if(!u&&(u=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e.__$mobxIsUnmounted)){var t=!0;try{a=!0,i||r.Component.prototype.forceUpdate.call(e),t=!1}finally{a=!1,t&&c.dispose()}}})).reactComponent=e,p.$mobx=c,e.render=p,p()}}function l(e){var r=this[e],n=new t.Atom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return n.reportObserved(),r},set:function(e){a||K(r,e)?r=e:(r=e,i=!0,n.reportChanged(),i=!1)}})}},componentWillUnmount:function(){if(!0!==N&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,U)){var e=B(this);e&&L&&L.delete(e),$.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){U&&q(this)},componentDidUpdate:function(){U&&q(this)},shouldComponentUpdate:function(e,t){return N&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!K(this.props,e)}};function z(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return W||(W=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?D.apply(null,e)(z(t)):function(t){return z(e,t)};var n,o,i=e;if(!0===i.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!("function"!=typeof i||i.prototype&&i.prototype.render||i.isReactClass||r.Component.isPrototypeOf(i)))return z((o=n=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),s(t,[{key:"render",value:function(){return i.call(this,this.props,this.context)}}]),t}(r.Component),n.displayName=i.displayName||i.name,n.contextTypes=i.contextTypes,n.propTypes=i.propTypes,n.defaultProps=i.defaultProps,o));if(!i)throw new Error("Please pass a valid component to 'observer'");var p,l=i.prototype||i;return G(p=l,"componentWillMount",!0),["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(e){G(p,e)}),p.shouldComponentUpdate||(p.shouldComponentUpdate=F.shouldComponentUpdate),i.isMobXReactObserver=!0,i}var Y=z(function(e){var t=e.children,r=e.inject,o=e.render,i=t||o;if(void 0===i)return null;if(!r)return i();var a=D(r)(i);return n.createElement(a,null)});Y.displayName="Observer";var J,Q,Z=function(e,t,r,n,o){var a="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[a]?new Error("Invalid prop,do not use children and render in the same time in`"+r):"function"!=typeof e[t]&&"function"!=typeof e[a]?new Error("Invalid prop `"+o+"` of type `"+i(e[t])+"` supplied to `"+r+"`, expected `function`."):void 0};Y.propTypes={render:Z,children:Z};var ee={children:!0,key:!0,ref:!0},te=(Q=J=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),s(t,[{key:"render",value:function(){return r.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var r in t)e[r]=t[r];for(var n in this.props)ee[n]||"suppressChangedStoreWarning"===n||(e[n]=this.props[n]);return{mobxStores:e}}},{key:"componentWillReceiveProps",value:function(e){if(Object.keys(e).length!==Object.keys(this.props).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var t in e)ee[t]||this.props[t]===e[t]||console.warn("MobX Provider: Provided store '"+t+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),t}(r.Component),J.contextTypes={mobxStores:M},J.childContextTypes={mobxStores:M.isRequired},Q);if(!r.Component)throw new Error("mobx-react requires React to be available");if(!t.extras)throw new Error("mobx-react requires mobx to be available");if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":i(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var re={spy:t.spy,extras:t.extras},ne={renderReporter:$,componentByNodeRegistery:L,trackComponents:X};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(ne,re)}e.propTypes=R,e.PropTypes=R,e.onError=function(e){return H.on(e)},e.observer=z,e.Observer=Y,e.renderReporter=$,e.componentByNodeRegistery=L,e.trackComponents=X,e.useStaticRendering=function(e){N=e},e.Provider=te,e.inject=D,Object.defineProperty(e,"__esModule",{value:!0})});