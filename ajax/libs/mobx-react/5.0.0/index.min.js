!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mobx"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","mobx","react","react-dom"],t):t(e.mobxReact={},e.mobx,e.React,e.ReactDOM)}(this,function(e,l,p,t){"use strict";var a="default"in p?p.default:p,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=(function(){function u(e){this.value=e}function e(o){var i,a;function s(e,t){try{var r=o[e](t),n=r.value;n instanceof u?Promise.resolve(n.value).then(function(e){s("next",e)},function(e){s("throw",e)}):c(r.done?"return":"normal",r.value)}catch(e){c("throw",e)}}function c(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?s(i.key,i.arg):a=null}this._invoke=function(n,o){return new Promise(function(e,t){var r={key:n,arg:o,resolve:e,reject:t,next:null};a?a=a.next=r:(i=a=r,s(n,o))})},"function"!=typeof o.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),u=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},r=function(){function e(){c(this,e),this.listeners=[]}return u(e,[{key:"on",value:function(t){var r=this;return this.listeners.push(t),function(){var e=r.listeners.indexOf(t);-1!==e&&r.listeners.splice(e,1)}}},{key:"emit",value:function(t){this.listeners.forEach(function(e){return e(t)})}}]),e}(),y={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},b={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h=Object.defineProperty,v=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,O=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,w=g&&g(Object),_=function e(t,r,n){if("string"!=typeof r){if(w){var o=g(r);o&&o!==w&&e(t,o,n)}var i=v(r);m&&(i=i.concat(m(r)));for(var a=0;a<i.length;++a){var s=i[a];if(!(y[s]||b[s]||n&&n[s])){var c=O(r,s);try{h(t,s,c)}catch(e){}}}return t}return t};function n(u){function e(t,r,n,o,i,a){for(var e=arguments.length,s=Array(6<e?e-6:0),c=6;c<e;c++)s[c-6]=arguments[c];return l.untracked(function(){if(o=o||"<<anonymous>>",a=a||n,null==r[n]){if(t){var e=null===r[n]?"null":"undefined";return new Error("The "+i+" `"+a+"` is marked as required in `"+o+"`, but its value is `"+e+"`.")}return null}return u.apply(void 0,[r,n,o,i,a].concat(s))})}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function x(e){var t,r=void 0===e?"undefined":s(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===r||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":r)}function j(c,u){return n(function(o,i,a,e,s){return l.untracked(function(){if(c&&x(o[i])===u.toLowerCase())return null;var e=void 0;switch(u){case"Array":e=l.isObservableArray;break;case"Object":e=l.isObservableObject;break;case"Map":e=l.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+u)}var t=o[i];if(!e(t)){var r=function(e){var t=x(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(t),n=c?" or javascript `"+u.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+r+"` supplied to `"+a+"`, expected `mobx.Observable"+u+"`"+n+".")}return null})})}function o(u,p){return n(function(n,o,i,a,s){for(var e=arguments.length,c=Array(5<e?e-5:0),t=5;t<e;t++)c[t-5]=arguments[t];return l.untracked(function(){if("function"!=typeof p)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation.");var e=j(u,"Array")(n,o,i);if(e instanceof Error)return e;for(var t=n[o],r=0;r<t.length;r++)if((e=p.apply(void 0,[t,r,i,a,s+"["+r+"]"].concat(c)))instanceof Error)return e;return null})})}var i=j(!1,"Array"),k=o.bind(null,!1),P=j(!1,"Map"),C=j(!1,"Object"),S=j(!0,"Array"),M=o.bind(null,!0),E=j(!0,"Object"),R=Object.freeze({observableArray:i,observableArrayOf:k,observableMap:P,observableObject:C,arrayOrObservableArray:S,arrayOrObservableArrayOf:M,objectOrObservableObject:E});var T={mobxStores:E};Object.seal(T);var I={contextTypes:{get:function(){return T},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function A(i,s,e){var t,r,n="inject-"+(s.displayName||s.name||s.constructor&&s.constructor.name||"Unknown");e&&(n+="-with-"+e);var o=(r=t=function(e){function a(){var e,t,r;c(this,a);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=r=d(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o)))).storeRef=function(e){r.wrappedInstance=e},d(r,t)}return f(a,e),u(a,[{key:"render",value:function(){var e={};for(var t in this.props)this.props.hasOwnProperty(t)&&(e[t]=this.props[t]);var r,n=i(this.context.mobxStores||{},e,this.context)||{};for(var o in n)e[o]=n[o];return(r=s).prototype&&r.prototype.render&&(e.ref=this.storeRef),p.createElement(s,e)}}]),a}(p.Component),t.displayName=n,r);return _(o,s),o.wrappedComponent=s,Object.defineProperties(o,I),o}function D(){var e,r=void 0;if("function"==typeof arguments[0])return r=arguments[0],function(e){var t=A(r,e);return t.isMobxInjector=!1,(t=z(t)).isMobxInjector=!0,t};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=t,r=function(t,r){return e.forEach(function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}}),r},function(e){return A(r,e,t.join("-"))}}var U=!1,N=!1,W=!1,L="undefined"!=typeof WeakMap?new WeakMap:void 0,$=new r;function q(e){if(t.findDOMNode)try{return t.findDOMNode(e)}catch(e){return null}return null}function B(e){var t=q(e);t&&L&&L.set(t,e),$.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function X(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");U||(U=!0)}var H=new r;function G(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=e[t],o=F[t],i=n?!0===r?function(){o.apply(this,arguments),n.apply(this,arguments)}:function(){n.apply(this,arguments),o.apply(this,arguments)}:o;e[t]=i}function K(e,t){if(V(e,t))return!0;if("object"!==(void 0===e?"undefined":s(e))||null===e||"object"!==(void 0===t?"undefined":s(t))||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!hasOwnProperty.call(t,r[o])||!V(e[r[o]],t[r[o]]))return!1;return!0}function V(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var F={componentWillMount:function(){var r=this;if(!0!==N){var e=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",t=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalFiber&&this._reactInternalFiber._debugID,n=!1,o=!1;u.call(this,"props"),u.call(this,"state");var i=this.render.bind(this),a=null,s=!1,c=function(){s=!1;var t=void 0,e=void 0;if(a.track(function(){U&&(r.__$mobRenderStart=Date.now());try{e=l._allowStateChanges(!1,i)}catch(e){t=e}U&&(r.__$mobRenderEnd=Date.now())}),t)throw H.emit(t),t;return e};this.render=function(){return(a=new l.Reaction(e+"#"+t+".render()",function(){if(!s&&(s=!0,"function"==typeof r.componentWillReact&&r.componentWillReact(),!0!==r.__$mobxIsUnmounted)){var e=!0;try{o=!0,n||p.Component.prototype.forceUpdate.call(r),e=!1}finally{o=!1,e&&a.dispose()}}})).reactComponent=r,c.$mobx=a,(r.render=c)()}}function u(e){var t=this[e],r=l.createAtom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return r.reportObserved(),t},set:function(e){o||K(t,e)?t=e:(t=e,n=!0,r.reportChanged(),n=!1)}})}},componentWillUnmount:function(){if(!0!==N&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,U)){var e=q(this);e&&L&&L.delete(e),$.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){U&&B(this)},componentDidUpdate:function(){U&&B(this)},shouldComponentUpdate:function(e,t){return N&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!K(this.props,e)}};function z(t,e){if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return W||(W=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?D.apply(null,t)(z(e)):function(e){return z(t,e)};var r,n,o=t;if(!0===o.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!("function"!=typeof o||o.prototype&&o.prototype.render||o.isReactClass||p.Component.isPrototypeOf(o)))return z((n=r=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),u(t,[{key:"render",value:function(){return o.call(this,this.props,this.context)}}]),t}(p.Component),r.displayName=o.displayName||o.name,r.contextTypes=o.contextTypes,r.propTypes=o.propTypes,r.defaultProps=o.defaultProps,n));if(!o)throw new Error("Please pass a valid component to 'observer'");var i,a=o.prototype||o;return G(i=a,"componentWillMount",!0),["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(e){G(i,e)}),i.shouldComponentUpdate||(i.shouldComponentUpdate=F.shouldComponentUpdate),o.isMobXReactObserver=!0,o}var Y=z(function(e){var t=e.children,r=e.inject,n=e.render,o=t||n;if(void 0===o)return null;if(!r)return o();var i=D(r)(o);return a.createElement(i,null)});Y.displayName="Observer";var J,Q,Z=function(e,t,r,n,o){var i="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+r):"function"!=typeof e[t]&&"function"!=typeof e[i]?new Error("Invalid prop `"+o+"` of type `"+s(e[t])+"` supplied to `"+r+"`, expected `function`."):void 0};Y.propTypes={render:Z,children:Z};var ee={children:!0,key:!0,ref:!0},te=(Q=J=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),u(t,[{key:"render",value:function(){return p.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var r in t)e[r]=t[r];for(var n in this.props)ee[n]||"suppressChangedStoreWarning"===n||(e[n]=this.props[n]);return{mobxStores:e}}},{key:"componentWillReceiveProps",value:function(e){if(Object.keys(e).length!==Object.keys(this.props).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var t in e)ee[t]||this.props[t]===e[t]||console.warn("MobX Provider: Provided store '"+t+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),t}(p.Component),J.contextTypes={mobxStores:E},J.childContextTypes={mobxStores:E.isRequired},Q);if(!p.Component)throw new Error("mobx-react requires React to be available");if(!l.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof t.unstable_batchedUpdates&&l.configure({reactionScheduler:t.unstable_batchedUpdates});if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":s(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var re={spy:l.spy,extras:{getDebugName:l.getDebugName}},ne={renderReporter:$,componentByNodeRegistery:L,trackComponents:X};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(ne,re)}e.propTypes=R,e.PropTypes=R,e.onError=function(e){return H.on(e)},e.observer=z,e.Observer=Y,e.renderReporter=$,e.componentByNodeRegistery=L,e.trackComponents=X,e.useStaticRendering=function(e){N=e},e.Provider=te,e.inject=D,Object.defineProperty(e,"__esModule",{value:!0})});