/**
 * ng-inline-edit v0.2.0 (http://tamerayd.in/ng-inline-edit)
 * Copyright 2015 Tamer Aydin (http://tamerayd.in)
 * Licensed under MIT
 */
!function(n,i){"use strict";i.module("angularInlineEdit.controllers",[]).controller("InlineEditController",["$scope","$document","$timeout",function(n,i,e){n.validationError=!1,n.validating=!1,n.cancelOnBlur=!1,n.editMode=!1,n.inputValue="",n.editText=function(t){n.editMode=!0,n.inputValue="string"==typeof t?t:n.model,e(function(){n.editInput[0].focus(),i.bind("click",n.onDocumentClick)},0)},n.applyText=function(t,l){function a(){n.model=c,n.callback({newValue:c}),n.editMode=!1}function d(){n.validationError=!0,e(function(){n.editText(c)},0)}function o(){n.validating=!1,l&&n.$apply()}var c=n.inputValue;if(n.validationError=!1,t||n.model===c)n.editMode=!1,l&&n.$apply();else{n.validating=!0,l&&n.$apply();var u=n.validate({newValue:n.inputValue});u.then?u.then(a)["catch"](d)["finally"](o):u?(a(),o()):(d(),o())}i.unbind("click",n.onDocumentClick)},n.onInputKeyup=function(i){if(!n.validating)switch(i.keyCode){case 13:n.applyText(!1,!1);break;case 27:n.applyText(!0,!1)}},n.onDocumentClick=function(i){n.validating||i.target!==n.editInput[0]&&n.applyText(n.cancelOnBlur,!0)}}])}(window,window.angular),function(n,i){"use strict";i.module("angularInlineEdit.directives",["angularInlineEdit.controllers"]).directive("inlineEdit",["$compile",function(n){return{restrict:"A",controller:"InlineEditController",scope:{model:"=inlineEdit",callback:"&inlineEditCallback",validate:"&inlineEditValidation"},link:function(e,t,l){e.model=e.$parent.$eval(l.inlineEdit),l.hasOwnProperty("inlineEditCancelOnBlur")&&(e.cancelOnBlur=!0),l.inlineEditValidation&&"function"==typeof e.$parent.$eval(l.inlineEditValidation.split("(")[0])||(e.validate=function(){return!0});var a=i.element("<div class=\"ng-inline-edit\" ng-class=\"{'ng-inline-edit--validating': validating, 'ng-inline-edit--error': validationError}\">"),d=i.element('<input type="text" class="ng-inline-edit__input" ng-disabled="validating" ng-show="editMode" ng-keyup="onInputKeyup($event)" ng-model="inputValue" />'),o=i.element('<div class="ng-inline-edit__inner-container"></div>');o.append(i.element('<span class="ng-inline-edit__text" ng-hide="editMode">{{model}}</span>')).append(i.element('<a class="ng-inline-edit__button" ng-show="!editMode" ng-click="editText()">'+(l.inlineEditButtonHtml||"")+"</a>")),a.append(d).append(o),t.append(a),e.editInput=d,l.$observe("inlineEdit",function(i){e.model=e.$parent.$eval(i),n(t.contents())(e)})}}}])}(window,window.angular),function(n,i){"use strict";i.module("angularInlineEdit",["angularInlineEdit.controllers","angularInlineEdit.directives"])}(window,window.angular);