function shave(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw Error("maxHeight is required");var i="string"==typeof e?document.querySelectorAll(e):e;if(i){var r=a.character||"â€¦",s=a.classname||"js-shave",n=a.spaces||!0,h='<span class="js-shave-char">'+r+"</span>";"length"in i||(i=[i]);for(var o=0;o<i.length;o+=1){var l=i[o],c=l.style,v=l.querySelector("."+s),g=void 0===l.textContent?"innerText":"textContent";v&&(l.removeChild(l.querySelector(".js-shave-char")),l[g]=l[g]);var f=l[g],d=n?f:f.split(" ");if(!(d.length<2)){var H=c.height;c.height="auto";var j=c.maxHeight;if(c.maxHeight="none",l.offsetHeight<=t)c.height=H,c.maxHeight=j;else{for(var p=d.length-1,x=0,m=void 0;x<p;)m=x+p+1>>1,l[g]=n?d.slice(0,m):d.slice(0,m).join(" "),l.insertAdjacentHTML("beforeend",h),l.offsetHeight>t?p=n?m-2:m-1:x=m;l[g]=n?d.slice(0,p):d.slice(0,p).join(" "),l.insertAdjacentHTML("beforeend",h);var u=n?d.slice(p):d.slice(p).join(" ");l.insertAdjacentHTML("beforeend",'<span class="'+s+'" style="display:none;">'+u+"</span>"),c.height=H,c.maxHeight=j}}}}}export default shave;