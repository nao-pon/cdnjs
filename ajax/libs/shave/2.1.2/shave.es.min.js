function shave(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw Error("maxHeight is required");var s="string"==typeof e?document.querySelectorAll(e):e,a=i.character||"â€¦",n=i.classname||"js-shave",r=i.spaces||!0,h='<span class="js-shave-char">'+a+"</span>";"length"in s||(s=[s]);for(var o=0;o<s.length;o+=1){var l=s[o],c=l.style,v=l.querySelector("."+n),g=void 0===l.textContent?"innerText":"textContent";v&&(l.removeChild(l.querySelector(".js-shave-char")),l[g]=l[g]);var f=l[g],d=r?f:f.split(" ");if(!(d.length<2)){var H=c.height;c.height="auto";var j=c.maxHeight;if(c.maxHeight="none",l.offsetHeight<=t)c.height=H,c.maxHeight=j;else{for(var m=d.length-1,p=0,x=void 0;p<m;)x=p+m+1>>1,l[g]=r?d.slice(0,x):d.slice(0,x).join(" "),l.insertAdjacentHTML("beforeend",h),l.offsetHeight>t?m=r?x-2:x-1:p=x;l[g]=r?d.slice(0,m):d.slice(0,m).join(" "),l.insertAdjacentHTML("beforeend",h);var u=r?d.slice(m):d.slice(m).join(" ");l.insertAdjacentHTML("beforeend",'<span class="'+n+'" style="display:none;">'+u+"</span>"),c.height=H,c.maxHeight=j}}}}export default shave;