!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("inferno"),require("inferno-clone-vnode"),require("history"),require("path-to-regexp-es6"),require("hoist-non-inferno-statics")):"function"==typeof define&&define.amd?define(["exports","inferno","inferno-clone-vnode","history","path-to-regexp-es6","hoist-non-inferno-statics"],o):o((t.Inferno=t.Inferno||{},t.Inferno.Router=t.Inferno.Router||{}),t.Inferno,t.Inferno,null,null,null)}(this,function(t,o,e,n,r,i){"use strict";function c(t,o){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&o.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)o.indexOf(n[r])<0&&(e[n[r]]=t[n[r]])}return e}r=r&&r.hasOwnProperty("default")?r.default:r,i=i&&i.hasOwnProperty("default")?i.default:i,"undefined"==typeof window||window.document;var a=Array.isArray;function s(t){return function(t){return void 0===t}(t)||u(t)}function u(t){return null===t}function p(t,o){t||console.error(o)}function l(t,o,e,n,r,i,c,a){if(!t){var s;if(void 0===o)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[e,n,r,i,c,a],p=0;(s=new Error(o.replace(/%s/g,function(){return u[p++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}var h=[],f={forEach:function(t,o){if(!s(t))for(var e=0,n=(t=f.toArray(t)).length;e<n;e++)o(t[e],e,t)},count:function(t){return f.toArray(t).length},only:function(t){if(1!==(t=f.toArray(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:function(t){return s(t)?[]:a(t)?t:h.concat(t)}},d=function(t){function o(o,e){t.call(this,o,e),this.state={match:this.computeMatch(o.history.location.pathname)}}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.getChildContext=function(){return{router:Object.assign({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},o.prototype.computeMatch=function(t){return{isExact:"/"===t,params:{},path:"/",url:"/"}},o.prototype.componentWillMount=function(){var t=this,o=this.props,e=o.children,n=o.history;l(null==e||1===f.count(e),"A <Router> may have only one child element"),this.unlisten=n.listen(function(){t.setState({match:t.computeMatch(n.location.pathname)})})},o.prototype.componentWillReceiveProps=function(t){p(this.props.history===t.history,"You cannot change <Router history>")},o.prototype.componentWillUnmount=function(){this.unlisten()},o.prototype.render=function(t,o,n){return t.children?e.cloneVNode(t.children):null},o}(o.Component);function y(t){return"/"===t.charAt(0)?t:"/"+t}var m=function(){},v=function(t){function e(){var o=this;t.apply(this,arguments),this.createHref=function(t){return y(o.props.basename+g(t))},this.handlePush=function(t){var e=o.props,n=e.basename,r=e.context;r.action="PUSH",r.location=b(n,x(t)),r.url=g(r.location)},this.handleReplace=function(t){var e=o.props,n=e.basename,r=e.context;r.action="REPLACE",r.location=b(n,x(t)),r.url=g(r.location)},this.handleListen=function(){return m},this.handleBlock=function(){return m}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),r=c(t,["basename","context","location"]),i={action:"POP",block:this.handleBlock,createHref:this.createHref,go:C("go"),goBack:C("goBack"),goForward:C("goForward"),listen:this.handleListen,location:function(t,o){if(!t)return o;var e=y(t);return 0!==o.pathname.indexOf(e)?o:Object.assign({},o,{pathname:o.pathname.substr(e.length)})}(e,x(n)),push:this.handlePush,replace:this.handleReplace};return o.createComponentVNode(4,d,Object.assign({},r,{history:i}))},e}(o.Component);function b(t,o){return t?Object.assign({},o,{pathname:y(t)+o.pathname}):o}function x(t){return"string"==typeof t?n.parsePath(t):function(t){var o=t.pathname;void 0===o&&(o="/");var e=t.search,n=t.hash;return{hash:"#"===(n||"")?"":n,pathname:o,search:"?"===(e||"")?"":e}}(t)}function g(t){return"string"==typeof t?t:n.createPath(t)}function C(t){return function(){l(!1,"You cannot %s with <StaticRouter>",t)}}v.defaultProps={basename:"",location:"/"};var _=function(t){function e(o,e){t.call(this,o,e),this.history=n.createBrowserHistory(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){return o.createComponentVNode(4,d,{children:this.props.children,history:this.history})},e}(o.Component),R=function(t){function e(o,e){t.call(this,o,e),this.history=n.createHashHistory(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){return o.createComponentVNode(4,d,{children:this.props.children,history:this.history})},e}(o.Component),w=function(t){function e(o,e){t.call(this,o,e),this.history=n.createMemoryHistory(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){return o.createComponentVNode(4,d,{children:this.props.children,history:this.history})},e}(o.Component),O={},j=0,k=function(t,o){var e=""+o.end+o.strict+o.sensitive,n=O[e]||(O[e]={});if(n[t])return n[t];var i=[],c={re:r(t,i,o),keys:i};return j<1e4&&(n[t]=c,j++),c};function P(t,o){"string"==typeof o&&(o={path:o});var e=o.path;void 0===e&&(e="/");var n=o.exact;void 0===n&&(n=!1);var r=o.strict;void 0===r&&(r=!1);var i=o.sensitive;void 0===i&&(i=!1);var c=k(e,{end:n,strict:r,sensitive:i}),a=c.re,s=c.keys,u=a.exec(t);if(!u)return null;var p=u[0],l=u.slice(1),h=t===p;return n&&!h?null:{isExact:h,params:s.reduce(function(t,o,e){return t[o.name]=l[e],t},{}),path:e,url:"/"===e&&""===p?"/":p}}var N=function(t){function e(o,e){t.call(this,o,e),this.state={match:this.computeMatch(o,e.router)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{router:Object.assign({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,o){var e=t.computedMatch,n=t.location,r=t.path,i=t.strict,c=t.exact,a=t.sensitive;if(e)return e;l(o,"You should not use <Route> or withRouter() outside a <Router>");var s=o.route,u=(n||s.location).pathname;return r?P(u,{path:r,strict:i,exact:c,sensitive:a}):s.match},e.prototype.componentWillReceiveProps=function(t,o){this.setState({match:this.computeMatch(t,o.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,i=e.render,c=this.context.router,a=c.history,s=c.route,u=c.staticContext,p={match:t,location:this.props.location||s.location,history:a,staticContext:u};return r?t?o.createComponentVNode(2,r,p):null:i?t?i(p,this.context):null:"function"==typeof n?n(p):n&&!function(t){return 0===f.count(t)}(n)?f.only(n):null},e}(o.Component),M=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentWillMount=function(){l(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){p(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),p(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t,e,n=this.context.router.route,r=this.props.children,i=this.props.location||n.location;return f.forEach(r,function(o){if(0!=("object"==typeof(r=o)&&!1===u(r))&&(495&r.flags)>0){var r,c=o.props,a=c.path,s=c.exact,p=c.strict,l=c.sensitive,h=c.from,f=a||h;null==t&&(e=o,t=f?P(i.pathname,{path:f,exact:s,strict:p,sensitive:l}):n.match)}}),t?o.createComponentVNode(e.flags,e.type,function(t,o){var e={};if(t)for(var n in t)e[n]=t[n];if(o)for(var r in o)e[r]=o[r];return e}(e.props,{location:i,computedMatch:t}),null,e.ref):null},e}(o.Component),S=function(t){return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)};function V(t,o){var e=t.props,n=t.context;if(e.onClick&&e.onClick(o),!o.defaultPrevented&&0===o.button&&!e.target&&!S(o)){o.preventDefault();var r=n.router.history,i=e.replace;void 0===i&&(i=!1);var c=e.to;i?r.replace(c):r.push(c)}}function A(t,e){t.replace;var n=t.children,r=t.className,i=t.to;void 0===i&&(i="");var a=t.innerRef,s=c(t,["replace","children","className","to","innerRef"]);l(e.router,"You should not use <Link> outside a <Router>");var u=e.router.history.createHref("string"==typeof i?{pathname:i}:i);return o.createVNode(1,"a",r,n,0,Object.assign({},s,{href:u,onClick:o.linkEvent({context:e,props:t},V)}),null,a?function(t){return a(t)}:null)}var E=function(t){function o(){t.apply(this,arguments)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},o.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},o.prototype.componentWillMount=function(){l(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},o.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},o.prototype.componentWillUnmount=function(){this.disable()},o.prototype.render=function(){return null},o}(o.Component),W=function(t){function o(){t.apply(this,arguments)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},o.prototype.componentWillMount=function(){l(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},o.prototype.componentDidMount=function(){this.isStatic()||this.perform()},o.prototype.componentDidUpdate=function(t){var o=n.createLocation(t.to),e=n.createLocation(this.props.to);n.locationsAreEqual(o,e)?console.error("You tried to redirect to the same route you're currently on: \""+e.pathname+e.search+'"'):this.perform()},o.prototype.perform=function(){var t=this.context.router.history,o=this.props,e=o.push;void 0===e&&(e=!1);var n=o.to;e?t.push(n):t.replace(n)},o.prototype.render=function(){return null},o}(o.Component);t.BrowserRouter=_,t.HashRouter=R,t.Link=A,t.MemoryRouter=w,t.NavLink=function(t){var e=t.to,n=t.exact,r=t.strict,i=t.onClick,a=t.location,s=t.activeClassName;void 0===s&&(s="active");var u=t.className,p=t.activeStyle,l=t.style,h=t.isActive,f=t.ariaCurrent;void 0===f&&(f="true");var d=c(t,["to","exact","strict","onClick","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return o.createComponentVNode(4,N,{children:function(t){var r=t.location,c=t.match,a=!!(h?h(c,r):c);return o.createComponentVNode(8,A,Object.assign({"aria-current":a&&f,className:a?[u,s].filter(function(t){return t}).join(" "):u,exact:n,onClick:i,style:a?Object.assign({},l,p):l,to:e},d))},exact:n,location:a,path:"object"==typeof e?e.pathname:e,strict:r})},t.Prompt=E,t.Redirect=W,t.Route=N,t.Router=d,t.StaticRouter=v,t.Switch=M,t.matchPath=P,t.withRouter=function(t){var e=function(e){var n=e.wrappedComponentRef,r=c(e,["wrappedComponentRef"]);return o.createComponentVNode(4,N,{render:function(e){return o.createComponentVNode(2,t,Object.assign({},r,e),null,n)}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,i(e,t)},Object.defineProperty(t,"__esModule",{value:!0})});
