!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("inferno"),require("history"),require("path-to-regexp-es6"),require("hoist-non-inferno-statics")):"function"==typeof define&&define.amd?define(["exports","inferno","history","path-to-regexp-es6","hoist-non-inferno-statics"],o):o((t.Inferno=t.Inferno||{},t.Inferno.Router=t.Inferno.Router||{}),t.Inferno,t.history,t.pathToRegexp,t.hoistNonReactStatics)}(this,function(t,o,e,n,r){"use strict";function i(t,o){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&o.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)o.indexOf(n[r])<0&&(e[n[r]]=t[n[r]])}return e}n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var c=function(t){return"/"===t.charAt(0)?t:"/"+t},a=("undefined"==typeof window||window.document,Array.isArray);function s(t){return function(t){return void 0===t}(t)||p(t)}function p(t){return null===t}function u(t,o){t||console.error(o)}function h(t,o,e,n,r,i,c,a){if(!t){var s;if(void 0===o)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[e,n,r,i,c,a],u=0;(s=new Error(o.replace(/%s/g,function(){return p[u++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}var l=[],f={forEach:function(t,o){if(!s(t))for(var e=0,n=(t=f.toArray(t)).length;e<n;e++)o(t[e],e,t)},count:function(t){return f.toArray(t).length},only:function(t){if(1!==(t=f.toArray(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:function(t){return s(t)?[]:a(t)?t:l.concat(t)}},y=function(t){function o(o,e){t.call(this,o,e),this.state={match:this.computeMatch(o.history.location.pathname)}}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.getChildContext=function(){return{router:Object.assign({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},o.prototype.computeMatch=function(t){return{isExact:"/"===t,params:{},path:"/",url:"/"}},o.prototype.componentWillMount=function(){var t=this,o=this.props,e=o.children,n=o.history;h(null==e||1===f.count(e),"A <Router> may have only one child element"),this.unlisten=n.listen(function(){t.setState({match:t.computeMatch(n.location.pathname)})})},o.prototype.componentWillReceiveProps=function(t){u(this.props.history===t.history,"You cannot change <Router history>")},o.prototype.componentWillUnmount=function(){this.unlisten()},o.prototype.render=function(t){return t.children},o}(o.Component),d=function(){},m=function(t){function e(){var o=this;t.apply(this,arguments),this.createHref=function(t){return c(o.props.basename+x(t))},this.handlePush=function(t){var e=o.props,n=e.basename,r=e.context;r.action="PUSH",r.location=v(n,b(t)),r.url=x(r.location)},this.handleReplace=function(t){var e=o.props,n=e.basename,r=e.context;r.action="REPLACE",r.location=v(n,b(t)),r.url=x(r.location)},this.handleListen=function(){return d},this.handleBlock=function(){return d}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),r=i(t,["basename","context","location"]),a={action:"POP",block:this.handleBlock,createHref:this.createHref,go:C("go"),goBack:C("goBack"),goForward:C("goForward"),listen:this.handleListen,location:function(t,o){if(!t)return o;var e=c(t);return 0!==o.pathname.indexOf(e)?o:Object.assign({},o,{pathname:o.pathname.substr(e.length)})}(e,b(n)),push:this.handlePush,replace:this.handleReplace};return o.createComponentVNode(4,y,Object.assign({},r,{history:a}))},e}(o.Component);function v(t,o){return t?Object.assign({},o,{pathname:c(t)+o.pathname}):o}function b(t){return"string"==typeof t?e.parsePath(t):function(t){var o=t.pathname;void 0===o&&(o="/");var e=t.search,n=t.hash;return{hash:"#"===(n||"")?"":n,pathname:o,search:"?"===(e||"")?"":e}}(t)}function x(t){return"string"==typeof t?t:e.createPath(t)}function C(t){return function(){h(!1,"You cannot %s with <StaticRouter>",t)}}m.defaultProps={basename:"",location:"/"};var g=function(t){function n(o,n){t.call(this,o,n),this.history=e.createBrowserHistory(o)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.render=function(){return o.createComponentVNode(4,y,{children:this.props.children,history:this.history})},n}(o.Component),_=function(t){function n(o,n){t.call(this,o,n),this.history=e.createHashHistory(o)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.render=function(){return o.createComponentVNode(4,y,{children:this.props.children,history:this.history})},n}(o.Component),R={},w=0,O=function(t,o){var e=""+o.end+o.strict+o.sensitive,r=R[e]||(R[e]={});if(r[t])return r[t];var i=[],c={re:n(t,i,o),keys:i};return w<1e4&&(r[t]=c,w++),c};function j(t,o){"string"==typeof o&&(o={path:o});var e=o.path;void 0===e&&(e="/");var n=o.exact;void 0===n&&(n=!1);var r=o.strict;void 0===r&&(r=!1);var i=o.sensitive;void 0===i&&(i=!1);var c=O(e,{end:n,strict:r,sensitive:i}),a=c.re,s=c.keys,p=a.exec(t);if(!p)return null;var u=p[0],h=p.slice(1),l=t===u;return n&&!l?null:{isExact:l,params:s.reduce(function(t,o,e){return t[o.name]=h[e],t},{}),path:e,url:"/"===e&&""===u?"/":u}}var k=function(t){function e(o,e){t.call(this,o,e),this.state={match:this.computeMatch(o,e.router)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{router:Object.assign({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,o){var e=t.computedMatch,n=t.location,r=t.path,i=t.strict,c=t.exact,a=t.sensitive;if(e)return e;h(o,"You should not use <Route> or withRouter() outside a <Router>");var s=o.route,p=(n||s.location).pathname;return r?j(p,{path:r,strict:i,exact:c,sensitive:a}):s.match},e.prototype.componentWillReceiveProps=function(t,o){this.setState({match:this.computeMatch(t,o.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,i=e.render,c=this.context.router,a=c.history,s=c.route,p=c.staticContext,u={match:t,location:this.props.location||s.location,history:a,staticContext:p};return r?t?o.createComponentVNode(2,r,u):null:i?t?i(u):null:"function"==typeof n?n(u):n&&!function(t){return 0===f.count(t)}(n)?f.only(n):null},e}(o.Component),N=function(t){return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},P=function(t){function e(){var o=this;t.apply(this,arguments),this.handleClick=function(t){if(o.props.onClick&&o.props.onClick(t),!t.defaultPrevented&&0===t.button&&!o.props.target&&!N(t)){t.preventDefault();var e=o.context.router.history,n=o.props,r=n.replace;void 0===r&&(r=!1);var i=n.to;r?e.replace(i):e.push(i)}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){t.replace;var e=t.children,n=t.className,r=t.to;void 0===r&&(r="");var c=t.innerRef,a=i(t,["replace","children","className","to","innerRef"]);h(this.context.router,"You should not use <Link> outside a <Router>");var s=this.context.router.history.createHref("string"==typeof r?{pathname:r}:r);return o.normalizeChildren(o.createVNode(1,"a",n,null,1,Object.assign({},a,{href:s,onClick:this.handleClick}),null,c?function(t){return c(t)}:null),e)},e}(o.Component);function M(t){var e=t.to,n=t.exact,r=t.strict,c=t.onClick,a=t.location,s=t.activeClassName;void 0===s&&(s="active");var p=t.className,u=t.activeStyle,h=t.style,l=t.isActive,f=t.ariaCurrent;void 0===f&&(f="true");var y=i(t,["to","exact","strict","onClick","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return o.createComponentVNode(4,k,{children:function(t){var r=t.location,i=t.match,a=!!(l?l(i,r):i);return o.createComponentVNode(4,P,Object.assign({"aria-current":a&&f,className:a?[p,s].filter(function(t){return t}).join(" "):p,exact:n,onClick:c,style:a?Object.assign({},h,u):h,to:e},y))},exact:n,location:a,path:"object"==typeof e?e.pathname:e,strict:r})}var S=function(t){function n(o,n){t.call(this,o,n),this.history=e.createMemoryHistory(o)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.render=function(){return o.createComponentVNode(4,y,{children:this.props.children,history:this.history})},n}(o.Component),V=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentWillMount=function(){h(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){u(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),u(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t,e,n=this.context.router.route,r=this.props.children,i=this.props.location||n.location;return f.forEach(r,function(o){if(0!=("object"==typeof(r=o)&&!1===p(r))&&(495&r.flags)>0){var r,c=o.props,a=c.path,s=c.exact,u=c.strict,h=c.sensitive,l=c.from,f=a||l;null==t&&(e=o,t=f?j(i.pathname,{path:f,exact:s,strict:u,sensitive:h}):n.match)}}),t?o.createComponentVNode(e.flags,e.type,function(t,o){var e={};if(t)for(var n in t)e[n]=t[n];if(o)for(var r in o)e[r]=o[r];return e}(e.props,{location:i,computedMatch:t}),null,e.ref):null},e}(o.Component),A=function(t){function o(){t.apply(this,arguments)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},o.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},o.prototype.componentWillMount=function(){h(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},o.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},o.prototype.componentWillUnmount=function(){this.disable()},o.prototype.render=function(){return null},o}(o.Component),W=function(t){function o(){t.apply(this,arguments)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},o.prototype.componentWillMount=function(){h(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},o.prototype.componentDidMount=function(){this.isStatic()||this.perform()},o.prototype.componentDidUpdate=function(t){var o=e.createLocation(t.to),n=e.createLocation(this.props.to);e.locationsAreEqual(o,n)?console.error("You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},o.prototype.perform=function(){var t=this.context.router.history,o=this.props,e=o.push;void 0===e&&(e=!1);var n=o.to;e?t.push(n):t.replace(n)},o.prototype.render=function(){return null},o}(o.Component);t.BrowserRouter=g,t.HashRouter=_,t.IndexLink=function(t){return o.createComponentVNode(8,M,t)},t.IndexRoute=function(t){return o.createComponentVNode(4,k,t)},t.Link=P,t.MemoryRouter=S,t.NavLink=M,t.Prompt=A,t.Redirect=W,t.Route=k,t.Router=y,t.StaticRouter=m,t.Switch=V,t.matchPath=j,t.withRouter=function(t){var e=function(e){var n=e.wrappedComponentRef,r=i(e,["wrappedComponentRef"]);return o.createComponentVNode(4,k,{render:function(e){return o.createComponentVNode(2,t,Object.assign({},r,e),null,n)}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,r(e,t)},Object.defineProperty(t,"__esModule",{value:!0})});
