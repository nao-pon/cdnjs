(function(l,q,d){function v(b){k?b():w.push(b)}function D(b,a,c){var h=!0,f=1;if(a){a=a.toLowerCase();do{var e=1==f?"@"+a:a;g[b.id][e]&&g[b.id][e].length&&d.each(g[b.id][e],function(a,e){return h=!1!==e.apply(b,c||[])})}while(h&&f--)}return h}function r(b,a,c,h){h=h||function(b,a){return d(a.currentTarget)};d.each(d.isArray(a)?a:[a],function(a,e){d.each(c,function(a,f){d(e).on(a=d.isArray(c)?f:a,function(){var c=d.isFunction(h)?h.apply(b,[a].concat(I.call(arguments))):h;c&&D(b,f,[c].concat(I.call(arguments)))})})})}
function J(b,a){b=b.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(?:\r\n|\r|\n)/g,"\n").replace(/(\n+)/g,"<div>$1</div>").replace(/\n/g,"<br/>").replace(/<br\/><\/div>/g,"</div>");a.shortnames&&(b=k.shortnameToUnicode(b));return Q(b,'<img alt="{alt}" class="emojione'+(a.sprite?'-{uni}" src="'+K+'">':'" src="{img}">')).replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/  /g,"&nbsp;&nbsp;")}function L(b,a){b=b.replace(/<img[^>]*alt="([^"]+)"[^>]*>/ig,"$1").replace(/\n|\r/g,"").replace(/<br[^>]*>/ig,
"\n").replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/ig,"<div>").replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/ig,"</div>").replace(/\n<div><\/div>/ig,"\n").replace(/<div><\/div>\n/ig,"\n").replace(/(?:<div>)+<\/div>/ig,"\n").replace(/([^\n])<\/div><div>/ig,"$1\n").replace(/(?:<\/div>)+/ig,"</div>").replace(/([^\n])<\/div>([^\n])/ig,"$1\n$2").replace(/<\/div>/ig,"").replace(/([^\n])<div>/ig,"$1\n").replace(/\n<div>/ig,"\n").replace(/<div>\n/ig,"\n\n").replace(/<(?:[^>]+)?>/g,"").replace(/&nbsp;/g,
" ").replace(/\x20\x20/g,"&nbsp; ").replace(/\x20\x20/g," &nbsp;");return a&&a.shortnames?k.toShort(b):b}function M(b,a,c){return b.replace("{name}",c||"").replace("{img}",k.imagePathPNG+a+".png").replace("{uni}",a).replace("{alt}",k.convert(a))}function Q(b,a){return b.replace(N,function(b){return"undefined"!==typeof b&&b in k.jsecapeMap?M(a,k.jsecapeMap[b]):b})}function G(b,a){return b.replace(/:?[\w_]+:?/g,function(b){b=":"+b.replace(/:$/,"").replace(/^:/,"")+":";return b in u?M(a,u[b][u[b].length-
1].toUpperCase(),b):b})}function R(b,a,c){function h(){x||(d.each(y,function(b,a){x+=d(a).outerWidth(!0)}),u=y.eq(0).outerWidth(!0));x>z?(A.addClass("active"),B.addClass("active"),n+x<=z?(n=z-x,A.removeClass("active")):0<=n&&(n=0,B.removeClass("active")),t.css("left",n)):(0!==n&&(n=0,t.css("left",n)),A.removeClass("active"),B.removeClass("active"))}c=d.extend({},S,c);var f=a.is("TEXTAREA")||a.is("INPUT")?"val":"text",e=c.template,l=!1,k=c.container?d(c.container):!1,p,m,g,t,y,B,A,z,n=0,x=0,u,v=function(){var a=
m.width();a!==z&&(z=a,D(b,"resize",[p]))},w;b.sprite=c.useSprite;b.shortnames=c.shortnames;for(var C=["editor","filters","tabs"],s=0;3>s;s++)e=e.replace(RegExp("<"+C[s]+"/?>","i"),'<div class="emojionearea-'+C[s]+'"></div>');e=d("<div/>",{"class":a.attr("class"),role:"application"}).addClass("emojionearea").html(e);p=b.editor=e.find(".emojionearea-editor").attr({contenteditable:!0,placeholder:c.placeholder||a.data("placeholder")||a.attr("placeholder")||"",tabindex:0});C=["dir","spellcheck","autocomplete",
"autocorrect","autocapitalize"];for(s=0;5>s;s++)p.attr(C[s],c[C[s]]);m=e.find(".emojionearea-filters");c.autoHideFilters&&m.hide();g=e.find(".emojionearea-tabs");d.each(c.filters,function(a,c){d("<i/>",{"class":"emojionearea-filter","data-filter":a}).wrapInner(G(c.icon,b.sprite?'<i class="emojione-{uni}"/>':'<img class="emojione" src="{img}"/>')).appendTo(m);d("<div/>",{"class":"emojionearea-tab emojionearea-tab-"+a}).hide().data("items",G(c.emoji,'<i class="emojibtn" role="button">'+(b.sprite?'<i class="emojione-{uni}"':
'<img class="emojione" src="{img}"')+' data-name="{name}"/></i>')).appendTo(g)});m.wrapInner('<div class="emojionearea-filters-scroll"/>');B=d('<i class="emojionearea-filter-arrow-left"/>',{role:"button"}).appendTo(m);A=d('<i class="emojionearea-filter-arrow-right"/>',{role:"button"}).appendTo(m);y=m.find(".emojionearea-filter");t=m.children(".emojionearea-filters-scroll");k?k.wrapInner(e):e.insertAfter(a);c.hideSource&&a.hide();b.setText(a[f]());r(b,[m,g],{mousedown:"area.mousedown"},p);r(b,p,["paste"],
p);r(b,p,["focus","blur"],function(){return l?!1:p});r(b,[p,m,g],["mousedown","mouseup","click","keyup","keydown"],p);r(b,m.find(".emojionearea-filter"),{click:"filter.click"});r(b,B,{click:"arrowLeft.click"});r(b,A,{click:"arrowRight.click"});b.on("@filter.click",function(a){if(a.is(".active"))a.removeClass("active"),g.children().hide();else{y.filter(".active").removeClass("active");a.addClass("active");var c,e,d=g.children().hide().filter(".emojionearea-tab-"+a.data("filter")).show(),h=d.data("items"),
f={click:"emojibtn.click"};h&&(d.data("items",!1),h=h.split(","),b.sprite?(d.html(h.join("")),r(b,d.find(".emojibtn"),f)):e=O(function(){for(c=0;20>c&&h.length;c++)d.append(h.shift()),r(b,d.find(".emojibtn").not(".handled").addClass("handled"),f);h.length||P(e)},5))}}).on("@resize",function(){h()}).on("@arrowLeft.click",function(){n+=u;h()}).on("@arrowRight.click",function(){n-=u;h()}).on("@paste",function(a){l=!0;E("<span> </span>");var c=F(a[0]),e=a.scrollTop(),h=d("<div/>",{contenteditable:!0}).css({position:"fixed",
left:"-999px",width:"1px",height:"1px",top:"20px",overflow:"hidden"}).appendTo(d("BODY")).focus();q.setTimeout(function(){var f="caret-"+(new Date).getTime();a.focus();H(a[0],c);E(J(L(h.html().replace(/\r\n|\n|\r/g,"<br>"),b),b));h.remove();E('<i id="'+f+'"></i>');a.scrollTop(e);var f=d("#"+f),g=f.offset().top-a.offset().top,k=a.height();(e+g>=k||e>g)&&a.scrollTop(e+g-2*k/3);f.remove();l=!1},200)}).on("@emojibtn.click",function(a){F(p[0]);E(G(a.children().data("name"),'<img alt="{alt}" class="emojione'+
(b.sprite?'-{uni}" src="'+K+'">':'" src="{img}">')))}).on("@area.mousedown",function(a,b){!c.autoHideFilters&&!e.is(".focused")&&a.focus();b.preventDefault();return!1}).on("@change",function(c){c=c.html().replace(/<\/?(?:div|span|p)[^>]*>/ig,"");(!c.length||/^<br[^>]*>$/i.test(c))&&b.setText("",!1);a[f](b.getText())}).on("@focus",function(){v();w=O(v,500);e.addClass("focused");c.autoHideFilters&&m.slideDown(400)}).on("@blur",function(d){n=0;h();e.removeClass("focused");P(w);c.autoHideFilters&&m.slideUp(400);
y.filter(".active").removeClass("active");g.children().hide();d=d.html();b.content!==d?(b.content=d,D(b,"change",[p]),a.blur().trigger("change")):a.blur()})}function E(b){var a,c;if(q.getSelection){if(a=q.getSelection(),a.getRangeAt&&a.rangeCount){c=a.getRangeAt(0);c.deleteContents();var d=l.createElement("div");d.innerHTML=b;b=l.createDocumentFragment();for(var f,e;f=d.firstChild;)e=b.appendChild(f);c.insertNode(b);e&&(c=c.cloneRange(),c.setStartAfter(e),c.collapse(!0),a.removeAllRanges(),a.addRange(c))}}else l.selection&&
"Control"!=l.selection.type&&l.selection.createRange().pasteHTML(b)}var K="data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==",S={template:"<editor/><filters/><tabs/>",dir:"ltr",spellcheck:!1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",placeholder:null,container:null,hideSource:!0,autoHideFilters:!1,shortnames:!1,useSprite:!0,filters:{people:{icon:"yum",emoji:"grinning,grin,joy,smiley,smile,sweat_smile,laughing,innocent,smiling_imp,imp,wink,blush,relaxed,yum,relieved,heart_eyes,sunglasses,smirk,neutral_face,expressionless,unamused,sweat,pensive,confused,confounded,kissing,kissing_heart,kissing_smiling_eyes,kissing_closed_eyes,stuck_out_tongue,stuck_out_tongue_winking_eye,stuck_out_tongue_closed_eyes,disappointed,worried,angry,rage,cry,persevere,triumph,disappointed_relieved,frowning,anguished,fearful,weary,sleepy,tired_face,grimacing,sob,open_mouth,hushed,cold_sweat,scream,astonished,flushed,sleeping,dizzy_face,no_mouth,mask,slight_frown,slight_smile,smile_cat,joy_cat,smiley_cat,heart_eyes_cat,smirk_cat,kissing_cat,pouting_cat,crying_cat_face,scream_cat,footprints,bust_in_silhouette,busts_in_silhouette,levitate,spy,baby,boy,girl,man,woman,family,family_mwg,family_mwgb,family_mwbb,family_mwgg,family_wwb,family_wwg,family_wwgb,family_wwbb,family_wwgg,family_mmb,family_mmg,family_mmgb,family_mmbb,family_mmgg,couple,two_men_holding_hands,two_women_holding_hands,dancers,bride_with_veil,person_with_blond_hair,man_with_gua_pi_mao,man_with_turban,older_man,older_woman,cop,construction_worker,princess,guardsman,angel,santa,ghost,japanese_ogre,japanese_goblin,poop,skull,alien,space_invader,bow,information_desk_person,no_good,ok_woman,raising_hand,person_with_pouting_face,person_frowning,massage,haircut,couple_with_heart,couple_ww,couple_mm,couplekiss,kiss_ww,kiss_mm,raised_hands,clap,ear,eye,eyes,nose,lips,kiss,tongue,nail_care,wave,thumbsup,thumbsdown,point_up,point_up_2,point_down,point_left,point_right,ok_hand,v,punch,fist,raised_hand,muscle,open_hands,writing_hand,hand_splayed,middle_finger,vulcan,pray"},
nature:{icon:"whale",emoji:"seedling,evergreen_tree,deciduous_tree,palm_tree,cactus,tulip,cherry_blossom,rose,hibiscus,sunflower,blossom,bouquet,ear_of_rice,herb,four_leaf_clover,maple_leaf,fallen_leaf,leaves,mushroom,chestnut,rat,mouse2,mouse,hamster,ox,water_buffalo,cow2,cow,tiger2,leopard,tiger,chipmunk,rabbit2,rabbit,cat2,cat,racehorse,horse,ram,sheep,goat,rooster,chicken,baby_chick,hatching_chick,hatched_chick,bird,penguin,elephant,dromedary_camel,camel,boar,pig2,pig,pig_nose,dog2,poodle,dog,wolf,bear,koala,panda_face,monkey_face,see_no_evil,hear_no_evil,speak_no_evil,monkey,dragon,dragon_face,crocodile,snake,turtle,frog,whale2,whale,dolphin,octopus,fish,tropical_fish,blowfish,shell,snail,bug,ant,bee,beetle,spider,spider_web,feet,zap,fire,crescent_moon,sunny,partly_sunny,cloud,cloud_rain,cloud_snow,cloud_lightning,cloud_tornado,droplet,sweat_drops,umbrella,fog,dash,snowflake,star2,star,stars,sunrise_over_mountains,sunrise,rainbow,ocean,volcano,milky_way,mount_fuji,japan,globe_with_meridians,earth_africa,earth_americas,earth_asia,new_moon,waxing_crescent_moon,first_quarter_moon,waxing_gibbous_moon,full_moon,waning_gibbous_moon,last_quarter_moon,waning_crescent_moon,new_moon_with_face,full_moon_with_face,first_quarter_moon_with_face,last_quarter_moon_with_face,sun_with_face,wind_blowing_face"},
food_drink:{icon:"cherries",emoji:"tomato,eggplant,corn,sweet_potato,hot_pepper,grapes,melon,watermelon,tangerine,lemon,banana,pineapple,apple,green_apple,pear,peach,cherries,strawberry,hamburger,pizza,meat_on_bone,poultry_leg,rice_cracker,rice_ball,rice,curry,ramen,spaghetti,bread,fries,dango,oden,sushi,fried_shrimp,fish_cake,icecream,shaved_ice,ice_cream,doughnut,cookie,chocolate_bar,candy,lollipop,custard,honey_pot,cake,bento,stew,egg,fork_and_knife,tea,coffee,sake,wine_glass,cocktail,tropical_drink,beer,beers,baby_bottle"},
celebration:{icon:"tada",emoji:"ribbon,gift,birthday,jack_o_lantern,christmas_tree,tanabata_tree,bamboo,rice_scene,fireworks,sparkler,tada,confetti_ball,balloon,dizzy,sparkles,boom,mortar_board,crown,reminder_ribbon,military_medal,dolls,flags,wind_chime,crossed_flags,izakaya_lantern,ring,heart,broken_heart,love_letter,two_hearts,revolving_hearts,heartbeat,heartpulse,sparkling_heart,cupid,gift_heart,heart_decoration,purple_heart,yellow_heart,green_heart,blue_heart"},activity:{icon:"trophy",emoji:"runner,walking,dancer,lifter,golfer,rowboat,swimmer,surfer,bath,snowboarder,ski,snowman,bicyclist,mountain_bicyclist,motorcycle,race_car,horse_racing,tent,fishing_pole_and_fish,soccer,basketball,football,baseball,tennis,rugby_football,golf,trophy,medal,running_shirt_with_sash,checkered_flag,musical_keyboard,guitar,violin,saxophone,trumpet,musical_note,notes,musical_score,headphones,microphone,performing_arts,ticket,tophat,circus_tent,clapper,film_frames,tickets,art,dart,8ball,bowling,slot_machine,game_die,video_game,flower_playing_cards,black_joker,mahjong,carousel_horse,ferris_wheel,roller_coaster"},
travel:{icon:"rocket",emoji:"railway_car,mountain_railway,steam_locomotive,train,monorail,bullettrain_side,bullettrain_front,train2,metro,light_rail,station,tram,railway_track,bus,oncoming_bus,trolleybus,minibus,ambulance,fire_engine,police_car,oncoming_police_car,rotating_light,taxi,oncoming_taxi,red_car,oncoming_automobile,blue_car,truck,articulated_lorry,tractor,bike,motorway,busstop,fuelpump,construction,vertical_traffic_light,traffic_light,rocket,helicopter,airplane,airplane_small,airplane_departure,airplane_arriving,seat,anchor,ship,cruise_ship,motorboat,speedboat,sailboat,aerial_tramway,mountain_cableway,suspension_railway,passport_control,customs,baggage_claim,left_luggage,yen,euro,pound,dollar,bellhop,bed,couch,fork_knife_plate,shopping_bags,statue_of_liberty,moyai,foggy,tokyo_tower,fountain,european_castle,japanese_castle,classical_building,stadium,mountain_snow,camping,beach,desert,island,park,cityscape,city_sunset,city_dusk,night_with_stars,bridge_at_night,house,homes,house_with_garden,house_abandoned,contruction_site,office,department_store,factory,post_office,european_post_office,hospital,bank,hotel,love_hotel,wedding,church,convenience_store,school,map"},
objects_symbols:{icon:"paperclips",emoji:"watch,iphone,calling,computer,desktop,keyboard,trackball,printer,alarm_clock,clock,hourglass_flowing_sand,hourglass,camera,camera_with_flash,video_camera,movie_camera,projector,tv,microphone2,level_slider,control_knobs,radio,pager,joystick,telephone_receiver,telephone,fax,minidisc,floppy_disk,cd,dvd,vhs,battery,electric_plug,bulb,flashlight,candle,satellite,satellite_orbital,credit_card,money_with_wings,moneybag,gem,closed_umbrella,pouch,purse,handbag,briefcase,school_satchel,lipstick,eyeglasses,dark_sunglasses,womans_hat,sandal,high_heel,boot,mans_shoe,athletic_shoe,bikini,dress,kimono,womans_clothes,shirt,necktie,jeans,door,shower,bathtub,toilet,barber,syringe,pill,microscope,telescope,crystal_ball,wrench,knife,dagger,nut_and_bolt,hammer,tools,oil,bomb,smoking,gun,bookmark,newspaper,newspaper2,thermometer,label,key,key2,envelope,envelope_with_arrow,incoming_envelope,email,inbox_tray,outbox_tray,package,postal_horn,postbox,mailbox_closed,mailbox,mailbox_with_no_mail,mailbox_with_mail,page_facing_up,page_with_curl,bookmark_tabs,wastebasket,notepad_spiral,chart_with_upwards_trend,chart_with_downwards_trend,bar_chart,date,calendar,calendar_spiral,ballot_box,low_brightness,high_brightness,compression,frame_photo,scroll,clipboard,book,notebook,notebook_with_decorative_cover,ledger,closed_book,green_book,blue_book,orange_book,books,card_index,dividers,card_box,link,paperclip,paperclips,pushpin,scissors,triangular_ruler,round_pushpin,straight_ruler,triangular_flag_on_post,flag_white,flag_black,hole,file_folder,open_file_folder,file_cabinet,black_nib,pencil2,pen_ballpoint,pen_fountain,paintbrush,crayon,pencil,lock_with_ink_pen,closed_lock_with_key,lock,unlock,mega,loudspeaker,speaker,sound,loud_sound,mute,zzz,bell,no_bell,cross_heavy,om_symbol,dove,thought_balloon,speech_balloon,anger_right,children_crossing,shield,mag,mag_right,speaking_head,sleeping_accommodation,no_entry_sign,no_entry,name_badge,no_pedestrians,do_not_litter,no_bicycles,non_potable_water,no_mobile_phones,underage,sparkle,eight_spoked_asterisk,negative_squared_cross_mark,white_check_mark,eight_pointed_black_star,vibration_mode,mobile_phone_off,vs,a,b,ab,cl,o2,sos,id,parking,wc,cool,free,new,ng,ok,up,atm,aries,taurus,gemini,cancer,leo,virgo,libra,scorpius,sagittarius,capricorn,aquarius,pisces,restroom,mens,womens,baby_symbol,wheelchair,potable_water,no_smoking,put_litter_in_its_place,arrow_forward,arrow_backward,arrow_up_small,arrow_down_small,fast_forward,rewind,arrow_double_up,arrow_double_down,arrow_right,arrow_left,arrow_up,arrow_down,arrow_upper_right,arrow_lower_right,arrow_lower_left,arrow_upper_left,arrow_up_down,left_right_arrow,arrows_counterclockwise,arrow_right_hook,leftwards_arrow_with_hook,arrow_heading_up,arrow_heading_down,twisted_rightwards_arrows,repeat,repeat_one,hash,zero,one,two,three,four,five,six,seven,eight,nine,keycap_ten,1234,abc,abcd,capital_abcd,information_source,signal_strength,cinema,symbols,heavy_plus_sign,heavy_minus_sign,wavy_dash,heavy_division_sign,heavy_multiplication_x,heavy_check_mark,arrows_clockwise,tm,copyright,registered,currency_exchange,heavy_dollar_sign,curly_loop,loop,part_alternation_mark,exclamation,question,grey_exclamation,grey_question,bangbang,interrobang,x,o,100,end,back,on,top,soon,cyclone,m,ophiuchus,six_pointed_star,beginner,trident,warning,hotsprings,rosette,recycle,anger,diamond_shape_with_a_dot_inside,spades,clubs,hearts,diamonds,ballot_box_with_check,white_circle,black_circle,radio_button,red_circle,large_blue_circle,small_red_triangle,small_red_triangle_down,small_orange_diamond,small_blue_diamond,large_orange_diamond,large_blue_diamond,black_small_square,white_small_square,black_large_square,white_large_square,black_medium_square,white_medium_square,black_medium_small_square,white_medium_small_square,black_square_button,white_square_button,clock1,clock2,clock3,clock4,clock5,clock6,clock7,clock8,clock9,clock10,clock11,clock12,clock130,clock230,clock330,clock430,clock530,clock630,clock730,clock830,clock930,clock1030,clock1130,clock1230"},
flags:{icon:"triangular_flag_on_post",emoji:"au,at,be,br,ca,flag_cl,cn,co,dk,fi,fr,de,hk,in,flag_id,ie,il,it,jp,kr,mo,my,mx,nl,nz,no,ph,pl,pt,pr,ru,flag_sa,sg,za,es,se,ch,tr,gb,us,ae,vn,af,al,dz,ad,ao,ai,ag,ar,am,aw,ac,az,bs,bh,bd,bb,by,bz,bj,bm,bt,bo,ba,bw,bn,bg,bf,bi,kh,cm,cv,ky,cf,km,flag_cd,cg,td,cr,ci,hr,cu,cy,cz,dj,dm,do,tl,ec,eg,sv,gq,er,ee,et,fk,fo,fj,pf,ga,gm,ge,gh,gi,gr,gl,gd,gu,gt,gn,gw,gy,ht,hn,hu,is,ir,iq,jm,je,jo,kz,ke,ki,xk,kw,kg,la,lv,lb,ls,lr,ly,li,lt,lu,mk,mg,mw,mv,ml,mt,mh,mr,mu,fm,md,mc,mn,me,ms,ma,mz,mm,na,nr,np,nc,ni,ne,flag_ng,nu,kp,om,pk,pw,ps,pa,pg,py,pe,qa,ro,rw,sh,kn,lc,vc,ws,sm,st,sn,rs,sc,sl,sk,si,sb,so,lk,sd,sr,sz,sy,tw,tj,tz,th,tg,to,tt,tn,flag_tm,flag_tv,vi,ug,ua,uy,uz,vu,va,ve,wf,eh,ye,zm,zw"}}},
I=[].slice,k=q.emojione,F,H,u={},g={},O=q.setInterval,P=q.clearInterval,w=[],N,T=0;k||d.getScript("https://cdn.jsdelivr.net/emojione/1.5.0/lib/js/emojione.min.js",function(){k=q.emojione;k.imagePathPNG="https://cdnjs.cloudflare.com/ajax/libs/emojione/1.5.0/assets/png/";for(l.createStyleSheet?l.createStyleSheet("https://cdnjs.cloudflare.com/ajax/libs/emojione/1.5.0/assets/sprites/emojione.sprites.css"):d("<link/>",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/emojione/1.5.0/assets/sprites/emojione.sprites.css"}).appendTo("head");w.length;)w.shift().call()});
v(function(){d.each(k.emojioneList,function(b,a){u[b.replace("-","_")]=a});N=RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+k.unicodeRegexp+")","gi")});var t=function(b,a){var c=this;g[c.id=++T]={};v(function(){R(c,b,a)})};t.prototype.on=function(b,a){if(b&&d.isFunction(a)){var c=this.id;d.each(b.toLowerCase().split(" "),function(b,d){(g[c][d]||(g[c][d]=[])).push(a)})}return this};t.prototype.off=function(b,a){if(b){var c=this.id;d.each(b.toLowerCase().split(" "),
function(b,f){g[c][f]&&!/^@/.test(f)&&(a?d.each(g[c][f],function(b,d){d===a&&(g[c][f]=g[c][f].splice(b,1))}):g[c][f]=[])})}return this};t.prototype.setText=function(b){var a=this,c=arguments;v(function(){a.editor.html(J(b,a));a.content=a.editor.html();1===c.length&&D(a,"change",[a.editor])})};t.prototype.getText=function(){return L(this.editor.html(),this)};d.fn.emojioneArea=function(b){return this.each(function(){return this.emojioneArea?this.emojioneArea:this.emojioneArea=new t(d(this),b)})};q.getSelection&&
l.createRange?(F=function(b){var a=q.getSelection().getRangeAt(0),c=a.cloneRange();c.selectNodeContents(b);c.setEnd(a.startContainer,a.startOffset);return c.toString().length},H=function(b,a){var c=0,d=l.createRange();d.setStart(b,0);d.collapse(!0);for(var f=[b],e,g=!1;!g&&(e=f.pop());)if(3==e.nodeType){var k=c+e.length;a>=c&&a<=k&&(d.setStart(e,a-c),d.setEnd(e,a-c),g=!0);c=k}else for(k=e.childNodes.length;k--;)f.push(e.childNodes[k]);a=q.getSelection();a.removeAllRanges();a.addRange(d)}):l.selection&&
l.body.createTextRange&&(F=function(b){var a=l.selection.createRange(),c=l.body.createTextRange();c.moveToElementText(b);c.setEndPoint("EndToStart",a);b=c.text.length;return[b,b+a.text.length]},H=function(b,a){var c=l.body.createTextRange();c.moveToElementText(b);c.collapse(!0);c.moveEnd("character",a[1]);c.moveStart("character",a[0]);c.select()})})(document,window,jQuery);
