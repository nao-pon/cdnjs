window.BotUI=function(t,e){function n(t){f.action.addMessage&&s.message.human({delay:100,content:t}),f.action.show=!f.action.autoHide}function o(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}if(!t)throw Error("BotUI: Container id is required as first argument.");if(!document.getElementById(t))throw Error("BotUI: Element with id #"+t+" does not exist.");if(!window.Vue)throw Error("BotUI: VueJS is required but not found on this page.");var i,a,r={fontawesome:!0},s={},u="https://use.fontawesome.com/ea731dcb6f.js";if(e)for(var c in r)e.hasOwnProperty(c)&&(r[c]=e[c]);var d={template:"<div class="botui botui-container"><div class="botui-messages-container"><div v-for="msg in messages"><transition name="slide-fade"><div class="botui-message" v-if="msg.visible"><div class="botui-message-content" :class="{human: msg.human}" v-text="msg.content"></div></div></transition></div></div><div class="botui-actions-container"><transition name="slide-fade"><div v-if="action.show"><form v-if="action.type == \'text\'" class="botui-actions-text" @submit.prevent="handle_action_text()"> <input type="text" ref="input" :type="action.text.sub_type" v-model="action.text.value" class="botui-actions-text-input" :placeholder="action.text.placeholder" :size="action.text.size" :value="action.text.value" required/> <button v-if="isMobile" class="botui-actions-text-submit">Go</button></form><div v-if="action.type == \'button\'" class="botui-actions-buttons"> <button type="button" class="botui-actions-buttons-button" v-for="button in action.button.buttons" @click="handle_action_button(button)" autofocus><i v-if="button.icon" class="fa" :class="\'fa-\' + button.icon"></i> {{button.text}}</button></div></div></transition></div></div>",data:function(){return{action:{text:{size:30,placeholder:"Write here .."},button:{},show:!1,type:"text",autoHide:!0,addMessage:!0},messages:[]}},computed:{isMobile:function(){return window.innerWidth<=768}},methods:{handle_action_button:function(t){n(t.text),a({type:"button",text:t.text,value:t.value})},handle_action_text:function(){this.action.text.value&&(n(this.action.text.value),a({type:"text",value:this.action.text.value}),this.action.text.value="")}}};i=new Vue({components:{"bot-ui":d}}).$mount("#"+t);var f=i.$children[0],m=function(t){if(!t.content)throw Error('BotUI: "content" is required in message object.');t.visible=!t.delay;var e=f.messages.push(t)-1;return new Promise(function(n,o){setTimeout(function(){f.messages[e].visible=!0,n(e)},t.delay||0)})};s.message={add:function(t){return m(t)},bot:function(t){return t=t||{},m(t)},human:function(t){return t=t||{},t.human=!0,m(t)},get:function(t){return f.messages[t]},remove:function(t){return!!f.messages.splice(t,1).length},update:function(t,e){return f.messages[t].content=e.content,Promise.resolve()},removeAll:function(){return!!f.messages.splice(0,f.messages.length).length}};var h=function(t){return o({type:"text",autoHide:!0,addMessage:!0},t),f.action.type=t.type,f.action.autoHide=t.autoHide,f.action.addMessage=t.addMessage,new Promise(function(e,n){a=e,setTimeout(function(){f.action.show=!0,"text"==t.type&&Vue.nextTick(function(){f.$refs.input.focus()})},t.delay||0)})};return s.action={show:h,hide:function(){f.action.show=!1},text:function(t){return f.action.text=t,h(t)},button:function(t){if(t.type="button",!t.buttons)throw Error('BotUI: "buttons" property is expected as an array.');return f.action.button.buttons=t.buttons,h(t)}},r.fontawesome&&function(){var t=document.createElement("script");t.type="text/javascript",t.src=u,document.body.appendChild(t)}(),r.debug&&(s._botApp=i),s};