!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("inferno")):"function"==typeof define&&define.amd?define(["inferno"],e):e(n.Inferno)}(this,function(n){"use strict";"undefined"==typeof window||window.document;var e=Array.isArray;function o(n){return void 0===n}function t(o,r){if(!o){return n.options.roots.get(r)}if(o.dom===r)return o;var i=o.flags,u=o.children;if(14&i&&(u=u.$LI||u),u)if(e(u))for(var f=0,p=u.length;f<p;f++){var c=u[f];if(c){var a=t(c,r);if(a)return a}}else if(s=u,"object"==typeof s){var d=t(u,r);if(d)return d}var s}var r=new Map;function i(n){return 4&n.flags?n.children:n.dom}function u(n){var e=i(n);return r.get(e)}function f(n){var e=i(n);r.delete(e)}function p(){var e={getNodeFromInstance:function(n){return n.node},getClosestInstanceFromNode:function(n){var e=t(null,n);return e?c(e,null):null}},o={};r=o,n.options.roots.forEach(function(n){r[d(r)]=c(n.input,null)});var r,i={_instancesByReactRootID:o,_renderNewRootComponent:function(n){}},p={mountComponent:function(n){},performUpdateIfNecessary:function(n){},receiveComponent:function(n){},unmountComponent:function(n){}},a=new Map,l=new Map,m=new Map,v=function(n,e,o){e.has(o)||(e.set(o,!0),requestAnimationFrame(function(){n(o),e.delete(o)}))},_=function(n){return v(p.mountComponent,a,n)},y=function(n){return v(p.receiveComponent,l,n)},C=function(n){return v(p.unmountComponent,m,n)};return{ComponentTree:e,Mount:i,Reconciler:p,componentAdded:function(e){var t=c(e,null);r=e,Boolean(r.dom&&r.dom.parentNode&&n.options.roots.has(r.dom.parentNode))&&(t._rootID=d(o),o[t._rootID]=t,i._renderNewRootComponent(t));var r;s(t,function(n){n&&(n._inDevTools=!0,_(n))}),_(t)},componentRemoved:function(n){var e=c(n,null);s(function(n){f(n.vNode),C(n)}),C(e),f(n),e._rootID&&delete o[e._rootID]},componentUpdated:function(n){var e=[];s(u(n),function(n){e.push(n)});var o=c(n,null);y(o),s(o,function(n){n._inDevTools?y(n):(n._inDevTools=!0,_(n))}),e.forEach(function(n){document.body.contains(n.node)||(f(n.vNode),C(n))})}}}function c(n,t){if(!n)return null;var f,p=n.flags,d=u(n);if(f=14&p?function(n,e){var o=n.type,t=n.children,r=t.$LI||t,i=n.dom,u={_currentElement:{key:function(n){if(n&&"."===n[0])return null}(n.key),props:n.props,ref:null,type:o},_instance:t,_renderedComponent:c(r,i),getName:function(){return function(n){if("function"==typeof n)return n.displayName||n.name;return n}(o)},node:i,props:t&&t.props,setState:t&&t.setState&&t.setState.bind(t),state:t&&t.state,vNode:n};if(e&&t&&t.forceUpdate){var f=t.forceUpdate.bind(t);t.forceUpdate=function(){t.props=n.props=Object.assign(t.props,u._currentElement.props),f()}}return u}(n,o(d)):function(n,o){var t=n.flags;if(1024&t)return null;var r=n.type,i=0===n.children?n.children.toString():n.children,u=n.props,f=n.dom,p=16&t||function(n){var e=typeof n;return"string"===e||"number"===e}(n);return{_currentElement:p?i||n:{props:u,type:r},_inDevTools:!1,_renderedChildren:!p&&(d=i,s=f,e(d)?d.filter(function(n){return!a(n)}).map(function(n){return c(n,s)}):a(d)||""===d?[]:[c(d,s)]),_stringText:p?(i||n).toString():null,node:f||o,vNode:n};var d,s}(n,t),d){for(var s in f)d[s]=f[s];return d}return function(n,e){var o=i(n);r.set(o,e)}(n,f),f}function a(n){return function(n){return null===n||!1===n||(e=n,!0===e)||o(n);var e}(n)||""===n}function d(n){return"."+Object.keys(n).length}function s(n,e){n._renderedComponent?n._renderedComponent._component||(e(n._renderedComponent),s(n._renderedComponent,e)):n._renderedChildren&&n._renderedChildren.forEach(function(n){n&&(e(n),n._component||s(n,e))})}var l=new Map;!function(){if(void 0!==window.__REACT_DEVTOOLS_GLOBAL_HOOK__){var e=n.options.createVNode;n.options.createVNode=function(t){14&t.flags&&(o(t.type.prototype)||(r=t.type.prototype.render,"function"!=typeof r))&&function(e){var o=e.type,t=e.type.name||"Function (anonymous)",r=l;if(!r.has(o)){var i=function(n){function e(){n.apply(this,arguments)}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.render=function(n,e,t){return o(n,t)},e}(n.Component);i.displayName=t,r.set(o,i)}e.type=r.get(o),e.type.defaultProps=o.defaultProps,e.ref=null,e.flags=4}(t);var r;if(e)return e(t)};var t=p(),r=n.options.afterMount;n.options.afterMount=function(n){t.componentAdded(n),r&&r(n)};var i=n.options.afterUpdate;n.options.afterUpdate=function(n){t.componentUpdated(n),i&&i(n)};var u=n.options.beforeUnmount;n.options.beforeUnmount=function(n){t.componentRemoved(n),u&&u(n)},window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(t)}}()});
