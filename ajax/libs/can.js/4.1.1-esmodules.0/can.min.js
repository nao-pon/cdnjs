!function(a,b,c){var d=b.define,e=function(e){var t,n=e.split("."),a=b;for(t=0;t<n.length&&a;t++)a=a[n[t]];return a},i=b.define&&b.define.modules||b._define&&b._define.modules||{},j=b.define=function(t,n,r){var s;"function"==typeof n&&(r=n,n=[]);var o,c,u=[];for(o=0;o<n.length;o++)u.push(a[n[o]]?e(a[n[o]]):i[n[o]]||e(n[o]));"require"===(c=n)[0]&&"exports"===c[1]&&"module"===c[2]||!n.length&&r.length?(s={exports:{}},u[0]=function(t){return a[t]?e(a[t]):i[t]},u[1]=s.exports,u[2]=s):u[0]||"exports"!==n[0]?u[0]||"module"!==n[0]||(u[0]={id:t}):(s={exports:{}},u[0]=s.exports,"module"===n[1]&&(u[1]=s)),b.define=d;var l=r?r.apply(null,u):void 0;b.define=j,l=s&&s.exports?s.exports:l,i[t]=l;var p=a[t];p&&!e(p)&&(function(e){if(!e||!e.__esModule)return!1;var t={__esModule:!0,default:!0};for(var n in e)if(!t[n])return!1;return!0}(l)&&(l=l.default),function(e,t){var n,a,r,i=e.split("."),s=b;for(n=0;n<i.length-1;n++)(r=s[a=i[n]])||(r=s[a]={}),s=r;s[a=i[i.length-1]]=t}(p,l))};b.define.orig=d,b.define.modules=i,b.define.amd=!0,j("@loader",[],function(){var I=function(){};return{get:function(){return{prepareGlobal:I,retrieveGlobal:I}},global:b,__exec:function(J){!function(__$source__,__$global__){eval("(function() { "+__$source__+" \n }).call(__$global__);")}(J.source,b)}}})}({jquery:"jQuery","can-util/namespace":"can",kefir:"Kefir","validate.js":"validate",react:"React"},"object"==typeof self&&self.Object==Object?self:"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)?global:window),define("can-namespace",function(e,t,n){n.exports={}}),define("can-util/namespace",["require","exports","module","can-namespace"],function(e,t,n){n.exports=e("can-namespace")}),define("can-assign",function(e,t,n){n.exports=function(e,t){for(var n in t)e[n]=t[n];return e}}),define("can-util/js/assign/assign",["require","exports","module","can-assign"],function(e,t,n){"use strict";n.exports=e("can-assign")}),define("can-util/js/is-function/is-function",function(e,t,n){"use strict";var a="undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return"[object Function]"===Object.prototype.toString.call(e)}:function(e){return"function"==typeof e};n.exports=a}),define("can-util/js/is-plain-object/is-plain-object",function(e,t,n){"use strict";var a=Object.prototype.hasOwnProperty;n.exports=function(e){if(!e||"object"!=typeof e||e.nodeType||null!==(t=e)&&t==t.window||e.constructor&&e.constructor.shortName)return!1;var t,n;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(n in e);return void 0===n||a.call(e,n)}}),define("can-util/js/deep-assign/deep-assign",["require","exports","module","can-util/js/is-function/is-function","can-util/js/is-plain-object/is-plain-object"],function(e,t,n){"use strict";var l=e("can-util/js/is-function/is-function"),d=e("can-util/js/is-plain-object/is-plain-object");n.exports=function e(){var t,n,a,r,i,s,o=arguments[0]||{},c=1,u=arguments.length;for("object"==typeof o||l(o)||(o={}),u===c&&(o=this,--c);c<u;c++)if(null!=(t=arguments[c]))for(n in t)a=o[n],o!==(r=t[n])&&(r&&(d(r)||(i=Array.isArray(r)))?(i?(i=!1,s=a&&Array.isArray(a)?a:[]):s=a&&d(a)?a:{},o[n]=e(s,r)):void 0!==r&&(o[n]=r));return o}}),define("can-log",function(e,t,n){"use strict";t.warnTimeout=5e3,t.logLevel=0,t.warn=function(){this.logLevel<2&&("undefined"!=typeof console&&console.warn?this._logger("warn",Array.prototype.slice.call(arguments)):"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments)))},t.log=function(){this.logLevel<1&&"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments))},t.error=function(){this.logLevel<1&&"undefined"!=typeof console&&console.error&&this._logger("error",Array.prototype.slice.call(arguments))},t._logger=function(t,n){try{console[t].apply(console,n)}catch(e){console[t](n)}}}),define("can-log/dev/dev",["require","exports","module","can-log"],function(e,t,n){"use strict";var a=e("can-log");n.exports={warnTimeout:5e3,logLevel:0,stringify:function(e){return JSON.stringify(e,function(e,t){return void 0===t?"/* void(undefined) */":t},"  ").replace(/"\/\* void\(undefined\) \*\/"/g,"undefined")},warn:function(){a.warn.apply(this,arguments)},log:function(){a.log.apply(this,arguments)},error:function(){a.error.apply(this,arguments)},_logger:a._logger}}),define("can-util/js/dev/dev",["require","exports","module","can-log/dev/dev"],function(e,t,n){"use strict";n.exports=e("can-log/dev/dev")}),define("can-util/js/is-array-like/is-array-like",function(e,t,n){"use strict";n.exports=function(e){var t=typeof e;if("string"===t)return!0;if("number"===t)return!1;var n=e&&"boolean"!==t&&"number"!=typeof e&&"length"in e&&e.length;return"function"!=typeof e&&(0===n||"number"==typeof n&&0<n&&n-1 in e)}}),define("can-symbol",["require","exports","module","can-namespace"],function(u,e,t){!function(e,t,n,a){var r,i=u("can-namespace");if("undefined"!=typeof Symbol&&"function"==typeof Symbol.for)r=Symbol;else{var s=0,o={},c={};(r=function(e){var t="@@symbol"+s+++e,n={};return Object.defineProperties(n,{toString:{value:function(){return t}}}),n}).for=function(e){var t=o[e];return t||(t=o[e]=r(e),c[t]=e),t},r.keyFor=function(e){return c[e]},["hasInstance","isConcatSpreadable","iterator","match","prototype","replace","search","species","split","toPrimitive","toStringTag","unscopables"].forEach(function(e){r[e]=r("Symbol."+e)})}["isMapLike","isListLike","isValueLike","isFunctionLike","getOwnKeys","getOwnKeyDescriptor","proto","getOwnEnumerableKeys","hasOwnKey","hasKey","size","getName","getIdentity","assignDeep","updateDeep","getValue","setValue","getKeyValue","setKeyValue","updateValues","addValue","removeValues","apply","new","onValue","offValue","onKeyValue","offKeyValue","getKeyDependencies","getValueDependencies","keyHasDependencies","valueHasDependencies","onKeys","onKeysAdded","onKeysRemoved","onPatches"].forEach(function(e){r.for("can."+e)}),a.exports=i.Symbol=r}(0,0,0,t)}),define("can-util/js/is-iterable/is-iterable",["require","exports","module","can-symbol"],function(e,t,n){"use strict";var a=e("can-symbol");n.exports=function(e){return e&&!!e[a.iterator||a.for("iterator")]}}),define("can-util/js/each/each",["require","exports","module","can-util/js/is-array-like/is-array-like","can-util/js/is-iterable/is-iterable","can-symbol"],function(e,t,n){"use strict";var l=e("can-util/js/is-array-like/is-array-like"),d=Object.prototype.hasOwnProperty,p=e("can-util/js/is-iterable/is-iterable"),f=e("can-symbol");n.exports=function(e,t,n){var a,r,i,s=0;if(e)if(l(e))for(r=e.length;s<r&&(i=e[s],!1!==t.call(n||i,i,s,e));s++);else if(p(e))for(var o,c,u=e[f.iterator||f.for("iterator")]();!(o=u.next()).done;)c=o.value,t.call(n||e,Array.isArray(c)?c[1]:c,c[0]);else if("object"==typeof e)for(a in e)if(d.call(e,a)&&!1===t.call(n||e[a],e[a],a,e))break;return e}}),define("can-util/js/make-array/make-array",["require","exports","module","can-util/js/each/each","can-util/js/is-array-like/is-array-like"],function(e,t,n){"use strict";var a=e("can-util/js/each/each"),r=e("can-util/js/is-array-like/is-array-like");n.exports=function(e){var n=[];return r(e)?a(e,function(e,t){n[t]=e}):(0===e||e)&&n.push(e),n}}),define("can-util/js/is-container/is-container",function(e,t,n){"use strict";n.exports=function(e){return/^f|^o/.test(typeof e)}}),define("can-util/js/get/get",["require","exports","module","can-util/js/is-container/is-container"],function(e,t,n){"use strict";var s=e("can-util/js/is-container/is-container");n.exports=function(e,t){var n,a,r=void 0!==t?(t+"").replace(/\[/g,".").replace(/]/g,"").split("."):[],i=r.length;if(!i)return e;for(n=e,a=0;a<i&&s(n)&&null!==n;a++)n=n[r[a]];return n}}),define("can-util/js/is-array/is-array",["require","exports","module","can-log/dev/dev"],function(e,t,n){"use strict";var a=e("can-log/dev/dev"),r=!1;n.exports=function(e){return r||(a.warn("js/is-array/is-array is deprecated; use Array.isArray"),r=!0),Array.isArray(e)}}),define("can-util/js/string/string",["require","exports","module","can-util/js/get/get","can-util/js/is-container/is-container","can-log/dev/dev","can-util/js/is-array/is-array"],function(e,t,n){"use strict";var s=e("can-util/js/get/get"),o=e("can-util/js/is-container/is-container"),i=e("can-log/dev/dev"),c=e("can-util/js/is-array/is-array"),a=/\=\=/,r=/([A-Z]+)([A-Z][a-z])/g,u=/([a-z\d])([A-Z])/g,l=/([a-z\d])([A-Z])/g,d=/\{([^\}]+)\}/g,p=/"/g,f=/'/g,h=/-+(.)?/g,v=/[a-z][A-Z]/g,g=function(e){return""+(null==e||isNaN(e)&&""+e=="NaN"?"":e)},m=function(e,t){for(var n=t?t.replace(/\[/g,".").replace(/]/g,"").split("."):[],a=e,r=0;r<n.length-1;r++)a&&(a=a[n[r]]);a&&delete a[n[n.length-1]]},y={esc:function(e){return g(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(p,"&#34;").replace(f,"&#39;")},getObject:function(e,t){i.warn("string.getObject is deprecated, please use can-util/js/get/get instead.");for(var n,a=(t=c(t)?t:[t||window]).length,r=0;r<a;r++)if(n=s(t[r],e))return n},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return g(e).replace(h,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return g(e).replace(v,function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(a,"/").replace(r,"$1_$2").replace(u,"$1_$2").replace(l,"_").toLowerCase()},sub:function(e,a,r){var i=[];return e=e||"",i.push(e.replace(d,function(e,t){var n=s(a,t);return!0===r&&m(a,t),null==n?(i=null,""):o(n)&&i?(i.push(n),""):""+n})),null===i?i:i.length<=1?i[0]:i},replaceWith:function(e,a,r,i){return e.replace(d,function(e,t){var n=s(a,t);return i&&m(a,t),r(t,n)})},replacer:d,undHash:/_|-/};n.exports=y}),define("can-construct",["require","exports","module","can-util/js/assign/assign","can-util/js/deep-assign/deep-assign","can-util/js/dev/dev","can-util/js/make-array/make-array","can-namespace","can-util/js/string/string"],function(e,t,n){"use strict";var a,r,g=e("can-util/js/assign/assign"),i=e("can-util/js/deep-assign/deep-assign"),m=e("can-util/js/dev/dev"),y=e("can-util/js/make-array/make-array"),s=e("can-namespace"),b=e("can-util/js/string/string"),w={abstract:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,throws:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0},x=/[^A-Z0-9_]/gi,k=0,L=(a={},function(e,t){return(e in a?a[e]:a[e]=new Function("__","function "+e+"(){return __.apply(this,arguments)};return "+e))(t)}),j=function(){if(arguments.length)return j.extend.apply(j,arguments)};try{Object.getOwnPropertyDescriptor({}),r=!0}catch(e){r=!1}g(j,{constructorExtends:!0,newInstance:function(){var e,t=this.instance();if(t.setup){if(Object.defineProperty(t,"__inSetup",{configurable:!0,enumerable:!1,value:!0,writable:!0}),(e=t.setup.apply(t,arguments))instanceof j.ReturnValue)return e.value;t.__inSetup=!1}return t.init&&t.init.apply(t,e||arguments),t},_inherit:r?function(e,t,n){var a,r,i,s;for(var o in n=n||e,e)r=e,i=o,(a=(s=Object.getOwnPropertyDescriptor(r,i))&&(s.get||s.set)?s:null)?this._defineProperty(n,t,o,a):j._overwrite(n,t,o,e[o])}:function(e,t,n){for(var a in n=n||e,e)j._overwrite(n,t,a,e[a])},_defineProperty:function(e,t,n,a){Object.defineProperty(e,n,a)},_overwrite:function(e,t,n,a){Object.defineProperty(e,n,{value:a,configurable:!0,enumerable:!0,writable:!0})},setup:function(e){this.defaults=i(!0,{},e.defaults,this.defaults)},instance:function(){k=1;var e=new this;return k=0,e},extend:function(e,t,n){var a=e,r=t,i=n;"string"!=typeof a&&(i=r,r=a,a=null),i||(i=r,r=null),i=i||{};var s,o,c=this,u=this.prototype;o=this.instance(),j._inherit(i,u,o),a||(r&&r.shortName?a=r.shortName:this.shortName&&(a=this.shortName));var l=a?a.replace(x,"_"):"Constructor";function d(){if(!k)return(!this||this.constructor!==s&&arguments.length&&s.constructorExtends)&&m.warn("can/construct/construct.js: extending a Construct without calling extend"),this&&this.constructor===s||!arguments.length||!s.constructorExtends?s.newInstance.apply(s,arguments):s.extend.apply(s,arguments)}for(var p in w[l]&&(l=b.capitalize(l)),s="function"==typeof L?L(l,d):function(){return d.apply(this,arguments)},c)c.hasOwnProperty(p)&&(s[p]=c[p]);if(j._inherit(r,c,s),g(s,{constructor:s,prototype:o}),void 0!==a){if(Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(s,"name");f&&!f.configurable||Object.defineProperty(s,"name",{writable:!0,value:a,configurable:!0})}s.shortName=a}s.prototype.constructor=s;var h=[c].concat(y(arguments)),v=s.setup.apply(s,h);return s.init&&s.init.apply(s,v||h),s},ReturnValue:function(e){this.value=e}}),j.prototype.setup=function(){},j.prototype.init=function(){},n.exports=s.Construct=j}),define("can-observation-recorder",["require","exports","module","can-namespace"],function(e,t,n){var a=e("can-namespace"),r=[],i={stack:r,start:function(){var e={keyDependencies:new Map,valueDependencies:new Set,traps:null,ignore:0};return r.push(e),e},stop:function(){return r.pop()},add:function(e,t){var n=r[r.length-1];if(n&&0===n.ignore)if(n.traps)n.traps.push([e,t]);else if(void 0===t)n.valueDependencies.add(e);else{var a=n.keyDependencies.get(e);a||(a=new Set,n.keyDependencies.set(e,a)),a.add(t)}},addMany:function(e){var t=r[r.length-1];if(t)if(t.traps)t.traps.push.apply(t.traps,e);else for(var n=0,a=e.length;n<a;n++)this.add(e[n][0],e[n][1])},ignore:function(n){return function(){if(r.length){var e=r[r.length-1];e.ignore++;var t=n.apply(this,arguments);return e.ignore--,t}return n.apply(this,arguments)}},isRecording:function(){var e=r.length,t=e&&r[e-1];return t&&0===t.ignore&&t},makeDependenciesRecord:function(){return{traps:null,keyDependencies:new Map,valueDependencies:new Set,ignore:0}},makeDependenciesRecorder:function(){return i.makeDependenciesRecord()},trap:function(){if(r.length){var e=r[r.length-1],t=e.traps,n=e.traps=[];return function(){return e.traps=t,n}}return function(){return[]}},trapsCount:function(){return r.length?r[r.length-1].traps.length:0}};if(a.ObservationRecorder)throw new Error("You can't have two versions of can-observation-recorder, check your dependencies");n.exports=a.ObservationRecorder=i}),define("can-reflect/reflections/helpers",["require","exports","module","can-symbol"],function(e,t,n){var r=e("can-symbol");n.exports={makeGetFirstSymbolValue:function(e){var n=e.map(function(e){return r.for(e)}),a=n.length;return function(e){for(var t=-1;++t<a;)if(void 0!==e[n[t]])return e[n[t]]}},hasLength:function(e){var t=e&&"boolean"!==typeof e&&"number"!=typeof e&&"length"in e&&e.length;return"function"!=typeof e&&(0===t||"number"==typeof t&&0<t&&t-1 in e)}}}),define("can-reflect/reflections/type/type",["require","exports","module","can-symbol","can-reflect/reflections/helpers"],function(e,t,n){var s=e("can-symbol"),a=e("can-reflect/reflections/helpers"),o=Object.getOwnPropertyNames(function(){}.prototype),c=Object.getPrototypeOf(function(){}.prototype);var r=a.makeGetFirstSymbolValue(["can.new","can.apply"]);function i(e){var t=typeof e;return null==e||"function"!==t&&"object"!==t}var u,l=s.for("can.onValue"),d=s.for("can.onKeyValue"),p=s.for("can.onPatches");if("undefined"!=typeof Symbol&&"function"==typeof Symbol.for)u=function(e){return"symbol"==typeof e};else{var f="@@symbol";u=function(e){return"object"==typeof e&&!Array.isArray(e)&&e.toString().substr(0,f.length)===f}}var h=Object.prototype.hasOwnProperty,v=Function.prototype.toString,g=v.call(Object);function m(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(t===Object.prototype||null===t)return!0;var n=h.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&v.call(n)===g}n.exports={isConstructorLike:function(e){var t=e[s.for("can.new")];if(void 0!==t)return t;if("function"!=typeof e)return!1;var n=e.prototype;if(!n)return!1;if(c!==Object.getPrototypeOf(n))return!0;var a=Object.getOwnPropertyNames(n);if(a.length===o.length){for(var r=0,i=a.length;r<i;r++)if(a[r]!==o[r])return!0;return!1}return!0},isFunctionLike:function(e){var t,n=e[s.for("can.isFunctionLike")];return void 0!==n?n:void 0!==(t=r(e))?!!t:"function"==typeof e},isListLike:function(e){var t;if("string"==typeof e)return!0;if(i(e))return!1;if(void 0!==(t=e[s.for("can.isListLike")]))return t;var n=e[s.iterator];return void 0!==n?!!n:!!Array.isArray(e)||a.hasLength(e)},isMapLike:function(e){if(i(e))return!1;var t=e[s.for("can.isMapLike")];if(void 0!==t)return!!t;var n=e[s.for("can.getKeyValue")];return void 0===n||!!n},isObservableLike:function(e){return!i(e)&&Boolean(e[l]||e[d]||e[p])},isPrimitive:i,isBuiltIn:function(e){return!!(i(e)||Array.isArray(e)||m(e)||"[object Object]"!==Object.prototype.toString.call(e)&&-1!==Object.prototype.toString.call(e).indexOf("[object "))},isValueLike:function(e){var t;if(i(e))return!0;if(void 0!==(t=e[s.for("can.isValueLike")]))return t;var n=e[s.for("can.getValue")];return void 0!==n?!!n:void 0},isSymbolLike:u,isMoreListLikeThanMapLike:function(e){if(Array.isArray(e))return!0;if(e instanceof Array)return!0;var t=e[s.for("can.isMoreListLikeThanMapLike")];if(void 0!==t)return t;var n=this.isListLike(e),a=this.isMapLike(e);return!(!n||a)||!(!n&&a)&&void 0},isIteratorLike:function(e){return e&&"object"==typeof e&&"function"==typeof e.next&&0===e.next.length},isPromise:function(e){return e instanceof Promise||"[object Promise]"===Object.prototype.toString.call(e)},isPlainObject:m}}),define("can-reflect/reflections/call/call",["require","exports","module","can-symbol","can-reflect/reflections/type/type"],function(e,t,n){var i=e("can-symbol"),s=e("can-reflect/reflections/type/type");n.exports={call:function(e,t){var n=[].slice.call(arguments,2),a=e[i.for("can.apply")];return a?a.call(e,t,n):e.apply(t,n)},apply:function(e,t,n){var a=e[i.for("can.apply")];return a?a.call(e,t,n):e.apply(t,n)},new:function(e){var t=[].slice.call(arguments,1),n=e[i.for("can.new")];if(n)return n.apply(e,t);var a=Object.create(e.prototype),r=e.apply(a,t);return s.isPrimitive(r)?a:r}}}),define("can-reflect/reflections/get-set/get-set",["require","exports","module","can-symbol","can-reflect/reflections/type/type"],function(e,t,n){var o=e("can-symbol"),r=e("can-reflect/reflections/type/type"),i=o.for("can.setKeyValue"),a=o.for("can.getKeyValue"),s=o.for("can.getValue"),c=o.for("can.setValue"),u={setKeyValue:function(e,t,n){if(r.isSymbolLike(t))"symbol"==typeof t?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:n,writable:!0});else{var a=e[i];if(void 0!==a)return a.call(e,t,n);e[t]=n}},getKeyValue:function(e,t){var n=e[a];return n?n.call(e,t):e[t]},deleteKeyValue:function(e,t){var n=e[o.for("can.deleteKeyValue")];if(n)return n.call(e,t);delete e[t]},getValue:function(e){if(r.isPrimitive(e))return e;var t=e[s];return t?t.call(e):e},setValue:function(e,t){var n=e&&e[c];if(n)return n.call(e,t);throw new Error("can-reflect.setValue - Can not set value.")},splice:function(e,t,n,a){var r;if("number"!=typeof n){var i=e[o.for("can.updateValues")];if(i)return i.call(e,t,n,a);r=n.length}else r=n;var s=e[o.for("can.splice")];return s?s.call(e,t,r,a):[].splice.apply(e,[t,r].concat(a))},addValues:function(e,t,n){var a=e[o.for("can.addValues")];return a?a.call(e,t,n):Array.isArray(e)&&void 0===n?e.push.apply(e,t):u.splice(e,n,[],t)},removeValues:function(n,e,t){var a=n[o.for("can.removeValues")];return a?a.call(n,e,t):Array.isArray(n)&&void 0===t?void e.forEach(function(e){var t=n.indexOf(e);0<=t&&n.splice(t,1)}):u.splice(n,t,e,[])}};u.get=u.getKeyValue,u.set=u.setKeyValue,u.delete=u.deleteKeyValue,n.exports=u}),define("can-reflect/reflections/observe/observe",["require","exports","module","can-symbol"],function(e,t,n){var o=e("can-symbol"),i=[].slice;function a(i,s){return function(e,t,n,a){var r=e[o.for(i)];return void 0!==r?r.call(e,t,n,a):this[s].apply(this,arguments)}}function r(a,r){return function(e){var t=e[o.for(a)];if(void 0!==t){var n=i.call(arguments,1);return t.apply(e,n)}throw new Error(r)}}n.exports={onKeyValue:a("can.onKeyValue","onEvent"),offKeyValue:a("can.offKeyValue","offEvent"),onKeys:r("can.onKeys","can-reflect: can not observe an onKeys event"),onKeysAdded:r("can.onKeysAdded","can-reflect: can not observe an onKeysAdded event"),onKeysRemoved:r("can.onKeysRemoved","can-reflect: can not unobserve an onKeysRemoved event"),getKeyDependencies:r("can.getKeyDependencies","can-reflect: can not determine dependencies"),getWhatIChange:r("can.getWhatIChange","can-reflect: can not determine dependencies"),getChangesDependencyRecord:function(e){var t=e[o.for("can.getChangesDependencyRecord")];if("function"==typeof t)return t()},keyHasDependencies:r("can.keyHasDependencies","can-reflect: can not determine if this has key dependencies"),onValue:r("can.onValue","can-reflect: can not observe value change"),offValue:r("can.offValue","can-reflect: can not unobserve value change"),getValueDependencies:r("can.getValueDependencies","can-reflect: can not determine dependencies"),valueHasDependencies:r("can.valueHasDependencies","can-reflect: can not determine if value has dependencies"),onPatches:r("can.onPatches","can-reflect: can not observe patches on object"),offPatches:r("can.offPatches","can-reflect: can not unobserve patches on object"),onInstancePatches:r("can.onInstancePatches","can-reflect: can not observe onInstancePatches on Type"),offInstancePatches:r("can.offInstancePatches","can-reflect: can not unobserve onInstancePatches on Type"),onInstanceBoundChange:r("can.onInstanceBoundChange","can-reflect: can not observe bound state change in instances."),offInstanceBoundChange:r("can.offInstanceBoundChange","can-reflect: can not unobserve bound state change"),isBound:r("can.isBound","can-reflect: cannot determine if object is bound"),onEvent:function(e,t,n,a){if(e){var r=e[o.for("can.onEvent")];if(void 0!==r)return r.call(e,t,n,a);e.addEventListener&&e.addEventListener(t,n,a)}},offEvent:function(e,t,n,a){if(e){var r=e[o.for("can.offEvent")];if(void 0!==r)return r.call(e,t,n,a);e.removeEventListener&&e.removeEventListener(t,n,a)}},setPriority:function(e,t){if(e){var n=e[o.for("can.setPriority")];if(void 0!==n)return n.call(e,t),!0}return!1},getPriority:function(e){if(e){var t=e[o.for("can.getPriority")];if(void 0!==t)return t.call(e)}}}}),define("can-reflect/reflections/shape/shape",["require","exports","module","can-symbol","can-reflect/reflections/get-set/get-set","can-reflect/reflections/type/type","can-reflect/reflections/helpers"],function(e,t,n){var d,i,o=e("can-symbol"),p=e("can-reflect/reflections/get-set/get-set"),f=e("can-reflect/reflections/type/type"),r=e("can-reflect/reflections/helpers");if("function"==typeof Map)d=Map;else{(d=function(){this.contents=[]}).prototype={_getIndex:function(e){for(var t;-1!==(t=this.contents.indexOf(e,t))&&t%2;);return t},has:function(e){return-1!==this._getIndex(e)},get:function(e){var t=this._getIndex(e);if(-1!==t)return this.contents[t+1]},set:function(e,t){var n=this._getIndex(e);-1!==n?this.contents[n+1]=t:(this.contents.push(e),this.contents.push(t))}}}var a,c,s=function(t){return function(){var e=[this];return e.push.apply(e,arguments),t.apply(null,e)}},u=o.for("can.getKeyValue"),l=s(p.getKeyValue),h=o.for("can.setKeyValue"),v=s(p.setKeyValue),g=o.for("can.size"),m=null,y=r.makeGetFirstSymbolValue(["can.updateDeep","can.assignDeep","can.setKeyValue"]),b=function(e){return f.isPlainObject(e)||Array.isArray(e)||!!y(e)};function w(e){return!!f.isPrimitive(e)||!y(e)&&(f.isBuiltIn(e)&&!f.isPlainObject(e))}try{Object.keys(1),a=Object.keys}catch(e){a=function(e){return f.isPrimitive(e)?[]:Object.keys(e)}}function x(u,l){return function(e,t){if(w(e))return e;var n,a;if(m||(m={unwrap:t?new t:new d,serialize:t?new t:new d},n=!0),f.isValueLike(e))a=this[u](p.getValue(e));else{var r=f.isIteratorLike(e)||f.isMoreListLikeThanMapLike(e);if(a=r?[]:{},m){if(m[u].has(e))return m[u].get(e);m[u].set(e,a)}for(var i=0,s=l.length;i<s;i++){var o=e[l[i]];if(o){var c=o.call(e,a);return n&&(m=null),c}}"function"==typeof obj?(m&&m[u].set(e,e),a=e):r?this.eachIndex(e,function(e,t){a[t]=this[u](e)},this):this.eachKey(e,function(e,t){a[t]=this[u](e)},this)}return n&&(m=null),a}}c="undefined"!=typeof Map?function(e){var t=new Map;return i.eachIndex(e,function(e){t.set(e,!0)}),t}:function(e){var n={};return e.forEach(function(e){n[e]=!0}),{get:function(e){return n[e]},set:function(e,t){n[e]=t},keys:function(){return e}}};var k=function(e){var t=e[o.for("can.hasOwnKey")];if(t)return t.bind(e);var n=c(i.getOwnEnumerableKeys(e));return function(e){return n.get(e)}};function L(e,t){var n=e[e.length-1];if(n&&n.deleteCount===n.insert.length&&t.index-n.index===n.deleteCount)return n.insert.push.apply(n.insert,t.insert),void(n.deleteCount+=t.deleteCount);e.push(t)}function j(a,e,r){var i=this.toArray(e),s=[],o=-1;this.eachIndex(a,function(e,t){if((o=t)>=i.length)return r||L(s,{index:t,deleteCount:a.length-t+1,insert:[]}),!1;var n=i[t];f.isPrimitive(e)||f.isPrimitive(n)||!1===b(e)?L(s,{index:t,deleteCount:1,insert:[n]}):this.updateDeep(e,n)},this),i.length>o&&L(s,{index:o+1,deleteCount:0,insert:i.slice(o+1)});for(var t=0,n=s.length;t<n;t++){var c=s[t];p.splice(a,c.index,c.deleteCount,c.insert)}return a}(i={each:function(e,t,n){return f.isIteratorLike(e)||f.isMoreListLikeThanMapLike(e)?this.eachIndex(e,t,n):this.eachKey(e,t,n)},eachIndex:function(e,t,n){if(Array.isArray(e))return this.eachListLike(e,t,n);var a,r=e[o.iterator];if(f.isIteratorLike(e)?a=e:r&&(a=r.call(e)),a)for(var i,s=0;!(i=a.next()).done&&!1!==t.call(n||e,i.value,s++,e););else this.eachListLike(e,t,n);return e},eachListLike:function(e,t,n){var a=-1,r=e.length;if(void 0===r){var i=e[g];if(!i)throw new Error("can-reflect: unable to iterate.");r=i.call(e)}for(;++a<r;){var s=e[a];if(!1===t.call(n||s,s,a,e))break}return e},toArray:function(e){var t=[];return this.each(e,function(e){t.push(e)}),t},eachKey:function(n,a,r){if(n){var e=this.getOwnEnumerableKeys(n),i=n[u]||l;return this.eachIndex(e,function(e){var t=i.call(n,e);return a.call(r||n,t,e,n)})}return n},hasOwnKey:function(e,t){var n=e[o.for("can.hasOwnKey")];if(n)return n.call(e,t);var a=e[o.for("can.getOwnKeys")];if(a){var r=!1;return this.eachIndex(a.call(e),function(e){if(e===t)return r=!0,!1}),r}return e.hasOwnProperty(t)},getOwnEnumerableKeys:function(t){var e=t[o.for("can.getOwnEnumerableKeys")];if(e)return e.call(t);if(t[o.for("can.getOwnKeys")]&&t[o.for("can.getOwnKeyDescriptor")]){var n=[];return this.eachIndex(this.getOwnKeys(t),function(e){this.getOwnKeyDescriptor(t,e).enumerable&&n.push(e)},this),n}return a(t)},getOwnKeys:function(e){var t=e[o.for("can.getOwnKeys")];return t?t.call(e):Object.getOwnPropertyNames(e)},getOwnKeyDescriptor:function(e,t){var n=e[o.for("can.getOwnKeyDescriptor")];return n?n.call(e,t):Object.getOwnPropertyDescriptor(e,t)},unwrap:x("unwrap",[o.for("can.unwrap")]),serialize:x("serialize",[o.for("can.serialize"),o.for("can.unwrap")]),assignMap:function(n,e){var a=k(n),r=n[u]||l,i=n[h]||v;return this.eachKey(e,function(e,t){a(t)&&r.call(n,t)===e||i.call(n,t,e)}),n},assignList:function(e,t){var n=this.toArray(t);return p.splice(e,0,n,n),e},assign:function(e,t){return f.isIteratorLike(t)||f.isMoreListLikeThanMapLike(t)?this.assignList(e,t):this.assignMap(e,t),e},assignDeepMap:function(a,e){var r=k(a),i=a[u]||l,s=a[h]||v;return this.eachKey(e,function(e,t){if(r(t)){var n=i.call(a,t);e===n||(f.isPrimitive(n)||f.isPrimitive(e)||!1===b(n)?s.call(a,t,e):this.assignDeep(n,e))}else p.setKeyValue(a,t,e)},this),a},assignDeepList:function(e,t){return j.call(this,e,t,!0)},assignDeep:function(e,t){var n=e[o.for("can.assignDeep")];return n?n.call(e,t):f.isMoreListLikeThanMapLike(t)?this.assignDeepList(e,t):this.assignDeepMap(e,t),e},updateMap:function(a,r){var i=c(this.getOwnEnumerableKeys(r)),s=r[u]||l,o=a[h]||v;return this.eachKey(a,function(e,t){if(i.get(t)){i.set(t,!1);var n=s.call(r,t);n!==e&&o.call(a,t,n)}else p.deleteKeyValue(a,t)},this),this.eachIndex(i.keys(),function(e){i.get(e)&&o.call(a,e,s.call(r,e))}),a},updateList:function(e,t){var n=this.toArray(t);return p.splice(e,0,e,n),e},update:function(e,t){return f.isIteratorLike(t)||f.isMoreListLikeThanMapLike(t)?this.updateList(e,t):this.updateMap(e,t),e},updateDeepMap:function(a,r){var i=c(this.getOwnEnumerableKeys(r)),s=r[u]||l,o=a[h]||v;return this.eachKey(a,function(e,t){if(i.get(t)){i.set(t,!1);var n=s.call(r,t);f.isPrimitive(e)||f.isPrimitive(n)||!1===b(e)?o.call(a,t,n):this.updateDeep(e,n)}else p.deleteKeyValue(a,t)},this),this.eachIndex(i.keys(),function(e){i.get(e)&&o.call(a,e,s.call(r,e))}),a},updateDeepList:function(e,t){return j.call(this,e,t)},updateDeep:function(e,t){var n=e[o.for("can.updateDeep")];return n?n.call(e,t):f.isMoreListLikeThanMapLike(t)?this.updateDeepList(e,t):this.updateDeepMap(e,t),e},hasKey:function(e,t){var n=e[o.for("can.hasKey")];return n?n.call(e,t):i.hasOwnKey(e,t)||t in e},getAllEnumerableKeys:function(){},getAllKeys:function(){},assignSymbols:function(a,e){return this.eachKey(e,function(e,t){var n=f.isSymbolLike(o[t])?o[t]:o.for(t);p.setKeyValue(a,n,e)}),a},isSerializable:w,size:function(e){var t=e[g],n=0;if(t)return t.call(e);if(r.hasLength(e))return e.length;if(f.isListLike(e))return this.each(e,function(){n++}),n;if(e){for(var a in e)e.hasOwnProperty(a)&&n++;return n}},defineInstanceKey:function(e,t,n){var a=e[o.for("can.defineInstanceKey")];if(a)return a.call(e,t,n);var r=e.prototype;(a=r[o.for("can.defineInstanceKey")])?a.call(r,t,n):Object.defineProperty(r,t,i.assign({configurable:!0,enumerable:!f.isSymbolLike(t),writable:!0},n))}}).keys=i.getOwnEnumerableKeys,n.exports=i}),define("can-reflect/reflections/get-name/get-name",["require","exports","module","can-symbol","can-reflect/reflections/type/type"],function(e,t,n){var a=e("can-symbol"),r=e("can-reflect/reflections/type/type"),i=a.for("can.getName");n.exports={setName:function(e,t){if("function"!=typeof t){var n=t;t=function(){return n}}Object.defineProperty(e,i,{value:t})},getName:function e(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t)return t.name;if(t.constructor&&t!==t.constructor){var a=e(t.constructor);if(a){if(r.isValueLike(t))return a+"<>";if(r.isMoreListLikeThanMapLike(t))return a+"[]";if(r.isMapLike(t))return a+"{}"}}}}}),define("can-reflect/types/map",["require","exports","module","can-reflect/reflections/shape/shape","can-symbol"],function(e,t,n){var a=e("can-reflect/reflections/shape/shape"),r=e("can-symbol");"undefined"!=typeof Map&&(a.assignSymbols(Map.prototype,{"can.getOwnEnumerableKeys":Map.prototype.keys,"can.setKeyValue":Map.prototype.set,"can.getKeyValue":Map.prototype.get,"can.deleteKeyValue":Map.prototype.delete,"can.hasOwnKey":Map.prototype.has}),"function"!=typeof Map.prototype.keys&&(Map.prototype.keys=Map.prototype[r.for("can.getOwnEnumerableKeys")]=function(){var n=[],e=0;return this.forEach(function(e,t){n.push(t)}),{next:function(){return{value:n[e],done:e++===n.length}}}})),"undefined"!=typeof WeakMap&&a.assignSymbols(WeakMap.prototype,{"can.getOwnEnumerableKeys":function(){throw new Error("can-reflect: WeakMaps do not have enumerable keys.")},"can.setKeyValue":WeakMap.prototype.set,"can.getKeyValue":WeakMap.prototype.get,"can.deleteKeyValue":WeakMap.prototype.delete,"can.hasOwnKey":WeakMap.prototype.has})}),define("can-reflect/types/set",["require","exports","module","can-reflect/reflections/shape/shape","can-symbol"],function(e,t,n){var a=e("can-reflect/reflections/shape/shape"),r=e("can-symbol");"undefined"!=typeof Set&&(a.assignSymbols(Set.prototype,{"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,t,n){t!==n&&a.each(t,function(e){this.delete(e)},this),a.each(n,function(e){this.add(e)},this)},"can.size":function(){return this.size}}),"function"!=typeof Set.prototype[r.iterator]&&(Set.prototype[r.iterator]=function(){var t=[],e=0;return this.forEach(function(e){t.push(e)}),{next:function(){return{value:t[e],done:e++===t.length}}}})),"undefined"!=typeof WeakSet&&a.assignSymbols(WeakSet.prototype,{"can.isListLike":!0,"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,t,n){t!==n&&a.each(t,function(e){this.delete(e)},this),a.each(n,function(e){this.add(e)},this)},"can.size":function(){throw new Error("can-reflect: WeakSets do not have enumerable keys.")}})}),define("can-reflect",["require","exports","module","can-reflect/reflections/call/call","can-reflect/reflections/get-set/get-set","can-reflect/reflections/observe/observe","can-reflect/reflections/shape/shape","can-reflect/reflections/type/type","can-reflect/reflections/get-name/get-name","can-namespace","can-reflect/types/map","can-reflect/types/set"],function(e,t,n){var a=e("can-reflect/reflections/call/call"),r=e("can-reflect/reflections/get-set/get-set"),i=e("can-reflect/reflections/observe/observe"),s=e("can-reflect/reflections/shape/shape"),o=e("can-reflect/reflections/type/type"),c=e("can-reflect/reflections/get-name/get-name"),u=e("can-namespace"),l={};[a,r,i,s,o,c].forEach(function(e){for(var t in e)if(l[t]=e[t],"function"==typeof e[t]){var n=Object.getOwnPropertyDescriptor(e[t],"name");(!n||n.writable&&n.configurable)&&Object.defineProperty(e[t],"name",{value:"canReflect."+t})}}),e("can-reflect/types/map"),e("can-reflect/types/set"),n.exports=u.Reflect=l}),define("can-util/js/is-promise-like/is-promise-like",function(e,t,n){"use strict";n.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}}),define("can-queues/queue-state",function(e,t,n){n.exports={lastTask:null}}),define("can-queues/queue",["require","exports","module","can-queues/queue-state","can-log/dev/dev","can-assign"],function(e,t,n){var a=e("can-queues/queue-state"),r=e("can-log/dev/dev"),i=e("can-assign");function s(){}var o=function(e,t){this.callbacks=i({onFirstTask:s,onComplete:function(){a.lastTask=null}},t||{}),this.name=e,this.index=0,this.tasks=[],this._log=!1};(o.prototype.constructor=o).noop=s,o.prototype.enqueue=function(e,t,n,a){var r=this.tasks.push({fn:e,context:t,args:n,meta:a||{}});this._logEnqueue(this.tasks[r-1]),1===r&&this.callbacks.onFirstTask(this)},o.prototype.flush=function(){for(;this.index<this.tasks.length;){var e=this.tasks[this.index++];this._logFlush(e),e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.callbacks.onComplete(this)},o.prototype.log=function(){this._log=!arguments.length||arguments[0]},o.prototype._logEnqueue=function(e){if(e.meta.parentTask=a.lastTask,!0===(e.meta.stack=this)._log||"enqueue"===this._log){var t=e.meta.log?e.meta.log.concat(e):[e.fn.name,e];r.log.apply(r,[this.name+" enqueuing:"].concat(t))}},o.prototype._logFlush=function(e){if(!0===this._log||"flush"===this._log){var t=e.meta.log?e.meta.log.concat(e):[e.fn.name,e];r.log.apply(r,[this.name+" running  :"].concat(t))}a.lastTask=e},n.exports=o}),define("can-queues/priority-queue",["require","exports","module","can-queues/queue"],function(e,t,n){var a=e("can-queues/queue"),r=function(){a.apply(this,arguments),this.taskMap=new Map,this.taskContainersByPriority=[],this.curPriorityIndex=1/0,this.curPriorityMax=0,this.isFlushing=!1,this.tasksRemaining=0};((r.prototype=Object.create(a.prototype)).constructor=r).prototype.enqueue=function(e,t,n,a){if(!this.taskMap.has(e)){this.tasksRemaining++;var r=0===this.taskContainersByPriority.length,i={fn:e,context:t,args:n,meta:a||{}};this.getTaskContainerAndUpdateRange(i).tasks.push(i),this.taskMap.set(e,i),this._logEnqueue(i),r&&this.callbacks.onFirstTask(this)}},r.prototype.getTaskContainerAndUpdateRange=function(e){var t=e.meta.priority||0;t<this.curPriorityIndex&&(this.curPriorityIndex=t),t>this.curPriorityMax&&(this.curPriorityMax=t);var n=this.taskContainersByPriority,a=n[t];return a||(a=n[t]={tasks:[],index:0}),a},r.prototype.flush=function(){if(!this.isFlushing)for(this.isFlushing=!0;;){if(!(this.curPriorityIndex<=this.curPriorityMax))return this.taskMap=new Map,this.curPriorityIndex=1/0,this.curPriorityMax=0,this.taskContainersByPriority=[],this.isFlushing=!1,void this.callbacks.onComplete(this);var e=this.taskContainersByPriority[this.curPriorityIndex];if(e&&e.tasks.length>e.index){var t=e.tasks[e.index++];this._logFlush(t),this.tasksRemaining--,this.taskMap.delete(t.fn),t.fn.apply(t.context,t.args)}else this.curPriorityIndex++}},r.prototype.isEnqueued=function(e){return this.taskMap.has(e)},r.prototype.flushQueuedTask=function(e){var t=this.dequeue(e);t&&(this._logFlush(t),t.fn.apply(t.context,t.args))},r.prototype.dequeue=function(e){var t=this.taskMap.get(e);if(t){var n=t.meta.priority||0,a=this.taskContainersByPriority[n],r=a.tasks.indexOf(t,a.index);if(0<=r)return a.tasks.splice(r,1),this.tasksRemaining--,this.taskMap.delete(t.fn),t;console.warn("Task",e,"has already run")}},r.prototype.tasksRemainingCount=function(){return this.tasksRemaining},n.exports=r}),define("can-queues/completion-queue",["require","exports","module","can-queues/queue"],function(e,t,n){var a=e("can-queues/queue"),r=function(){a.apply(this,arguments),this.flushCount=0};((r.prototype=Object.create(a.prototype)).constructor=r).prototype.flush=function(){if(0===this.flushCount){for(this.flushCount++;this.index<this.tasks.length;){var e=this.tasks[this.index++];this._logFlush(e),e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.flushCount--,this.callbacks.onComplete(this)}},n.exports=r}),define("can-queues",["require","exports","module","can-util/js/dev/dev","can-queues/queue","can-queues/priority-queue","can-queues/queue-state","can-queues/completion-queue","can-namespace"],function(e,t,n){var a,r,i,s,o,c=e("can-util/js/dev/dev"),u=e("can-queues/queue"),l=e("can-queues/priority-queue"),d=e("can-queues/queue-state"),p=e("can-queues/completion-queue"),f=e("can-namespace"),h=0,v=!1,g=0,m=["notify","derive","domUI","mutate"];r=new u("NOTIFY",{onComplete:function(){i.flush()},onFirstTask:function(){h?v=!0:r.flush()}}),i=new l("DERIVE",{onComplete:function(){s.flush()},onFirstTask:function(){v=!0}}),s=new p("DOM_UI",{onComplete:function(){o.flush()},onFirstTask:function(){v=!0}}),o=new u("MUTATE",{onComplete:function(){d.lastTask=null,!1},onFirstTask:function(){v=!0}});var y={Queue:u,PriorityQueue:l,CompletionQueue:p,notifyQueue:r,deriveQueue:i,domUIQueue:s,mutateQueue:o,batch:{start:function(){1===++h&&(a={number:++g})},stop:function(){0===--h&&v&&(v=!1,!0,r.flush())},isCollecting:function(){return 0<h},number:function(){return g},data:function(){return a}},enqueueByQueue:function(a,r,i,s,o){a&&(y.batch.start(),m.forEach(function(e){var n=y[e+"Queue"],t=a[e];void 0!==t&&t.forEach(function(e){var t=null!=s?s(e,r,i):{};t.reasonLog=o,n.enqueue(e,r,i,t)})}),y.batch.stop())},stack:function(){for(var e=d.lastTask,t=[];e;)t.unshift(e),e=e.meta.parentTask;return t},logStack:function(){this.stack().forEach(function(e,t){var n=e.meta;0===t&&n&&n.reasonLog&&c.log.apply(c,n.reasonLog);var a=n&&n.log?n.log:[e.fn.name,e];c.log.apply(c,[e.meta.stack.name+" ran task:"].concat(a))})},taskCount:function(){return console.warn("THIS IS NOT USED RIGHT?"),r.tasks.length+i.tasks.length+s.tasks.length+o.tasks.length},flush:function(){r.flush()},log:function(){r.log.apply(r,arguments),i.log.apply(i,arguments),s.log.apply(s,arguments),o.log.apply(o,arguments)}};if(f.queues)throw new Error("You can't have two versions of can-queues, check your dependencies");n.exports=f.queues=y}),define("can-key-tree",["require","exports","module","can-reflect"],function(e,t,n){var u=e("can-reflect");function o(e){if(e===Object.prototype)return!0;var t=Object.prototype.toString.call(e),n="[object Object]"!==t,a=-1!==t.indexOf("[object ");return n&&a}function l(n,a,r,i){if(r===a.length){if(!u.isMoreListLikeThanMapLike(n))throw new Error("can-key-tree: Map-type leaf containers are not supported yet.");var e=u.toArray(n);i&&e.forEach(function(e){i.apply(null,a.concat(e))}),u.removeValues(n,e)}else u.each(n,function(e,t){l(e,a.concat(t),r,i),u.deleteKeyValue(n,t)})}var a=function(e,t){this.callbacks=t||{};var n=(this.treeStructure=e)[0];u.isConstructorLike(n)?this.root=new n:this.root=n};u.assign(a.prototype,{add:function(e){if(e.length>this.treeStructure.length)throw new Error("can-key-tree: Can not add path deeper than tree.");for(var t=this.root,n=0===u.size(this.root),a=0;a<e.length-1;a++){var r=e[a],i=u.getKeyValue(t,r);if(!i){var s=this.treeStructure[a+1];i=o(s.prototype)?new s:new s(r),u.setKeyValue(t,r,i)}t=i}if(!u.isMoreListLikeThanMapLike(t))throw new Error("can-key-tree: Map types are not supported yet.");return u.addValues(t,[e[e.length-1]]),n&&this.callbacks.onFirst&&this.callbacks.onFirst.call(this),this},getNode:function(e){for(var t=this.root,n=0;n<e.length;n++){var a=e[n];if(!(t=u.getKeyValue(t,a)))return}return t},get:function(e){var t=this.getNode(e);if(this.treeStructure.length===e.length)return t;var n=new(0,this.treeStructure[this.treeStructure.length-1]);return function t(e,n,a,r){if(e)if(r===a){if(!u.isMoreListLikeThanMapLike(e))throw new Error("can-key-tree: Map-type leaf containers are not supported yet.");u.addValues(n,u.toArray(e))}else u.each(e,function(e){t(e,n,a+1,r)})}(t,n,e.length,this.treeStructure.length-1),n},delete:function(e,t){for(var n=this.root,a=[this.root],r=e[e.length-1],i=0;i<e.length-1;i++){var s=e[i],o=u.getKeyValue(n,s);if(void 0===o)return!1;a.push(o),n=o}if(e.length)if(e.length===this.treeStructure.length){if(!u.isMoreListLikeThanMapLike(n))throw new Error("can-key-tree: Map types are not supported yet.");t&&t.apply(null,e.concat(r)),u.removeValues(n,[r])}else{var c=u.getKeyValue(n,r);if(void 0===c)return!1;l(c,e,this.treeStructure.length-1,t),u.deleteKeyValue(n,r)}else l(n,[],this.treeStructure.length-1,t);for(i=a.length-2;0<=i&&0===u.size(n);i--)n=a[i],u.deleteKeyValue(n,e[i]);return this.callbacks.onEmpty&&0===u.size(this.root)&&this.callbacks.onEmpty.call(this),!0},size:function(){return function t(e,n){if(0===n)return u.size(e);if(0===u.size(e))return 0;var a=0;return u.each(e,function(e){a+=t(e,n-1)}),a}(this.root,this.treeStructure.length-1)}}),n.exports=a}),define("can-reflect-promise",["require","exports","module","can-reflect","can-symbol","can-observation-recorder","can-queues","can-key-tree","can-log/dev/dev"],function(e,t,n){var r=e("can-reflect"),a=e("can-symbol"),i=e("can-observation-recorder"),s=e("can-queues"),o=e("can-key-tree"),c=e("can-log/dev/dev"),u=a.for("can.getKeyValue"),l=a.for("can.meta"),d={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0};function p(e,t,n){var a=e[l],r=a[t];a[t]=n,s.enqueueByQueue(a.handlers.getNode([t]),e,[n,r],function(){return{}},["Promise",e,"resolved with value",n,"and changed virtual property: "+t])}function f(t){var e=t[l];e||(Object.defineProperty(t,l,{enumerable:!1,configurable:!1,writable:!1,value:Object.create(d)}),(e=t[l]).handlers=new o([Object,Object,Array])),t.then(function(e){s.batch.start(),p(t,"isPending",!1),p(t,"isResolved",!0),p(t,"value",e),p(t,"state","resolved"),s.batch.stop()},function(e){s.batch.start(),p(t,"isPending",!1),p(t,"isRejected",!0),p(t,"reason",e),p(t,"state","rejected"),s.batch.stop(),c.error("Failed promise:",e)})}n.exports=function t(e){var n,a="getPrototypeOf"in Object?Object.getPrototypeOf(e):e.__proto__;e[u]&&e[l]||(null!==a&&a!==Object.prototype||"function"==typeof(a=e).promise&&(n=a.promise,a.promise=function(){var e=n.call(a);return t(e),e}),r.assignSymbols(a,{"can.getKeyValue":function(e){switch(this[l]||f(this),i.add(this,e),e){case"state":case"isPending":case"isResolved":case"isRejected":case"value":case"reason":return this[l][e];default:return this[e]}},"can.getValue":function(){return this[u]("value")},"can.isValueLike":!1,"can.onKeyValue":function(e,t,n){this[l]||f(this),this[l].handlers.add([e,n||"mutate",t])},"can.offKeyValue":function(e,t,n){this[l]||f(this),this[l].handlers.delete([e,n||"mutate",t])}}))}}),define("can-stache-key",["require","exports","module","can-observation-recorder","can-log/dev/dev","can-util/js/each/each","can-symbol","can-reflect","can-util/js/is-promise-like/is-promise-like","can-reflect-promise"],function(e,t,n){var p,f=e("can-observation-recorder"),s=e("can-log/dev/dev"),a=e("can-util/js/each/each"),r=e("can-symbol"),o=e("can-reflect"),i=e("can-util/js/is-promise-like/is-promise-like"),c=e("can-reflect-promise"),u=r.for("can.getValue"),l=r.for("can.setValue"),d=r.for("can.isValueLike"),h=f.ignore(o.getKeyValue.bind(o)),v=Function.prototype.bind;v=function(e){var t=Function.prototype.bind.call(this,e);return Object.defineProperty(t,"name",{value:o.getName(e)+"."+o.getName(this)}),t};var g=function(e,t,n,a,r,i){for(var s=0,o=p.valueReaders.length;s<o;s++)p.valueReaders[s].test(e,t,n,a)&&(e=p.valueReaders[s].read(e,t,n,a,r,i));return e},m={index:!0,key:!0,event:!0,element:!0,viewModel:!0},y=function(e,t,n,a,r){e.foundObservable&&!t.foundObservable&&f.trapsCount()&&(f.addMany(n()),e.foundObservable(a,r),t.foundObservable=!0)};a((p={read:function(e,t,n){var a,r={foundObservable:!1};(n=n||{}).foundObservable&&(a=f.trap());var i,s=g(e,0,t,n,r),o=t.length,c=0;for(y(n,r,a,e,0);c<o;){i=s;for(var u=0,l=p.propertyReaders.length;u<l;u++){var d=p.propertyReaders[u];if(d.test(s)){s=d.read(s,t[c],c,n,r);break}}if(y(n,r,a,i,c),s=g(s,c+=1,t,n,r,i),y(n,r,a,i,c-1),typeof s,c<t.length&&null==s)return n.earlyExit&&n.earlyExit(i,c-1,s),{value:void 0,parent:i}}return void 0===s&&n.earlyExit&&n.earlyExit(i,c-1),{value:s,parent:i}},get:function(e,t,n){return p.read(e,p.reads(t),n||{}).value},valueReadersMap:{},valueReaders:[{name:"function",test:function(e){return e&&o.isFunctionLike(e)&&!o.isConstructorLike(e)},read:function(e,t,n,a,r,i){return a.callMethodsOnObservables&&o.isObservableLike(i)&&o.isMapLike(i)?(s.warn("can-stache-key: read() called with `callMethodsOnObservables: true`."),e.apply(i,a.args||[])):!1!==a.proxyMethods?v.call(e,i):e}},{name:"isValueLike",test:function(e,t,n,a){return e&&e[u]&&!1!==e[d]&&(a.foundAt||!((r=n[t-1])&&r.at));var r},read:function(e,t,n,a){return!1===a.readCompute&&t===n.length?e:o.getValue(e)},write:function(e,t){e[l]?e[l](t):e.set?e.set(t):e(t)}}],propertyReadersMap:{},propertyReaders:[{name:"map",test:function(e){return(i(e)||"object"==typeof e&&e&&"function"==typeof e.then)&&c(e),o.isObservableLike(e)&&o.isMapLike(e)},read:function(e,t){var n=o.getKeyValue(e,t.key);return void 0!==n?n:e[t.key]},write:o.setKeyValue},{name:"object",test:function(){return!0},read:function(e,t,n,a){if(null!=e)return"object"!=typeof e?e[t.key]:t.key in e?e[t.key]:t.at&&m[t.key]&&"@"+t.key in e?(a.foundAt=!0,s.warn("Use %"+t.key+" in place of @"+t.key+"."),e["@"+t.key]):void 0},write:function(e,t,n){var a=e[t];o.isMapLike(a)&&n&&"object"==typeof n?(s.warn('can-stache-key: Merging data into "'+t+'" because its parent is non-observable'),o.update(a,n)):o.isValueLike(a)&&o.isObservableLike(a)?o.setValue(a,n):e[t]=n}}],reads:function(e){var t=""+e,n=[],a=0,r=!1;"@"===t.charAt(0)&&(a=1,r=!0);for(var i="",s=a;s<t.length;s++){var o=t.charAt(s);"."===o||"@"===o?"\\"!==t.charAt(s-1)?(n.push({key:i,at:r}),r="@"===o,i=""):i=i.substr(0,i.length-1)+".":i+=o}return n.push({key:i,at:r}),n},write:function(e,t,n,a){var r,i="string"==typeof t?p.reads(t):t;a=a||{},1<i.length?(r=i.pop(),e=p.read(e,i,a).value,i.push(r)):r=i[0];var s=h(e,r.key);p.valueReadersMap.isValueLike.test(s,i.length-1,i,a)?p.valueReadersMap.isValueLike.write(s,n,a):(p.valueReadersMap.isValueLike.test(e,i.length-1,i,a)&&(e=e[u]()),p.propertyReadersMap.map.test(e)?p.propertyReadersMap.map.write(e,r.key,n,a):p.propertyReadersMap.object.test(e)&&(p.propertyReadersMap.object.write(e,r.key,n,a),a.observation&&a.observation.update()))}}).propertyReaders,function(e){p.propertyReadersMap[e.name]=e}),a(p.valueReaders,function(e){p.valueReadersMap[e.name]=e}),p.set=p.write,n.exports=p}),define("can-define-lazy-value",function(e,t,n){n.exports=function(t,n,a,r){Object.defineProperty(t,n,{configurable:!0,get:function(){Object.defineProperty(this,n,{value:void 0,writable:!0});var e=a.call(this,t,n);return Object.defineProperty(this,n,{value:e,writable:!!r}),e},set:function(e){return Object.defineProperty(this,n,{value:e,writable:!!r}),e}})}}),define("can-event-queue/dependency-record/merge",["require","exports","module","can-reflect"],function(e,t,n){var r=e("can-reflect");n.exports=function(e,t){return function(e,t){var n=t.keyDependencies;if(n){var a=e.keyDependencies;a||(a=new Map,e.keyDependencies=a),r.eachKey(n,function(e,t){var n=a.get(t);n||(n=new Set,a.set(t,n)),r.eachIndex(e,function(e){n.add(e)})})}}(e,t),function(e,t){var n=t.valueDependencies;if(n){var a=e.valueDependencies;a||(a=new Set,e.valueDependencies=a),r.eachIndex(n,function(e){a.add(e)})}}(e,t),e}}),define("can-event-queue/value/value",["require","exports","module","can-queues","can-key-tree","can-reflect","can-define-lazy-value","can-event-queue/dependency-record/merge"],function(e,t,n){var a=e("can-queues"),r=e("can-key-tree"),i=e("can-reflect"),s=e("can-define-lazy-value"),o=e("can-event-queue/dependency-record/merge"),c={on:function(e,t){this.handlers.add([t||"mutate",e])},off:function(e,t){void 0===e?void 0===t?this.handlers.delete([]):this.handlers.delete([t]):this.handlers.delete([t||"mutate",e])}},u={"can.onValue":c.on,"can.offValue":c.off,"can.dispatch":function(e,t){a.enqueueByQueue(this.handlers.getNode([]),this,[e,t],null,[i.getName(this),"changed to",e,"from",t]),"function"==typeof this._log&&this._log(t,e)},"can.getWhatIChange":function(){var a={},e=this.handlers.get(["notify"]),t=[].concat(this.handlers.get(["mutate"]),this.handlers.get(["domUI"]));return e.length&&e.forEach(function(e){var t=i.getChangesDependencyRecord(e);if(t){var n=a.derive;n||(n=a.derive={}),o(n,t)}}),t.length&&t.forEach(function(e){var t=i.getChangesDependencyRecord(e);if(t){var n=a.mutate;n||(n=a.mutate={}),o(n,t)}}),Object.keys(a).length?a:void 0},"can.isBound":function(){return 0<this.handlers.size()}};function l(){return new r([Object,Array],{onFirst:void 0!==this.onBound&&this.onBound.bind(this),onEmpty:void 0!==this.onUnbound&&this.onUnbound.bind(this)})}var d=function(e){return i.assign(e,c),i.assignSymbols(e,u),s(e,"handlers",l,!0),e};d.addHandlers=function(e,t){return console.warn("can-event-queue/value: Avoid using addHandlers. Add onBound and onUnbound methods instead."),e.handlers=new r([Object,Array],t),e},n.exports=d}),define("can-observation/recorder-dependency-helpers",["require","exports","module","can-reflect"],function(e,t,n){var a=e("can-reflect");function r(e){void 0!==this.oldEventSet&&!1!==this.oldEventSet.delete(e)||a.onKeyValue(this.observable,e,this.onDependencyChange,"notify")}function i(e,t){e.forEach(r,{onDependencyChange:this.onDependencyChange,observable:t,oldEventSet:this.oldDependencies.keyDependencies.get(t)})}function s(e){a.offKeyValue(this.observable,e,this.onDependencyChange,"notify")}function o(e,t){e.forEach(s,{onDependencyChange:this.onDependencyChange,observable:t})}function c(e){!1===this.oldDependencies.valueDependencies.delete(e)&&a.onValue(e,this.onDependencyChange,"notify")}function u(e){a.offValue(e,this.onDependencyChange,"notify")}n.exports={updateObservations:function(e){e.newDependencies.keyDependencies.forEach(i,e),e.oldDependencies.keyDependencies.forEach(o,e),e.newDependencies.valueDependencies.forEach(c,e),e.oldDependencies.valueDependencies.forEach(u,e)},stopObserving:function(e,t){e.keyDependencies.forEach(o,{onDependencyChange:t}),e.valueDependencies.forEach(u,{onDependencyChange:t})}}}),define("can-observation/temporarily-bind",["require","exports","module","can-reflect"],function(e,t,n){var a,r=e("can-reflect"),i=function(){},s=function(){for(var e=0,t=a.length;e<t;e++)r.offValue(a[e],i);a=null};n.exports=function(e){var t=e.computeInstance||e;r.onValue(t,i),a||(a=[],setTimeout(s,10)),a.push(t)}}),define("can-observation",["require","exports","module","can-namespace","can-reflect","can-queues","can-observation-recorder","can-symbol","can-log/dev/dev","can-event-queue/value/value","can-observation/recorder-dependency-helpers","can-observation/temporarily-bind"],function(e,t,n){!function(e,t,n,a){var r=t("can-namespace"),i=t("can-reflect"),s=t("can-queues"),o=t("can-observation-recorder"),c=t("can-symbol"),u=t("can-log/dev/dev"),l=t("can-event-queue/value/value"),d=t("can-observation/recorder-dependency-helpers"),p=t("can-observation/temporarily-bind"),f=c.for("can.dispatch"),h=c.for("can.getChangesDependencyRecord"),v=c.for("can.getValueDependencies");function g(e,t,n){this.func=e,this.context=t,this.options=n||{priority:0,isObservable:!0},this.bound=!1,this.newDependencies=o.makeDependenciesRecord(),this.oldDependencies=null;var a=this;this.onDependencyChange=function(e){a.dependencyChange(this,e)},this.update=this.update.bind(this),this.onDependencyChange[h]=function(){return{valueDependencies:new Set([a])}},Object.defineProperty(this.onDependencyChange,"name",{value:i.getName(this)+".onDependencyChange"}),Object.defineProperty(this.update,"name",{value:i.getName(this)+".update"})}l(g.prototype),i.assign(g.prototype,{onBound:function(){this.bound=!0,this.oldDependencies=this.newDependencies,o.start(),this.value=this.func.call(this.context),this.newDependencies=o.stop(),d.updateObservations(this)},dependencyChange:function(e,t){!0===this.bound&&s.deriveQueue.enqueue(this.update,this,[],{priority:this.options.priority,log:[i.getName(this.update)]},[i.getName(e),"changed"])},update:function(){if(!0===this.bound){var e=this.value;this.oldValue=null,this.onBound(),e!==this.value&&this[f](this.value,e)}},onUnbound:function(){this.bound=!1,d.stopObserving(this.newDependencies,this.onDependencyChange),this.newDependencies=o.makeDependenciesRecorder()},get:function(){return this.options.isObservable&&o.isRecording()&&(o.add(this),this.bound||g.temporarilyBind(this)),!0===this.bound?(0<s.deriveQueue.tasksRemainingCount()&&g.updateChildrenAndSelf(this),this.value):this.func.call(this.context)},hasDependencies:function(){var e=this.newDependencies;return this.bound?0<e.valueDependencies.size+e.keyDependencies.size:void 0},log:function(){var n=function(e){return"string"==typeof e?JSON.stringify(e):e};this._log=function(e,t){u.log(i.getName(this),"\n is  ",n(t),"\n was ",n(e))}}}),i.assignSymbols(g.prototype,{"can.getValue":g.prototype.get,"can.isValueLike":!0,"can.isMapLike":!1,"can.isListLike":!1,"can.valueHasDependencies":g.prototype.hasDependencies,"can.getValueDependencies":function(){if(!0===this.bound){var e=this.newDependencies,t={};return e.keyDependencies.size&&(t.keyDependencies=e.keyDependencies),e.valueDependencies.size&&(t.valueDependencies=e.valueDependencies),t}},"can.getPriority":function(){return this.options.priority},"can.setPriority":function(e){this.options.priority=e},"can.getName":function(){return i.getName(this.constructor)+"<"+i.getName(this.func)+">"}}),g.updateChildrenAndSelf=function(e){if(void 0!==e.update&&!0===s.deriveQueue.isEnqueued(e.update))return s.deriveQueue.flushQueuedTask(e.update),!0;if(e[v]){var t=!1;return(e[v]().valueDependencies||[]).forEach(function(e){!0===g.updateChildrenAndSelf(e)&&(t=!0)}),t}return!1};var m={addAll:"addMany"};["add","addAll","ignore","trap","trapsCount","isRecording"].forEach(function(t){g[t]=function(){var e=m[t]?m[t]:t;return console.warn("can-observation: Call "+e+"() on can-observation-recorder."),o[e].apply(this,arguments)}}),g.prototype.start=function(){return console.warn("can-observation: Use .on and .off to bind."),this.onBound()},g.prototype.stop=function(){return console.warn("can-observation: Use .on and .off to bind."),this.onUnbound()},g.temporarilyBind=p,a.exports=r.Observation=g}(0,e,0,n)}),define("can-globals/can-globals-proto",["require","exports","module","can-reflect"],function(o,e,t){!function(e,t,n,a){"use strict";var r=o("can-reflect");function i(e){var t=this.eventHandlers[e];if(t)for(var n=t.slice(),a=this.getKeyValue(e),r=0;r<n.length;r++)n[r](a)}function s(){this.eventHandlers={},this.properties={}}s.prototype.define=function(e,t,n){return void 0===n&&(n=!0),this.properties[e]||(this.properties[e]={default:t,value:t,enableCache:n}),this},s.prototype.getKeyValue=function(e){var t=this.properties[e];if(t)return"function"==typeof t.value?t.cachedValue?t.cachedValue:t.enableCache?(t.cachedValue=t.value(),t.cachedValue):t.value():t.value},s.prototype.makeExport=function(t){return function(e){return 0===arguments.length?this.getKeyValue(t):null!=e?("function"==typeof e?this.setKeyValue(t,function(){return e}):this.setKeyValue(t,e),e):void this.deleteKeyValue(t)}.bind(this)},s.prototype.offKeyValue=function(e,t){if(this.properties[e]){var n=this.eventHandlers[e];if(n){var a=n.indexOf(t);n.splice(a,1)}}return this},s.prototype.onKeyValue=function(e,t){return this.properties[e]&&(this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)),this},s.prototype.deleteKeyValue=function(e){var t=this.properties[e];return void 0!==t&&(t.value=t.default,t.cachedValue=void 0,i.call(this,e)),this},s.prototype.setKeyValue=function(e,t){if(!this.properties[e])return this.define(e,t);var n=this.properties[e];return n.value=t,n.cachedValue=void 0,i.call(this,e),this},s.prototype.reset=function(){for(var e in this.properties)this.properties.hasOwnProperty(e)&&(this.properties[e].value=this.properties[e].default,this.properties[e].cachedValue=void 0,i.call(this,e));return this},r.assignSymbols(s.prototype,{"can.getKeyValue":s.prototype.getKeyValue,"can.setKeyValue":s.prototype.setKeyValue,"can.deleteKeyValue":s.prototype.deleteKeyValue,"can.onKeyValue":s.prototype.onKeyValue,"can.offKeyValue":s.prototype.offKeyValue}),a.exports=s}(0,0,0,t)}),define("can-globals/can-globals-instance",["require","exports","module","can-namespace","can-globals/can-globals-proto"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-namespace"),i=new(t("can-globals/can-globals-proto"));if(r.globals)throw new Error("You can't have two versions of can-globals, check your dependencies");a.exports=r.globals=i}(0,e,0,n)}),define("can-globals/global/global",["require","exports","module","can-globals/can-globals-instance"],function(i,e,t){!function(e,t,n,a){"use strict";var r=i("can-globals/can-globals-instance");r.define("global",function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:"object"==typeof process&&"[object process]"==={}.toString.call(process)?e:window}),a.exports=r.makeExport("global")}(function(){return this}(),0,0,t)}),define("can-globals/document/document",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,n){!function(e,t,n,a){"use strict";t("can-globals/global/global");var r=t("can-globals/can-globals-instance");r.define("document",function(){return r.getKeyValue("global").document}),a.exports=r.makeExport("document")}(0,e,0,n)}),define("can-globals/is-node/is-node",["require","exports","module","can-globals/can-globals-instance"],function(i,e,t){!function(e,t,n,a){"use strict";var r=i("can-globals/can-globals-instance");r.define("isNode",function(){return"object"==typeof process&&"[object process]"==={}.toString.call(process)}),a.exports=r.makeExport("isNode")}(0,0,0,t)}),define("can-globals/is-browser-window/is-browser-window",["require","exports","module","can-globals/can-globals-instance","can-globals/is-node/is-node"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-globals/can-globals-instance");t("can-globals/is-node/is-node"),r.define("isBrowserWindow",function(){var e=r.getKeyValue("isNode");return"undefined"!=typeof window&&"undefined"!=typeof document&&!1===e}),a.exports=r.makeExport("isBrowserWindow")}(0,e,0,n)}),define("can-dom-events/helpers/util",["require","exports","module","can-globals/document/document","can-globals/is-browser-window/is-browser-window"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-globals/document/document"),i=t("can-globals/is-browser-window/is-browser-window");function o(e){return e.ownerDocument||r()}function s(e){if(!e||!e.nodeName)return e===window;var t=e.nodeType;return 1===t||9===t||11===t}var c=!1;!function(){if(i()){var t="fix_synthetic_events_on_disabled_test",n=document.createElement("input");n.disabled=!0;var a=setTimeout(function(){c=!0},50),r=function e(){clearTimeout(a),n.removeEventListener(t,e)};n.addEventListener(t,r);try{var e=document.create("HTMLEvents");e.initEvent(t,!1),n.dispatchEvent(e)}catch(e){r(),c=!0}}}(),a.exports={createEvent:function(e,t,n,a){var r,i=o(e).createEvent("HTMLEvents");if("string"==typeof t)r=t;else for(var s in r=t.type,t)void 0===i[s]&&(i[s]=t[s]);return void 0===n&&(n=!0),i.initEvent(r,n,a),i},addDomContext:function(e,t){return s(e)&&(t=Array.prototype.slice.call(t,0)).unshift(e),t},removeDomContext:function(e,t){return s(e)||(e=(t=Array.prototype.slice.call(t,0)).shift()),{context:e,args:t}},isDomEventTarget:s,getTargetDocument:o,forceEnabledForDispatch:function(e,t){return c&&(n=e,a=t.type,r="inserted"===a||"removed"===a,i=!!n.disabled,r&&i);var n,a,r,i}}}(0,e,0,n)}),define("can-dom-events/helpers/make-event-registry",function(e,t,n){"use strict";function a(){this._registry={}}n.exports=function(){return new a},a.prototype.has=function(e){return!!this._registry[e]},a.prototype.get=function(e){return this._registry[e]},a.prototype.add=function(e,t){if(!e)throw new Error("An EventDefinition must be provided");if("function"!=typeof e.addEventListener)throw new TypeError("EventDefinition addEventListener must be a function");if("function"!=typeof e.removeEventListener)throw new TypeError("EventDefinition removeEventListener must be a function");if("string"!=typeof(t=t||e.defaultEventType))throw new TypeError("Event type must be a string, not "+t);if(this.has(t))throw new Error('Event "'+t+'" is already registered');this._registry[t]=e;var n=this;return function(){n._registry[t]=void 0}}}),define("can-dom-events/helpers/-make-delegate-event-tree",["require","exports","module","can-key-tree","can-reflect"],function(e,t,n){var r=e("can-key-tree"),i=e("can-reflect"),s=function(e){return"focus"===e||"blur"===e};n.exports=function(e){var a,t,n=(a=e,t=function(e){this.element=e,this.events={},this.delegated={}},i.assignSymbols(t.prototype,{"can.setKeyValue":function(e,t){var n=this.delegated[e]=function(r){i.each(t,function(e,t){var n=r.target;do{var a=n===document?document.documentElement:n;(a.matches||a.msMatchesSelector).call(a,t)&&e.forEach(function(e){e.call(a,r)}),n=n.parentNode}while(n&&n!==r.currentTarget)})};this.events[e]=t,a.addEventListener(this.element,e,n,s(e))},"can.getKeyValue":function(e){return this.events[e]},"can.deleteKeyValue":function(e){a.removeEventListener(this.element,e,this.delegated[e],s(e)),delete this.delegated[e],delete this.events[e]},"can.getOwnEnumerableKeys":function(){return Object.keys(this.events)}}),t);return new r([Map,n,Object,Array])}}),define("can-dom-events",["require","exports","module","can-namespace","can-dom-events/helpers/util","can-dom-events/helpers/make-event-registry","can-dom-events/helpers/-make-delegate-event-tree"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-namespace"),o=t("can-dom-events/helpers/util"),i=t("can-dom-events/helpers/make-event-registry"),s=t("can-dom-events/helpers/-make-delegate-event-tree"),c={_eventRegistry:i(),addEvent:function(e,t){return this._eventRegistry.add(e,t)},addEventListener:function(e,t){if(c._eventRegistry.has(t))return c._eventRegistry.get(t).addEventListener.apply(c,arguments);var n=Array.prototype.slice.call(arguments,1);return e.addEventListener.apply(e,n)},removeEventListener:function(e,t){if(c._eventRegistry.has(t))return c._eventRegistry.get(t).removeEventListener.apply(c,arguments);var n=Array.prototype.slice.call(arguments,1);return e.removeEventListener.apply(e,n)},addDelegateListener:function(e,t,n,a){c._eventTree.add([e,t,n,a])},removeDelegateListener:function(e,t,n,a){c._eventTree.delete([e,t,n,a])},dispatch:function(e,t,n,a){var r=o.createEvent(e,t,n,a),i=o.forceEnabledForDispatch(e,r);i&&(e.disabled=!1);var s=e.dispatchEvent(r);return i&&(e.disabled=!0),s}};c._eventTree=s(c),a.exports=r.domEvents=c}(0,e,0,n)}),define("can-event-queue/map/map",["require","exports","module","can-log/dev/dev","can-queues","can-reflect","can-symbol","can-key-tree","can-dom-events","can-dom-events/helpers/util","can-event-queue/dependency-record/merge"],function(e,t,n){var r,l=e("can-log/dev/dev"),d=e("can-queues"),p=e("can-reflect"),a=e("can-symbol"),i=e("can-key-tree"),s=e("can-dom-events"),o=e("can-dom-events/helpers/util").isDomEventTarget,c=e("can-event-queue/dependency-record/merge"),u=a.for("can.meta"),f=a.for("can.dispatchInstanceBoundChange"),h=a.for("can.dispatchInstanceOnPatches"),v=a.for("can.onKeyValue"),g=a.for("can.offKeyValue"),m=a.for("can.onEvent"),y=a.for("can.offEvent"),b=a.for("can.onValue"),w=a.for("can.offValue");function x(e,t){t.handlers||(t.handlers=new i([Object,Object,Object,Array],{onFirst:function(){void 0!==e._eventSetup&&e._eventSetup(),e.constructor[f]&&e.constructor[f](e,!0)},onEmpty:function(){void 0!==e._eventTeardown&&e._eventTeardown(),e.constructor[f]&&e.constructor[f](e,!1)}})),t.listenHandlers||(t.listenHandlers=new i([Map,Map,Object,Array]))}var k=function(e){var t=e[u];return t||(t={},p.setKeyValue(e,u,t)),x(e,t),t};function L(e,t,n,a){arguments.length&&p.isPrimitive(e)&&(a=n,n=t,t=e,e=this.context),"function"==typeof t&&(a=n,n=t,t=void 0),"string"==typeof n&&(a=n,n=void 0);var r=[];return e&&(r.push(e),(t||n||a)&&(r.push(t),(a||n)&&(r.push(a||this.defaultQueue),n&&r.push(n)))),r}var j={dispatch:function(e,t){if(4<arguments.length&&(l.warn("Arguments to dispatch should be an array, not multiple arguments."),t=Array.prototype.slice.call(arguments,1)),t&&!Array.isArray(t)&&(l.warn("Arguments to dispatch should be an array."),t=[t]),!this.__inSetup){"string"==typeof e&&(e={type:e});var n=k(this);e.reasonLog||(e.reasonLog=[p.getName(this),"dispatched",'"'+e.type+'"',"with"].concat(t)),"function"==typeof n._log&&n._log.call(this,e,t);var a=n.handlers,r=void 0!==e.type&&a.getNode([e.type]),i=e.patches&&this.constructor[h],s=void 0!==e.patches&&a.getNode(["can.patches","onKeyValue"]),o=void 0!==e.keyChanged&&a.getNode(["can.keys","onKeyValue"]),c=i||r||s||o;if(c&&d.batch.start(),r&&(r.onKeyValue&&d.enqueueByQueue(r.onKeyValue,this,t,e.makeMeta,e.reasonLog),r.event)){e.batchNum=d.batch.number();var u=[e].concat(t);d.enqueueByQueue(r.event,this,u,e.makeMeta,e.reasonLog)}o&&d.enqueueByQueue(o,this,[e.keyChanged],e.makeMeta,e.reasonLog),s&&d.enqueueByQueue(s,this,[e.patches],e.makeMeta,e.reasonLog),i&&this.constructor[h](this,e.patches),c&&d.batch.stop()}return e},addEventListener:function(e,t,n){return k(this).handlers.add([e,"event",n||"mutate",t]),this},removeEventListener:function(e,t,n){if(void 0===e){var a=k(this).handlers,r=a.getNode([]);Object.keys(r).forEach(function(e){a.delete([e,"event"])})}else t||n?t?k(this).handlers.delete([e,"event",n||"mutate",t]):k(this).handlers.delete([e,"event",n||"mutate"]):k(this).handlers.delete([e,"event"]);return this},one:function(e,t){var n=function(){return r.off.call(this,e,n),t.apply(this,arguments)};return r.on.call(this,e,n),this},listenTo:function(e,t,n,a){return p.isPrimitive(e)&&(a=n,n=t,t=e,e=this),"function"==typeof t&&(a=n,n=t,t=void 0),k(this).listenHandlers.add([e,t,a||"mutate",n]),r.on.call(e,t,n,a||"mutate"),this},stopListening:function(){var e=L.apply({context:this,defaultQueue:"mutate"},arguments);return k(this).listenHandlers.delete(e,function(e,t,n,a){r.off.call(e,t,a,n)}),this},on:function(e,t,n){if(o(this))"string"==typeof t?s.addDelegateListener(this,e,t,n):s.addEventListener(this,e,t,n);else if("addEventListener"in this)this.addEventListener(e,t,n);else if(this[v])p.onKeyValue(this,e,t,n);else if(this[m])this[m](e,t,n);else{if(e||!this[b])throw new Error("can-event-queue: Unable to bind "+e);p.onValue(this,t,n)}return this},off:function(e,t,n){if(o(this))"string"==typeof t?s.removeDelegateListener(this,e,t,n):s.removeEventListener(this,e,t,n);else if("removeEventListener"in this)this.removeEventListener(e,t,n);else if(this[g])p.offKeyValue(this,e,t,n);else if(this[y])this[y](e,t,n);else{if(e||!this[w])throw new Error("can-event-queue: Unable to unbind "+e);p.offValue(this,t,n)}return this}},D={"can.onKeyValue":function(e,t,n){k(this).handlers.add([e,"onKeyValue",n||"mutate",t])},"can.offKeyValue":function(e,t,n){k(this).handlers.delete([e,"onKeyValue",n||"mutate",t])},"can.isBound":function(){return 0<k(this).handlers.size()},"can.getWhatIChange":function(e){var a={},t=k(this),n=[].concat(t.handlers.get([e,"event","notify"]),t.handlers.get([e,"onKeyValue","notify"])),r=[].concat(t.handlers.get([e,"event","mutate"]),t.handlers.get([e,"event","domUI"]),t.handlers.get([e,"onKeyValue","mutate"]),t.handlers.get([e,"onKeyValue","domUI"]));return n.length&&n.forEach(function(e){var t=p.getChangesDependencyRecord(e);if(t){var n=a.derive;n||(n=a.derive={}),c(n,t)}}),r.length&&r.forEach(function(e){var t=p.getChangesDependencyRecord(e);if(t){var n=a.mutate;n||(n=a.mutate={}),c(n,t)}}),Object.keys(a).length?a:void 0},"can.onPatches":function(e,t){k(this).handlers.add(["can.patches","onKeyValue",t||"notify",e])},"can.offPatches":function(e,t){k(this).handlers.delete(["can.patches","onKeyValue",t||"notify",e])}};function S(e,t,n){Object.defineProperty(e,t,{enumerable:!1,value:n})}S(r=function(e){return p.assignMap(e,j),p.assignSymbols(e,D)},"addHandlers",x),S(r,"stopListeningArgumentsToKeys",L),j.bind=j.addEventListener,j.unbind=j.removeEventListener,p.assignMap(r,j),p.assignSymbols(r,D),S(r,"start",function(){console.warn("use can-queues.batch.start()"),d.batch.start()}),S(r,"stop",function(){console.warn("use can-queues.batch.stop()"),d.batch.stop()}),S(r,"flush",function(){console.warn("use can-queues.flush()"),d.flush()}),S(r,"afterPreviousEvents",function(e){console.warn("don't use afterPreviousEvents"),d.mutateQueue.enqueue(function(){d.mutateQueue.enqueue(e)}),d.flush()}),S(r,"after",function(e){console.warn("don't use after"),d.mutateQueue.enqueue(e),d.flush()}),n.exports=r}),define("can-util/dom/class-name/class-name",function(e,t,n){"use strict";var a=function(e){return this.classList?this.classList.contains(e):!!this.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))};n.exports={has:a,add:function(e){this.classList?this.classList.add(e):a.call(this,e)||(this.className+=" "+e)},remove:function(e){if(this.classList)this.classList.remove(e);else if(a.call(this,e)){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");this.className=this.className.replace(t," ")}}}}),define("can-globals/location/location",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,n){!function(e,t,n,a){"use strict";t("can-globals/global/global");var r=t("can-globals/can-globals-instance");r.define("location",function(){return r.getKeyValue("global").location}),a.exports=r.makeExport("location")}(0,e,0,n)}),define("can-globals/mutation-observer/mutation-observer",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,n){!function(e,t,n,a){"use strict";t("can-globals/global/global");var r=t("can-globals/can-globals-instance");r.define("MutationObserver",function(){var e=r.getKeyValue("global");return e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver}),a.exports=r.makeExport("MutationObserver")}(0,e,0,n)}),define("can-globals/custom-elements/custom-elements",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,n){!function(e,t,n,a){"use strict";t("can-globals/global/global");var r=t("can-globals/can-globals-instance");r.define("customElements",function(){return r.getKeyValue("global").customElements}),a.exports=r.makeExport("customElements")}(0,e,0,n)}),define("can-globals",["require","exports","module","can-globals/can-globals-instance","can-globals/global/global","can-globals/document/document","can-globals/location/location","can-globals/mutation-observer/mutation-observer","can-globals/is-browser-window/is-browser-window","can-globals/is-node/is-node","can-globals/custom-elements/custom-elements"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-globals/can-globals-instance");t("can-globals/global/global"),t("can-globals/document/document"),t("can-globals/location/location"),t("can-globals/mutation-observer/mutation-observer"),t("can-globals/is-browser-window/is-browser-window"),t("can-globals/is-node/is-node"),t("can-globals/custom-elements/custom-elements"),a.exports=r}(0,e,0,n)}),define("can-dom-mutate/-util",["require","exports","module","can-globals/document/document"],function(u,e,t){!function(e,t,n,a){var r=u("can-globals/document/document"),s=Array.prototype.push;function i(e){return!(!e||11!==e.nodeType)}function o(e){for(var t=[],n=e.firstChild;n;)t.push(n),n=n.nextSibling;return t}function c(e){return i(e)?o(e):[e]}a.exports={eliminate:function(e,t){var n=e.indexOf(t);0<=n&&e.splice(n,1)},isInDocument:function(e){var t=r().documentElement;return t===e||t.contains(e)},getDocument:r,isDocumentElement:function(e){return r().documentElement===e},isFragment:i,getParents:c,getAllNodes:function(e){for(var t=c(e),n=t.length,a=0;a<n;a++){var r=t[a];if(r.getElementsByTagName){var i=r.getElementsByTagName("*");s.apply(t,i)}}return t},getChildren:o,subscription:function(a){return function(){var t=a.apply(this,arguments),n=!1;return function(){if(n){var e=a.name||a.displayName||"an anonymous function";throw new Error("Disposal function returned by "+e+" called more than once.")}t.apply(this,arguments),n=!0}}}}}(0,0,0,t)}),define("can-dom-mutate",["require","exports","module","can-globals","can-globals/global/global","can-globals/mutation-observer/mutation-observer","can-dom-mutate/-util"],function(e,t,n){!function(e,t,n,a){"use strict";var l,o=t("can-globals"),c=t("can-globals/global/global"),u=t("can-globals/mutation-observer/mutation-observer"),d=c().setImmediate||function(e){return setTimeout(e,0)},r=t("can-dom-mutate/-util"),p=r.getDocument,f=r.eliminate,h=r.subscription,v=r.isDocumentElement,i=r.getAllNodes,g=Array.prototype.push,s=Array.prototype.slice,m=new WeakMap;function y(e,t){var n=m.get(e);if(n)return n[t]}function b(e,t,n){(m.get(e)||m.set(e,{}).get(e))[t]=n}function w(e,t){return delete m.get(e)[t]}function x(i,s){var o=[],c=[],u=new Set,l=!1;return function(e,t){if(s)for(var n=0;n<e.length;n++){var a=e[n],r=a.target;u.has(r)||(o.push(a),u.add(r))}else g.apply(o,e);t&&c.push(t),!l&&0<o.length&&(l=!0,d(function(){var e=o;o=[];var t=c;c=[],s&&(u=new Set),l=!1,i(e);for(var n=t.length,a=0;a<n;a++)t[a]()}))}}function k(e,t){var n=y(p(),t);if(n)return n.listeners}function L(e,t){var n=y(p(),t);if(n)return n.get(e)}function j(e,t){for(var n=s.call(e,0),a=n.length,r=0;r<a;r++)n[r](t)}function D(s,o){return function(e){for(var t=0;t<e.length;t++){var n=e[t],a=n.target,r=L(a,s);if(r&&j(r,n),o){var i=k(0,o);i&&j(i,n)}}}}function S(a,t,r,i){var s=y(a,t);s||b(a,t,s={observingCount:0});var n=function(){var e=u();if(e){var t=c().Node;if(!!(t&&a instanceof t)){var n=new e(i);n.observe(a,r),s.observer=n}}else s.observer&&(s.observer.disconnect(),s.observer=null)};return 0===s.observingCount&&(o.onKeyValue("MutationObserver",n),n()),s.observingCount++,function(){var e=y(a,t);e&&(e.observingCount--,e.observingCount<=0&&(e.observer&&e.observer.disconnect(),w(a,t),o.offKeyValue("MutationObserver",n)))}}function C(e){for(var t=e.length,n=0;n<t;n++){for(var a=e[n],r=a.addedNodes,i=r.length,s=0;s<i;s++)l.dispatchNodeInsertion(r[s]);for(var o=a.removedNodes,c=o.length,u=0;u<c;u++)l.dispatchNodeRemoval(o[u])}}function O(e){for(var t=e.length,n=0;n<t;n++){var a=e[n];if("attributes"===a.type){var r=a.target,i=a.attributeName,s=a.oldValue;l.dispatchNodeAttributeChange(r,i,s)}}}var V={subtree:!0,childList:!0},_={attributes:!0,attributeOldValue:!0};function q(a,r,i){return h(function(e,t){var n;return n=i?S(e,r,_,O):S(p(),r,V,C),function(e,t,n){var a=p(),r=y(a,t);r||b(a,t,r=new Map);var i=r.get(e);i||(i=[],r.set(e,i)),i.push(n)}(e,a,t),function(){n(),function(e,t,n){var a=p(),r=y(a,t);if(r){var i=r.get(e);i&&(f(i,n),0===i.length&&(r.delete(e),0===r.size&&w(a,t)))}}(e,a,t)}})}function E(i,s){return h(function(e,n){if(!v(e))throw new Error("Global mutation listeners must pass a documentElement");var a=p(),t=y(a,i);t||b(a,i,t={listeners:[]});var r=t.listeners;return 0===r.length&&(t.removeListener=s(a,function(){})),r.push(n),function(){var e=y(a,i);if(e){var t=e.listeners;f(t,n),0===t.length&&(e.removeListener(),w(a,i))}}})}function P(e){for(var t=[],n=0;n<e.length;n++)t.push({target:e[n]});return t}var N="domMutation",M=N+"InsertionData",T=N+"RemovalData",I=N+"AttributeChangeData",A=N+"DocumentInsertionData",K=N+"DocumentRemovalData",R=N+"DocumentAttributeChangeData",B=N+"TreeData",H=x(D(M,A),!0),F=x(D(T,K),!0),z=x(D(I,R)),U=q(M,B),W=q(T,B),Q=q(I,"domMutationAttributeData",!0),$=E(A,U),J=E(K,W),G=E(R,Q);l={dispatchNodeInsertion:function(e,t){var n=P(i(e));H(n,t)},dispatchNodeRemoval:function(e,t){var n=P(i(e));F(n,t)},dispatchNodeAttributeChange:function(e,t,n,a){z([{target:e,attributeName:t,oldValue:n}],a)},onNodeInsertion:U,onNodeRemoval:W,onNodeAttributeChange:Q,onRemoval:J,onInsertion:$,onAttributeChange:G},a.exports=l}(0,e,0,n)}),define("can-control",["require","exports","module","can-construct","can-namespace","can-assign","can-stache-key","can-reflect","can-observation","can-event-queue/map/map","can-log/dev/dev","can-util/js/string/string","can-util/js/get/get","can-util/dom/class-name/class-name","can-dom-mutate"],function(e,t,n){var a,o,r=e("can-construct"),i=e("can-namespace"),s=e("can-assign"),c=e("can-stache-key"),u=e("can-reflect"),l=e("can-observation"),p=e("can-event-queue/map/map"),d=e("can-log/dev/dev"),f=e("can-util/js/string/string"),h=e("can-util/js/get/get"),v=e("can-util/dom/class-name/class-name"),g=e("can-dom-mutate"),m=new WeakMap,y=[].slice,b=/\{([^\}]+)\}/g,w=function(e,t,n,a){return a?(c=e,u=a.trim(),l=t,d=n,p.on.call(c,l,u,d),function(){p.off.call(c,l,u,d)}):(r=e,i=t,s=n,p.on.call(r,i,s,o),function(){p.off.call(r,i,s,o)});var r,i,s,o,c,u,l,d},x=r.extend("Control",{setup:function(){if(r.setup.apply(this,arguments),x){var e,t=this;for(e in t.actions={},t.prototype)t._isAction(e)&&(t.actions[e]=t._action(e))}},_shifter:function(t,n){var a="string"==typeof n?t[n]:n;"function"!=typeof a&&(a=t[a]);var r=this;function e(){var e=r.wrapElement(this);return t.called=n,a.apply(t,[e].concat(y.call(arguments,0)))}return Object.defineProperty(e,"name",{value:u.getName(this)+"["+n+"]"}),e},_isAction:function(e){var t=this.prototype[e],n=typeof t;return"constructor"!==e&&("function"===n||"string"===n&&"function"==typeof this.prototype[t])&&!!(x.isSpecial(e)||a[e]||/[^\w]/.test(e))},_action:function(a,i,t){var e,s;if(b.lastIndex=0,i||!b.test(a)){var n=function(){var r,e=a.replace(b,function(e,t){var n,a;return this._isDelegate(i,t)?(r=this._getDelegate(i,t),""):(t=this._removeDelegateFromKey(t),a=this._lookup(i)[0],void 0===(n=c.read(a,c.reads(t),{readCompute:!1}).value)&&"undefined"!=typeof window&&(n=h(window,t)),a&&(u.isObservableLike(a)&&u.isMapLike(a)||n)?"string"==typeof n?n:(r=n,""):(s=!0,null))}.bind(this)),t=(e=e.trim()).split(/\s+/g),n=t.pop();return{processor:this.processors[n]||o,parts:[e,t.join(" "),n],delegate:r||void 0}};if(Object.defineProperty(n,"name",{value:u.getName(t||this.prototype)+"["+a+"].actionData"}),e=new l(n,this),t){var r=function(e){t._bindings.control[a](t.element),t._bindings.control[a]=e.processor(e.delegate||t.element,e.parts[2],e.parts[1],a,t)};Object.defineProperty(r,"name",{value:u.getName(t)+"["+a+"].handler"}),u.onValue(e,r,"mutate"),s&&d.log("can-control: No property found for handling "+a),t._bindings.readyComputes[a]={compute:e,handler:r}}return e.get()}},_lookup:function(e){return[e,window]},_removeDelegateFromKey:function(e){return e},_isDelegate:function(e,t){return"element"===t},_getDelegate:function(e,t){},processors:{},defaults:{},convertElement:function(e){return e="string"==typeof e?document.querySelector(e):e,this.wrapElement(e)},wrapElement:function(e){return e},unwrapElement:function(e){return e},isSpecial:function(e){return"inserted"===e||"removed"===e}},{setup:function(e,t){var n,a=this.constructor,r=a.pluginName||a.shortName;if(!e)throw new Error("Creating an instance of a named control without passing an element");if(this.element=a.convertElement(e),r&&"Control"!==r&&v.add.call(this.element,r),(n=m.get(this.element))||(n=[],m.set(this.element,n)),n.push(this),u.isObservableLike(t)&&u.isMapLike(t)){for(var i in a.defaults)t.hasOwnProperty(i)||c.set(t,i,a.defaults[i]);this.options=t}else this.options=s(s({},a.defaults),t);return this.on(),[this.element,this.options]},on:function(e,t,n,a){if(!e){this.off();var r,i,s=this.constructor,o=this._bindings,c=s.actions,u=this.constructor.unwrapElement(this.element),l=x._shifter(this,"destroy");for(r in c)c.hasOwnProperty(r)&&(i=c[r]||s._action(r,this.options,this))&&(o.control[r]=i.processor(i.delegate||u,i.parts[2],i.parts[1],r,this));var d=g.onNodeRemoval(u,function(){u.ownerDocument.contains(u)||l()});return o.user.push(function(){d&&(d(),d=void 0)}),o.user.length}return"string"==typeof e&&(a=n,n=t,t=e,e=this.element),void 0===a&&(a=n,n=t,t=null),"string"==typeof a&&(a=x._shifter(this,a)),this._bindings.user.push(w(e,n,a,t)),this._bindings.user.length},off:function(){var t=this.constructor.unwrapElement(this.element),e=this._bindings;e&&((e.user||[]).forEach(function(e){e(t)}),u.eachKey(e.control||{},function(e){e(t)}),u.eachKey(e.readyComputes||{},function(e){u.offValue(e.compute,e.handler,"mutate")})),this._bindings={user:[],control:{},readyComputes:{}}},destroy:function(){if(null!==this.element){var e,t=this.constructor,n=t.pluginName||t.shortName&&f.underscore(t.shortName);this.off(),n&&"can_control"!==n&&v.remove.call(this.element,n),(e=m.get(this.element))&&e.splice(e.indexOf(this),1),this.element=null}else d.warn("can-control: Control already destroyed")}});a=x.processors,o=function(e,t,n,a,r){return w(e,t,x._shifter(r,a),n)},["beforeremove","change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed","dragstart","dragenter","dragover","dragleave","drag","drop","dragend"].forEach(function(e){a[e]=o}),n.exports=i.Control=x}),define("can-component/control/control",["require","exports","module","can-control","can-reflect"],function(e,t,n){var r=e("can-control"),a=e("can-reflect"),i=/\{([^\}]+)\}/g,s=r.extend({_lookup:function(e){return[e.scope,e,window]},_removeDelegateFromKey:function(e){return e.replace(/^(scope|^viewModel)\./,"")},_isDelegate:function(e,t){return"scope"===t||"viewModel"===t},_getDelegate:function(e,t){return e[t]},_action:function(e,t,n){var a;return i.lastIndex=0,a=i.test(e),!n&&a?void 0:r._action.apply(this,arguments)}},{setup:function(e,t){return this.scope=t.scope,this.viewModel=t.viewModel,r.prototype.setup.call(this,e,t)},off:function(){this._bindings&&a.eachKey(this._bindings.readyComputes||{},function(e){a.offValue(e.compute,e.handler)}),r.prototype.off.apply(this,arguments),this._bindings.readyComputes={}},destroy:function(){r.prototype.destroy.apply(this,arguments),"function"==typeof this.options.destroy&&this.options.destroy.apply(this,arguments)}});n.exports=s}),define("can-attribute-encoder",["require","exports","module","can-namespace","can-log/dev/dev"],function(e,t,n){var a=e("can-namespace"),r=e("can-log/dev/dev");var i,s=(i={},function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}("allowReorder,attributeName,attributeType,autoReverse,baseFrequency,baseProfile,calcMode,clipPathUnits,contentScriptType,contentStyleType,diffuseConstant,edgeMode,externalResourcesRequired,filterRes,filterUnits,glyphRef,gradientTransform,gradientUnits,kernelMatrix,kernelUnitLength,keyPoints,keySplines,keyTimes,lengthAdjust,limitingConeAngle,markerHeight,markerUnits,markerWidth,maskContentUnits,maskUnits,patternContentUnits,patternTransform,patternUnits,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,repeatCount,repeatDur,requiredExtensions,requiredFeatures,specularConstant,specularExponent,spreadMethod,startOffset,stdDeviation,stitchTiles,surfaceScale,systemLanguage,tableValues,textLength,viewBox,viewTarget,xChannelSelector,yChannelSelector".split(","),function(e){i[e]=!0}),i);function o(e,t,n){return t+"-"+n.toLowerCase()}function c(e,t){return 0===e.indexOf(t)}function u(e,t){return e.length-e.indexOf(t)===t.length}var l=/\(/g,d=/\)/g,p=/\{/g,f=/\}/g,h=/([a-z]|^)([A-Z])/g,v=/\//g,g=/\s/g,m=/[A-Z]/g,y=/:u:([a-z])/g,b=/\^/g,w=/\$/g,x=/@/g,k=":u:",L=":s:",j=":f:",D=":lp:",S=":rp:",C=":lb:",O=":rb:",V=":c:",_=":d:",q=":at:",E={encode:function(e){var t=e;return!s[t]&&t.match(h)&&(c(t,"on:")||u(t,":to")||u(t,":from")||u(t,":bind")?t=t.replace(m,function(e){return k+e.toLowerCase()}):(c(t,"(")||c(t,"{"))&&(t=t.replace(h,o),r.warn("can-attribute-encoder: Found attribute with name: "+e+". Converting to: "+t+"."))),t=t.replace(g,L).replace(v,j).replace(l,D).replace(d,S).replace(p,C).replace(f,O).replace(b,V).replace(w,_).replace(x,q)},decode:function(e){var t=e;return!s[t]&&t.match(y)&&(c(t,"on:")||u(t,":to")||u(t,":from")||u(t,":bind"))&&(t=t.replace(y,function(e,t){return t.toUpperCase()})),t=t.replace(D,"(").replace(S,")").replace(C,"{").replace(O,"}").replace(j,"/").replace(L," ").replace(V,"^").replace(_,"$").replace(q,"@")}};if(a.encoder)throw new Error("You can't have two versions of can-attribute-encoder, check your dependencies");n.exports=a.encoder=E}),define("can-view-parser",["require","exports","module","can-namespace","can-log/dev/dev","can-attribute-encoder"],function(e,t,n){var a=e("can-namespace"),m=e("can-log/dev/dev"),o=e("can-attribute-encoder");function y(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function r(e){var t={};return y(e.split(","),function(e){t[e]=!0}),t}function b(e){return e.split("\n").length-1}var i="A-Za-z0-9",s="-:_"+i,w="{{",x=new RegExp("^<\\/(["+s+"]+)[^>]*>"),k=new RegExp("\\{\\{(![\\s\\S]*?!|[\\s\\S]*?)\\}\\}\\}?","g"),d=/\s/,p=new RegExp("["+i+"]"),f=new RegExp("["+s+"]+s*=s*(\"[^\"]*\"|'[^']*')"),L=r("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),j=r("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),D=r("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),S=r("script"),C="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),l={"{":"}","(":")"},O=function(){},V=function(e,r,t){if("object"==typeof e)return function(e,t){for(var n=0,a=e.length;n<a;n++){var r=e[n];t[r.tokenType].apply(t,r.args)}return e}(e,r);var a=[];function n(e,t,n,a){t=j[t]?t:t.toLowerCase(),D[t]&&p.last()===t&&i("",t),a=L[t]||!!a,r.start(t,a,l),a||p.push(t),V.parseAttrs(n,r,l),l+=b(e),r.end(t,a,l)}function i(e,t){var n;if(t)for(t=j[t]?t:t.toLowerCase(),n=p.length-1;0<=n&&p[n]!==t;n--);else n=0;if(void 0===e?0<p.length&&(r.filename?m.warn(r.filename+": expected closing tag </"+p[n]+">"):m.warn("expected closing tag </"+p[n]+">")):(n<0||n!==p.length-1)&&(0<p.length?r.filename?m.warn(r.filename+":"+l+": unexpected closing tag "+e+" expected </"+p[p.length-1]+">"):m.warn(l+": unexpected closing tag "+e+" expected </"+p[p.length-1]+">"):r.filename?m.warn(r.filename+":"+l+": unexpected closing tag "+e):m.warn(l+": unexpected closing tag "+e)),0<=n){for(var a=p.length-1;n<=a;a--)r.close&&r.close(p[a],l);p.length=n}}function s(e,t){r.special&&r.special(t,l)}r=r||{},t&&y(C,function(t){var n=r[t]||O;r[t]=function(){if(!1!==n.apply(this,arguments)){var e=arguments.length;void 0===arguments[e-1]&&(e=arguments.length-1),e=arguments.length,a.push({tokenType:t,args:[].slice.call(arguments,0,e)})}}});var o,c,u,l,d=function(){h&&(r.chars&&r.chars(h,l),l+=b(h)),h=""},p=[],f=e,h="";for(l=1,p.last=function(){return this[this.length-1]};e;){if(c=!0,p.last()&&S[p.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+p.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),r.chars&&r.chars(t,l),l+=b(t),""}),i("",p.last());else{if(0===e.indexOf("\x3c!--"))0<=(o=e.indexOf("--\x3e"))&&(d(),r.comment&&r.comment(e.substring(4,o),l),l+=b(e.substring(0,o+3)),e=e.substring(o+3),c=!1);else if(0===e.indexOf("</"))(u=e.match(x))&&(d(),u[0].replace(x,i),l+=b(e.substring(0,u[0].length)),e=e.substring(u[0].length),c=!1);else if(0===e.indexOf("<")){var v=V.searchStartTag(e);v&&(d(),n.apply(null,v.match),e=v.html,c=!1)}else 0===e.indexOf(w)&&(u=e.match(k))&&(d(),u[0].replace(k,s),l+=b(e.substring(0,u[0].length)),e=e.substring(u[0].length));if(c){0===(o=_(e,w))&&e===f&&(h+=e.charAt(0),e=e.substr(1),o=_(e,w));var g=o<0?e:e.substring(0,o);e=o<0?"":e.substring(o),g&&(h+=g)}}if(e===f)throw new Error("Parse Error: "+e);f=e}return d(),i(),r.done(l),a},h=function(e,t,n,a,r){var i=a.substring("number"==typeof e.nameStart?e.nameStart:t,t),s=o.encode(i);e.attrStart=s,n.attrStart(e.attrStart,r),e.inName=!1},v=function(e,t,n,a,r){if(void 0!==e.valueStart&&e.valueStart<t){var i,s,o=a.substring(e.valueStart,t);s=(i=(i=a.substring(e.valueStart-1,t+1)).trim()).charAt(i.length-1),e.inQuote!==s&&(n.filename?m.warn(n.filename+":"+r+": End quote is missing for "+o):m.warn(r+": End quote is missing for "+o)),n.attrValue(o,r)}n.attrEnd(e.attrStart,r),e.attrStart=void 0,e.valueStart=void 0,e.inValue=!1,e.inName=!1,e.lookingForEq=!1,e.inQuote=!1,e.lookingForName=!0},_=function(e,t){for(var n=t.length,a=0,r=e.length;a<r;a++)if("<"===e[a]||e.substr(a,n)===t)return a;return-1};V.parseAttrs=function(e,t,n){if(e){for(var a,r=0,i={inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};r<e.length;){a=r;var s=e.charAt(r);if(r++,w===e.substr(a,w.length)){i.inValue&&a>i.valueStart?t.attrValue(e.substring(i.valueStart,a),n):i.inName&&i.nameStart<a?(h(i,a,t,e,n),v(i,a,t,e,n)):i.lookingForValue?i.inValue=!0:i.lookingForEq&&i.attrStart&&v(i,a,t,e,n),k.lastIndex=a;var o=k.exec(e);o&&(t.special(o[1],n),r=a+o[0].length,i.inValue&&(i.valueStart=a+o[0].length))}else if(i.inValue)i.inQuote?s===i.inQuote&&v(i,a,t,e,n):d.test(s)&&v(i,a,t,e,n);else if("="===s&&(i.lookingForEq||i.lookingForName||i.inName))i.attrStart||h(i,a,t,e,n),i.lookingForValue=!0,i.lookingForEq=!1,i.lookingForName=!1;else if(i.inName){var c,u=e[i.nameStart];l[u]===s?(c=l["{"===u?"(":"{"],e[a+1]===c?(h(i,a+2,t,e,n),r++):h(i,a+1,t,e,n),i.lookingForEq=!0):d.test(s)&&"{"!==u&&"("!==u&&(h(i,a,t,e,n),i.lookingForEq=!0)}else i.lookingForName?d.test(s)||(i.attrStart&&v(i,a,t,e,n),i.nameStart=a,i.inName=!0):i.lookingForValue&&(d.test(s)?r===e.length&&v(i,a,t,e,n):(i.lookingForValue=!1,i.inValue=!0,"'"===s||'"'===s?(i.inQuote=s,i.valueStart=a+1):i.valueStart=a))}i.inName?(h(i,a+1,t,e,n),v(i,a+1,t,e,n)):(i.lookingForEq||i.lookingForValue||i.inValue)&&v(i,a+1,t,e,n),k.lastIndex=0}},V.searchStartTag=function(e){for(var t=e.indexOf(">"),n=f.exec(e.substring(1)),a=1;n&&t>=a+n.index;){for(a+=n.index+n[0].length;t<a;)t+=e.substring(t+1).indexOf(">")+1;n=f.exec(e.substring(a))}if(-1===t||!p.test(e[1]))return null;var r,i,s="",o="",c=e.substring(0,t+1),u="/"===c[c.length-2],l=c.search(d);return u?(o="/",i=c.substring(1,c.length-2).trim()):i=c.substring(1,c.length-1).trim(),-1===l?r=i:(l--,r=i.substring(0,l),s=i.substring(l)),{match:[c,r,s,o],html:e.substring(c.length)}},n.exports=a.HTMLParser=V}),define("can-dom-mutate/node",["require","exports","module","can-globals","can-dom-mutate","can-dom-mutate/-util"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-globals"),i=t("can-dom-mutate"),s=t("can-dom-mutate/-util"),o=s.isInDocument,c=s.getParents,u={dispatchNodeInsertion:function(e,t){o(t)&&i.dispatchNodeInsertion(t)},dispatchNodeRemoval:function(e,t){o(e)&&!o(t)&&i.dispatchNodeRemoval(t)}},l={replaceChild:function(e,t){var n=c(e),a=this.replaceChild(e,t);u.dispatchNodeRemoval(this,t);for(var r=0;r<n.length;r++)u.dispatchNodeInsertion(this,n[r]);return a},setAttribute:function(e,t){var n=this.getAttribute(e),a=this.setAttribute(e,t);return n!==this.getAttribute(e)&&i.dispatchNodeAttributeChange(this,e,n),a},removeAttribute:function(e){var t=this.getAttribute(e),n=this.removeAttribute(e);return t&&i.dispatchNodeAttributeChange(this,e,t),n}};[["appendChild","Insertion"],["insertBefore","Insertion"],["removeChild","Removal"]].forEach(function(e){var r=e[0],i="dispatchNode"+e[1];l[r]=function(e){for(var t=c(e),n=this[r].apply(this,arguments),a=0;a<t.length;a++)u[i](this,t[a]);return n}});var d={};["appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute"].forEach(function(e){d[e]=function(){return this[e].apply(this,arguments)}});var p={};function f(e){var t=e?d:l;for(var n in t)p[n]=t[n]}var h="MutationObserver";f(r.getKeyValue(h)),r.onKeyValue(h,f),a.exports=p}(0,e,0,n)}),define("can-view-nodelist",["require","exports","module","can-namespace","can-dom-mutate/node"],function(e,t,n){var a=e("can-namespace"),r=e("can-dom-mutate/node"),s=new Map,o=[].splice,c=[].push,u=function(e){for(var t=0,n=0,a=e.length;n<a;n++){var r=e[n];r.nodeType?t++:t+=u(r)}return t},l={update:function(e,t){for(var n=l.unregisterChildren(e),a=[],r=0,i=a.length=t.length;r<i;r++)a[r]=t[r];t=a;var s=e.length;return o.apply(e,[0,s].concat(t)),e.replacements?(l.nestReplacements(e),e.deepChildren=e.newDeepChildren,e.newDeepChildren=[]):l.nestList(e),n},nestReplacements:function(e){for(var t,n=0,a=function(e){for(var t=new Map,n=0,a=e.length;n<a;n++){var r=l.first(e[n]);t.set(r,e[n])}return t}(e.replacements),r=e.replacements.length;n<e.length&&r;){var i=e[n],s=a.get(i);s&&(a.delete(i),e.splice(n,u(s),s),r--),n++}r&&(t=e,a.forEach(function(e){t.newDeepChildren.push(e)})),e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var n=e[t],a=s.get(n);a?a!==e&&e.splice(t,u(a),a):s.set(n,e),t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:l.last(t)},first:function(e){var t=e[0];return t.nodeType?t:l.first(t)},flatten:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];a.nodeType?t.push(a):t.push.apply(t,l.flatten(a))}return t},register:function(e,t,n,a){return e.unregistered=t,e.parentList=n,e.nesting=n&&void 0!==n.nesting?n.nesting+1:0,n?(e.deepChildren=[],e.newDeepChildren=[],e.replacements=[],!0!==n&&(a?n.replacements.push(e):n.newDeepChildren.push(e))):l.nestList(e),e},unregisterChildren:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];a.nodeType?(e.replacements||s.delete(a),t.push(a)):c.apply(t,l.unregister(a,!0))}var r=e.deepChildren;if(r)for(var i=0;i<r.length;i++)l.unregister(r[i],!0);return t},unregister:function(e,t){var n=l.unregisterChildren(e,!0);if(e.unregistered){var a=e.unregistered;if(e.replacements=e.unregistered=null,!t){var r=e.parentList&&e.parentList.deepChildren;if(r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}a()}return n},after:function(e,t){var n=e[e.length-1];n.nextSibling?r.insertBefore.call(n.parentNode,t,n.nextSibling):r.appendChild.call(n.parentNode,t)},replace:function(e,t){var n,a=e[0].parentNode;"SELECT"===a.nodeName.toUpperCase()&&0<=a.selectedIndex&&(n=a.value),1===e.length?r.replaceChild.call(a,t,e[0]):(l.after(e,t),l.remove(e)),void 0!==n&&(a.value=n)},remove:function(e){for(var t=e[0]&&e[0].parentNode,n=0;n<e.length;n++)r.removeChild.call(t,e[n])},nodeMap:s};n.exports=a.nodeLists=l}),define("can-util/dom/child-nodes/child-nodes",function(e,t,n){"use strict";n.exports=function(e){var t=e.childNodes;if("length"in t)return t;for(var n=e.firstChild,a=[];n;)a.push(n),n=n.nextSibling;return a}}),define("can-util/dom/fragment/fragment",["require","exports","module","can-globals/document/document","can-util/dom/child-nodes/child-nodes"],function(e,t,n){!function(e,t,n,a){"use strict";var s=t("can-globals/document/document"),c=t("can-util/dom/child-nodes/child-nodes"),u=/^\s*<(\w+)[^>]*>/,l={}.toString;a.exports=function(e,t){if(e&&11===e.nodeType)return e;t?t.length&&(t=t[0]):t=s();for(var n=function(e,t,n){void 0===t&&(t=u.test(e)&&RegExp.$1),e&&"[object Function]"===l.call(e.replace)&&(e=e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var a=n.createElement("div"),r=n.createElement("div");"tbody"===t||"tfoot"===t||"thead"===t||"colgroup"===t?(r.innerHTML="<table>"+e+"</table>",a=3===r.firstChild.nodeType?r.lastChild:r.firstChild):"col"===t?(r.innerHTML="<table><colgroup>"+e+"</colgroup></table>",a=3===r.firstChild.nodeType?r.lastChild:r.firstChild.firstChild):"tr"===t?(r.innerHTML="<table><tbody>"+e+"</tbody></table>",a=3===r.firstChild.nodeType?r.lastChild:r.firstChild.firstChild):"td"===t||"th"===t?(r.innerHTML="<table><tbody><tr>"+e+"</tr></tbody></table>",a=3===r.firstChild.nodeType?r.lastChild:r.firstChild.firstChild.firstChild):"option"===t?(r.innerHTML="<select>"+e+"</select>",a=3===r.firstChild.nodeType?r.lastChild:r.firstChild):a.innerHTML=""+e;var i={},s=c(a);i.length=s.length;for(var o=0;o<s.length;o++)i[o]=s[o];return[].slice.call(i)}(e,void 0,t),a=(t||document).createDocumentFragment(),r=0,i=n.length;r<i;r++)a.appendChild(n[r]);return a}}(0,e,0,n)}),define("can-util/dom/frag/frag",["require","exports","module","can-globals/document/document","can-util/dom/fragment/fragment","can-util/js/each/each","can-util/dom/child-nodes/child-nodes"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-globals/document/document"),i=t("can-util/dom/fragment/fragment"),s=t("can-util/js/each/each"),o=t("can-util/dom/child-nodes/child-nodes"),c=function(e,t){var n,a=t||r();return e&&"string"!=typeof e?11===e.nodeType?e:("number"==typeof e.nodeType?(n=a.createDocumentFragment()).appendChild(e):("number"==typeof e.length?(n=a.createDocumentFragment(),s(e,function(e){n.appendChild(c(e))})):n=i(""+e,a),o(n).length||n.appendChild(a.createTextNode(""))),n):((n=i(null==e?"":""+e,a)).childNodes.length||n.appendChild(a.createTextNode("")),n)};a.exports=c}(0,e,0,n)}),define("can-view-callbacks",["require","exports","module","can-observation-recorder","can-log/dev/dev","can-globals/global/global","can-dom-mutate/node","can-namespace","can-view-nodelist","can-util/dom/frag/frag","can-globals"],function(e,t,n){!function(e,t,n,a){var c,d=t("can-observation-recorder"),p=t("can-log/dev/dev"),f=t("can-globals/global/global"),h=t("can-dom-mutate/node"),r=t("can-namespace"),v=t("can-view-nodelist"),g=t("can-util/dom/frag/frag"),u=t("can-globals"),s={},m={},y=new WeakSet,l=function(e){var t,n=e.tagName&&e.tagName.toLowerCase(),a=m[n];if(a&&!y.has(e)&&a(e,{}),e.getElementsByTagName){t=e.getElementsByTagName("*");for(var r,i=0;void 0!==(r=t[i]);i++)l(r)}},b=!1,o={},w=[],x=/[-\:]/,k=function(){},i={_tags:m,_attributes:o,_regExpAttributes:w,defaultCallback:k,tag:function(e,t){var n;if(!t)return null===t?delete m[e.toLowerCase()]:n=m[e.toLowerCase()],!n&&x.test(e)&&(n=k),n;var a,r=f(),i=x.test(e);if(void 0!==m[e.toLowerCase()]&&p.warn("Custom tag: "+e.toLowerCase()+" is already defined"),i||"content"===e||p.warn("Custom tag: "+e.toLowerCase()+" hyphen missed"),r.html5&&(r.html5.elements+=" "+e,r.html5.shivDocument()),m[e.toLowerCase()]=t,"false"!==u.getKeyValue("document").documentElement.getAttribute("data-can-automount")){var s=u.getKeyValue("customElements");if(s){if(a=s.get(e.toLowerCase()),i&&!a){var o=function(){return Reflect.construct(HTMLElement,[],o)};o.prototype.connectedCallback=function(){y.has(this)||m[e.toLowerCase()](this,{})},Object.setPrototypeOf(o.prototype,HTMLElement.prototype),Object.setPrototypeOf(o,HTMLElement),s.define(e,o)}}else!function(){if(!b){var e=u.getKeyValue("MutationObserver");e&&((c=new e(function(e){for(var t,n,a=0;void 0!==(n=e[a]);a++)if("childList"===n.type){t=n.addedNodes;for(var r,i=0;void 0!==(r=t[i]);i++)y.has(r)||l(r)}})).observe(f().document.documentElement,{childList:!0,subtree:!0}),b=!0)}}(),function(e){for(var t,n=f().document.getElementsByTagName(e),a=0;void 0!==(t=n[a]);a++)l(t)}(e)}else b&&c.disconnect()},attr:function(t,e){if(!e){var n=o[t];if(!n)for(var a=0,r=w.length;a<r;a++){var i=w[a];if(i.match.test(t))return i.handler}return s[t]=!0,n}"string"==typeof t?(o[t]=e,s[t]&&p.warn("can-view-callbacks: "+t+" custom attribute behavior requested before it was defined.  Make sure "+t+" is defined before it is needed.")):(w.push({match:t,handler:e}),Object.keys(s).forEach(function(e){t.test(e)&&p.warn("can-view-callbacks: "+e+" custom attribute behavior requested before it was defined.  Make sure "+t+" is defined before it is needed.")}))},tagHandler:function(e,t,n){var a,r=n.scope,i=r&&r.templateContext.tags.get(t)||m[t];if(i?(a=d.ignore(i)(e,n),y.add(e)):a=r,!i){var s=f(),o=s.document.createElement(t).constructor;o!==s.HTMLElement&&o!==s.HTMLUnknownElement||p.warn("can-view-callbacks: No custom element found for "+t)}if(a&&n.subtemplate){r!==a&&(r=r.add(a));var c=v.register([],void 0,n.parentNodeList||!0,!1);c.expression="<"+e.tagName+">";var u=n.subtemplate(r,n.options,c),l="string"==typeof u?g(u):u;h.appendChild.call(e,l)}}};if(r.view=r.view||{},r.view.callbacks)throw new Error("You can't have two versions of can-view-callbacks, check your dependencies");a.exports=r.view.callbacks=i}(0,e,0,n)}),define("can-view-target",["require","exports","module","can-globals/document/document","can-dom-mutate/node","can-namespace","can-globals/mutation-observer/mutation-observer"],function(e,t,n){!function(e,t,n,a){var r,i,o=t("can-globals/document/document"),h=t("can-dom-mutate/node"),s=t("can-namespace"),c=t("can-globals/mutation-observer/mutation-observer"),v=function(e,t,n,a){for(var r=a.createDocumentFragment(),i=0,s=e.length;i<s;i++){var o=e[i];r.appendChild(d(o,t,n.concat(i),a))}return r},g="undefined"!=typeof document&&(r=document.createDocumentFragment(),(i=document.createElement("div")).appendChild(document.createTextNode("")),i.appendChild(document.createTextNode("")),r.appendChild(i),2===r.cloneNode(!0).firstChild.childNodes.length),u="undefined"!=typeof document&&function(){var e=document.createElement("a");e.innerHTML="<xyz></xyz>";var t,n,a=e.cloneNode(!0),r="<xyz></xyz>"===a.innerHTML;return r?((e=document.createDocumentFragment()).appendChild(document.createTextNode("foo-bar")),(t=c())?((n=new t(function(){})).observe(document.documentElement,{childList:!0,subtree:!0}),a=e.cloneNode(!0),n.disconnect()):a=e.cloneNode(!0),1===a.childNodes.length):r}(),m="undefined"!=typeof document&&!!document.createElementNS,l=u?function(e){return e.cloneNode(!0)}:function(e){var t,n=e.ownerDocument;if(1===e.nodeType?t="http://www.w3.org/1999/xhtml"!==e.namespaceURI&&m&&n.createElementNS?n.createElementNS(e.namespaceURI,e.nodeName):n.createElement(e.nodeName):3===e.nodeType?t=n.createTextNode(e.nodeValue):8===e.nodeType?t=n.createComment(e.nodeValue):11===e.nodeType&&(t=n.createDocumentFragment()),e.attributes)for(var a=e.attributes,r=0;r<a.length;r++){var i=a[r];i&&i.specified&&h.setAttribute.call(t,i.nodeName||i.name,i.nodeValue||i.value)}if(e&&e.firstChild)for(var s=e.firstChild;s;)t.appendChild(l(s)),s=s.nextSibling;return t};function d(t,e,n,a){var r,i,s,o,c,u=n,l=typeof t,d=function(){return r||(r={path:n,callbacks:[]},e.push(r),u=[]),r};if("object"===l){if(t.tag){if(i=m&&t.namespace?a.createElementNS(t.namespace,t.tag):a.createElement(t.tag),t.attrs)for(var p in t.attrs){var f=t.attrs[p];"function"==typeof f?d().callbacks.push({callback:f}):h.setAttribute.call(i,p,f)}if(t.attributes)for(o=0,c=t.attributes.length;o<c;o++)d().callbacks.push({callback:t.attributes[o]});t.children&&t.children.length&&(s=r?r.paths=[]:e,i.appendChild(v(t.children,s,u,a)))}else if(t.comment&&(i=a.createComment(t.comment),t.callbacks))for(o=0,c=t.attributes.length;o<c;o++)d().callbacks.push({callback:t.callbacks[o]})}else"string"===l?i=a.createTextNode(t):"function"===l&&(g?(i=a.createTextNode(""),d().callbacks.push({callback:t})):(i=a.createComment("~"),d().callbacks.push({callback:function(){var e=a.createTextNode("");return h.replaceChild.call(this.parentNode,e,this),t.apply(e,arguments)}})));return i}function p(e,t,n){for(var a=t.path,r=t.callbacks,i=t.paths,s=e,o=a?a.length:0,c=i?i.length:0,u=0;u<o;u++)s=s.childNodes.item(a[u]);for(u=0;u<c;u++)p(s,i[u],n);n.push({element:s,callbacks:r})}function f(e,t){var s=[],n=v(e,s,[],t||o());return{paths:s,clone:n,hydrate:function(){for(var e=l(this.clone),t=[],n=0,a=t.length=arguments.length;n<a;n++)t[n]=arguments[n];for(var r=[],i=0;i<s.length;i++)p(e,s[i],r);return function(e,t){for(var n,a,r,i=e.length,s=0;s<i;s++){n=(r=e[s]).callbacks.length,a=r.element;for(var o=0;o<n;o++)r.callbacks[o].callback.apply(a,t)}}(r,t),e}}}f.keepsTextNodes=g,f.cloneNode=l,s.view=s.view||{},a.exports=s.view.target=f}(0,e,0,n)}),define("can-simple-map",["require","exports","module","can-construct","can-event-queue/map/map","can-queues","can-util/js/each/each","can-observation-recorder","can-reflect","can-log/dev/dev","can-symbol"],function(e,t,n){var a=e("can-construct"),r=e("can-event-queue/map/map"),s=e("can-queues"),o=e("can-util/js/each/each"),c=e("can-observation-recorder"),u=e("can-reflect"),l=e("can-log/dev/dev"),d=e("can-symbol"),i=a.extend("SimpleMap",{setup:function(e){this._data={},e&&"object"==typeof e&&this.attr(e)},attr:function(e,t){var n=this;if(0===arguments.length){c.add(this,"can.keys");var a={};return o(this._data,function(e,t){c.add(this,t),a[t]=e},this),a}if(1<arguments.length){var r=this._data.hasOwnProperty(e),i=this._data[e];i!==(this._data[e]=t)&&("function"==typeof this._log&&this._log(e,t,i),this.dispatch({keyChanged:r?void 0:e,type:e,reasonLog:[u.getName(this)+"'s",e,"changed to",t,"from",i]},[t,i]))}else{if("object"!=typeof e)return"constructor"!==e?(c.add(this,e),this._data[e]):this.constructor;s.batch.start(),u.eachKey(e,function(e,t){n.attr(t,e)}),s.batch.stop()}},serialize:function(){return u.serialize(this,Map)},get:function(){return this.attr.apply(this,arguments)},set:function(){return this.attr.apply(this,arguments)},log:function(r){var e,t,n,i=function(e){return"string"==typeof e?JSON.stringify(e):e},s=(e=this,t=d.for("can.meta"),(n=e[t])||(n={},u.setKeyValue(e,t,n)),n);s.allowedLogKeysSet=s.allowedLogKeysSet||new Set,r&&s.allowedLogKeysSet.add(r),this._log=function(e,t,n,a){r&&!s.allowedLogKeysSet.has(e)||l.log(u.getName(this),"\n key ",i(e),"\n is  ",i(t),"\n was ",i(n))}}});r(i.prototype),u.assignSymbols(i.prototype,{"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":i.prototype.get,"can.setKeyValue":i.prototype.set,"can.deleteKeyValue":function(e){if(this._data.hasOwnProperty(e)){var t=this._data[e];delete this._data[e],"function"==typeof this._log&&this._log(e,void 0,t),this.dispatch({keyChanged:e,type:e,reasonLog:[u.getName(this)+"'s",e,"deleted",t]},[void 0,t])}},"can.getOwnEnumerableKeys":function(){return c.add(this,"can.keys"),Object.keys(this._data)},"can.assignDeep":function(e){s.batch.start(),u.assignMap(this,e),s.batch.stop()},"can.updateDeep":function(e){s.batch.start(),u.updateMap(this,e),s.batch.stop()},"can.keyHasDependencies":function(e){return!1},"can.getKeyDependencies":function(e){},"can.getName":function(){return u.getName(this.constructor)+"{}"}}),n.exports=i}),define("can-view-scope/template-context",["require","exports","module","can-simple-map"],function(e,t,n){var a=e("can-simple-map");n.exports=function(){this.vars=new a({}),this.helpers=new a({}),this.partials=new a({}),this.tags=new a({})}}),define("can-cid",["require","exports","module","can-namespace"],function(e,t,n){var a=e("can-namespace"),r=0,i="can"+new Date,s=function(e,t){var n=e.nodeName?i:"_cid";return e[n]||(r++,e[n]=(t||"")+r),e[n]};if(s.domExpando=i,s.get=function(e){var t=typeof e;return null!==t&&("object"===t||"function"===t)?s(e):t+":"+e},a.cid)throw new Error("You can't have two versions of can-cid, check your dependencies");n.exports=a.cid=s}),define("can-cid/helpers",function(e,t,n){n.exports={each:function(e,t,n){for(var a in e)t.call(n,e[a],a);return e}}}),define("can-cid/set/set",["require","exports","module","can-cid","can-cid/helpers"],function(e,t,n){"use strict";var a,r=e("can-cid").get,i=e("can-cid/helpers");"undefined"!=typeof Set?a=Set:((a=function(){this.values={}}).prototype.add=function(e){this.values[r(e)]=e},a.prototype.delete=function(e){var t=r(e)in this.values;return t&&delete this.values[r(e)],t},a.prototype.forEach=function(e,t){i.each(this.values,e,t)},a.prototype.has=function(e){return r(e)in this.values},a.prototype.clear=function(){return this.values={}},Object.defineProperty(a.prototype,"size",{get:function(){var e=0;return i.each(this.values,function(){e++}),e}}));n.exports=a}),define("can-util/js/single-reference/single-reference",["require","exports","module","can-cid"],function(o,e,t){!function(e,t,n,a){var r,i=o("can-cid");function s(e,t){return(t?i(e)+":"+t:i(e))||e}r={set:function(e,t,n,a){e[s(t,a)]=n},getAndDelete:function(e,t,n){var a=s(t,n),r=e[a];return delete e[a],r}},a.exports=r}(0,0,0,t)}),define("can-view-scope/make-compute-like",["require","exports","module","can-util/js/single-reference/single-reference","can-reflect"],function(e,t,n){var i=e("can-util/js/single-reference/single-reference"),s=e("can-reflect");n.exports=function(a){var r=function(e){return arguments.length?s.setValue(this,e):s.getValue(this)}.bind(a);return r.on=r.bind=r.addEventListener=function(e,n){var t=function(e,t){n.call(r,{type:"change"},e,t)};i.set(n,this,t),a.on(t)},r.off=r.unbind=r.removeEventListener=function(e,t){a.off(i.getAndDelete(t,this))},s.assignSymbols(r,{"can.getValue":function(){return s.getValue(a)},"can.setValue":function(e){return s.setValue(a,e)},"can.onValue":function(e,t){return s.onValue(a,e,t)},"can.offValue":function(e,t){return s.offValue(a,e,t)},"can.valueHasDependencies":function(){return s.valueHasDependencies(a)},"can.getPriority":function(){return s.getPriority(a)},"can.setPriority":function(e){s.setPriority(a,e)},"can.isValueLike":!0,"can.isFunctionLike":!1}),r.isComputed=!0,r}}),define("can-reflect-dependencies/src/add-mutated-by",["require","exports","module","can-reflect"],function(e,t,n){var o=e("can-reflect"),c=function(){return{keyDependencies:new Map,valueDependencies:new Set}};n.exports=function(s){return function(e,t,n){var a=3===arguments.length;2===arguments.length&&(n=t,t=void 0),n.keyDependencies||n.valueDependencies||(n={valueDependencies:new Set([n])});var r=s.get(e);r||(r={mutateDependenciesForKey:new Map,mutateDependenciesForValue:c()},s.set(e,r)),a&&r.mutateDependenciesForKey.set(t,c());var i=a?r.mutateDependenciesForKey.get(t):r.mutateDependenciesForValue;n.valueDependencies&&o.addValues(i.valueDependencies,n.valueDependencies),n.keyDependencies&&o.each(n.keyDependencies,function(e,t){var n=i.keyDependencies.get(t);n||(n=new Set,i.keyDependencies.set(t,n)),o.addValues(n,e)})}}}),define("can-reflect-dependencies/src/delete-mutated-by",["require","exports","module","can-reflect"],function(e,t,n){var o=e("can-reflect");n.exports=function(s){return function(e,t,n){var a=3===arguments.length,r=s.get(e);2===arguments.length&&(n=t,t=void 0),n.keyDependencies||n.valueDependencies||(n={valueDependencies:new Set([n])});var i=a?r.mutateDependenciesForKey.get(t):r.mutateDependenciesForValue;n.valueDependencies&&o.removeValues(i.valueDependencies,n.valueDependencies),n.keyDependencies&&o.each(n.keyDependencies,function(e,t){var n=i.keyDependencies.get(t);n&&(o.removeValues(n,e),n.size||i.keyDependencies.delete(t))})}}}),define("can-reflect-dependencies/src/is-function",function(e,t,n){n.exports=function(e){return"function"==typeof e}}),define("can-reflect-dependencies/src/get-dependency-data-of",["require","exports","module","can-symbol","can-reflect","can-reflect-dependencies/src/is-function"],function(e,t,n){var a=e("can-symbol"),l=e("can-reflect"),d=e("can-reflect-dependencies/src/is-function"),r=a.for("can.getWhatIChange"),p=a.for("can.getKeyDependencies"),f=a.for("can.getValueDependencies"),s=function(e,t){if(d(e[r]))return 2===arguments.length?l.getWhatIChange(e,t):l.getWhatIChange(e)},h=function(e){return null==e||!Object.keys(e).length||e.keyDependencies&&!e.keyDependencies.size&&e.valueDependencies&&!e.valueDependencies.size},o=function(e,t,n){var a,r,i,s,o=3===arguments.length,c=o?(a=t,r=n,(s=e.get(a))&&s.mutateDependenciesForKey.has(r)&&(i=s.mutateDependenciesForKey.get(r)),i):function(e,t){var n,a=e.get(t);if(a){var r=a.mutateDependenciesForValue;r.keyDependencies.size&&((n=n||{}).keyDependencies=r.keyDependencies),r.valueDependencies.size&&((n=n||{}).valueDependencies=r.valueDependencies)}return n}(e,t),u=o?function(e,t){if(d(e[p]))return l.getKeyDependencies(e,t)}(t,n):function(e){if(d(e[f]))return l.getValueDependencies(e)}(t);if(!h(c)||!h(u))return Object.assign({},c?{mutate:c}:null,u?{derive:u}:null)};n.exports=function(i){return function(e,t){var n=2===arguments.length,a=n?o(i,e,t):o(i,e),r=n?s(e,t):s(e);if(a||r)return Object.assign({},r?{whatIChange:r}:null,a?{whatChangesMe:a}:null)}}}),define("can-reflect-dependencies",["require","exports","module","can-reflect-dependencies/src/add-mutated-by","can-reflect-dependencies/src/delete-mutated-by","can-reflect-dependencies/src/get-dependency-data-of"],function(e,t,n){var a=e("can-reflect-dependencies/src/add-mutated-by"),r=e("can-reflect-dependencies/src/delete-mutated-by"),i=e("can-reflect-dependencies/src/get-dependency-data-of"),s=new WeakMap;n.exports={addMutatedBy:a(s),deleteMutatedBy:r(s),getDependencyDataOf:i(s)}}),define("can-view-scope/scope-key-data",["require","exports","module","can-observation","can-stache-key","can-assign","can-reflect","can-symbol","can-observation-recorder","can-cid/set/set","can-view-scope/make-compute-like","can-reflect-dependencies","can-event-queue/value/value"],function(e,t,n){"use strict";var i=e("can-observation"),a=e("can-stache-key"),s=e("can-assign"),o=e("can-reflect"),r=e("can-symbol"),c=e("can-observation-recorder"),u=e("can-cid/set/set"),l=e("can-view-scope/make-compute-like"),d=e("can-reflect-dependencies"),p=e("can-event-queue/value/value"),f=r.for("can.dispatch"),h=c.ignore(o.getValue.bind(o)),v=c.ignore(function(e){if(e.reads&&1===e.reads.length){var t=e.root;return t&&t[r.for("can.getValue")]&&(t=o.getValue(t)),t&&o.isObservableLike(t)&&o.isMapLike(t)&&"function"!=typeof t[e.reads[0].key]&&t}}),g=function(e,t,n){this.startingScope=e,this.key=t,this.read=this.read.bind(this),this.dispatch=this.dispatch.bind(this),Object.defineProperty(this.read,"name",{value:"{{"+this.key+"}}::ScopeKeyData.read"}),Object.defineProperty(this.dispatch,"name",{value:o.getName(this)+".dispatch"});var a=this.observation=new i(this.read,this);this.options=s({observation:this.observation},n),this.fastPath=void 0,this.root=void 0,this.initialValue=void 0,this.reads=void 0,this.setRoot=void 0,this.thisArg=void 0;var r=new u;r.add(a),this.dependencies={valueDependencies:r}};p(g.prototype),Object.assign(g.prototype,{constructor:g,dispatch:function(e){var t=this.value;this.value=e,this[f].call(this,this.value,t)},onBound:function(){this.bound=!0,o.onValue(this.observation,this.dispatch,"notify");var e=v(this);e&&this.toFastPath(e),this.value=h(this.observation)},onUnbound:function(){this.bound=!1,o.offValue(this.observation,this.dispatch,"notify"),this.toSlowPath()},set:function(e){var t=this.root||this.setRoot;t?a.write(t,this.reads,e,this.options):this.startingScope.set(this.key,e,this.options)},get:function(){return c.isRecording()&&(c.add(this),this.bound||i.temporarilyBind(this)),!0===this.bound?this.value:this.observation.get()},toFastPath:function(a){var r=this,e=this.observation;this.fastPath=!0;var t=this.reads[0].key;d.addMutatedBy(a,t,{valueDependencies:new Set([r])}),e.dependencyChange=function(e,t){if((n=t)&&"number"==typeof n.batchNum&&"string"==typeof n.type)throw"no event objects!";var n;return e===a&&"function"!=typeof t?this.newVal=t:r.toSlowPath(),i.prototype.dependencyChange.apply(this,arguments)},e.onBound=function(){this.value=this.newVal}},toSlowPath:function(){this.observation.dependencyChange=i.prototype.dependencyChange,this.observation.onBound=i.prototype.onBound,this.fastPath=!1},read:function(){if(this.root)return a.read(this.root,this.reads,this.options).value;var e=this.startingScope.read(this.key,this.options);return this.scope=e.scope,this.reads=e.reads,this.root=e.rootObserve,this.setRoot=e.setRoot,this.thisArg=e.thisArg,this.initialValue=e.value},hasDependencies:function(){return o.valueHasDependencies(this.observation)}}),o.assignSymbols(g.prototype,{"can.getValue":g.prototype.get,"can.setValue":g.prototype.set,"can.valueHasDependencies":g.prototype.hasDependencies,"can.getValueDependencies":function(){var e=this.dependencies;if(this.fastPath){var t=this.reads[0].key,n=v(this);e={keyDependencies:new Map([[n,new Set([t])]])}}return e},"can.getPriority":function(){return o.getPriority(this.observation)},"can.setPriority":function(e){o.setPriority(this.observation,e)},"can.getName":function(){return o.getName(this.constructor)+"{{"+this.key+"}}"}}),Object.defineProperty(g.prototype,"compute",{get:function(){var e=l(this);return Object.defineProperty(this,"compute",{value:e,writable:!1,configurable:!1}),e},configurable:!0}),n.exports=g}),define("can-view-scope/compute_data",["require","exports","module","can-view-scope/scope-key-data"],function(e,t,n){"use strict";var a=e("can-view-scope/scope-key-data");n.exports=function(e,t,n){return new a(e,t,n||{args:[]})}}),define("can-stache-helpers",["require","exports","module","can-namespace"],function(e,t,n){var a=e("can-namespace");if(a.stacheHelpers)throw new Error("You can't have two versions of can-stache-helpers, check your dependencies");n.exports=a.stacheHelpers={}}),define("can-view-scope",["require","exports","module","can-stache-key","can-observation-recorder","can-view-scope/template-context","can-view-scope/compute_data","can-assign","can-util/js/each/each","can-namespace","can-reflect","can-log/dev/dev","can-define-lazy-value","can-stache-helpers"],function(e,t,n){!function(e,t,n,a){var y=t("can-stache-key"),b=t("can-observation-recorder"),r=t("can-view-scope/template-context"),i=t("can-view-scope/compute_data"),w=t("can-assign"),s=t("can-util/js/each/each"),o=t("can-namespace"),u=t("can-reflect"),c=t("can-log/dev/dev"),l=t("can-define-lazy-value"),d=t("can-stache-helpers");function p(e,t,n){this._context=e,this._parent=t,this._meta=n||{},this.__cache={}}w(p,{read:y.read,keyInfo:function(e){var t={};return t.isDotSlash="./"===e.substr(0,2),t.isThisDot="this."===e.substr(0,5),t.isThisAt="this@"===e.substr(0,5),t.isInCurrentContext=t.isDotSlash||t.isThisDot||t.isThisAt,t.isInParentContext="../"===e.substr(0,3),t.isCurrentContext="."===e||"this"===e,t.isParentContext=".."===e,t.isScope="scope"===e,t.isInScope="scope."===e.substr(0,6)||"scope@"===e.substr(0,6),t.isContextBased=t.isInCurrentContext||t.isInParentContext||t.isCurrentContext||t.isParentContext,t}}),w(p.prototype,{add:function(e,t){return e!==this._context?new this.constructor(e,this,t):this},find:function(e,t){return this.get(e,w({currentScopeOnly:!1},t))},read:function(e,t){t=t||{},"./"===e&&(e=".");var n=p.keyInfo(e);if(n.isContextBased&&(this._meta.notContext||this._meta.special))return this._parent.read(e,t);var a=!("currentScopeOnly"in t)||t.currentScopeOnly;if(n.isInCurrentContext)a=!0,e=n.isDotSlash?e.substr(2):e.substr(5);else{if((n.isInParentContext||n.isParentContext)&&this._parent){for(var r=this._parent;r._meta.notContext||r._meta.special;)r=r._parent;if(n.isParentContext)return y.read(r._context,[],t);var i=r.read(e.substr(3)||".",t);return w(i,{thisArg:i.thisArg||r._context})}if(n.isCurrentContext)return y.read(this._context,[],t);if(n.isScope)return{value:this}}var s,o=y.reads(e);return n.isInScope?(void 0===(s=y.read(this,o.slice(1),t)).value&&(s=this.readFromTemplateContext(e.slice(6),t)),w(s,{thisArg:1<o.length?s.parent:void 0})):this._read(o,t,a)},readFromSpecialContext:function(e){return this._read([{key:e,at:!1}],{special:!0})},readFromTemplateContext:function(e,t){var n=y.reads(e);return y.read(this.templateContext,n,t)},_read:function(n,e,t){for(var a,r,i,s,o,c=this,u=[],l=-1,d=w({foundObservable:function(e,t){r=e,i=n.slice(t)},earlyExit:function(e,t){(l<t||t===l&&"object"==typeof e&&n[t].key in e)&&(o=r,s=i,l=t)}},e),p=b.isRecording();c;)if(a=c._context,e&&!0===e.special||!c._meta.special)if(e&&e.special&&!c._meta.special)c=c._parent;else{if(null!==a&&("object"==typeof a||"function"==typeof a)){var f=b.trap(),h=y.read(a,n,d),v=f();if(void 0!==h.value)return!v.length&&p?(r=h.parent,i=n.slice(n.length-1)):b.addMany(v),{scope:c,rootObserve:r,value:h.value,reads:i,thisArg:1<n.length?h.parent:void 0};u.push.apply(u,v)}var g=c._parent&&c._parent._meta&&!c._parent._meta.notContext&&!c._parent._meta.special;c=t&&g?null:c._parent}else c=c._parent;if(!e||!e.special){var m=this.getHelper(n);if(m&&m.value)return m}return b.addMany(u),{setRoot:o,reads:s,value:void 0}},getHelper:function(e){var t=y.read(this.templateContext.helpers,e,{proxyMethods:!1});return t&&t.value||(t=y.read(d,e,{proxyMethods:!1})),t},get:function(e,t){return t=w({isArgument:!0},t),this.read(e,t).value},peek:b.ignore(function(e,t){return this.get(e,t)}),peak:b.ignore(function(e,t){return c.warn("peak is deprecated, please use peek instead"),this.peek(e,t)}),getScope:function(e){for(var t=this;t;){if(e(t))return t;t=t._parent}},getContext:function(e){var t=this.getScope(e);return t&&t._context},getTemplateContext:function(){var t,e=this.getScope(function(e){return(t=e)._context instanceof r});return e||(e=new p(new r),t._parent=e),e},getRoot:function(){for(var e=this,t=this;e._parent;)e=(t=e)._parent;return e._context instanceof r&&(e=t),e._context},getDataForScopeSet:function(e,t){var n,a=p.keyInfo(e);if(a.isCurrentContext)return{parent:this._context,how:"setValue"};if(a.isInParentContext||a.isParentContext){for(n=this._parent;n._meta.notContext;)n=n._parent;return a.isParentContext?{parent:n._context,how:"setValue"}:{how:"set",parent:n,passOptions:!0,key:e.substr(3)||"."}}var r,i,s=e.lastIndexOf("."),o=e.lastIndexOf("/");s<o?(r=e.substring(0,o),i=e.substring(o+1,e.length)):-1!==s?(r=e.substring(0,s),i=e.substring(s+1,e.length)):(r=".",i=e);var c=this.read(r,t).value;return void 0===c?{error:"Attempting to set a value at "+e+" where "+r+" is undefined."}:!u.isObservableLike(c)&&u.isObservableLike(c[i])?u.isMapLike(c[i])?{parent:c,key:i,how:"updateDeep",warn:'can-view-scope: Merging data into "'+i+'" because its parent is non-observable'}:u.isValueLike(c[i])?{parent:c,key:i,how:"setValue"}:{parent:c,how:"write",key:i,passOptions:!0}:{parent:c,how:"write",key:i,passOptions:!0}},set:function(e,t,n){n=n||{};var a=this.getDataForScopeSet(e,n),r=a.parent;if(a.error)return c.error(a.error);switch(a.warn&&c.warn(a.warn),a.how){case"set":r.set(a.key,t,a.passOptions?n:void 0);break;case"write":y.write(r,a.key,t,n);break;case"setValue":u.setValue("key"in a?r[a.key]:r,t);break;case"setKeyValue":u.setKeyValue(r,a.key,t);break;case"updateDeep":u.updateDeep(r[a.key],t)}},attr:b.ignore(function(e,t,n){return c.warn("can-view-scope::attr is deprecated, please use peek, get or set"),n=w({isArgument:!0},n),2===arguments.length?this.set(e,t,n):this.get(e,n)}),computeData:function(e,t){return i(this,e,t)},compute:function(e,t){return this.computeData(e,t).compute},cloneFromRef:function(){for(var e,t,n=[],a=this;a;){if((e=a._context)instanceof r){t=a._parent;break}n.unshift(e),a=a._parent}return t?(s(n,function(e){t=t.add(e)}),t):this}});["filename","lineNumber"].forEach(function(t){Object.defineProperty(p.prototype,t,{get:function(){return this.readFromTemplateContext(t).value},set:function(e){this.templateContext[t]=e}})}),l(p.prototype,"templateContext",function(){return this.getTemplateContext()._context}),l(p.prototype,"root",function(){return this.getRoot()}),l(p.prototype,"helpers",function(){return d});["index","key","element","event","viewModel","arguments","helperOptions"].forEach(function(e){Object.defineProperty(p.prototype,e,{get:function(){return this.readFromSpecialContext(e).value}})}),o.view=o.view||{},a.exports=o.view.Scope=p}(0,e,0,n)}),define("can-simple-observable/log",["require","exports","module","can-log/dev/dev","can-reflect"],function(e,t,n){var a=e("can-log/dev/dev"),r=e("can-reflect");function i(e){return"string"==typeof e?JSON.stringify(e):e}n.exports=function(){this._log=function(e,t){a.log(r.getName(this),"\n is  ",i(t),"\n was ",i(e))}}}),define("can-simple-observable",["require","exports","module","can-simple-observable/log","can-namespace","can-symbol","can-reflect","can-observation-recorder","can-event-queue/value/value"],function(e,t,n){var a=e("can-simple-observable/log"),r=e("can-namespace"),i=e("can-symbol"),s=e("can-reflect"),o=e("can-observation-recorder"),c=e("can-event-queue/value/value"),u=i.for("can.dispatch");function l(e){this.value=e}c(l.prototype),Object.assign(l.prototype,{log:a,get:function(){return o.add(this),this.value},set:function(e){var t=this.value;this.value=e,this[u](e,t)}}),s.assignSymbols(l.prototype,{"can.getValue":l.prototype.get,"can.setValue":l.prototype.set,"can.isMapLike":!1,"can.valueHasDependencies":function(){return!0},"can.getName":function(){var e=this.value;return e="object"!=typeof e||null===e?JSON.stringify(e):"",s.getName(this.constructor)+"<"+e+">"}}),n.exports=r.SimpleObservable=l}),define("can-simple-observable/settable/settable",["require","exports","module","can-reflect","can-observation-recorder","can-simple-observable","can-observation","can-queues","can-simple-observable/log","can-event-queue/value/value"],function(e,t,n){var r=e("can-reflect"),a=e("can-observation-recorder"),i=e("can-simple-observable"),s=e("can-observation"),o=e("can-queues"),c=e("can-simple-observable/log"),u=e("can-event-queue/value/value"),l=a.ignore(r.getValue.bind(r));function d(e,t,n){function a(){return e.call(t,this.lastSetValue.get())}this.lastSetValue=new i(n),this.handler=this.handler.bind(this),r.assignSymbols(this,{"can.getName":function(){return r.getName(this.constructor)+"<"+r.getName(e)+">"}}),Object.defineProperty(this.handler,"name",{value:r.getName(this)+".handler"}),Object.defineProperty(a,"name",{value:r.getName(e)+"::"+r.getName(this.constructor)}),this.observation=new s(a,this)}u(d.prototype),Object.assign(d.prototype,{log:c,constructor:d,handler:function(e){var t=this.value;this.value=e,"function"==typeof this._log&&this._log(t,e),o.enqueueByQueue(this.handlers.getNode([]),this,[e,t],function(){return{}})},onBound:function(){this.bound=!0,r.onValue(this.observation,this.handler,"notify"),this.value=l(this.observation)},onUnbound:function(){this.bound=!1,r.offValue(this.observation,this.handler,"notify")},set:function(e){var t=this.lastSetValue.get();r.isObservableLike(t)&&r.isValueLike(t)&&!r.isObservableLike(e)?r.setValue(t,e):e!==t&&this.lastSetValue.set(e)},get:function(){return a.isRecording()&&(a.add(this),this.bound||s.temporarilyBind(this)),!0===this.bound?this.value:this.observation.get()},hasDependencies:function(){return r.valueHasDependencies(this.observation)},getValueDependencies:function(){return r.getValueDependencies(this.observation)}}),r.assignSymbols(d.prototype,{"can.getValue":d.prototype.get,"can.setValue":d.prototype.set,"can.isMapLike":!1,"can.getPriority":function(){return r.getPriority(this.observation)},"can.setPriority":function(e){r.setPriority(this.observation,e)},"can.valueHasDependencies":d.prototype.hasDependencies,"can.getValueDependencies":d.prototype.getValueDependencies}),n.exports=d}),define("can-stache/src/key-observable",["require","exports","module","can-simple-observable/settable/settable","can-stache-key"],function(e,t,n){var a=e("can-simple-observable/settable/settable"),r=e("can-stache-key");function i(e,t){t=""+t,this.key=t,this.root=e,a.call(this,function(){return r.get(this,t)},e)}(i.prototype=Object.create(a.prototype)).set=function(e){r.set(this.root,this.key,e)},n.exports=i}),define("can-util/js/is-empty-object/is-empty-object",function(e,t,n){"use strict";n.exports=function(e){for(var t in e)return!1;return!0}}),define("can-stache/src/utils",["require","exports","module","can-view-scope","can-observation-recorder","can-stache-key","can-reflect","can-stache/src/key-observable","can-util/js/is-empty-object/is-empty-object","can-util/js/is-array-like/is-array-like"],function(e,t,n){var u=e("can-view-scope"),a=e("can-observation-recorder"),d=e("can-stache-key"),p=e("can-reflect"),f=e("can-stache/src/key-observable"),h=e("can-util/js/is-empty-object/is-empty-object"),r=e("can-util/js/is-array-like/is-array-like"),s=function(e){return function(){e&&(e.rendered=!0)}};n.exports={isArrayLike:r,emptyHandler:function(){},jsonParse:function(e){return"'"===e[0]?e.substr(1,e.length-2):"undefined"===e?void 0:JSON.parse(e)},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(e){this.last().add(e)},subSectionDepth:function(){return this.stack.length-1}},createRenderers:function(e,t,n,a,r,i){e.fn=a?this.makeRendererConvertScopes(a,t,n,i,e.metadata):s(e.metadata),e.inverse=r?this.makeRendererConvertScopes(r,t,n,i,e.metadata):s(e.metadata),e.isSection=!(!a&&!r)},makeRendererConvertScopes:function(i,s,o,e,c){var t=function(e,t,n){var a,r;return void 0===e||e instanceof u||(e=s?s.add(e):new u(e||{})),a=e,r=n||o,c&&(c.rendered=!0),i(a||s,r)};return e?t:a.ignore(t)},getItemsStringContent:function(e,t,n){for(var a="",r=d.get(e,"length"),i=p.isObservableLike(e),s=0;s<r;s++){var o=i?new f(e,s):e[s];a+=n.fn(o)}return a},getItemsFragContent:function(e,t,n){var a,r=[],i=d.get(e,"length"),s=p.isObservableLike(e),o=t.exprData&&t.exprData.hashExprs;h(o)||(a={},p.eachKey(o,function(e,t){a[e.key]=t}));for(var c=0;c<i;c++){var u={},l=s?new f(e,c):e[c];h(a)||(a.value&&(u[a.value]=l),a.index&&(u[a.index]=c)),r.push(t.fn(n.add(u,{notContext:!0}).add({index:c},{special:!0}).add(l)))}return r}}}),define("can-util/js/last/last",function(e,t,n){"use strict";n.exports=function(e){return e&&e[e.length-1]}}),define("can-stache/src/html_section",["require","exports","module","can-view-target","can-view-scope","can-observation-recorder","can-reflect","can-stache/src/utils","can-globals/document/document","can-assign","can-util/js/last/last"],function(e,t,n){!function(e,t,n,a){var r,i=t("can-view-target"),s=t("can-view-scope"),o=t("can-observation-recorder"),c=t("can-reflect"),u=t("can-stache/src/utils"),l=t("can-globals/document/document"),d=t("can-assign"),p=t("can-util/js/last/last"),f="undefined"!=typeof document&&(r=l().createElement("div"),function(e){return-1===e.indexOf("&")?e.replace(/\r\n/g,"\n"):(r.innerHTML=e,0===r.childNodes.length?"":r.childNodes.item(0).nodeValue)}),h=function(e){e&&(this.filename=e),this.stack=[new v]};h.scopify=function(r){return o.ignore(function(e,t,n){e instanceof s||(e=new s(e||{})),void 0===n&&c.isListLike(t)&&(n=t,t=void 0),!t||t.helpers||t.partials||t.tags||(t={helpers:t}),c.eachKey(t&&t.helpers,function(e){e.requiresOptionsArgument=!0});var a=e.templateContext;return c.eachKey(t,function(e,t){var n=a[t];n&&c.eachKey(e,function(e,t){c.setKeyValue(n,t,e)})}),r(e,n)})},d(h.prototype,u.mixins),d(h.prototype,{startSubSection:function(e){var t=new v(e);return this.stack.push(t),t},endSubSectionAndReturnRenderer:function(){if(this.last().isEmpty())return this.stack.pop(),null;var e=this.endSection();return e.compiled.hydrate.bind(e.compiled)},startSection:function(e){var t=new v(e);this.last().add(t.targetCallback),this.stack.push(t)},endSection:function(){return this.last().compile(),this.stack.pop()},inverse:function(){this.last().inverse()},compile:function(){var n=this.stack.pop().compile();return o.ignore(function(e,t){return e instanceof s||(e=new s(e||{})),n.hydrate(e,t)})},push:function(e){this.last().push(e)},pop:function(){return this.last().pop()},removeCurrentNode:function(){this.last().removeCurrentNode()}});var v=function(n){this.data="targetData",this.targetData=[],this.targetStack=[];var a=this;this.targetCallback=function(e,t){n.call(this,e,t,a.compiled.hydrate.bind(a.compiled),a.inverseCompiled&&a.inverseCompiled.hydrate.bind(a.inverseCompiled))}};d(v.prototype,{inverse:function(){this.inverseData=[],this.data="inverseData"},push:function(e){this.add(e),this.targetStack.push(e)},pop:function(){return this.targetStack.pop()},add:function(e){"string"==typeof e&&(e=f(e)),this.targetStack.length?p(this.targetStack).children.push(e):this[this.data].push(e)},compile:function(){return this.compiled=i(this.targetData,l()),this.inverseData&&(this.inverseCompiled=i(this.inverseData,l()),delete this.inverseData),this.targetStack=this.targetData=null,this.compiled},removeCurrentNode:function(){return this.children().pop()},children:function(){return this.targetStack.length?p(this.targetStack).children:this[this.data]},isEmpty:function(){return!this.targetData.length}}),h.HTMLSection=v,a.exports=h}(0,e,0,n)}),define("can-view-live/lib/core",["require","exports","module","can-view-parser","can-dom-mutate","can-view-nodelist","can-util/dom/frag/frag","can-util/dom/child-nodes/child-nodes","can-reflect","can-reflect-dependencies"],function(e,t,n){var a=e("can-view-parser"),o=e("can-dom-mutate"),i=e("can-view-nodelist"),s=e("can-util/dom/frag/frag"),c=e("can-util/dom/child-nodes/child-nodes"),u=e("can-reflect"),l=e("can-reflect-dependencies"),d={setup:function(e,t,n){var a,r,i=!1,s=function(){return i||(i=!0,n(r),a&&(a(),a=void 0)),!0};return r={teardownCheck:function(e){return!e&&s()}},a=o.onNodeRemoval(e,function(){e.ownerDocument.contains(e)||s()}),t(r),r},listen:function(t,n,a,r){return d.setup(t,function(){u.onValue(n,a,r||"notify"),l.addMutatedBy(t,n)},function(e){u.offValue(n,a,r||"notify"),l.deleteMutatedBy(t,n),e.nodeList&&i.unregister(e.nodeList)})},getAttributeParts:function(e){var t,n={};return a.parseAttrs(e,{attrStart:function(e){n[e]="",t=e},attrValue:function(e){n[t]+=e},attrEnd:function(){}}),n},isNode:function(e){return e&&e.nodeType},addTextNodeIfNoChildren:function(e){e.firstChild||e.appendChild(e.ownerDocument.createTextNode(""))},replace:function(e,t,n){var a=e.slice(0),r=s(t);return i.register(e,n),i.update(e,c(r)),i.replace(a,r),e},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},makeString:function(e){return null==e?"":""+e}};n.exports=d}),define("can-dom-data-state",["require","exports","module","can-namespace","can-dom-mutate","can-cid"],function(e,t,n){"use strict";var a=e("can-namespace"),i=e("can-dom-mutate"),s=e("can-cid"),o={},c={},u=function(){var e=s.get(this),t=!1;return e&&o[e]&&(t=!0,delete o[e]),c[e]&&(c[e](),delete c[e]),t},r={_data:o,_removalDisposalMap:c,getCid:function(){return s.get(this)},cid:function(){return s(this)},expando:s.domExpando,get:function(e){var t=s.get(this),n=t&&o[t];return void 0===e?n:n&&n[e]},set:function(e,t){var n=s(this),a=o[n]||(o[n]={});if(void 0!==e&&(a[e]=t,this&&"number"==typeof this.nodeType&&!c[n])){var r=this;c[n]=i.onNodeRemoval(r,function(){r.ownerDocument.contains(r)||setTimeout(function(){u()},13)})}return a},clean:function(e){var t=s.get(this),n=o[t];n&&n[e]&&delete n[e],function(e){for(var t in e)return!1;return!0}(n)&&u.call(this)},delete:u};if(a.domDataState)throw new Error("You can't have two versions of can-dom-data-state, check your dependencies");n.exports=a.domDataState=r}),define("can-types",["require","exports","module","can-namespace","can-reflect","can-symbol","can-log/dev/dev"],function(e,t,n){var a=e("can-namespace"),r=e("can-reflect"),i=e("can-symbol"),s=e("can-log/dev/dev"),o={isMapLike:function(e){return s.warn("can-types.isMapLike(obj) is deprecated, please use `canReflect.isObservableLike(obj) && canReflect.isMapLike(obj)` instead."),r.isObservableLike(e)&&r.isMapLike(e)},isListLike:function(e){return s.warn("can-types.isListLike(obj) is deprecated, please use `canReflect.isObservableLike(obj) && canReflect.isListLike(obj)` instead."),r.isObservableLike(e)&&r.isListLike(e)},isPromise:function(e){return s.warn("can-types.isPromise is deprecated, please use canReflect.isPromise instead."),r.isPromise(e)},isConstructor:function(e){return s.warn("can-types.isConstructor is deprecated, please use canReflect.isConstructorLike instead."),r.isConstructorLike(e)},isCallableForValue:function(e){return s.warn("can-types.isCallableForValue(obj) is deprecated, please use `canReflect.isFunctionLike(obj) && !canReflect.isConstructorLike(obj)` instead."),e&&r.isFunctionLike(e)&&!r.isConstructorLike(e)},isCompute:function(e){return s.warn("can-types.isCompute is deprecated."),e&&e.isComputed},get iterator(){return s.warn('can-types.iterator is deprecated, use `canSymbol.iterator || canSymbol.for("iterator")` instead.'),i.iterator||i.for("iterator")},DefaultMap:null,DefaultList:null,queueTask:function(e){var t=e[2]||[];e[0].apply(e[1],t)},wrapElement:function(e){return e},unwrapElement:function(e){return e}};if(a.types)throw new Error("You can't have two versions of can-types, check your dependencies");n.exports=a.types=o}),define("can-util/js/diff/diff",function(e,t,n){"use strict";var l=[].slice,d=function(e,t){return e===t};function p(e,t,n,a,r){for(var i=n.length-1,s=a.length-1;e<i&&t<s;){if(!r(n[i],a[s]))return[{index:t,deleteCount:i-e+1,insert:l.call(a,t,s+1)}];i--,s--}return[{index:t,deleteCount:i-e+1,insert:l.call(a,t,s+1)}]}n.exports=function(e,t,n){n=n||d;for(var a=0,r=0,i=e.length,s=t.length,o=[];a<i&&r<s;){var c=e[a],u=t[r];if(n(c,u))a++,r++;else if(r+1<s&&n(c,t[r+1]))o.push({index:r,deleteCount:0,insert:[t[r]]}),a++,r+=2;else{if(!(a+1<i&&n(e[a+1],u)))return o.push.apply(o,p(a,r,e,t,n)),o;o.push({index:r,deleteCount:1,insert:[]}),a+=2,r++}}return r===s&&a===i||o.push({index:r,deleteCount:i-a,insert:l.call(t,r)}),o}}),define("can-attribute-observable/behaviors",["require","exports","module","can-globals/document/document","can-globals/global/global","can-dom-data-state","can-dom-events","can-dom-mutate","can-dom-mutate/node","can-globals/mutation-observer/mutation-observer","can-util/js/each/each","can-types","can-util/js/diff/diff"],function(e,t,n){!function(e,t,n,a){"use strict";var r,i=t("can-globals/document/document"),d=(e=t("can-globals/global/global")(),t("can-dom-data-state")),p=t("can-dom-events"),s=t("can-dom-mutate"),o=t("can-dom-mutate/node"),c=t("can-globals/mutation-observer/mutation-observer"),u=t("can-util/js/each/each"),l=t("can-types"),f=t("can-util/js/diff/diff"),h={INPUT:!0,TEXTAREA:!0,SELECT:!0},v=function(e){return"http://www.w3.org/2000/svg"===e.namespaceURI},g=function(){return!0},m=function(e){return e&&e.test||g},y=function(t,e){return(e=e||{}).get=function(){return this[t]},e.set=function(e){return this[t]!==e&&(this[t]=e),e},e},b=function(t){return{isBoolean:!0,set:function(e){t in this?this[t]=!1!==e:o.setAttribute.call(this,t,"")},remove:function(){this[t]=!1}}},w=function(e,t){if(!d.get.call(e,"attrMO")){var n=function(){t.call(e)},a=c();if(a){var r=new a(n);r.observe(e,{childList:!0,subtree:!0}),d.set.call(e,"attrMO",r)}else d.set.call(e,"attrMO",!0),d.set.call(e,"canBindingCallback",{onMutation:n})}},x=function(e,t){for(var n=e.firstChild;n;){if("OPTION"===n.nodeName&&t===n.value)return n;if("OPTGROUP"===n.nodeName){var a=x(n,t);if(a)return a}n=n.nextSibling}},k=function(e,t){var n;null!=t&&(n=x(e,t)),n?n.selected=!0:e.selectedIndex=-1},L=function(e,t){for(var n=e.firstChild;n;)"OPTION"===n.nodeName&&t(n),"OPTGROUP"===n.nodeName&&L(n,t),n=n.nextSibling},j={checked:{get:function(){return this.checked},set:function(e){var t=!!e||""===e||0===arguments.length;return(this.checked=t)&&"radio"===this.type&&(this.defaultChecked=!0),e},remove:function(){this.checked=!1},test:function(){return"INPUT"===this.nodeName}},class:{get:function(){return v(this)?this.getAttribute("class"):this.className},set:function(e){return e=e||"",v(this)?o.setAttribute.call(this,"class",""+e):this.className=e,e}},disabled:b("disabled"),focused:{get:function(){return this===document.activeElement},set:function(e){var t=D.get(this,"focused"),n=this.ownerDocument.documentElement,a=this;function r(){e?a.focus():a.blur()}if(t!==e)if(n.contains(a))l.queueTask([r,this,[]]);else var i=s.onNodeInsertion(a,function(){i(),r()});return!!e},addEventListener:function(e,t,n){return n.call(this,"focus",t),n.call(this,"blur",t),function(e){e.call(this,"focus",t),e.call(this,"blur",t)}},test:function(){return"INPUT"===this.nodeName}},for:y("htmlFor"),innertext:y("innerText"),innerhtml:y("innerHTML"),innerHTML:y("innerHTML",{addEventListener:function(e,n,t){var a=[],r=this;return u(["change","blur"],function(e){var t=function(){n.apply(this,arguments)};p.addEventListener(r,e,t),a.push([e,t])}),function(t){u(a,function(e){t.call(r,e[0],e[1])})}}}),required:b("required"),readonly:b("readOnly"),selected:{get:function(){return this.selected},set:function(e){return e=!!e,d.set.call(this,"lastSetValue",e),this.selected=e},addEventListener:function(n,t,e){var a,r,i,s=this,o=this.parentNode,c=s.selected,u=function(e){var t=s.selected;t!==(c=d.get.call(s,"lastSetValue")||c)&&(c=t,p.dispatch(s,n))},l=(a=o,r=e,(i=d.get.call(a,"attrSetChildOptions"))?Function.prototype:(i=function(){k(a,a.value)},d.set.call(a,"attrSetChildOptions",i),r.call(a,"change",i),function(e){d.clean.call(a,"attrSetChildOptions"),e.call(a,"change",i)}));return p.addEventListener(o,"change",u),e.call(s,n,t),function(e){l(e),p.removeEventListener(o,"change",u),e.call(s,n,t)}},test:function(){return"OPTION"===this.nodeName&&this.parentNode&&"SELECT"===this.parentNode.nodeName}},style:{set:(r=e.document&&i().createElement("div"),r&&r.style&&"cssText"in r.style?function(e){return this.style.cssText=e||""}:function(e){return o.setAttribute.call(this,"style",e)})},textcontent:y("textContent"),value:{get:function(){var e=this.value;return"SELECT"===this.nodeName&&"selectedIndex"in this&&-1===this.selectedIndex&&(e=void 0),e},set:function(e){var t,n=this.nodeName.toLowerCase();if("input"===n&&(e=null==(t=e)?"":""+t),this.value===e&&"option"!==n||(this.value=e),"input"!==n&&"textarea"!==n||(this.defaultValue=e),"select"===n){if(d.set.call(this,"attrValueLastVal",e),k(this,null===e?e:this.value),!this.ownerDocument.documentElement.contains(this))var a=this,r=s.onNodeInsertion(a,function(){r(),k(a,null===e?e:a.value)});w(this,function(){var e=d.get.call(this,"attrValueLastVal");D.set(this,"value",e),p.dispatch(this,"change")})}return e},test:function(){return h[this.nodeName]}},values:{get:function(){return t=[],L(this,function(e){e.selected&&t.push(e.value)}),t;var t},set:function(e){var t;return t=e=e||[],L(this,function(e){e.selected=-1!==t.indexOf(e.value)}),d.set.call(this,"stickyValues",D.get(this,"values")),w(this,function(){var e=d.get.call(this,"stickyValues");D.set(this,"values",e);var t=d.get.call(this,"stickyValues");f(e.slice().sort(),t.slice().sort()).length&&p.dispatch(this,"values")}),e},addEventListener:function(t,n,e){var a=function(){p.dispatch(this,"values")};return p.addEventListener(this,"change",a),e.call(this,t,n),function(e){p.removeEventListener(this,"change",a),e.call(this,t,n)}}}},D={findSpecialListener:function(e){return j[e]&&j[e].addEventListener},setAttrOrProp:function(e,t,n){t=t.toLowerCase();var a=j[t];a&&a.isBoolean&&!n?this.remove(e,t):this.set(e,t,n)},set:function(e,t,n){t=t.toLowerCase();var a=j[t],r=a&&a.set,i=m(a);"function"==typeof r&&i.call(e)?2===arguments.length?r.call(e):r.call(e,n):o.setAttribute.call(e,t,n)},get:function(e,t){t=t.toLowerCase();var n=j[t],a=n&&n.get,r=m(n);return"function"==typeof a&&r.call(e)?a.call(e):e.getAttribute(t)},remove:function(e,t){t=t.toLowerCase();var n=j[t],a=n&&n.set,r=n&&n.remove,i=m(n);"function"==typeof r&&i.call(e)?r.call(e):"function"==typeof a&&i.call(e)?a.call(e,void 0):o.removeAttribute.call(e,t)}};a.exports=D}(function(){return this}(),e,0,n)}),define("can-view-live/lib/attr",["require","exports","module","can-view-live/lib/core","can-reflect","can-queues","can-attribute-observable/behaviors"],function(e,t,n){var r=e("can-view-live/lib/core"),i=e("can-reflect"),s=e("can-queues"),o=e("can-attribute-observable/behaviors");r.attr=function(t,n,e){function a(e){s.domUIQueue.enqueue(o.setAttrOrProp,o,[t,n,e])}Object.defineProperty(a,"name",{value:"live.attr update::"+i.getName(e)}),r.listen(t,e,a),o.setAttrOrProp(t,n,i.getValue(e))}}),define("can-view-live/lib/attrs",["require","exports","module","can-view-live/lib/core","can-view-callbacks","can-dom-mutate","can-dom-mutate/node","can-reflect","can-reflect-dependencies"],function(e,t,n){var u=e("can-view-live/lib/core"),l=e("can-view-callbacks"),d=e("can-dom-mutate"),p=e("can-dom-mutate/node"),f=e("can-reflect"),h=e("can-reflect-dependencies");u.attrs=function(i,e,s,o){if(f.isObservableLike(e)){var t,c={};Object.defineProperty(r,"name",{value:"live.attrs update::"+f.getName(e)}),h.addMutatedBy(i,e),f.onValue(e,r,"domUI");t=d.onNodeRemoval(i,function(){i.ownerDocument.contains(i)||(f.offValue(e,r,"domUI"),t&&(t(),t=void 0),h.deleteMutatedBy(i,e))}),r(f.getValue(e))}else{var n=u.getAttributeParts(e);for(var a in n)p.setAttribute.call(i,a,n[a])}function r(e){var t,n=u.getAttributeParts(e);for(t in n){var a=n[t];if(a!==c[t]){p.setAttribute.call(i,t,a);var r=l.attr(t);r&&r(i,{attributeName:t,scope:s,options:o})}delete c[t]}for(t in c)p.removeAttribute.call(i,t);c=n}}}),define("can-view-live/lib/html",["require","exports","module","can-view-live/lib/core","can-view-nodelist","can-util/dom/frag/frag","can-util/js/make-array/make-array","can-util/dom/child-nodes/child-nodes","can-reflect","can-queues"],function(e,t,n){var u=e("can-view-live/lib/core"),l=e("can-view-nodelist"),d=e("can-util/dom/frag/frag"),p=e("can-util/js/make-array/make-array"),f=e("can-util/dom/child-nodes/child-nodes"),h=e("can-reflect"),v=e("can-queues");u.html=function(e,t,n,a){var r,i,s,o={reasonLog:"live.html replace::"+h.getName(t)};function c(e){l.first(s).parentNode&&i(e,!0);var t=l.first(s).parentNode;r.teardownCheck(t)}n=u.getParentNode(e,n),Object.defineProperty(c,"name",{value:"live.html update::"+h.getName(t)}),r=u.listen(n,t,c),s=a||[e],i=function(e,t){var n="function"==typeof e,a=d(n?"":e),r=p(s);u.addTextNodeIfNoChildren(a),r=l.update(s,f(a)),n&&e(a.firstChild),!0===t?v.domUIQueue.enqueue(l.replace,l,[r,a],o):l.replace(r,a)},r.nodeList=s,a?a.unregistered=r.teardownCheck:l.register(s,r.teardownCheck),i(h.getValue(t))}}),define("can-view-live/lib/set-observable",["require","exports","module","can-simple-observable","can-reflect"],function(e,t,n){var a=e("can-simple-observable"),r=e("can-reflect");function i(e,t){this.setter=t,a.call(this,e)}((i.prototype=Object.create(a.prototype)).constructor=i).prototype.set=function(e){this.setter(e)},r.assignSymbols(i.prototype,{"can.setValue":i.prototype.set}),n.exports=i}),define("can-view-live/lib/patcher",["require","exports","module","can-reflect","can-key-tree","can-symbol","can-util/js/diff/diff","can-queues","can-symbol"],function(e,t,n){var a=e("can-reflect"),r=e("can-key-tree"),i=e("can-symbol"),s=e("can-util/js/diff/diff"),o=e("can-queues"),c=(i=e("can-symbol")).for("can.onValue"),u=i.for("can.offValue"),l=i.for("can.onPatches"),d=i.for("can.offPatches"),p=function(e,t){this.handlers=new r([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),this.observableOrList=e,this.isObservableValue=a.isValueLike(this.observableOrList)||a.isObservableLike(this.observableOrList),this.isObservableValue?this.priority=a.getPriority(e):this.priority=t||0,this.onList=this.onList.bind(this),this.onPatchesNotify=this.onPatchesNotify.bind(this),this.onPatchesDerive=this.onPatchesDerive.bind(this),this.patches=[],Object.defineProperty(this.onList,"name",{value:"live.list new list::"+a.getName(e)}),Object.defineProperty(this.onPatchesNotify,"name",{value:"live.list notify::"+a.getName(e)}),Object.defineProperty(this.onPatchesDerive,"name",{value:"live.list derive::"+a.getName(e)})};p.prototype={constructor:p,setup:function(){this.observableOrList[c]?(a.onValue(this.observableOrList,this.onList,"notify"),this.setupList(a.getValue(this.observableOrList))):this.setupList(this.observableOrList)},teardown:function(){this.observableOrList[u]&&a.offValue(this.observableOrList,this.onList,"notify")},setupList:function(e){(this.currentList=e)&&e[l]&&e[l](this.onPatchesNotify,"notify")},onList:function(e){var t=this.currentList||[];e=e||[],t[d]&&t[d](this.onPatchesNotify,"notify");var n=s(t,e);this.currentList=e,this.onPatchesNotify(n),e[l]&&e[l](this.onPatchesNotify,"notify")},onPatchesNotify:function(e){this.patches.push.apply(this.patches,e),o.deriveQueue.enqueue(this.onPatchesDerive,this,[],{priority:this.priority})},onPatchesDerive:function(){var e=this.patches;this.patches=[],o.enqueueByQueue(this.handlers.getNode([]),this.currentList,[e,this.currentList],null,["Apply patches",e])}},a.assignSymbols(p.prototype,{"can.onPatches":function(e,t){this.handlers.add([t||"mutate",e])},"can.offPatches":function(e,t){this.handlers.delete([t||"mutate",e])}}),n.exports=p}),define("can-view-live/lib/list",["require","exports","module","can-view-live/lib/core","can-view-nodelist","can-util/dom/frag/frag","can-util/dom/child-nodes/child-nodes","can-dom-mutate/node","can-util/js/make-array/make-array","can-util/js/each/each","can-symbol","can-reflect","can-reflect-dependencies","can-simple-observable","can-view-live/lib/set-observable","can-view-live/lib/patcher"],function(e,t,n){var c=e("can-view-live/lib/core"),f=e("can-view-nodelist"),d=e("can-util/dom/frag/frag"),u=e("can-util/dom/child-nodes/child-nodes"),h=e("can-dom-mutate/node"),l=e("can-util/js/make-array/make-array"),v=e("can-util/js/each/each"),a=e("can-symbol"),g=e("can-reflect"),r=e("can-reflect-dependencies"),m=e("can-simple-observable"),y=e("can-view-live/lib/set-observable"),p=e("can-view-live/lib/patcher"),b=[].splice,w=function(e,t,n,a,r){var i=[];t&&(f.register(i,null,!0,!0),i.parentList=t,i.expression="#each SUBEXPRESSION");var s=n.apply(a,r.concat([i])),o=d(s),c=l(u(o));return t?(f.update(i,c),e.push(i)):e.push(f.register(c)),o},x=function(e,t,n){var a=e.splice(t+1,n),r=[];return v(a,function(e){var t=f.unregister(e);[].push.apply(r,t)}),r},i=a.for("can.onPatches"),s=a.for("can.offPatches");function k(e,t,n,a,r,i,s){this.patcher=new p(t),r=c.getParentNode(e,r),this.value=t,this.render=n,this.context=a,this.parentNode=r,this.falseyRender=s,this.masterNodeList=i||f.register([e],null,!0),this.placeholder=e,this.indexMap=[],this.isValueLike=g.isValueLike(this.value),this.isObservableLike=g.isObservableLike(this.value),this.onPatches=this.onPatches.bind(this);var o=this.data=c.setup(r,this.setupValueBinding.bind(this),this.teardownValueBinding.bind(this));this.masterNodeList.unregistered=function(){o.teardownCheck()},Object.defineProperty(this.onPatches,"name",{value:"live.list update::"+g.getName(t)})}i=a.for("can.onPatches"),s=a.for("can.offPatches");k.prototype={setupValueBinding:function(){this.patcher[i](this.onPatches,"domUI"),this.patcher.currentList&&this.patcher.currentList.length?this.onPatches([{insert:this.patcher.currentList,index:0,deleteCount:0}]):this.addFalseyIfEmpty(),r.addMutatedBy(this.parentNode,this.patcher.observableOrList)},teardownValueBinding:function(){this.patcher[s](this.onPatches,"domUI"),this.exit=!0,this.remove({length:this.patcher.currentList.length},0,!0),r.deleteMutatedBy(this.parentNode,this.patcher.observableOrList)},onPatches:function(e){if(!this.exit)for(var t=0,n=e.length;t<n;t++){var a=e[t];"move"===a.type?this.move(a.toIndex,a.fromIndex):(a.deleteCount&&this.remove({length:a.deleteCount},a.index,!0),a.insert&&a.insert.length&&this.add(a.insert,a.index))}},add:function(e,i){var s=this.placeholder.ownerDocument.createDocumentFragment(),o=[],c=[],u=this.masterNodeList,l=this.render,d=this.context;v(e,function(e,t){var n=new m(t+i),a=new y(e,function(e){g.setKeyValue(this.patcher.currentList,n.get(),e)}.bind(this)),r=w(o,u,l,d,[a,n]);s.appendChild(r),c.push(n)},this);var t=i+1;if(!this.indexMap.length){var n=x(u,0,u.length-1);f.remove(n)}if(u[t]){var a=f.first(u[t]);h.insertBefore.call(a.parentNode,s,a)}else f.after(1===t?[this.placeholder]:[f.last(this.masterNodeList[t-1])],s);b.apply(this.masterNodeList,[t,0].concat(o)),b.apply(this.indexMap,[i,0].concat(c));for(var r=i+c.length,p=this.indexMap.length;r<p;r++)this.indexMap[r].set(r)},remove:function(e,t){t<0&&(t=this.indexMap.length+t);var n=x(this.masterNodeList,t,e.length),a=this.indexMap;a.splice(t,e.length);for(var r=t,i=a.length;r<i;r++)a[r].set(r);this.exit?f.unregister(this.masterNodeList):(this.addFalseyIfEmpty(),f.remove(n))},addFalseyIfEmpty:function(){if(this.falseyRender&&0===this.indexMap.length){var e=[],t=w(e,this.masterNodeList,this.falseyRender,this.currentList,[this.currentList]);f.after([this.masterNodeList[0]],t),this.masterNodeList.push(e[0])}},move:function(e,t){e+=1,t+=1;var n,a=this.masterNodeList,r=this.indexMap,i=a[e],s=d(f.flatten(a[t]));n=t<e?f.last(i).nextSibling:f.first(i),a[0].parentNode.insertBefore(s,n);var o=a[t];[].splice.apply(a,[t,1]),[].splice.apply(a,[e,0,o]),e-=1;var c=r[t-=1];[].splice.apply(r,[t,1]),[].splice.apply(r,[e,0,c]);for(var u=Math.min(t,e),l=r.length;u<l;u++)r[u].set(u)},set:function(e,t){this.remove({length:1},t,!0),this.add([e],t)}},c.list=function(e,t,n,a,r,i,s){var o;e.nodeType!==Node.TEXT_NODE&&(i?(o=document.createTextNode(""),f.replace(i,o),f.update(i,[o])):(o=document.createTextNode(""),e.parentNode.replaceChild(o,e)),e=o);new k(e,t,n,a,r,i,s)}}),define("can-view-live/lib/text",["require","exports","module","can-view-live/lib/core","can-view-nodelist","can-reflect"],function(e,t,n){var c=e("can-view-live/lib/core"),u=e("can-view-nodelist"),l=e("can-reflect");c.text=function(t,e,n,a){var r;t.nodeType!==Node.TEXT_NODE&&(a?(r=document.createTextNode(""),u.replace(a,r),u.update(a,[r])):(r=document.createTextNode(""),t.parentNode.replaceChild(r,t)),t=r);var i=c.getParentNode(t,n);function s(e){t.nodeValue=c.makeString(e)}t.nodeValue=c.makeString(l.getValue(e)),Object.defineProperty(s,"name",{value:"live.text update::"+l.getName(e)});var o=c.listen(i,e,s,"domUI");a||(a=u.register([t],null,!0)),a.unregistered=o.teardownCheck,o.nodeList=a}}),define("can-view-live",["require","exports","module","can-view-live/lib/core","can-view-live/lib/attr","can-view-live/lib/attrs","can-view-live/lib/html","can-view-live/lib/list","can-view-live/lib/text"],function(e,t,n){var a=e("can-view-live/lib/core");e("can-view-live/lib/attr"),e("can-view-live/lib/attrs"),e("can-view-live/lib/html"),e("can-view-live/lib/list"),e("can-view-live/lib/text"),n.exports=a}),define("can-stache/src/text_section",["require","exports","module","can-view-live","can-stache/src/utils","can-dom-mutate/node","can-assign","can-reflect","can-observation"],function(e,t,n){var s=e("can-view-live"),a=e("can-stache/src/utils"),o=e("can-dom-mutate/node"),r=e("can-assign"),c=e("can-reflect"),u=e("can-observation"),l=function(){},i=function(){this.stack=[new p]};r(i.prototype,a.mixins),r(i.prototype,{startSection:function(e){var t=new p;this.last().add({process:e,truthy:t}),this.stack.push(t)},endSection:function(){this.stack.pop()},inverse:function(){this.stack.pop();var e=new p;this.last().last().falsey=e,this.stack.push(e)},compile:function(r){var i=this.stack[0].compile();return Object.defineProperty(i,"name",{value:"textSectionRenderer<"+r.tag+"."+r.attr+">"}),function(e){function t(){return i(e)}Object.defineProperty(t,"name",{value:"textSectionRender<"+r.tag+"."+r.attr+">"});var n=new u(t,null,{isObservable:!1});c.onValue(n,l);var a=c.getValue(n);c.valueHasDependencies(n)?(r.textContentOnly?s.text(this,n):r.attr?s.attr(this,r.attr,n):s.attrs(this,n,e),c.offValue(n,l)):r.textContentOnly?this.nodeValue=a:r.attr?o.setAttribute.call(this,r.attr,a):s.attrs(this,a)}}});var d=function(t,n,a){return function(e){return t.call(this,e,n,a)}},p=function(){this.values=[]};r(p.prototype,{add:function(e){this.values.push(e)},last:function(){return this.values[this.values.length-1]},compile:function(){for(var r=this.values,i=r.length,e=0;e<i;e++){var t=this.values[e];"object"==typeof t&&(r[e]=d(t.process,t.truthy&&t.truthy.compile(),t.falsey&&t.falsey.compile()))}return function(e){for(var t,n="",a=0;a<i;a++)n+="string"==typeof(t=r[a])?t:t.call(this,e);return n}}}),n.exports=i}),define("can-stache/expressions/arg",function(e,t,n){var a=function(e,t){this.expr=e,this.modifiers=t||{},this.isCompute=!1};a.prototype.value=function(){return this.expr.value.apply(this.expr,arguments)},a.prototype.sourceText=function(){return(this.modifiers.compute?"~":"")+this.expr.sourceText()},n.exports=a}),define("can-stache/expressions/literal",function(e,t,n){var a=function(e){this._value=e};a.prototype.value=function(){return this._value},a.prototype.sourceText=function(){return JSON.stringify(this._value)},n.exports=a}),define("can-simple-observable/setter/setter",["require","exports","module","can-reflect","can-observation","can-simple-observable/settable/settable","can-event-queue/value/value"],function(e,t,n){var a=e("can-reflect"),r=e("can-observation"),i=e("can-simple-observable/settable/settable");e("can-event-queue/value/value");function s(e,t){this.setter=t,this.observation=new r(e),this.handler=this.handler.bind(this),a.assignSymbols(this,{"can.getName":function(){return a.getName(this.constructor)+"<"+a.getName(e)+">"}}),Object.defineProperty(this.handler,"name",{value:a.getName(this)+".handler"})}((s.prototype=Object.create(i.prototype)).constructor=s).prototype.set=function(e){this.setter(e)},s.prototype.hasDependencies=function(){return a.valueHasDependencies(this.observation)},a.assignSymbols(s.prototype,{"can.setValue":s.prototype.set,"can.valueHasDependencies":s.prototype.hasDependencies}),n.exports=s}),define("can-stache/src/expression-helpers",["require","exports","module","can-stache/expressions/arg","can-stache/expressions/literal","can-reflect","can-stache-key","can-symbol","can-observation","can-view-scope/make-compute-like","can-simple-observable/setter/setter"],function(e,t,n){var a=e("can-stache/expressions/arg"),r=e("can-stache/expressions/literal"),s=e("can-reflect"),o=e("can-stache-key"),i=e("can-symbol"),c=e("can-observation"),u=e("can-view-scope/make-compute-like"),l=e("can-simple-observable/setter/setter");n.exports={getObservableValue_fromKey:function(e,t,n){var a=t.computeData(e,n);return c.temporarilyBind(a),a},computeHasDependencies:function(e){return e[i.for("can.valueHasDependencies")]?s.valueHasDependencies(e):e.computeInstance.hasDependencies},getObservableValue_fromDynamicKey_fromObservable:function(e,t,n,a){var r=function(){return(""+s.getValue(e)).replace(".","\\.")},i=new l(function(){return o.get(s.getValue(t),r())},function(e){o.write(s.getValue(t),o.reads(r()),e)});return c.temporarilyBind(i),i},convertToArgExpression:function(e){return e instanceof a||e instanceof r?e:new a(e)},toComputeOrValue:function(e){return s.isObservableLike(e)?s.isValueLike(e)&&!1===s.valueHasDependencies(e)?s.getValue(e):e.compute?e.compute:u(e):e},toCompute:function(e){return e?e.isComputed?e:e.compute?e.compute:u(e):e}}}),define("can-stache/expressions/hashes",["require","exports","module","can-reflect","can-observation","can-stache/src/expression-helpers"],function(e,t,n){var s=e("can-reflect"),o=e("can-observation"),c=e("can-stache/src/expression-helpers"),a=function(e){this.hashExprs=e};a.prototype.value=function(e,t){var n={};for(var a in this.hashExprs){var r=c.convertToArgExpression(this.hashExprs[a]),i=r.value.apply(r,arguments);n[a]={call:!r.modifiers||!r.modifiers.compute,value:i}}return new o(function(){var e={};for(var t in n)e[t]=n[t].call?s.getValue(n[t].value):c.toComputeOrValue(n[t].value);return e})},a.prototype.sourceText=function(){var n=[];return s.eachKey(this.hashExprs,function(e,t){n.push(t+"="+e.sourceText())}),n.join(" ")},n.exports=a}),define("can-stache/expressions/bracket",["require","exports","module","can-symbol","can-stache/src/expression-helpers"],function(e,t,n){var a=e("can-symbol"),r=e("can-stache/src/expression-helpers"),i=function(e,t,n){this.root=t,this.key=e,this[a.for("can-stache.originalKey")]=n};i.prototype.value=function(e,t){var n=this.root?this.root.value(e,t):e.peek("this");return r.getObservableValue_fromDynamicKey_fromObservable(this.key.value(e,t),n,e,t,{})},i.prototype.sourceText=function(){return this.rootExpr?this.rootExpr.sourceText()+"["+this.key+"]":"["+this.key+"]"},i.prototype.closingTag=function(){return this[a.for("can-stache.originalKey")]||""},n.exports=i}),define("can-stache/src/set-identifier",function(e,t,n){n.exports=function(e){this.value=e}}),define("can-stache/expressions/call",["require","exports","module","can-stache/expressions/hashes","can-stache/src/set-identifier","can-observation","can-symbol","can-simple-observable/setter/setter","can-stache/src/expression-helpers","can-reflect","can-util/js/is-empty-object/is-empty-object","can-assign"],function(e,t,n){var u=e("can-stache/expressions/hashes"),o=e("can-stache/src/set-identifier"),c=e("can-observation"),a=e("can-symbol").for("can-stache.sourceText"),l=e("can-simple-observable/setter/setter"),d=e("can-stache/src/expression-helpers"),p=e("can-reflect"),f=e("can-util/js/is-empty-object/is-empty-object"),h=e("can-assign"),r=function(e,t){this.methodExpr=e,this.argExprs=t.map(d.convertToArgExpression)};r.prototype.args=function(e,t){for(var r={},i=[],n="function"==typeof t,a=0,s=this.argExprs.length;a<s;a++){var o=this.argExprs[a];if(o.expr instanceof u&&h(r,o.expr.hashExprs),!n||!t(a)){var c=o.value.apply(o,arguments);i.push({call:!o.modifiers||!o.modifiers.compute,value:c})}}return function(e){var t=[];f(r)||(t.hashExprs=r);for(var n=0,a=i.length;n<a;n++)t[n]=e?i[n].value:i[n].call?p.getValue(i[n].value):d.toCompute(i[n].value);return t}},r.prototype.value=function(a,r){var i=this,s=this.methodExpr.value(a,{proxyMethods:!1}),e=function(e){var t=p.getValue(s);if("function"==typeof t){var n=i.args(a,t.ignoreArgLookup)(t.isLiveBound);return t.requiresOptionsArgument&&(n.hashExprs&&r&&r.exprData&&(r.exprData.hashExprs=n.hashExprs),n.push(r)),arguments.length&&n.unshift(new o(e)),t.apply(s.thisArg||a.peek("this"),n)}};if(Object.defineProperty(e,"name",{value:"{{"+this.sourceText()+"}}"}),r&&r.doNotWrapInObservation)return e();var t=new l(e,e);return c.temporarilyBind(t),t},r.prototype.sourceText=function(){var e=this.argExprs.map(function(e){return e.sourceText()});return this.methodExpr.sourceText()+"("+e.join(",")+")"},r.prototype.closingTag=function(){return this.methodExpr[a]?this.methodExpr[a]:this.methodExpr.key},n.exports=r}),define("can-stache/expressions/helper",["require","exports","module","can-stache/expressions/literal","can-stache/expressions/hashes","can-assign","can-log/dev/dev","can-util/js/is-empty-object/is-empty-object","can-stache/src/expression-helpers","can-reflect"],function(e,t,n){var o=e("can-stache/expressions/literal"),a=e("can-stache/expressions/hashes"),c=e("can-assign"),u=e("can-log/dev/dev"),r=e("can-util/js/is-empty-object/is-empty-object"),l=e("can-stache/src/expression-helpers"),d=e("can-reflect"),i=function(e,t,n){this.methodExpr=e,this.argExprs=t,this.hashExprs=n,this.mode=null};i.prototype.args=function(e){for(var t=[],n=0,a=this.argExprs.length;n<a;n++){var r=this.argExprs[n];t.push(l.toComputeOrValue(r.value.apply(r,arguments)))}return t},i.prototype.hash=function(e){var t={};for(var n in this.hashExprs){var a=this.hashExprs[n];t[n]=l.toComputeOrValue(a.value.apply(a,arguments))}return t},i.prototype.value=function(n,a){var e=this.methodExpr instanceof o?""+this.methodExpr._value:this.methodExpr.key,r=this,t=l.getObservableValue_fromKey(e,n,{proxyMethods:!1}),i=t&&t.initialValue,s=t&&t.thisArg;return"function"==typeof i?(t=function(){var e=r.args(n),t=c(c({},a),{hash:r.hash(n),exprData:r});return e.push(t),i.apply(s||n.peek("this"),e)},Object.defineProperty(t,"name",{value:d.getName(this)})):u.warn('can-stache/expressions/helper.js: Unable to find helper "'+e+'".'),t},i.prototype.closingTag=function(){return this.methodExpr.key},i.prototype.sourceText=function(){var e=[this.methodExpr.sourceText()];return this.argExprs.length&&e.push(this.argExprs.map(function(e){return e.sourceText()}).join(" ")),r(this.hashExprs)||e.push(a.prototype.sourceText.call(this)),e.join(" ")},d.assignSymbols(i.prototype,{"can.getName":function(){return d.getName(this.constructor)+"{{"+this.sourceText()+"}}"}}),n.exports=i}),define("can-stache/expressions/lookup",["require","exports","module","can-stache/src/expression-helpers","can-reflect","can-symbol","can-log/dev/dev"],function(e,t,n){var u=e("can-stache/src/expression-helpers"),l=e("can-reflect"),a=e("can-symbol").for("can-stache.sourceText"),d=e("can-log/dev/dev"),r=function(e,t,n){this.key=e,this.rootExpr=t,l.setKeyValue(this,a,n)};r.prototype.value=function(e,t){var n;if(void 0===(n=this.rootExpr?u.getObservableValue_fromDynamicKey_fromObservable(this.key,this.rootExpr.value(e),e,{},{}):u.getObservableValue_fromKey(this.key,e,t)).initialValue){var a=n.startingScope&&n.startingScope._context,r=!1;if("object"==typeof a)if(n.reads){var i,s=n.reads,o=0,c=s.length;do{if(i=s[o],l.hasKey(a,i.key)){if(r=!0,!(a=l.getKeyValue(a,i.key)))break;r=!1}o++}while(o<c)}else r=l.hasKey(a,this.key);r||d.warn('can-stache/expressions/lookup.js: Unable to find key "'+this.key+'".')}return n},r.prototype.sourceText=function(){return this[a]?this[a]:this.rootExpr?this.rootExpr.sourceText()+"."+this.key:this.key},n.exports=r}),define("can-stache/src/expression",["require","exports","module","can-stache/expressions/arg","can-stache/expressions/literal","can-stache/expressions/hashes","can-stache/expressions/bracket","can-stache/expressions/call","can-stache/expressions/helper","can-stache/expressions/lookup","can-stache/src/set-identifier","can-stache/src/expression-helpers","can-stache/src/utils","can-assign","can-util/js/last/last","can-reflect","can-symbol"],function(e,t,n){var d=e("can-stache/expressions/arg"),p=e("can-stache/expressions/literal"),f=e("can-stache/expressions/hashes"),h=e("can-stache/expressions/bracket"),v=e("can-stache/expressions/call"),a=e("can-stache/expressions/helper"),r=e("can-stache/expressions/lookup"),i=e("can-stache/src/set-identifier"),s=e("can-stache/src/expression-helpers"),g=e("can-stache/src/utils"),o=e("can-assign"),m=e("can-util/js/last/last"),y=e("can-reflect"),b=e("can-symbol"),w=b.for("can-stache.sourceText"),x=/[\w\.\\\-_@\/\&%]+/,c=/('.*?'|".*?"|=|[\w\.\\\-_@\/*%\$]+|[\(\)]|,|\~|\[|\]\s*|\s*(?=\[))/g,u=/\]\s+/,k=/^('.*?'|".*?"|-?[0-9]+\.?[0-9]*|true|false|null|undefined)$/,l=/^[\.@]\w/,L=function(e){return t=e,x.test(t)&&l.test(e);var t},j=function(e){return e.children||(e.children=[]),e},D=function(){this.root={children:[],type:"Root"},this.current=this.root,this.stack=[this.root]};o(D.prototype,{top:function(){return m(this.stack)},isRootTop:function(){return this.top()===this.root},popTo:function(e){this.popUntil(e),this.pop()},pop:function(){this.isRootTop()||this.stack.pop()},first:function(e){for(var t=this.stack.length-1;0<t&&-1===e.indexOf(this.stack[t].type);)t--;return this.stack[t]},firstParent:function(e){for(var t=this.stack.length-2;0<t&&-1===e.indexOf(this.stack[t].type);)t--;return this.stack[t]},popUntil:function(e){for(;-1===e.indexOf(this.top().type)&&!this.isRootTop();)this.stack.pop();return this.top()},addTo:function(e,t){var n=this.popUntil(e);j(n).children.push(t)},addToAndPush:function(e,t){this.addTo(e,t),this.stack.push(t)},push:function(e){this.stack.push(e)},topLastChild:function(){return m(this.top().children)},replaceTopLastChild:function(e){var t=j(this.top()).children;return t.pop(),t.push(e),e},replaceTopLastChildAndPush:function(e){this.replaceTopLastChild(e),this.stack.push(e)},replaceTopAndPush:function(e){var t;return this.top()===this.root||this.stack.pop(),(t=j(this.top()).children).pop(),t.push(e),this.stack.push(e),e}});var S=function(e){var t=e.lastIndexOf("./"),n=e.lastIndexOf(".");if(t<n)return e.substr(0,n)+"@"+e.substr(n+1);var a=-1===t?0:t+2,r=e.charAt(a);return"."===r||"@"===r?e.substr(0,a)+"@"+e.substr(a+1):e.substr(0,a)+"@"+e.substr(a)},C=function(e){var t=e.top();if(t&&"Lookup"===t.type){var n=e.stack[e.stack.length-2];"Helper"!==n.type&&n&&e.replaceTopAndPush({type:"Helper",method:t})}},O={toComputeOrValue:s.toComputeOrValue,convertKeyToLookup:S,Literal:p,Lookup:r,Arg:d,Hash:function(){},Hashes:f,Call:v,Helper:a,Bracket:h,SetIdentifier:i,tokenize:function(e){var n=[];return(e.trim()+" ").replace(c,function(e,t){u.test(t)?(n.push(t[0]),n.push(t.slice(1))):n.push(t)}),n},lookupRules:{default:function(e,t,n){return"Helper"===e.type?a:r},method:function(e,t,n){return r}},methodRules:{default:function(e){return"Call"===e.type?v:a},call:function(e){return v}},parse:function(e,t){t=t||{};var n=this.ast(e);return t.lookupRule||(t.lookupRule="default"),"string"==typeof t.lookupRule&&(t.lookupRule=O.lookupRules[t.lookupRule]),t.methodRule||(t.methodRule="default"),"string"==typeof t.methodRule&&(t.methodRule=O.methodRules[t.methodRule]),this.hydrateAst(n,t,t.baseMethodType||"Helper")},hydrateAst:function(t,n,a,e){var r,i;if("Lookup"===t.type)return new(n.lookupRule(t,a,e))(t.key,t.root&&this.hydrateAst(t.root,n,a),t[w]);if("Literal"===t.type)return new p(t.value);if("Arg"===t.type)return new d(this.hydrateAst(t.children[0],n,a,e),{compute:!0});if("Hash"===t.type)throw new Error("");if("Hashes"===t.type)return r={},t.children.forEach(function(e){r[e.prop]=this.hydrateAst(e.children[0],n,a,!0)},this),new f(r);if("Call"===t.type||"Helper"===t.type){r={};var s=[],o=t.children,c=n.methodRule(t);if(o)for(var u=0;u<o.length;u++){var l=o[u];"Hashes"===l.type&&"Helper"===t.type&&c!==v?l.children.forEach(function(e){r[e.prop]=this.hydrateAst(e.children[0],n,t.type,!0)},this):s.push(this.hydrateAst(l,n,t.type,!0))}return new c(this.hydrateAst(t.method,n,t.type),s,r)}return"Bracket"===t.type?(i=t[b.for("can-stache.originalKey")],new h(this.hydrateAst(t.children[0],n),t.root?this.hydrateAst(t.root,n):void 0,i)):void 0},ast:function(e){var t=this.tokenize(e);return this.parseAst(t,{index:0})},parseAst:function(e,t){for(var n,a,r,i,s=new D;t.index<e.length;){var o=e[t.index],c=e[t.index+1];if(t.index++,"="===c){(n=s.top())&&"Lookup"===n.type&&("Call"!==(a=s.firstParent(["Call","Helper","Hash"])).type&&"Root"!==a.type||(s.popUntil(["Call"]),n=s.top(),s.replaceTopAndPush({type:"Helper",method:"Root"===n.type?m(n.children):n})));var u={type:"Hash",prop:o};"Hashes"===(a=s.firstParent(["Call","Helper","Hashes"])).type?s.addToAndPush(["Hashes"],u):(s.addToAndPush(["Helper","Call"],{type:"Hashes",children:[u]}),s.push(u)),t.index++}else if(k.test(o))C(s),"Hash"===(a=s.first(["Helper","Call","Hash","Bracket"])).type&&a.children&&0<a.children.length?s.addTo(["Helper","Call","Bracket"],{type:"Literal",value:g.jsonParse(o)}):"Bracket"===a.type&&a.children&&0<a.children.length?s.addTo(["Helper","Call","Hash"],{type:"Literal",value:g.jsonParse(o)}):s.addTo(["Helper","Call","Hash","Bracket"],{type:"Literal",value:g.jsonParse(o)});else if(x.test(o))r=s.topLastChild(),a=s.first(["Helper","Call","Hash","Bracket"]),r&&("Call"===r.type||"Bracket"===r.type)&&L(o)?s.replaceTopLastChildAndPush({type:"Lookup",root:r,key:o.slice(1)}):"Bracket"===a.type?a.children&&0<a.children.length?"Helper"===s.first(["Helper","Call","Hash","Arg"]).type&&"."!==o[0]?s.addToAndPush(["Helper"],{type:"Lookup",key:o}):s.replaceTopAndPush({type:"Lookup",key:o.slice(1),root:a}):s.addToAndPush(["Bracket"],{type:"Lookup",key:o}):(C(s),s.addToAndPush(["Helper","Call","Hash","Arg","Bracket"],{type:"Lookup",key:o}));else if("~"===o)C(s),s.addToAndPush(["Helper","Call","Hash"],{type:"Arg",key:o});else if("("===o){if("Lookup"!==(n=s.top()).type)throw new Error("Unable to understand expression "+e.join(""));s.replaceTopAndPush({type:"Call",method:(i=n,"Lookup"===i.type&&(y.setKeyValue(i,w,i.key),i.key=S(i.key)),i)})}else if(")"===o)s.popTo(["Call"]);else if(","===o)s.popUntil(["Call"]);else if("["===o)if(n=s.top(),!(r=s.topLastChild())||"Call"!==r.type&&"Bracket"!==r.type)if("Lookup"===n.type||"Bracket"===n.type){var l={type:"Bracket",root:n};y.setKeyValue(l,b.for("can-stache.originalKey"),n.key),s.replaceTopAndPush(l)}else"Call"===n.type?s.addToAndPush(["Call"],{type:"Bracket"}):" "===n?(s.popUntil(["Lookup"]),C(s),s.addToAndPush(["Helper","Call","Hash"],{type:"Bracket"})):s.replaceTopAndPush({type:"Bracket"});else s.replaceTopAndPush({type:"Bracket",root:r});else"]"===o?s.pop():" "===o&&s.push(o)}return s.root.children[0]}};n.exports=O}),define("can-stache/src/mustache_core",["require","exports","module","can-view-live","can-view-nodelist","can-observation","can-observation-recorder","can-stache/src/utils","can-stache/src/expression","can-util/dom/frag/frag","can-dom-mutate","can-symbol","can-reflect","can-log/dev/dev"],function(e,t,n){var f=e("can-view-live"),h=e("can-view-nodelist"),v=e("can-observation"),g=e("can-observation-recorder"),l=e("can-stache/src/utils"),m=e("can-stache/src/expression"),y=e("can-util/dom/frag/frag"),b=e("can-dom-mutate"),w=e("can-symbol"),x=e("can-reflect"),d=e("can-log/dev/dev"),a=/(?:(^|\r?\n)(\s*)(\{\{([\s\S]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([\s\S]*)\}\}\}?)/g,r=/(\s*)(\{\{\{?)(-?)([\s\S]*?)(-?)(\}\}\}?)(\s*)/g,k=function(){},L={expression:m,makeEvaluator:function(n,e,t,a,r,i,s){if("^"===t){var o=r;r=i,i=o}var c,u={metadata:{rendered:!1},stringOnly:s,context:n.peek("this"),scope:n,nodeList:e,exprData:a};if(l.createRenderers(u,n,e,r,i,s),a instanceof m.Call)c=a.value(n,u);else if(a instanceof m.Bracket)c=a.value(n);else if(a instanceof m.Lookup)c=a.value(n);else if(a instanceof m.Helper&&a.methodExpr instanceof m.Bracket)c=a.methodExpr.value(n,u);else if("function"==typeof(c=a.value(n,u)))return c;return!t||u.metadata.rendered?c:"#"===t||"^"===t?function(){var e=x.getValue(c);if("function"==typeof e)return e;if("string"!=typeof e&&l.isArrayLike(e)){var t=x.isObservableLike(e)&&x.isListLike(e);return x.getKeyValue(e,"length")?s?l.getItemsStringContent(e,t,u):y(l.getItemsFragContent(e,u,n)):u.inverse(n)}return e?u.fn(e||n):u.inverse(n)}:void 0},makeLiveBindingPartialRenderer:function(e,n){var c,u=(e=e.trim()).split(/\s+/).shift();return u!==e&&(c=L.expression.parse(e)),function(s,e){s.set("scope.lineNumber",n.lineNo);var o=[this];o.expression=">"+u,h.register(o,null,e||!0,n.directlyNested);var t=new v(function(){var e=u;if(c&&1===c.argExprs.length){var t=x.getValue(c.argExprs[0].value(s));void 0===t?d.warn("The context ("+c.argExprs[0].key+") you passed into thepartial ("+u+") is not defined in the scope!"):s=s.add(t)}var n,a=x.getKeyValue(s.templateContext.partials,e);if(a)n=function(){return a.render?a.render(s,o):a(s)};else{var r=s.read(e,{isArgument:!0}).value;if(null===r||!r&&"*"===e[0])return y("");r&&(e=r),n=function(){return"function"==typeof e?e(s,{},o):L.getTemplateById(e)(s,{},o)}}var i=g.ignore(n)();return y(i)});x.setPriority(t,o.nesting),f.html(this,t,this.parentNode,o)}},makeStringBranchRenderer:function(i,e,s){var o=L.expression.parse(e),c=i+e,t=function(e,t,n){e.set("scope.lineNumber",s.lineNo);var a,r=e.__cache[c];return!i&&r||(r=j(e,null,i,o,t,n,!0),i||(e.__cache[c]=r)),null==(a=r[w.for("can.onValue")]?x.getValue(r):r())?"":""+a};return t.exprData=o,t},makeLiveBindingBranchRenderer:function(u,l,d){var p=L.expression.parse(l);p instanceof m.Helper||p instanceof m.Call||p instanceof m.Bracket||p instanceof m.Lookup||(p=new m.Helper(p,[],{}));var e=function(e,t,n,a){var r=d.tag;e.set("scope.lineNumber",d.lineNo);var i=[this];i.expression=l,h.register(i,null,t||!0,d.directlyNested);var s,o=j(e,i,u,p,n,a,r);if(o[w.for("can.onValue")]?s=o:(Object.defineProperty(o,"name",{value:"{{"+l+"}}"}),s=new v(o,null,{isObservable:!1})),!1===x.setPriority(s,i.nesting))throw new Error("can-stache unable to set priority on observable");x.onValue(s,k);var c=x.getValue(s);"function"!=typeof c||p instanceof m.Lookup?x.valueHasDependencies(s)?d.attr?f.attr(this,d.attr,s):d.tag?f.attrs(this,s):d.text&&"object"!=typeof c?f.text(this,s,this.parentNode,i):f.html(this,s,this.parentNode,i):d.attr?b.setAttribute(this,d.attr,c):d.tag?f.attrs(this,c):d.text&&"string"==typeof c?this.nodeValue=c:null!=c&&h.replace([this],y(c,this.ownerDocument)):g.ignore(c)(this),x.offValue(s,k)};return e.exprData=p,e},splitModeFromExpression:function(e,t){var n=(e=e.trim()).charAt(0);return 0<="#/{&^>!<".indexOf(n)?e=e.substr(1).trim():n=null,"{"===n&&t.node&&(n=null),{mode:n,expression:e}},cleanLineEndings:function(e){return e.replace(a,function(e,t,n,a,r,i,s,o,c,u){i=i||"",t=t||"",n=n||"";var l=p(r||c,{});return o||0<=">{".indexOf(l.mode)?e:0<="^#!/".indexOf(l.mode)?(n=t+n&&" ")+a+(0!==u&&s.length?t+"\n":""):n+a+i+(n.length||0!==u?t+"\n":"")})},cleanWhitespaceControl:function(e){return e.replace(r,function(e,t,n,a,r,i,s,o,c){return"-"===a&&(t=""),"-"===i&&(o=""),t+n+r+s+o})},getTemplateById:function(){}},j=L.makeEvaluator,p=L.splitModeFromExpression;n.exports=L}),define("can-util/js/base-url/base-url",["require","exports","module","can-globals/global/global","can-globals/document/document"],function(e,t,n){!function(e,t,n,a){"use strict";var i,s=t("can-globals/global/global"),o=t("can-globals/document/document");a.exports=function(e){if(void 0!==e&&(i=e),void 0!==i)return i;var t=s(),n=o();if(n&&"baseURI"in n)return n.baseURI;if(t.location){var a=t.location.href,r=a.lastIndexOf("/");return-1!==r?a.substr(0,r):a}return"undefined"!=typeof process?process.cwd():void 0}}(0,e,0,n)}),define("can-parse-uri",function(e,t,n){n.exports=function(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}}),define("can-util/js/join-uris/join-uris",["require","exports","module","can-parse-uri"],function(e,t,n){"use strict";var r=e("can-parse-uri");n.exports=function(e,t){return t=r(t||""),e=r(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+(n=t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname,a=[],n.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?a.pop():a.push(e)}),a.join("").replace(/^\//,"/"===n.charAt(0)?"/":""))+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null;var n,a}}),define("can-stache/helpers/-debugger",["require","exports","module","can-log","can-reflect","can-symbol"],function(e,t,n){var a=e("can-log");function r(){}var i,s=r,o={},c=e("can-reflect"),u=e("can-symbol");function l(e,t){if(s.apply(null,Array.prototype.slice.call(arguments,0,-1))){arguments[arguments.length-1];a.log("Use `get(<path>)` to debug this template"),o.allowDebugger||a.warn("Forgotten {{debugger}} helper")}}o={allowDebugger:!0},i=function(e){return e&&e[u.for("can.getValue")]?c.getValue(e):e},s=function(e,t){switch(arguments.length){case 0:return!0;case 1:return!!i(e);case 2:return i(e)===i(t);default:throw a.log(["Usage:","  {{debugger}}: break any time this helper is evaluated","  {{debugger condition}}: break when `condition` is truthy","  {{debugger left right}}: break when `left` === `right`"].join("\n")),new Error("{{debugger}} must have less than three arguments")}},l.requiresOptionsArgument=!0,n.exports={helper:l,evaluateArgs:s,resolveValue:i,__testing:o}}),define("can-stache/src/truthy-observable",["require","exports","module","can-observation","can-reflect"],function(e,t,n){var a=e("can-observation"),r=e("can-reflect");n.exports=function(e){return new a(function(){return!!r.getValue(e)})}}),define("can-stache/helpers/core",["require","exports","module","can-view-live","can-view-nodelist","can-stache/src/utils","can-util/js/base-url/base-url","can-util/js/join-uris/join-uris","can-assign","can-log/dev/dev","can-reflect","can-util/js/is-empty-object/is-empty-object","can-stache/helpers/-debugger","can-stache/src/key-observable","can-observation","can-stache/src/truthy-observable","can-observation-recorder","can-stache-helpers","can-dom-data-state"],function(e,t,n){!function(e,t,n,a){var c=t("can-view-live"),u=t("can-view-nodelist"),l=t("can-stache/src/utils"),o=t("can-util/js/base-url/base-url"),d=t("can-util/js/join-uris/join-uris"),r=t("can-assign"),i=t("can-log/dev/dev"),p=t("can-reflect"),f=t("can-util/js/is-empty-object/is-empty-object"),s=t("can-stache/helpers/-debugger").helper,h=t("can-stache/src/key-observable"),v=t("can-observation"),g=t("can-stache/src/truthy-observable"),m=t("can-observation-recorder"),y=t("can-stache-helpers"),b=t("can-dom-data-state"),w=function(e){return e&&p.isValueLike(e)?p.getValue(e):e},x=m.ignore(w),k=function(n){var r,a,i=[].slice.call(arguments).pop(),e=i.exprData.hashExprs,t=x(n);if(f(e)||(r={},p.eachKey(e,function(e,t){r[e.key]=t})),(p.isObservableLike(t)&&p.isListLike(t)||l.isArrayLike(t)&&p.isValueLike(n))&&!i.stringOnly)return function(e){var t=[e];t.expression="live.list",u.register(t,null,i.nodeList,!0),u.update(i.nodeList,[e]);c.list(e,n,function(e,t,n){var a={};return f(r)||(r.value&&(a[r.value]=e),r.index&&(a[r.index]=t)),i.fn(i.scope.add(a,{notContext:!0}).add({index:t},{special:!0}).add(e),i.options,n)},i.context,e.parentNode,t,function(e,t){return i.inverse(i.scope.add(e),i.options,t)})};var s,o=w(n);return o&&l.isArrayLike(o)?(s=l.getItemsFragContent(o,i,i.scope),i.stringOnly?s.join(""):s):p.isObservableLike(o)&&p.isMapLike(o)||o instanceof Object?(s=[],p.each(o,function(e,t){var n=new h(o,t);a={},f(r)||(r.value&&(a[r.value]=n),r.key&&(a[r.key]=t)),s.push(i.fn(i.scope.add(a,{notContext:!0}).add({key:t},{special:!0}).add(n)))}),i.stringOnly?s.join(""):s):void 0};k.isLiveBound=!0,k.requiresOptionsArgument=!0,k.ignoreArgLookup=function(e){return 1===e};var L=function(e,t){t||(t=e,e=0);var n=t.scope.peek("scope.index");return""+(("function"==typeof n?n():n)+e)},j=function(e,t){return(e&&p.isValueLike(e)?p.getValue(new g(e)):!!w(e))?t.fn(t.scope||this):t.inverse(t.scope||this)},D=function(){var t,n,e=arguments[arguments.length-1];if(arguments.length-2<=0)return e.inverse();var a=arguments;return new v(function(){for(var e=0;e<a.length-1;e++){if(n="function"==typeof(n=w(a[e]))?n():n,0<e&&n!==t)return!1;t=n}return!0}).get()?e.fn():e.inverse()},S=function(e,t){return j.apply(this,[e,r(r({},t),{fn:t.inverse,inverse:t.fn})])},C=function(e,t){var n=e;return t?(e=w(e),t.hash&&!f(t.hash)&&(n=t.scope.add(t.hash,{notContext:!0}).add(n))):(t=e,e=!0,n=t.hash),t.fn(n||{})},O=function(n,e){w(n);var a=!1,t=function(e,t){if(!a&&w(n)===w(e))return a=!0,t.fn(t.scope.peek("this")||this)},r=function(e){if(!a)return!e||e.scope.peek("this")};r.requiresOptionsArgument=t.requiresOptionsArgument=!0,p.assignSymbols(r,{"can.isValueLike":!0,"can.isFunctionLike":!1,"can.getValue":function(){return this()}});var i=e.scope.add({case:t,default:r},{notContext:!0});return e.fn(i,e)},V=function(e){var t=[].slice.call(arguments),n=t.pop(),a=t.map(function(e){var t=w(e);return"function"==typeof t?t():t}).join(""),r=p.getKeyValue(n.scope.templateContext.helpers,"module"),i=r?r.uri:void 0;if("."===a[0]&&i)return d(i,a);var s="undefined"!=typeof System&&(System.renderingBaseURL||System.baseURL)||o();return"/"!==a[0]&&"/"!==s[s.length-1]&&(s+="/"),d(s,a)};V.requiresOptionsArgument=O.requiresOptionsArgument=C.requiresOptionsArgument=S.requiresOptionsArgument=D.requiresOptionsArgument=j.requiresOptionsArgument=L.requiresOptionsArgument=!0;var _={debugger:s,each:k,eachOf:k,index:L,if:j,is:D,eq:D,unless:S,with:C,console:console,data:function(t){var n=2===arguments.length?this:arguments[1];return function(e){b.set.call(e,t,n||this.context)}},switch:O,joinBase:V},q=function(){p.each(_,function(e,t){y[t]=e})};q();var E=function(e,t){y[e]&&i.warn("The helper "+e+" has already been registered."),t.requiresOptionsArgument=!0,y[e]=t};a.exports={registerHelper:E,addHelper:function(e,t){return E(e,(n=t,function(){var t=[];return p.eachIndex(arguments,function(e){for(;e&&e.isComputed;)e=e();t.push(e)}),n.apply(this,t)}));var n},addLiveHelper:function(e,t){return t.isLiveBound=!0,E(e,t)},getHelper:function(e,t){var n=t&&t.getHelper(e);return n||(n=y[e]),n},resolve:w,resolveHash:function(e){var t={};for(var n in e)t[n]=w(e[n]);return t},looksLikeOptions:function(e){return e&&"function"==typeof e.fn&&"function"==typeof e.inverse},__resetHelpers:function(){for(var e in y)delete y[e];q()}}}(0,e,0,n)}),define("can-stache/helpers/converter",["require","exports","module","can-stache/helpers/core","can-stache/src/set-identifier","can-reflect"],function(e,t,n){var a=e("can-stache/helpers/core"),r=e("can-stache/src/set-identifier"),i=e("can-reflect");function s(a){return a=a||{},function(e,t){var n=i.toArray(arguments);return e instanceof r?"function"==typeof a.set?a.set.apply(this,[e.value].concat(n.slice(1))):t(e.value):"function"==typeof a.get?a.get.apply(this,n):n[0]}}a.addConverter=function(e,t){var n=s(t);n.isLiveBound=!0,a.registerHelper(e,n)},a.registerConverter=function(e,t){a.registerHelper(e,s(t))},n.exports=a}),define("can-stache-ast/controls",function(e,t,n){var a=/(?:(^|\r?\n)(\s*)(\{\{([\s\S]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([\s\S]*)\}\}\}?)/g,r=/(\s*)(\{\{\{?)(-?)([\s\S]*?)(-?)(\}\}\}?)(\s*)/g;function i(e,t,n,a,r,i,s,o){return"-"===a&&(t=""),"-"===i&&(o=""),t+n+r+s+o}t.cleanLineEndings=function(e){return e.replace(a,function(e,t,n,a,r,i,s,o,c,u){i=i||"",t=t||"",n=n||"";var l,d,p,f=(d={},p=(l=(l=r||c).trim()).charAt(0),0<="#/{&^>!<".indexOf(p)?l=l.substr(1).trim():p=null,"{"===p&&d.node&&(p=null),{mode:p,expression:l});return o||0<=">{".indexOf(f.mode)?e:0<="^#!/".indexOf(f.mode)?(n=t+n&&" ")+a+(0!==u&&s.length?t+"\n":""):n+a+i+(n.length||0!==u?t+"\n":"")})},t.cleanWhitespaceControl=function(e){return e.replace(r,i)}}),define("can-stache-ast",["require","exports","module","can-stache-ast/controls","can-view-parser"],function(e,t,n){var g=e("can-stache-ast/controls"),m=e("can-view-parser");t.parse=function(e,t){1===arguments.length&&(t=e,e=void 0);var n=t;n=g.cleanWhitespaceControl(n),n=g.cleanLineEndings(n);var a=[],r=[],i=[],s={},o=!1,c=!1,u=!1,l=!1,d=!1,p="",f="";function h(e){p&&(s[p]=f,p=""),d?r.push(f):a.push(f),i.push({specifier:f,loc:{line:e}})}var v=m(n,{filename:e,start:function(e,t){"can-import"===e?(l=t,d=!1,o=!0):"can-dynamic-import"===e?(l=t,o=d=!0):o&&(d=!0,o=!1)},attrStart:function(e){"from"===e?c=!0:"as"!==e&&"export-as"!==e||(u=!0)},attrEnd:function(e){"from"===e?c=!1:"as"!==e&&"export-as"!==e||(u=!1)},attrValue:function(e){c&&o?f=e:u&&o&&(p=e)},end:function(e,t,n){"can-import"!==e&&"can-dynamic-import"!==e||!l||h(n)},close:function(e,t,n){"can-import"!==e&&"can-dynamic-import"!==e||h(n)},chars:function(e){0<e.trim().length&&(d=!0)},special:function(){d=!0}},!0);return{intermediate:v,program:v,imports:a,dynamicImports:r,importDeclarations:i,ases:s,exports:s}}}),define("can-util/js/import/import",["require","exports","module","can-util/js/is-function/is-function","can-globals/global/global"],function(e,t,n){!function(r,e,t,n){"use strict";var i=e("can-util/js/is-function/is-function");r=e("can-globals/global/global")();n.exports=function(e,a){return new Promise(function(t,n){try{"object"==typeof r.System&&i(r.System.import)?r.System.import(e,{name:a}).then(t,n):r.define&&r.define.amd?r.require([e],function(e){t(e)}):r.require?t(r.require(e)):"undefined"!=typeof stealRequire?steal.import(e,{name:a}).then(t,n):t()}catch(e){n(e)}})}}(function(){return this}(),e,0,n)}),define("can-stache",["require","exports","module","can-view-parser","can-view-callbacks","can-stache/src/html_section","can-stache/src/text_section","can-stache/src/mustache_core","can-stache/helpers/core","can-stache/helpers/converter","can-stache-ast","can-stache/src/utils","can-attribute-encoder","can-log/dev/dev","can-namespace","can-globals/document/document","can-assign","can-util/js/last/last","can-util/js/import/import","can-reflect","can-view-target","can-view-nodelist"],function(e,t,n){!function(e,t,n,a){var f=t("can-view-parser"),h=t("can-view-callbacks"),v=t("can-stache/src/html_section"),g=t("can-stache/src/text_section"),m=t("can-stache/src/mustache_core"),r=t("can-stache/helpers/core");t("can-stache/helpers/converter");var i=t("can-stache-ast").parse,y=t("can-stache/src/utils").makeRendererConvertScopes,b=t("can-attribute-encoder"),w=t("can-log/dev/dev"),s=t("can-namespace"),o=t("can-globals/document/document"),x=t("can-assign"),k=t("can-util/js/last/last"),c=t("can-util/js/import/import"),L=t("can-reflect");t("can-view-target"),t("can-view-nodelist"),h.tag("content")||h.tag("content",function(e,t){return t.scope});var j=/[{(].*[)}]/,D=/^on:|(:to|:from|:bind)$|.*:to:on:.*/,u="http://www.w3.org/2000/svg",S={svg:u,g:u},C={style:!0,script:!0};function l(c,e){1===arguments.length&&(e=c,c=void 0);var u={};"string"==typeof e&&(e=m.cleanWhitespaceControl(e),e=m.cleanLineEndings(e));var o=new v(c),l={node:null,attr:null,sectionElementStack:[],text:!1,namespaceStack:[],textContentOnly:null},i=function(e,t,n,a){if(">"===t)e.add(m.makeLiveBindingPartialRenderer(n,d({lineNo:a})));else if("/"===t){if("<"===e.last().startedWith?(u[n]=e.endSubSectionAndReturnRenderer(),e.removeCurrentNode()):e.endSection(),e instanceof v){var r=l.sectionElementStack[l.sectionElementStack.length-1];r.tag&&"section"===r.type&&""!==n&&n!==r.tag&&(c?w.warn(c+":"+a+": unexpected closing tag {{/"+n+"}} expected {{/"+r.tag+"}}"):w.warn(a+": unexpected closing tag {{/"+n+"}} expected {{/"+r.tag+"}}")),l.sectionElementStack.pop()}}else if("else"===t)e.inverse();else{var i=e instanceof v?m.makeLiveBindingBranchRenderer:m.makeStringBranchRenderer;if("{"===t||"&"===t)e.add(i(null,n,d({lineNo:a})));else if("#"===t||"^"===t||"<"===t){var s=i(t,n,d({lineNo:a}));if(e.startSection(s),e.last().startedWith=t,e instanceof v){var o="function"==typeof s.exprData.closingTag?s.exprData.closingTag():"";l.sectionElementStack.push({type:"section",tag:o})}}else e.add(i(null,n,d({text:!0,lineNo:a})))}},s=function(){var e=l.sectionElementStack[l.sectionElementStack.length-1];return!l.sectionElementStack.length||("section"===e.type||"custom"===e.type)},d=function(e){var t={tag:l.node&&l.node.tag,attr:l.attr&&l.attr.name,directlyNested:s(),textContentOnly:!!l.textContentOnly};return e?x(t,e):t},p=function(e,t){e.attributes||(e.attributes=[]),e.attributes.unshift(t)};f(e,{filename:c,start:function(e,t,n){var a=S[e];a&&!t&&l.namespaceStack.push(a),l.node={tag:e,children:[],namespace:a||k(l.namespaceStack)}},end:function(n,e,a){var t=h.tag(n),r=s();e?(o.add(l.node),t&&p(l.node,function(e,t){e.set("scope.lineNumber",a),h.tagHandler(this,n,{scope:e,subtemplate:null,templateType:"stache",parentNodeList:t,directlyNested:r})})):(o.push(l.node),l.sectionElementStack.push({type:t?"custom":null,tag:t?null:n,templates:{},directlyNested:r}),t?o.startSubSection():C[n]&&(l.textContentOnly=new g)),l.node=null},close:function(n,a){S[n]&&l.namespaceStack.pop();var r,e=h.tag(n);e&&(r=o.endSubSectionAndReturnRenderer()),C[n]&&(o.last().add(l.textContentOnly.compile(d())),l.textContentOnly=null);var t=o.pop();if(e)if("can-template"===n){var i=l.sectionElementStack[l.sectionElementStack.length-2];r&&(i.templates[t.attrs.name]=y(r)),o.removeCurrentNode()}else{var s=l.sectionElementStack[l.sectionElementStack.length-1];p(t,function(e,t){e.set("scope.lineNumber",a),h.tagHandler(this,n,{scope:e,subtemplate:r?y(r):r,templateType:"stache",parentNodeList:t,templates:s.templates,directlyNested:s.directlyNested})})}l.sectionElementStack.pop()},attrStart:function(e,t){l.node.section?l.node.section.add(e+'="'):l.attr={name:e,value:""}},attrEnd:function(n,a){if(l.node.section)l.node.section.add('" ');else{l.node.attrs||(l.node.attrs={}),l.node.attrs[l.attr.name]=l.attr.section?l.attr.section.compile(d()):l.attr.value;var r=h.attr(n),e=b.decode(n);(!!j.test(e)||!!D.test(e))&&!r&&w.warn("unknown attribute binding "+e+". Is can-stache-bindings imported?"),r&&(l.node.attributes||(l.node.attributes=[]),l.node.attributes.push(function(e,t){e.set("scope.lineNumber",a),r(this,{attributeName:n,scope:e,nodeList:t})})),l.attr=null}},attrValue:function(e,t){var n=l.node.section||l.attr.section;n?n.add(e):l.attr.value+=e},chars:function(e,t){(l.textContentOnly||o).add(e)},special:function(e,t){var n=m.splitModeFromExpression(e,l),a=n.mode,r=n.expression;if("else"!==r){if("!"!==a)if(l.node&&l.node.section)i(l.node.section,a,r,t),0===l.node.section.subSectionDepth()&&(l.node.attributes.push(l.node.section.compile(d())),delete l.node.section);else if(l.attr)l.attr.section||(l.attr.section=new g,l.attr.value&&l.attr.section.add(l.attr.value)),i(l.attr.section,a,r,t);else if(l.node)if(l.node.attributes||(l.node.attributes=[]),a){if("#"!==a&&"^"!==a)throw new Error(a+" is currently not supported within a tag.");l.node.section||(l.node.section=new g),i(l.node.section,a,r,t)}else l.node.attributes.push(m.makeLiveBindingBranchRenderer(null,r,d({lineNo:t})));else i(l.textContentOnly||o,a,r,t)}else(l.attr&&l.attr.section?l.attr.section:l.node&&l.node.section?l.node.section:l.textContentOnly||o).inverse()},comment:function(e){o.add({comment:e})},done:function(e){}});var a=o.compile(),r=v.scopify(function(e,t){var n=e.templateContext;return L.eachKey(u,function(e,t){L.setKeyValue(n.partials,t,e)}),L.setKeyValue(n,"view",r),L.setKeyValue(n,"filename",o.filename),a.apply(this,arguments)});return r}x(l,r),l.safeString=function(e){return{toString:function(){return e}}},l.async=function(e){var t=i(e),n=t.imports.map(function(e){return c(e)});return Promise.all(n).then(function(){return l(t.intermediate)})};var d={};l.from=m.getTemplateById=function(e){if(!d[e]){var t=o().getElementById(e);d[e]=l("#"+e,t.innerHTML)}return d[e]},l.registerPartial=function(e,t){d[e]="string"==typeof t?l(t):t},a.exports=s.stache=l}(0,e,0,n)}),define("can-view-model",["require","exports","module","can-simple-map","can-namespace","can-globals/document/document","can-reflect","can-symbol"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-simple-map"),i=t("can-namespace"),s=t("can-globals/document/document"),o=t("can-reflect"),c=t("can-symbol").for("can.viewModel");a.exports=i.viewModel=function(e,t,n){if("string"==typeof e?e=s().querySelector(e):o.isListLike(e)&&!e.nodeType&&(e=e[0]),o.isObservableLike(t)&&o.isMapLike(t))e[c]=t;else{var a=e[c];switch(a||(a=new r,e[c]=a),arguments.length){case 0:case 1:return a;case 2:return o.getKeyValue(a,t);default:return o.setKeyValue(a,t,n),e}}}}(0,e,0,n)}),define("can-attribute-observable/event",["require","exports","module","can-reflect","can-dom-events","can-dom-events/helpers/util"],function(e,t,n){var a=e("can-reflect"),r=e("can-dom-events"),i=e("can-dom-events/helpers/util").isDomEventTarget,s={on:function(e,t,n){i(this)?r.addEventListener(this,e,t,n):a.onKeyValue(this,e,t,n)},off:function(e,t,n){i(this)?r.removeEventListener(this,e,t,n):a.offKeyValue(this,e,t,n)},one:function(e,t,n){var a=function(){return s.off.call(this,e,a,n),t.apply(this,arguments)};return s.on.call(this,e,a,n),this}};n.exports=s}),define("can-attribute-observable/get-event-name",["require","exports","module","can-attribute-observable/behaviors"],function(e,t,n){var s=e("can-attribute-observable/behaviors");n.exports=function(e,t,n){var a,r,i="change";return"input"!==(r=e).nodeName.toLowerCase()||"radio"!==r.type||(a=n,"checked"!==t||a.legacyBindings)||(i="can-attribute-observable-radiochange"),s.findSpecialListener(t)&&(i=t),i}}),define("can-event-dom-radiochange",["require","exports","module","can-globals/document/document","can-namespace"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-globals/document/document"),i=t("can-namespace");function u(){return r().documentElement}function l(e){for(;e&&"FORM"!==e.nodeName;)e=e.parentNode;return e}function d(e){return"INPUT"===e.nodeName&&"radio"===e.type}var p={defaultEventType:"radiochange",addEventListener:function(e,t,n){if(!d(e))throw new Error("Listeners for "+t+" must be radio inputs");var s,a,r,i,o=p._eventTypeTrackedRadios;o||(o=p._eventTypeTrackedRadios={},p._rootListener||(p._rootListener=(s=this,a=o,r=u(),i=function(e){var r=e.target;if(d(r))for(var t in a){var i={type:t};a[t].forEach(function(e){var t,n,a;n=e,(a=(t=r).getAttribute("name"))&&a===n.getAttribute("name")&&l(t)===l(n)&&s.dispatch(e,i,!1)})}},s.addEventListener(r,"change",i),i)));var c=p._eventTypeTrackedRadios[t];c||(c=p._eventTypeTrackedRadios[t]=new Set),c.add(e),e.addEventListener(t,n)},removeEventListener:function(e,t,n){e.removeEventListener(t,n);var a=p._eventTypeTrackedRadios;if(a){var r,i,s,o=a[t];if(o)if(o.delete(e),0===o.size){for(var c in delete a[t],a)if(a.hasOwnProperty(c))return;delete p._eventTypeTrackedRadios,r=this,i=p._rootListener,s=u(),r.removeEventListener(s,"change",i),delete p._rootListener}}}};a.exports=i.domEventRadioChange=p}(0,e,0,n)}),define("can-attribute-observable",["require","exports","module","can-queues","can-attribute-observable/event","can-reflect","can-observation","can-attribute-observable/behaviors","can-attribute-observable/get-event-name","can-reflect-dependencies","can-observation-recorder","can-simple-observable/settable/settable","can-dom-events","can-event-dom-radiochange"],function(e,t,n){!function(e,t,n,a){var r=t("can-queues"),i=t("can-attribute-observable/event"),s=t("can-reflect"),o=t("can-observation"),c=t("can-attribute-observable/behaviors"),u=t("can-attribute-observable/get-event-name"),l=t("can-reflect-dependencies"),d=t("can-observation-recorder"),p=t("can-simple-observable/settable/settable"),f=t("can-dom-events"),h=t("can-event-dom-radiochange"),v="can-attribute-observable-radiochange";f.addEvent(h,v);var g=function(e,t){return"select"===e.nodeName.toLowerCase()&&"value"===t&&e.multiple},m=Array.prototype.slice;function y(){var e=m.call(arguments,0);return e.unshift(this),f.addEventListener.apply(null,e)}function b(){var e=m.call(arguments,0);return e.unshift(this),f.removeEventListener.apply(null,e)}function w(e,t,n,a){this.el=e,this.bound=!1,this.bindingData=n,this.prop=g(e,t)?"values":t,this.event=a||u(e,t,n),this.handler=this.handler.bind(this),l.addMutatedBy(this.el,this.prop,this),s.assignSymbols(this,{"can.getName":function(){return"AttributeObservable<"+e.nodeName.toLowerCase()+"."+this.prop+">"}})}w.prototype=Object.create(p.prototype),Object.assign(w.prototype,{constructor:w,get:function(){return d.isRecording()&&(d.add(this),this.bound||o.temporarilyBind(this)),c.get(this.el,this.prop)},set:function(e){return c.setAttrOrProp(this.el,this.prop,e),this.value=e},handler:function(e){var t=this.value;this.value=c.get(this.el,this.prop),this.value!==t&&("function"==typeof this._log&&this._log(t,e),r.enqueueByQueue(this.handlers.getNode([]),this,[e,t],function(){return{}}))},onBound:function(){var e=this;e.bound=!0,e._handler=function(){e.handler(c.get(e.el,e.prop))},e.event===v&&i.on.call(e.el,"change",e._handler);var t=c.findSpecialListener(e.prop);t&&(e._specialDisposal=t.call(e.el,e.prop,e._handler,y)),i.on.call(e.el,e.event,e._handler),this.value=c.get(this.el,this.prop)},onUnbound:function(){var e=this;e.bound=!1,e.event===v&&i.off.call(e.el,"change",e._handler),e._specialDisposal&&(e._specialDisposal.call(e.el,b),e._specialDisposal=null),i.off.call(e.el,e.event,e._handler)},valueHasDependencies:function(){return!0},getValueDependencies:function(){return{keyDependencies:new Map([[this.el,new Set([this.prop])]])}}}),s.assignSymbols(w.prototype,{"can.isMapLike":!1,"can.getValue":w.prototype.get,"can.setValue":w.prototype.set,"can.onValue":w.prototype.on,"can.offValue":w.prototype.off,"can.valueHasDependencies":w.prototype.hasDependencies,"can.getValueDependencies":w.prototype.getValueDependencies}),a.exports=w}(0,e,0,n)}),define("can-stache-bindings",["require","exports","module","can-stache/src/expression","can-view-callbacks","can-view-model","can-stache-key","can-observation-recorder","can-simple-observable","can-util/js/assign/assign","can-util/js/make-array/make-array","can-util/js/each/each","can-log/dev/dev","can-dom-mutate","can-dom-data-state","can-symbol","can-reflect","can-reflect-dependencies","can-attribute-encoder","can-queues","can-simple-observable/setter/setter","can-attribute-observable","can-view-scope/make-compute-like","can-attribute-observable/event"],function(e,t,n){var p=e("can-stache/src/expression"),a=e("can-view-callbacks"),f=e("can-view-model"),h=e("can-stache-key"),u=e("can-observation-recorder"),v=e("can-simple-observable"),m=e("can-util/js/assign/assign"),g=e("can-util/js/make-array/make-array"),y=e("can-util/js/each/each"),l=e("can-log/dev/dev"),b=e("can-dom-mutate"),d=e("can-dom-data-state"),w=e("can-symbol"),x=e("can-reflect"),k=e("can-reflect-dependencies"),L=e("can-attribute-encoder"),j=e("can-queues"),D=e("can-simple-observable/setter/setter"),c=e("can-attribute-observable"),S=e("can-view-scope/make-compute-like"),C=e("can-attribute-observable/event"),O=function(){},V="viewModel",_=w.for("can.getValue"),q=w.for("can.onValue"),E=w.for("can.getChangesDependencyRecord"),P=function(){throw new Error("can-stache-bindings - you can not have contextual bindings ( this:from='value' ) and key bindings ( prop:from='value' ) on one element.")},r={viewModel:function(i,s,e,t,n){var o,a={},r=[],c={},u={},l=m({},t),d={isSettingOnViewModel:!1,isSettingViewModel:!1,initialViewModelData:t||{}},p=!1;if(y(g(i.attributes),function(e){var t=H(e,i,{templateType:s.templateType,scope:s.scope,semaphore:a,getViewModel:function(){return o},attributeViewModelBindings:l,alreadyUpdatedChild:!0,nodeList:s.parentNodeList,favorViewModel:!0});t&&(d=function(e,t){var n=t.bindingInfo.parentToChild&&t.bindingInfo.child===V;if(!n)return e;var a=t.bindingInfo.childName;if(!n||"this"!==a&&"."!==a){if(!e.isSettingViewModel)return{isSettingOnViewModel:!0,initialViewModelData:e.initialViewModelData};P()}else{if(!e.isSettingViewModel&&!e.isSettingOnViewModel)return{isSettingViewModel:!0,initialViewModelData:void 0};P()}}(d,t),p=!0,t.onCompleteBinding&&(t.bindingInfo.parentToChild&&void 0!==t.value&&(d.isSettingViewModel?d.initialViewModelData=t.value:d.initialViewModelData[U(t.bindingInfo.childName,s.scope)]=t.value),r.push(t.onCompleteBinding)),c[e.name]=t.onTeardown)}),!n||p){o=e(d.initialViewModelData,p);for(var f=0,h=r.length;f<h;f++)r[f]();var v;return d.isSettingViewModel||(v=b.onNodeAttributeChange(i,function(e){var t=e.attributeName,n=i.getAttribute(t);c[t]&&c[t]();var a=u[t]&&"attribute"===u[t].parent;if(null!==n||a){var r=H({name:t,value:n},i,{templateType:s.templateType,scope:s.scope,semaphore:{},getViewModel:function(){return o},attributeViewModelBindings:l,initializeValues:!0,nodeList:s.parentNodeList});r&&(r.onCompleteBinding&&r.onCompleteBinding(),u[t]=r.bindingInfo,c[t]=r.onTeardown)}})),function(){for(var e in v&&(v(),v=void 0),c)c[e]()}}},data:function(r,i){if(!d.get.call(r,"preventDataBindings")){var e,s,o=u.ignore(function(){return e||(e=f(r))}),c={},t=H({name:i.attributeName,value:r.getAttribute(i.attributeName),nodeList:i.nodeList},r,{templateType:i.templateType,scope:i.scope,semaphore:c,getViewModel:o,syncChildWithParent:!1});"viewModel"!==t.bindingInfo.child||d.get(r,"viewModel")||l.warn("This element does not have a viewModel. (Attempting to bind `"+t.bindingInfo.bindingAttributeName+'="'+t.bindingInfo.parentName+'"`)'),t.onCompleteBinding&&t.onCompleteBinding();s=t.onTeardown;var n=b.onNodeAttributeChange(r,function(e){var t=e.attributeName,n=r.getAttribute(t);if(t===i.attributeName&&(s&&s(),null!==n)){var a=H({name:t,value:n},r,{templateType:i.templateType,scope:i.scope,semaphore:c,getViewModel:o,initializeValues:!0,nodeList:i.nodeList,syncChildWithParent:!1});a&&(a.onCompleteBinding&&a.onCompleteBinding(),s=a.onTeardown)}}),a=b.onNodeRemoval(r,function(){r.ownerDocument.contains(r)||(s(),a&&(a(),a=void 0),n&&(n(),n=void 0))})}},event:function(o,c){var e,t,u=L.decode(c.attributeName);if(-1!==u.indexOf(":to:")||-1!==u.indexOf(":from:")||-1!==u.indexOf(":bind:"))return this.data(o,c);if(!I.call(u,"on:"))throw new Error("can-stache-bindings - unsupported event bindings "+u);e=u.substr("on:".length);var n=o[w.for("can.viewModel")],a=c.scope;if(I.call(e,"el:"))e=e.substr("el:".length),t=o;else{I.call(e,"vm:")?(e=e.substr("vm:".length),a=t=n):t=n||o;var r=e.indexOf(":by:");0<=r&&(t=a.get(e.substr(r+":by:".length)),e=e.substr(0,r))}var i,s,l=function(e){var t=o.getAttribute(L.encode(u));if(t){var n=f(o),a=p.parse(t,{lookupRule:function(){return p.Lookup},methodRule:"call"});if(!(a instanceof p.Call))throw new Error("can-stache-bindings: Event bindings must be a call expression. Make sure you have a () in "+c.attributeName+"="+JSON.stringify(t));var r={element:o,event:e,viewModel:n,arguments:arguments},i=c.scope.add(r,{special:!0}),s=function(){var e=a.value(i,{doNotWrapInObservation:!0});return"function"==typeof(e=x.isValueLike(e)?x.getValue(e):e)?e(o):e};Object.defineProperty(s,"name",{value:u+'="'+t+'"'}),j.batch.start(),j.notifyQueue.enqueue(s,null,null,{reasonLog:[o,e,u+"="+t]}),j.batch.stop()}},d=function(){C.off.call(t,e,l),i&&(i(),i=void 0),s&&(s(),s=void 0)};C.on.call(t,e,l),i=b.onNodeAttributeChange(o,function(e){var t=e.attributeName===u,n=!o.getAttribute(u);t&&n&&d()}),s=b.onNodeRemoval(o,function(){o.ownerDocument.contains(o)||d()})}};a.attr(/[\w\.:]+:to$/,r.data),a.attr(/[\w\.:]+:from$/,r.data),a.attr(/[\w\.:]+:bind$/,r.data),a.attr(/[\w\.:]+:raw$/,r.data),a.attr(/[\w\.:]+:to:on:[\w\.:]+/,r.data),a.attr(/[\w\.:]+:from:on:[\w\.:]+/,r.data),a.attr(/[\w\.:]+:bind:on:[\w\.:]+/,r.data),a.attr(/on:[\w\.:]+/,r.event);var N={viewModelOrAttribute:function(e,t,n,a,r,i,s){return e[w.for("can.viewModel")]?this.viewModel.apply(this,arguments):this.attribute.apply(this,arguments)},scope:function(e,n,a,t,r,i){if(a){if(r)return p.parse(a,{baseMethodType:"Call"}).value(n);var s={};x.assignSymbols(s,{"can.getValue":function(){},"can.valueHasDependencies":function(){return!1},"can.setValue":function(e){n.set(U(a,n),e)},"can.getWhatIChange":function(){var e=n.getDataForScopeSet(U(a,n));return{mutate:{keyDependencies:new Map([[e.parent,new Set([e.key])]])}}},"can.getName":function(){var e="ObservableFromScope<>",t=n.getDataForScopeSet(U(a,n));return t.parent&&t.key&&(e="ObservableFromScope<"+x.getName(t.parent)+"."+t.key+">"),e}});var o=n.getDataForScopeSet(U(a,n));return o.parent&&o.key&&k.addMutatedBy(o.parent,o.key,s),s}return new v},viewModel:function(e,t,n,a,r,i,s){var o=U(n,t),c="."===n||"this"===n,u=c?[]:h.reads(n);function l(){var e=a.getViewModel();return h.read(e,u,{}).value}Object.defineProperty(l,"name",{value:"viewModel."+n});var d=new D(l,function(e){var t=a.getViewModel();if(i){var n=x.getKeyValue(t,o);x.isObservableLike(n)?x.setValue(n,e):x.setKeyValue(t,o,new v(x.getValue(i)))}else c?x.setValue(t,e):x.setKeyValue(t,o,e)}),p=a.getViewModel();return p&&o&&k.addMutatedBy(p,o,d),d},attribute:function(e,t,n,a,r,i,s,o){return new c(e,n,a,s)}},M=function(a,r,i,s,o,c,e){function t(e){if(!s[o])if(r&&r[_]){var t=x.valueHasDependencies(r);t&&x.getValue(r)===e||x.setValue(r,e),c&&t&&x.getValue(r)!==x.getValue(i)&&(s[o]=(s[o]||0)+1,j.batch.start(),x.setValue(i,x.getValue(r)),j.mutateQueue.enqueue(function(){--s[o]},null,[],{}),j.batch.stop())}else if(x.isMapLike(r)){var n=a.getAttribute(o);l.warn("can-stache-bindings: Merging "+o+" into "+n+" because its parent is non-observable"),x.eachKey(r,function(e){x.deleteKeyValue(r,e)}),x.setValue(r,e&&e.serialize?e.serialize():e,!0)}}return Object.defineProperty(t,"name",{value:"update "+e.parent+"."+e.parentName+" of <"+a.nodeName.toLowerCase()+">"}),i&&i[_]&&(x.onValue(i,t,"domUI"),k.addMutatedBy(r,i),t[E]=function(){return{valueDependencies:new Set([r])}}),t},T=function(e,t,n,a,r,i){var s=function(e){a[r]=(a[r]||0)+1,j.batch.start(),x.setValue(n,e),j.mutateQueue.enqueue(function(){--a[r]},null,[],{}),j.batch.stop()};return Object.defineProperty(s,"name",{value:"update "+i.child+"."+i.childName+" of <"+e.nodeName.toLowerCase()+">"}),t&&t[_]&&(x.onValue(t,s,"domUI"),k.addMutatedBy(n,t),s[E]=function(){return{valueDependencies:new Set([n])}}),s},I=String.prototype.startsWith||function(e){return 0===this.indexOf(e)};var A={to:{childToParent:!0,parentToChild:!1,syncChildWithParent:!1},from:{childToParent:!1,parentToChild:!0,syncChildWithParent:!1},bind:{childToParent:!0,parentToChild:!0,syncChildWithParent:!0},raw:{childToParent:!1,parentToChild:!0,syncChildWithParent:!1}},K=[],R={vm:!0,on:!0};y(A,function(e,t){K.push(t),R[t]=!0});var B=function(e,t,n,a,r){var i,s,o,c,u,l,d,p=L.decode(e.name),f=e.value||"",h=(c=p.split(":"),u={tokens:[],special:{}},c.forEach(function(e){R[e]?u.special[e]=u.tokens.push(e)-1:u.tokens.push(e)}),u);if(K.forEach(function(e){if(void 0!==h.special[e]&&0<h.special[e])return s=e,o=h.special[e],!1}),s){var v=function(e){if(void 0!==e.special.on)return e.tokens[e.special.on+1]}(h),g=!v;return i=m({parent:"scope",child:(l=h.tokens,d=r,0<=l.indexOf("vm")?V:0<=l.indexOf("el")?"attribute":d?V:"viewModelOrAttribute"),childName:h.tokens[o-1],childEvent:v,bindingAttributeName:p,parentName:h.special.raw?'"'+f+'"':f,initializeValues:g},A[s]),"~"===f.trim().charAt(0)&&(i.stickyParentToChild=!0),i}},H=function(e,t,n){var a=B(e,n.attributeViewModelBindings,n.templateType,t.nodeName.toLowerCase(),n.favorViewModel);if(a){a.alreadyUpdatedChild=n.alreadyUpdatedChild,n.initializeValues&&(a.initializeValues=!0);var r,i,s=N[a.parent](t,n.scope,a.parentName,n,a.parentToChild,void 0,void 0,a),o=N[a.child](t,n.scope,a.childName,n,a.childToParent,a.stickyParentToChild&&s,a.childEvent,a);n.nodeList&&(s&&x.setPriority(s,n.nodeList.nesting+1),o&&x.setPriority(o,n.nodeList.nesting+1)),a.parentToChild&&(i=T(t,s,o,n.semaphore,a.bindingAttributeName,a));var c=function(){a.childToParent?r=M(t,s,o,n.semaphore,a.bindingAttributeName,a.syncChildWithParent,a):a.stickyParentToChild&&o[q]&&x.onValue(o,O,"mutate"),a.initializeValues&&F(a,o,s,i,r)},u=function(){z(s,i),z(o,r),z(o,O)};return a.child===V?{value:a.stickyParentToChild?S(s):x.getValue(s),onCompleteBinding:c,bindingInfo:a,onTeardown:u}:(c(),{bindingInfo:a,onTeardown:u})}},F=function(e,t,n,a,r){var i=!1;e.parentToChild&&!e.childToParent||(!e.parentToChild&&e.childToParent?i=!0:void 0===x.getValue(t)||void 0===x.getValue(n)&&(i=!0)),i?r(x.getValue(t)):e.alreadyUpdatedChild||a(x.getValue(n))},z=function(e,t){e&&e[_]&&"function"==typeof t&&x.offValue(e,t,"domUI")},U=function(e,t){if(0<=e.indexOf("@")){var n=t.peek("scope.filename"),a=t.peek("scope.lineNumber");l.warn((n?n+":":"")+(a?a+": ":"")+"functions are no longer called by default so @ is unnecessary in '"+e+"'.")}return e.replace(/@/g,"")};n.exports={behaviors:r,getBindingInfo:B}}),define("can-simple-observable/async/async",["require","exports","module","can-simple-observable","can-observation","can-queues","can-simple-observable/settable/settable","can-reflect","can-observation-recorder","can-event-queue/value/value"],function(e,t,n){var r=e("can-simple-observable"),i=e("can-observation"),a=e("can-queues"),s=e("can-simple-observable/settable/settable"),o=e("can-reflect"),c=e("can-observation-recorder");e("can-event-queue/value/value");function u(t,n,e){function a(){this.resolveCalled=!1,this.inGetter=!0;var e=t.call(n,this.lastSetValue.get(),!0===this.bound?this.resolve:void 0);if(this.inGetter=!1,void 0!==e?this.resolve(e):this.resolveCalled&&this.resolve(this.value),!0!==this.bound)return e}this.resolve=this.resolve.bind(this),this.lastSetValue=new r(e),this.handler=this.handler.bind(this),o.assignSymbols(this,{"can.getName":function(){return o.getName(this.constructor)+"<"+o.getName(t)+">"}}),Object.defineProperty(this.handler,"name",{value:o.getName(this)+".handler"}),Object.defineProperty(a,"name",{value:o.getName(t)+"::"+o.getName(this.constructor)}),this.observation=new i(a,this)}((u.prototype=Object.create(s.prototype)).constructor=u).prototype.handler=function(e){void 0!==e&&s.prototype.handler.apply(this,arguments)};var l=c.ignore(o.getValue.bind(o));u.prototype.onBound=function(){this.bound=!0,o.onValue(this.observation,this.handler,"notify"),this.resolveCalled||(this.value=l(this.observation))},u.prototype.resolve=function(e){this.resolveCalled=!0;var t=this.value;this.value=e,"function"==typeof this._log&&this._log(t,e),this.inGetter||a.enqueueByQueue(this.handlers.getNode([]),this,[e,t],null,[o.getName(this),"resolved with",e])},n.exports=u}),define("can-simple-observable/resolver/resolver",["require","exports","module","can-reflect","can-symbol","can-observation-recorder","can-observation","can-queues","can-event-queue/map/map","can-simple-observable/settable/settable","can-simple-observable"],function(e,t,n){var s=e("can-reflect"),a=e("can-symbol"),r=e("can-observation-recorder"),i=e("can-observation"),o=e("can-queues"),c=e("can-event-queue/map/map"),u=e("can-simple-observable/settable/settable"),l=e("can-simple-observable"),d=a.for("can.getChangesDependencyRecord");function p(e,t){this.resolver=e,this.context=t,this.valueOptions={resolve:this.resolve.bind(this),listenTo:this.listenTo.bind(this),stopListening:this.stopListening.bind(this),lastSet:new l(void 0)},this.update=this.update.bind(this),this.contextHandlers=new WeakMap,this.teardown=null,this.binder={},s.assignSymbols(this,{"can.getName":function(){return s.getName(this.constructor)+"<"+s.getName(e)+">"}}),Object.defineProperty(this.update,"name",{value:s.getName(this)+".update"}),s.assignSymbols(this.valueOptions.lastSet,{"can.getName":function(){return s.getName(this.constructor)+"::lastSet<"+s.getName(e)+">"}})}function f(e,t,n,a){c.off.call(e,t,a,n)}p.prototype=Object.create(u.prototype),s.assignMap(p.prototype,{constructor:p,listenTo:function(e,t,n,a){s.isPrimitive(e)&&(n=t,t=e,e=this.context),"function"==typeof t&&(n=t,t=void 0);var r=this,i=n.bind(this.context);i[d]=function(){return{valueDependencies:new Set([r])}},this.contextHandlers.set(n,i),c.listenTo.call(this.binder,e,t,i,a||"notify")},stopListening:function(){var e=this.binder[a.for("can.meta")],t=e&&e.listenHandlers;if(t){var n=c.stopListeningArgumentsToKeys.call({context:this.context,defaultQueue:"notify"});t.delete(n,f)}return this},resolve:function(e){return this.value=e,this.isBinding?this.lastValue=this.value:this.value!==this.lastValue&&(o.batch.start(),o.deriveQueue.enqueue(this.update,this,[],{log:[s.getName(this.update)],reasonLog:[s.getName(this),"resolved with",e]}),o.batch.stop()),e},update:function(){if(this.lastValue!==this.value){var e=this.lastValue;this.lastValue=this.value,"function"==typeof this._log&&this._log(e,this.value),o.enqueueByQueue(this.handlers.getNode([]),this,[this.value,e])}},onBound:function(){this.bound=!0,this.isBinding=!0,this.teardown=this.resolver.call(this.context,this.valueOptions),this.isBinding=!1},onUnbound:function(){this.bound=!1,c.stopListening.call(this.binder),null!=this.teardown&&(this.teardown(),this.teardown=null)},set:function(e){this.valueOptions.lastSet.set(e)},get:function(){if(r.isRecording()&&(r.add(this),this.bound||i.temporarilyBind(this)),!0===this.bound)return this.value;var e=function(){};this.on(e);var t=this.value;return this.off(e),t},hasDependencies:function(){var e=!1;if(this.bound){var t=this.binder[a.for("can.meta")];e=!!(t&&t.listenHandlers).size()}return e},getValueDependencies:function(){if(this.bound){var e=this.binder[a.for("can.meta")],t=e&&e.listenHandlers,r=new Map,i=new Set;if(t&&(s.each(t.root,function(e,a){s.each(e,function(e,t){if(void 0===t)i.add(a);else{var n=r.get(a);n||(n=new Set,r.set(a,n)),n.add(t)}})}),i.size||r.size)){var n={};return r.size&&(n.keyDependencies=r),i.size&&(n.valueDependencies=i),n}}}}),s.assignSymbols(p.prototype,{"can.getValue":p.prototype.get,"can.setValue":p.prototype.set,"can.isMapLike":!1,"can.getPriority":function(){return this.priority||0},"can.setPriority":function(e){this.priority=e},"can.valueHasDependencies":p.prototype.hasDependencies,"can.getValueDependencies":p.prototype.getValueDependencies}),n.exports=p}),define("can-event-queue/type/type",["require","exports","module","can-reflect","can-symbol","can-key-tree","can-queues"],function(e,t,n){var a=e("can-reflect"),r=e("can-symbol"),i=e("can-key-tree"),s=e("can-queues"),o=r.for("can.meta");function c(e,t){t.lifecycleHandlers||(t.lifecycleHandlers=new i([Object,Array])),t.instancePatchesHandlers||(t.instancePatchesHandlers=new i([Object,Array]))}function u(e){var t=e[o];return t||(t={},a.setKeyValue(e,o,t)),c(0,t),t}var l={};function d(e,t,n){l["can.on"+e]=function(e,t){u(this)[n].add([t||"mutate",e])},l["can.off"+e]=function(e,t){u(this)[n].delete([t||"mutate",e])},l["can."+t]=function(e,t){s.enqueueByQueue(u(this)[n].getNode([]),this,[e,t])}}function p(e){return a.assignSymbols(e,l)}d("InstancePatches","dispatchInstanceOnPatches","instancePatchesHandlers"),d("InstanceBoundChange","dispatchInstanceBoundChange","lifecycleHandlers"),Object.defineProperty(p,"addHandlers",{enumerable:!1,value:c}),n.exports=p}),define("can-util/js/defaults/defaults",function(e,t,n){"use strict";n.exports=function(e){for(var t=arguments.length,n=1;n<t;n++)for(var a in arguments[n])void 0===e[a]&&(e[a]=arguments[n][a]);return e}}),define("can-util/js/string-to-any/string-to-any",function(e,t,n){"use strict";n.exports=function(e){switch(e){case"NaN":case"Infinity":return+e;case"null":return null;case"undefined":return;case"true":case"false":return"true"===e;default:var t=+e;return isNaN(t)?e:t}}}),define("can-define",["require","exports","module","can-namespace","can-symbol","can-reflect","can-observation","can-observation-recorder","can-simple-observable/async/async","can-simple-observable/settable/settable","can-simple-observable/resolver/resolver","can-event-queue/map/map","can-event-queue/type/type","can-queues","can-util/js/is-empty-object/is-empty-object","can-util/js/assign/assign","can-log/dev/dev","can-util/js/is-plain-object/is-plain-object","can-util/js/each/each","can-util/js/defaults/defaults","can-util/js/string-to-any/string-to-any","can-define-lazy-value"],function(e,t,n){"use strict";"format cjs";var c,v,g,m,u,r,o,a=e("can-namespace"),l=e("can-symbol"),y=e("can-reflect"),s=e("can-observation"),b=e("can-observation-recorder"),d=e("can-simple-observable/async/async"),p=e("can-simple-observable/settable/settable"),i=e("can-simple-observable/resolver/resolver"),f=e("can-event-queue/map/map"),h=e("can-event-queue/type/type"),w=e("can-queues"),x=e("can-util/js/is-empty-object/is-empty-object"),k=e("can-util/js/assign/assign"),L=e("can-log/dev/dev"),j=e("can-util/js/is-plain-object/is-plain-object"),D=e("can-util/js/each/each"),S=e("can-util/js/defaults/defaults"),C=e("can-util/js/string-to-any/string-to-any"),O=e("can-define-lazy-value"),V=b.ignore(y.getValue.bind(y)),_=Object.defineProperty;_=function(e,t,n){return n.get&&Object.defineProperty(n.get,"name",{value:"get "+y.getName(e)+"."+t,writable:!0}),n.set&&Object.defineProperty(n.set,"name",{value:"set "+y.getName(e)+"."+t}),Object.defineProperty(e,t,n)};var q=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})};function E(e,t,n){void 0===t.value||"function"==typeof t.value&&0!==t.value.length||(n&&L.warn("can-define: Change the 'value' definition for "+e+" to 'default'."),t.default=t.value,delete t.value),void 0!==t.Value&&(n&&L.warn("can-define: Change the 'Value' definition for "+e+" to 'Default'."),t.Default=t.Value,delete t.Value)}n.exports=v=a.define=function(n,e,t){var a,r=Object.create(t?t.dataInitializers:null),i=Object.create(t?t.computedInitializers:null),s=u(e,t);if(s.dataInitializers=r,s.computedInitializers=i,D(s.definitions,function(e,t){v.property(n,t,e,r,i,s.defaultDefinition)}),n.hasOwnProperty("_data"))for(a in r)O(n._data,a,r[a].bind(n),!0);else O(n,"_data",function(){var e={};for(var t in r)O(e,t,r[t].bind(this),!0);return e});if(n.hasOwnProperty("_computed"))for(a in i)O(n._computed,a,i[a].bind(n));else O(n,"_computed",function(){var e=Object.create(null);for(var t in i)O(e,t,i[t].bind(this));return e});for(a in c)Object.defineProperty(n,a,{enumerable:!1,value:c[a],configurable:!0,writable:!0});Object.defineProperty(n,"_define",{enumerable:!1,value:s,configurable:!0,writable:!0});var o=l.iterator||l.for("iterator");return n[o]||q(n,o,function(){return new v.Iterator(this)}),s},v.extensions=function(){};function P(e){return"function"==typeof e.value&&e.value.length}v.property=function(e,t,n,a,r,i){var s=v.extensions.apply(this,arguments);s&&(n=m(t,s,i||{}));var o=n.type;if(o&&y.isConstructorLike(o)&&L.warn("can-define: the definition for "+t+(e.constructor.shortName?" on "+e.constructor.shortName:"")+' uses a constructor for "type". Did you mean "Type"?'),o&&function(e){for(var t in e)if("type"!==t)return!1;return!0}(n)&&o===v.types["*"])_(e,t,{get:g.get.data(t),set:g.set.events(t,g.get.data(t),g.set.data(t),g.eventType.data(t)),enumerable:!0,configurable:!0});else{n.type=o;var c,u=n.get||P(n)?"computed":"data",l=g.read[u](t),d=g.get[u](t),p=g.set[u](t);n.get&&Object.defineProperty(n.get,"name",{value:y.getName(e)+"'s "+t+" getter"}),n.set&&Object.defineProperty(n.set,"name",{value:y.getName(e)+"'s "+t+" setter"}),P(n)&&Object.defineProperty(n.value,"name",{value:y.getName(e)+"'s "+t+" value"});var f=function(e){return e};n.Type&&(f=g.set.Type(t,n.Type,f)),o&&(f=g.set.type(t,o,f));var h=g.set.events(t,l,p,g.eventType[u](t));P(n)?r[t]=g.valueResolver(t,n,f):void 0===n.default&&void 0===n.Default||(null!==n.default&&"object"==typeof n.default&&L.warn("can-define: The value for "+t+" is set to an object. This will be shared by all instances of the DefineMap. Use a function that returns the object instead."),n.default&&y.isConstructorLike(n.default)&&L.warn('can-define: The "value" for '+t+' is set to a constructor. Did you mean "Value" instead?'),c=b.ignore(g.get.defaultValue(t,n,f,h))),n.get?r[t]=g.compute(t,n.get,c):c&&(a[t]=c),n.get&&n.set?p=g.set.setter(t,n.set,g.read.lastSet(t),p,!0):n.set?p=g.set.setter(t,n.set,l,h,!1):"data"===u?p=h:n.get&&n.get.length<1&&(p=function(){L.warn("can-define: Set value for property "+t+(e.constructor.shortName?" on "+e.constructor.shortName:"")+" ignored, as its definition has a zero-argument getter and no setter")}),o&&(p=g.set.type(t,o,p)),n.Type&&(p=g.set.Type(t,n.Type,p)),_(e,t,{get:d,set:p,enumerable:"serialize"in n?!!n.serialize:!n.get,configurable:!0})}},v.makeDefineInstanceKey=function(r){r[l.for("can.defineInstanceKey")]=function(e,t){var n=this.prototype._define;"object"==typeof t&&E(e,t,!1);var a=o(e,t,n.defaultDefinition);a&&"object"==typeof a?(v.property(r.prototype,e,a,n.dataInitializers,n.computedInitializers,n.defaultDefinition),n.definitions[e]=a):n.methods[e]=a}},v.Constructor=function(e,t){var n=function(e){Object.defineProperty(this,"__inSetup",{configurable:!0,enumerable:!1,value:!0,writable:!0}),v.setup.call(this,e,t),this.__inSetup=!1},a=v(n.prototype,e);return h(n),v.makeDefineInstanceKey(n,a),n},g={computeObj:function(n,a,e){var r={oldValue:void 0,compute:e,count:0,handler:function(e){var t=r.oldValue;r.oldValue=e,n.dispatch({type:a,target:n},[e,t])}};return r},valueResolver:function(t,n,e){return function(){var e=g.computeObj(this,t,new i(n.value,this));return Object.defineProperty(e.handler,"name",{value:y.getName(n.value).replace("value","event emitter")}),e}},compute:function(a,r,i){return function(){var e,t,n=i&&i.call(this);return e=0===r.length?new s(r,this):1===r.length?new p(r,this,n):new d(r,this,n),t=g.computeObj(this,a,e),Object.defineProperty(t.handler,"name",{value:y.getName(r).replace("getter","event emitter")}),t}},set:{data:function(t){return function(e){this._data[t]=e}},computed:function(t){return function(e){y.setValue(this._computed[t].compute,e)}},events:function(n,a,r,e){return function(e){if(this.__inSetup)r.call(this,e);else{var t=a.call(this);e!==t&&(r.call(this,e),this.dispatch({patches:[{type:"set",key:n,value:e}],type:n,target:this,reasonLog:[y.getName(this)+"'s",n,"changed to",e,"from",t]},[e,t]))}}},setter:function(s,o,c,u,l){return function(e){var t,n=this;w.batch.start();var a=!1,r=c.call(this),i=o.call(this,e,function(e){u.call(n,e),a=!0,clearTimeout(t)},r);if(a)w.batch.stop();else if(l)if(void 0!==i)r!==i&&u.call(this,i),w.batch.stop();else{if(0===o.length)return u.call(this,e),void w.batch.stop();if(1!==o.length)return t=setTimeout(function(){L.warn('can/map/setter.js: Setter "'+s+'" did not return a value or call the setter callback.')},L.warnTimeout),void w.batch.stop();w.batch.stop()}else if(void 0!==i)u.call(this,i),w.batch.stop();else{if(0===o.length)return u.call(this,e),void w.batch.stop();if(1!==o.length)return t=setTimeout(function(){L.warn('can/map/setter.js: Setter "'+s+'" did not return a value or call the setter callback.')},L.warnTimeout),void w.batch.stop();u.call(this,void 0),w.batch.stop()}}},type:function(t,n,a){return"object"==typeof n?g.set.Type(t,n,a):function(e){return a.call(this,n.call(this,e,t))}},Type:function(e,t,n){return Array.isArray(t)&&v.DefineList?t=v.DefineList.extend({"#":t[0]}):"object"==typeof t&&(t=v.DefineMap?v.DefineMap.extend(t):v.Constructor(t)),function(e){return e instanceof t||null==e?n.call(this,e):n.call(this,new t(e))}}},eventType:{data:function(n){return function(e,t){return void 0!==t||this._data.hasOwnProperty(n)?"set":"add"}},computed:function(){return function(){return"set"}}},read:{data:function(e){return function(){return this._data[e]}},computed:function(e){return function(){return y.getValue(this._computed[e].compute)}},lastSet:function(t){return function(){var e=this._computed[t].compute;if(e.lastSetValue)return y.getValue(e.lastSetValue)}}},get:{defaultValue:function(r,i,s,o){return function(){var e=i.default;if(void 0!==e)"function"==typeof e&&(e=e.call(this)),e=s(e);else{var t=i.Default;t&&(e=s(new t))}if(i.set){var n,a=!0;return g.set.setter(r,i.set,function(){},function(e){a?n=e:o.call(this,e)},i.get).call(this,e),a=!1,n}return e}},data:function(e){return function(){return this.__inSetup||b.add(this,e),this._data[e]}},computed:function(n){return function(e){var t=this._computed[n].compute;return b.isRecording()&&(b.add(this,n),y.isBound(t)||s.temporarilyBind(t)),V(t)}}}},v.behaviors=["get","set","value","Value","type","Type","serialize"];function N(e,t){var n=e._computed&&e._computed[t];n&&n.compute&&(n.count?n.count++:(n.count=1,y.onValue(n.compute,n.handler,"notify"),n.oldValue=y.getValue(n.compute)))}function M(e,t){var n=e._computed&&e._computed[t];n&&(1===n.count?(n.count=0,y.offValue(n.compute,n.handler,"notify")):n.count--)}m=function(e,t,n){var a={};return D(t,function(e,t){!function(e,t,n){if("enumerable"===t)e.serialize=!!n;else if("type"===t){var a=n;"string"==typeof a&&"object"==typeof(a=v.types[a])&&(k(e,a),a=a[t]),void 0!==a&&(e[t]=a)}else e[t]=n}(a,t,e)}),D(n,function(e,t){void 0===a[t]&&"type"!==t&&"Type"!==t&&(a[t]=e)}),"string"!=typeof t.type&&(a.type||a.Type||S(a,n),x(a)&&(a.type=v.types["*"])),E(e,a,!0),a},o=function(e,t,n){var a;return"string"==typeof t?a={type:t}:"function"==typeof t?y.isConstructorLike(t)?a={Type:t}:r(t)&&(a={type:t}):Array.isArray(t)?a={Type:t}:j(t)&&(a=t),a?m(e,a,n):t},u=function(e,t){var r,i=Object.create(t?t.definitions:null),s={},n=e["*"];return n?(delete e["*"],r=o("*",n,{})):r=Object.create(null),function(e,t){for(var n in e)e.hasOwnProperty(n)&&t.call(e,n,Object.getOwnPropertyDescriptor(e,n))}(e,function(e,t){var n;if(n=t.get||t.set?{get:t.get,set:t.set}:t.value,"constructor"!==e){var a=o(e,n,r);a&&"object"==typeof a&&!x(a)?i[e]=a:"function"==typeof a?s[e]=a:void 0!==a&&L.error(e+(this.constructor.shortName?" on "+this.constructor.shortName:"")+" does not match a supported propDefinition. See: https://canjs.com/doc/can-define.types.propDefinition.html")}else s[e]=n}),n&&(e["*"]=n),{definitions:i,methods:s,defaultDefinition:r}},c=f({});var T=l.for("can.meta");k(c,{_eventSetup:function(){},_eventTeardown:function(){},addEventListener:function(e,t,n){return N(this,e),f.addEventListener.apply(this,arguments)},removeEventListener:function(e,t){return M(this,e),f.removeEventListener.apply(this,arguments)}}),c.on=c.bind=c.addEventListener,c.off=c.unbind=c.removeEventListener;var I=l.for("can.onKeyValue"),A=l.for("can.offKeyValue");y.assignSymbols(c,{"can.onKeyValue":function(e){return N(this,e),f[I].apply(this,arguments)},"can.offKeyValue":function(e){return M(this,e),f[A].apply(this,arguments)}}),delete c.one,v.setup=function(e,t){Object.defineProperty(this,"constructor",{value:this.constructor,enumerable:!1,writable:!1}),Object.defineProperty(this,T,{value:Object.create(null),enumerable:!1,writable:!1});var a=this._define.definitions,r=Object.create(null),i=this;y.eachKey(e,function(e,t){if(void 0!==a[t])i[t]=e;else{var n=v.makeSimpleGetterSetter(t);r[t]={},_(i,t,n),i[t]=v.types.observable(e)}}),x(r)||q(this,"_instanceDefinitions",r),this._data,this._computed,!1!==t&&Object.seal(this)},v.replaceWith=O,v.eventsProto=c,v.defineConfigurableAndNotEnumerable=q,v.make=g,v.getDefinitionOrMethod=o;var K={};function R(e){return y.isValueLike(e)&&y.isObservableLike(e)}v.makeSimpleGetterSetter=function(e){if(void 0===K[e]){var t=g.set.events(e,g.get.data(e),g.set.data(e),g.eventType.data(e));K[e]={get:g.get.data(e),set:function(e){return t.call(this,v.types.observable(e))},enumerable:!0}}return K[e]},v.Iterator=function(e){this.obj=e,this.definitions=Object.keys(e._define.definitions),this.instanceDefinitions=e._instanceDefinitions?Object.keys(e._instanceDefinitions):Object.keys(e),this.hasGet="function"==typeof e.get},v.Iterator.prototype.next=function(){var e;if(this.definitions.length){if(e=this.definitions.shift(),this.obj._define.definitions[e].get)return this.next()}else{if(!this.instanceDefinitions.length)return{value:void 0,done:!0};e=this.instanceDefinitions.shift()}return{value:[e,this.hasGet?this.obj.get(e):this.obj[e]],done:!1}},r=function(e){return e&&!0===e.canDefineType},v.types={date:function(e){var t=typeof e;return"string"===t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"===t?new Date(e):e},number:function(e){return null==e?e:+e},boolean:function(e){return null==e?e:!("false"===e||"0"===e||!e)},observable:function(e){return Array.isArray(e)&&v.DefineList?e=new v.DefineList(e):j(e)&&v.DefineMap&&(e=new v.DefineMap(e)),e},stringOrObservable:function(e){return Array.isArray(e)?new v.DefaultList(e):j(e)?new v.DefaultMap(e):v.types.string(e)},htmlbool:function(e){return""===e||!!C(e)},"*":function(e){return e},any:function(e){return e},string:function(e){return null==e?e:""+e},compute:{set:function(e,t,n,a){return R(e)?e:R(a)?(y.setValue(a,e),a):e},get:function(e){return R(e)?y.getValue(e):e}}}}),define("can-define/define-helpers/define-helpers",["require","exports","module","can-define","can-reflect","can-queues"],function(e,t,n){var s=e("can-define"),o=e("can-reflect"),c=e("can-queues"),a={defineExpando:function(e,t,n){var a=e._define.definitions;if(!a||!a[t]){var r=e._instanceDefinitions;if(!r){if(Object.isSealed(e))return;Object.defineProperty(e,"_instanceDefinitions",{configurable:!0,enumerable:!1,value:{}}),r=e._instanceDefinitions}if(!r[t]){var i=e._define.defaultDefinition||{type:s.types.observable};return s.property(e,t,i,{},{}),e._data[t]=i.type?i.type(n):s.types.observable(n),r[t]=i,c.batch.start(),e.dispatch({type:"can.keys",target:e}),void 0!==e._data[t]&&e.dispatch({type:t,target:e,patches:[{type:"set",key:t,value:e._data[t]}]},[e._data[t],void 0]),c.batch.stop(),!0}}},reflectSerialize:function(a){var r=this._define.definitions,i=this._define.defaultDefinition;return this.forEach(function(e,t){var n=r[t];void 0!==(e=n&&"function"==typeof n.serialize?n.serialize.call(this,e,t):i&&"function"==typeof i.serialize?i.serialize.call(this,e,t):o.serialize(e))&&(a[t]=e)},this),a},reflectUnwrap:function(n){return this.forEach(function(e,t){void 0!==e&&(n[t]=o.unwrap(e))}),n}};n.exports=a}),define("can-define/ensure-meta",["require","exports","module","can-symbol","can-reflect"],function(e,t,n){var a=e("can-symbol"),r=e("can-reflect");n.exports=function(e){var t=a.for("can.meta"),n=e[t];return n||(n={},r.setKeyValue(e,t,n)),n}}),define("can-define/map/map",["require","exports","module","can-construct","can-define","can-define/define-helpers/define-helpers","can-observation-recorder","can-namespace","can-log","can-log/dev/dev","can-reflect","can-symbol","can-queues","can-define/ensure-meta","can-log/dev/dev","can-event-queue/type/type"],function(e,t,n){"use strict";var a=e("can-construct"),r=e("can-define"),i=e("can-define/define-helpers/define-helpers"),s=e("can-observation-recorder"),o=e("can-namespace"),c=e("can-log"),u=e("can-log/dev/dev"),l=e("can-reflect"),d=e("can-symbol"),p=e("can-queues"),f=e("can-define/ensure-meta"),h=e("can-log/dev/dev"),v=e("can-event-queue/type/type"),g=function(e){var t=[];for(var n in e){var a=e[n];"object"==typeof a&&("serialize"in a?!a.serialize:a.get)||t.push(n)}return t};function m(e){p.batch.start(),l.assignDeepMap(this,e||{}),p.batch.stop()}function y(e){p.batch.start(),l.updateDeepMap(this,e||{}),p.batch.stop()}function b(e,t){i.defineExpando(this,e,t)||(this[e]=t)}function w(e){var t=this[e];return void 0!==t||e in this||Object.isSealed(this)?t:(s.add(this,e),this[e])}var x,k,L=a.extend("DefineMap",{setup:function(e){var t,n=this.prototype;if(L){var a=r(n,n,e.prototype._define);for(t in r.makeDefineInstanceKey(this,a),v(this),L.prototype)r.defineConfigurableAndNotEnumerable(n,t,n[t]);this.prototype.setup=function(e){r.setup.call(this,e||{},this.constructor.seal)}}else for(t in n)r.defineConfigurableAndNotEnumerable(n,t,n[t]);r.defineConfigurableAndNotEnumerable(n,"constructor",this)}},{setup:function(e,t){this._define||(Object.defineProperty(this,"_define",{enumerable:!1,value:{definitions:{}}}),Object.defineProperty(this,"_data",{enumerable:!1,value:{}})),r.setup.call(this,e||{},!0===t)},get:function(e){return e?w.call(this,e):l.unwrap(this,Map)},set:function(e,t){return"object"==typeof e?(u.warn("can-define/map/map.prototype.set is deprecated; please use can-define/map/map.prototype.assign or can-define/map/map.prototype.update instead"),!0===t?y.call(this,e):m.call(this,e)):b.call(this,e,t),this},assignDeep:function(e){return m.call(this,e),this},updateDeep:function(e){return y.call(this,e),this},assign:function(e){return function(e){p.batch.start(),l.assignMap(this,e||{}),p.batch.stop()}.call(this,e),this},update:function(e){return function(e){p.batch.start(),l.updateMap(this,e||{}),p.batch.stop()}.call(this,e),this},serialize:function(){return l.serialize(this,Map)},forEach:(x=function(e,t,n){return l.eachKey(e,t,n)},k=s.ignore(x),function(e,t,n){return!1===n?k(this,e,t):x(this,e,t)}),"*":{type:r.types.observable},log:function(a){var r=this,i=function(e){return"string"==typeof e?JSON.stringify(e):e},e=f(r),s=e.allowedLogKeysSet||new Set;e.allowedLogKeysSet=s,a&&s.add(a),e._log=function(e,t){var n=e.type;"can.keys"===n||a&&!s.has(n)||h.log(l.getName(r),"\n key ",i(n),"\n is  ",i(t[0]),"\n was ",i(t[1]))}}});for(var j in l.assignSymbols(L.prototype,{"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":w,"can.setKeyValue":b,"can.deleteKeyValue":function(e){return this.set(e,void 0),this},"can.getOwnEnumerableKeys":function(){return s.add(this,"can.keys"),g(this._define.definitions).concat(g(this._instanceDefinitions))},"can.hasOwnKey":function(e){return Object.hasOwnProperty.call(this._define.definitions,e)},"can.hasKey":function(e){return!!this._define.definitions[e]},"can.assignDeep":m,"can.updateDeep":y,"can.unwrap":i.reflectUnwrap,"can.serialize":i.reflectSerialize,"can.keyHasDependencies":function(e){return!!(this._computed&&this._computed[e]&&this._computed[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computed&&this._computed[e]&&this._computed[e].compute&&((t={}).valueDependencies=new Set([this._computed[e].compute])),t},"can.getName":function(){return l.getName(this.constructor)+"{}"}}),l.setKeyValue(L.prototype,d.iterator,function(){return new r.Iterator(this)}),r.eventsProto)L[j]=r.eventsProto[j],Object.defineProperty(L.prototype,j,{enumerable:!1,value:r.eventsProto[j],writable:!0});("getOwnPropertySymbols"in Object?Object.getOwnPropertySymbols(r.eventsProto):[d.for("can.onKeyValue"),d.for("can.offKeyValue")]).forEach(function(e){Object.defineProperty(L.prototype,e,{enumerable:!1,value:r.eventsProto[e],writable:!0})}),r.DefineMap=L,Object.defineProperty(L.prototype,"toObject",{enumerable:!1,writable:!0,value:function(){return c.warn("Use DefineMap::get instead of DefineMap::toObject"),this.get()}}),n.exports=o.DefineMap=L}),define("can-component",["require","exports","module","can-component/control/control","can-namespace","can-construct","can-stache","can-stache-bindings","can-view-scope","can-view-callbacks","can-view-nodelist","can-reflect","can-simple-observable","can-simple-map","can-define/map/map","can-log","can-log/dev/dev","can-assign","can-view-model","can-dom-data-state","can-util/dom/child-nodes/child-nodes","can-util/js/string/string","can-dom-events","can-dom-mutate","can-dom-mutate/node","can-symbol","can-globals/document/document"],function(e,t,n){!function(e,t,n,a){var r=t("can-component/control/control"),i=t("can-namespace"),s=t("can-construct"),o=t("can-stache"),y=t("can-stache-bindings"),b=t("can-view-scope"),c=t("can-view-callbacks"),w=t("can-view-nodelist"),x=t("can-reflect"),u=t("can-simple-observable"),k=t("can-simple-map"),l=t("can-define/map/map"),d=t("can-log"),p=t("can-log/dev/dev"),f=t("can-assign");t("can-view-model");var L=t("can-dom-data-state"),j=t("can-util/dom/child-nodes/child-nodes"),h=t("can-util/js/string/string"),D=t("can-dom-events"),S=t("can-dom-mutate"),C=t("can-dom-mutate/node"),O=t("can-symbol"),V=t("can-globals/document/document");function v(e,t,n){var a;L.set.call(e,"preventDataBindings",!0);var r=y.behaviors.viewModel(e,n,function(e){return a=new u(e)},void 0,!0);return r?f(f({},t),{teardown:r,scope:t.scope.add(a)}):t}function _(l,d,e,p,f){var h=e.options;return function e(t,n){var a=f(t)||n.subtemplate,r=a!==n.subtemplate;if(a){var i;delete h.tags[l],i=r?p.toLightContent?v(t,{scope:n.scope.cloneFromRef(),options:n.options},n):v(t,d,n):v(t,n,n);var s=w.register([t],function(){i.teardown&&i.teardown()},n.parentNodeList||!0,n.directlyNested);s.expression="<can-slot name='"+t.getAttribute("name")+"'/>";var o=a(i.scope,i.options,s),c=x.toArray(j(o)),u=w.update(s,c);w.replace(u,o),h.tags[l]=e}}}var g=s.extend({setup:function(){if(s.setup.apply(this,arguments),g){var n=this;void 0!==this.prototype.events&&0!==x.size(this.prototype.events)&&(this.Control=r.extend(this.prototype.events)),this.prototype.viewModel&&x.isConstructorLike(this.prototype.viewModel)&&p.warn("can-component: Assigning a DefineMap or constructor type to the viewModel property may not be what you intended. Did you mean ViewModel instead? More info: https://canjs.com/doc/can-component.prototype.ViewModel.html");var e=this.prototype.viewModel||this.prototype.scope;if(e&&this.prototype.ViewModel)throw new Error("Cannot provide both a ViewModel and a viewModel property");var t=h.capitalize(h.camelize(this.prototype.tag))+"VM";this.prototype.ViewModel?"function"==typeof this.prototype.ViewModel?this.ViewModel=this.prototype.ViewModel:this.ViewModel=l.extend(t,{},this.prototype.ViewModel):e?"function"==typeof e?x.isObservableLike(e.prototype)&&x.isMapLike(e.prototype)?this.ViewModel=e:this.viewModelHandler=e:x.isObservableLike(e)&&x.isMapLike(e)?(d.warn("can-component: "+this.prototype.tag+" is sharing a single map across all component instances"),this.viewModelInstance=e):(d.warn("can-component: "+this.prototype.tag+" is extending the viewModel into a can-simple-map"),this.ViewModel=k.extend(t,{},e)):this.ViewModel=k.extend(t,{},{}),this.prototype.template&&(d.warn("can-component.prototype.template: is deprecated and will be removed in a future release. Use can-component.prototype.view"),this.renderer=this.prototype.template),this.prototype.view&&(this.renderer=this.prototype.view),"string"==typeof this.renderer&&(this.renderer=o(this.renderer)),c.tag(this.prototype.tag,function(e,t){new n(e,t)})}}},{setup:function(i,s){var o,e,t,c=this,n=[],a=function(){for(var e=0,t=n.length;e<t;e++)n[e]()};if(!L.get.call(i,"preventDataBindings")){var r=s.setupBindings||function(e,t,n){return y.behaviors.viewModel(e,s,t,n)};t=r(i,function(e){var t=c.constructor.ViewModel,n=c.constructor.viewModelHandler,a=c.constructor.viewModelInstance;if(n){var r=n.call(c,e,s.scope,i);x.isObservableLike(r)&&x.isMapLike(r)?a=r:t=x.isObservableLike(r.prototype)&&x.isMapLike(r.prototype)?r:k.extend(r)}return t&&(a=new c.constructor.ViewModel(e)),o=a},{})}else o=i[O.for("can.viewModel")];this.viewModel=o,i[O.for("can.viewModel")]=o,L.set.call(i,"preventDataBindings",!0);var u={helpers:{},tags:{}};if(void 0!==this.helpers&&x.eachKey(this.helpers,function(e,t){"function"==typeof e&&(u.helpers[t]=e.bind(o))}),this.constructor.Control)this._control=new this.constructor.Control(i,{scope:this.viewModel,viewModel:this.viewModel,destroy:a});else var l=S.onNodeRemoval(i,function(){i.ownerDocument.contains(i)||(l(),a())});var d,p,f,h,v={toLightContent:!0===this.leakScope,intoShadowContent:!0===this.leakScope};!this.constructor.renderer?(p={scope:s.scope.add(this.viewModel,{viewModel:!0}),options:u},d=s.subtemplate||i.ownerDocument.createDocumentFragment.bind(i.ownerDocument)):(f=v.intoShadowContent?{scope:s.scope.add(this.viewModel),options:u}:{scope:new b(this.viewModel),options:u},u.tags["can-slot"]=_("can-slot",s,f,v,function(e){var t=s.templates;if(t)return t[e.getAttribute("name")]}),u.tags.content=_("content",s,f,v,function(){return s.subtemplate}),d=this.constructor.renderer,p=f);var g=w.register([],function(){D.dispatch(i,"beforeremove",!1),t&&t(),h&&h(i)},s.parentNodeList||!0,!1);if(g.expression="<"+this.tag+">",n.push(function(){w.unregister(g)}),e=d(p.scope,p.options,g),C.appendChild.call(i,e),w.update(g,j(i)),o&&o.connectedCallback)if(V().body.contains(i))h=o.connectedCallback(i);else var m=S.onNodeInsertion(i,function(){m(),h=o.connectedCallback(i)})}});a.exports=i.Component=g}(0,e,0,n)}),define("can-connect/connect",["require","exports","module","can-util/js/assign/assign"],function(e,t,n){var s=e("can-util/js/assign/assign"),a=function(e,t){(e=e.map(function(e,t){var n=-1;return"string"==typeof e?(n=a.order.indexOf(e),e=o[e]):e.isBehavior?n=a.order.indexOf(e.behaviorName):e=a.behavior(e),{originalIndex:t,sortedIndex:n,behavior:e}})).sort(function(e,t){return~e.sortedIndex&&~t.sortedIndex?e.sortedIndex-t.sortedIndex:e.originalIndex-t.originalIndex}),e=e.map(function(e){return e.behavior});var n=a.base(a.behavior("options",function(){return t})());return e.forEach(function(e){n=e(n)}),n.init&&n.init(),n};a.order=["data/localstorage-cache","data/url","data/parse","cache-requests","data/combine-requests","constructor","constructor/store","can/map","can/ref","fall-through-cache","data/worker","real-time","data/callbacks-cache","data/callbacks","constructor/callbacks-once"],a.behavior=function(r,i){"string"!=typeof r&&(i=r,r=void 0);var e=function(e){var t=function(){};t.name=r,t.prototype=e;var n=new t,a="function"==typeof i?i.apply(n,arguments):i;return s(n,a),n.__behaviorName=r,n};return r&&(o[e.behaviorName=r]=e),e.isBehavior=!0,e};var o={};n.exports=a}),define("can-connect/base/base",["require","exports","module","can-connect/connect"],function(e,t,n){var a=e("can-connect/connect");n.exports=a.behavior("base",function(e){return{id:function(e){var t=[],n=this.algebra;if(n&&n.clauses&&n.clauses.id)for(var a in n.clauses.id)t.push(e[a]);return this.idProp&&!t.length&&t.push(e[this.idProp]),t.length||t.push(e.id),1<t.length?t.join("@|@"):t[0]},idProp:e.idProp||"id",listSet:function(e){return e[this.listSetProp]},listSetProp:"__listSet",init:function(){}}})}),define("can-connect",["require","exports","module","can-connect/connect","can-connect/base/base","can-namespace"],function(e,t,n){var a=e("can-connect/connect"),r=e("can-connect/base/base"),i=e("can-namespace");a.base=r,n.exports=i.connect=a}),define("can-connect/helpers/get-items",function(e,t,n){n.exports=function(e){return Array.isArray(e)?e:e.data}}),define("can-set/src/helpers",["require","exports","module","can-util/js/assign/assign","can-util/js/each/each","can-util/js/last/last"],function(e,t,n){var s,c=e("can-util/js/assign/assign"),o=e("can-util/js/each/each"),u=e("can-util/js/last/last");n.exports=s={eachInUnique:function(e,t,n,a,r){var i,s=c({},n);for(var o in e){if(void 0!==(i=t(e[o],n[o],e,n,o)))return i;delete s[o]}for(o in s)if(void 0!==(i=a(void 0,n[o],e,n,o)))return i;return r},doubleLoop:function(e,t){"function"==typeof t&&(t={iterate:t});for(var n=0;n<e.length;){t.start&&t.start(e[n]);for(var a=n+1;a<e.length;)!1===t.iterate(e[a],a,e[n],n)?e.splice(a,1):a++;t.end&&t.end(e[n]),n++}},identityMap:function(e){var t={};return o(e,function(e){t[e]=1}),t},arrayUnionIntersectionDifference:function(e,t){var n={},a=[],r=[],i=e.slice(0);return o(e,function(e){n[e]=!0,r.push(e)}),o(t,function(e){if(n[e]){a.push(e);var t=s.indexOf.call(i,e);-1!==t&&i.splice(t,1)}else r.push(e)}),{intersection:a,union:r,difference:i}},arraySame:function(e,t){if(e.length!==t.length)return!1;for(var n=s.identityMap(e),a=0;a<t.length;a++){var r=n[t[a]];if(!r)return!1;if(1<r)return!1;n[t[a]]++}return!0},indexOf:Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},map:Array.prototype.map||function(e){for(var t=[],n=0,a=this.length;n<a;n++)t.push(e(this[n],n,this));return t},filter:Array.prototype.filter||function(e){for(var t=[],n=0,a=this.length;n<a;n++)e(this[n],n,this)&&t.push(this[n]);return t},ignoreType:new function(){},firstProp:function(e){for(var t in e)return t},index:function(e,t,n){if(t&&t.length){if(-1===e(n,t[0]))return 0;if(1===e(n,u(t)))return t.length;for(var a=0,r=t.length;a<r;){var i=a+r>>>1;-1===e(n,t[i])?r=i:a=i+1}return r}},defaultSort:function(e,t,n){var a,r=e.split(" "),i=r[0],s=t[i],o=n[i],c=r[1]||"";return(c="desc"===c.toLowerCase())&&(a=s,s=o,o=a),s<o?-1:o<s?1:0}}}),define("can-set/src/clause",["require","exports","module","can-util/js/assign/assign","can-util/js/each/each"],function(e,t,n){var a=e("can-util/js/assign/assign"),r=e("can-util/js/each/each"),i={};(n.exports=i).TYPES=["where","order","paginate","id"],r(i.TYPES,function(e){var t=e.charAt(0).toUpperCase()+e.substr(1);i[t]=function(e){a(this,e)},i[t].type=e})}),define("can-set/src/compare",["require","exports","module","can-set/src/helpers","can-util/js/assign/assign","can-util/js/each/each","can-util/js/make-array/make-array"],function(e,t,n){var c,f=e("can-set/src/helpers"),h=e("can-util/js/assign/assign"),u=e("can-util/js/each/each"),l=e("can-util/js/make-array/make-array"),v=function(e,t,n,a,r,i,s){for(var o=s.checks,c=0;c<o.length;c++){var u=o[c](e,t,n,a,r,i||{},s);if(void 0!==u)return u}return s.default},d=function(c,e){return function(e,t,n,a,r,i,s){var o=c.apply(this,arguments);return!0===o?(void 0===r||r in s.result||(s.result[r]=e),!0):o}},o=function(u,e){return function(e,t,n,a,r,i,s){var o=s.result;s.result={};var c=u.apply(this,arguments);return c&&(void 0!==r?o[r]=s.result:h(o,s.result)),s.result=o,c}};n.exports=c={equal:function(e,t,n,a,r,i,s){return s.checks=[c.equalComparesType,c.equalBasicTypes,c.equalArrayLike,c.equalObject],s.default=!1,v(e,t,n,a,r,i,s)},equalComparesType:function(e,t,n,a,r,i,s){if("function"==typeof i){var o=i(e,t,n,a,r,s);if("boolean"==typeof o)return o;if(o&&"object"==typeof o){if("intersection"in o&&!("difference"in o)){var c=i(t,e,a,n,r,s);return"intersection"in c&&!("difference"in c)}return!1}return o}},equalBasicTypes:function(e,t,n,a,r,i,s){return null===e||null===t?e===t:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():-1===s.deep?"object"==typeof e||e===t:typeof e==typeof t&&Array.isArray(e)===Array.isArray(t)&&(e===t||void 0)},equalArrayLike:function(e,t,n,a,r,i,s){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++){var c=void 0===i[o]?i["*"]:i[o];if(!v(e[o],t[o],e,t,o,c,s))return!1}return!0}},equalObject:function(e,t,n,a,r,i,s){var o=typeof e;if("object"===o||"function"===o){var c=h({},t);for(var u in!1===s.deep&&(s.deep=-1),e){var l=void 0===i[u]?i["*"]:i[u];if(!v(e[u],t[u],e,t,u,l,s))return!1;delete c[u]}for(u in c)if(void 0===i[u]||!v(void 0,t[u],e,t,u,i[u],s))return!1;return!0}},subset:function(e,t,n,a,r,i,s){return s.checks=[c.subsetComparesType,c.equalBasicTypes,c.equalArrayLike,c.subsetObject],s.getSubsets=[],s.default=!1,v(e,t,n,a,r,i,s)},subsetObject:function(e,t,n,a,r,s,o){var i=typeof e;if("object"===i||"function"===i)return f.eachInUnique(e,function(e,t,n,a,r){var i=void 0===s[r]?s["*"]:s[r];if(!v(e,t,n,a,r,i,o)&&r in a)return!1},t,function(e,t,n,a,r){var i=void 0===s[r]?s["*"]:s[r];if(!v(e,t,n,a,r,i,o))return!1},!0)},subsetComparesType:function(e,t,n,a,r,i,s){if("function"==typeof i){var o=i(e,t,n,a,r,s);return"boolean"==typeof o?o:o&&"object"==typeof o?(o.getSubset&&-1===f.indexOf.call(s.getSubsets,o.getSubset)&&s.getSubsets.push(o.getSubset),o.intersection===f.ignoreType||o.difference===f.ignoreType||"intersection"in o&&!("difference"in o)&&"intersection"in i(t,e,a,n,r,s)):o}},properSupersetObject:function(e,t,n,a,r,i,s){var o=typeof t,c=!1;if("object"===o||"function"===o){var u=h({},e);for(var l in!1===s.deep&&(s.deep=-1),t){var d=void 0===i[l]?i["*"]:i[l],p=v(e[l],t[l],e,t,l,d,s);if(p===f.ignoreType);else if(l in e&&!s.performedDifference){if(!p)return!1}else c=!0;delete u[l]}for(l in u)if(void 0===i[l]||!v(e[l],void 0,e,t,l,i[l],s))return!1;return c}},properSubsetComparesType:function(e,t,n,a,r,i,s){if("function"==typeof i){var o=i(e,t,n,a,r,s);if("boolean"==typeof o)return o;if(o&&"object"==typeof o){if("intersection"in o&&!("difference"in o)){var c=i(t,e,a,n,r,s);return"intersection"in c&&"difference"in c}return!1}return o}},difference:function(e,t,n,a,r,i,s){s.result={},s.performedDifference=0,s.checks=[c.differenceComparesType,d(c.equalBasicTypes),d(c.equalArrayLike),d(c.properSupersetObject)],s.default=!0;var o=v(e,t,n,a,r,i,s);return!0===o&&s.performedDifference?s.result:o},differenceComparesType:function(e,t,n,a,r,i,s){if("function"==typeof i){var o=i(e,t,n,a,r,s);if("boolean"==typeof o)return!0===o?(s.result[r]=e,!0):o;if(o&&"object"==typeof o){if("difference"in o)return o.difference===f.ignoreType?f.ignoreType:(null!=o.difference&&(s.result[r]=o.difference,s.performedDifference++),!0);if(!c.equalComparesType.apply(this,arguments))return!1;s.performedDifference++,s.result[r]=o.union}}},union:function(e,t,n,a,r,i,s){return s.result={},s.performedUnion=0,s.checks=[c.unionComparesType,d(c.equalBasicTypes),d(c.unionArrayLike),o(c.unionObject)],s.getUnions=[],s.default=!1,!0===v(e,t,n,a,r,i,s)&&s.result},unionComparesType:function(e,t,n,a,r,i,s){if("function"==typeof i){var o=i(e,t,n,a,r,s);if("boolean"==typeof o)return!0===o?(s.result[r]=e,!0):o;if(o&&"object"==typeof o&&(o.getUnion&&-1===f.indexOf.call(s.getUnions,o.getUnion)&&s.getUnions.push(o.getUnion),"union"in o))return o.union===f.ignoreType?o.union:(void 0!==o.union&&(s.result[r]=o.union),s.performedUnion++,!0)}},unionObject:function(e,t,n,a,r,o,c){var i=function(e,t,n,a,r){var i,s=void 0===o[r]?o["*"]:o[r];if(!v(e,t,n,a,r,s,c))return r in n||(i="subsetB"),r in a||(i="subsetA"),!!i&&(c.subset||(c.subset=i),c.subset===i&&void 0)},s=typeof e;if("object"===s||"function"===s)return f.eachInUnique(e,i,t,i,!0)},unionArrayLike:function(e,t,r,i,n,s,a){if(Array.isArray(e)&&Array.isArray(t)){var o=l(e).concat(l(t));return f.doubleLoop(o,function(e,t,n,a){return!c.equal(n,e,r,i,void 0,s["*"],{default:!1})}),a.result[n]=o,!0}},count:function(e,t,n,a,r,i,s){return s.checks=[c.countComparesType,c.equalBasicTypes,c.equalArrayLike,c.loopObject],s.default=!1,v(e,t,n,a,r,i,s),"number"==typeof s.count?s.count:1/0},countComparesType:function(e,t,n,a,r,i,s){if("function"==typeof i){var o=i(e,t,n,a,r,s);if("boolean"==typeof o)return!0;if(o&&"object"==typeof o)return"number"==typeof o.count&&("count"in s&&o.count!==s.count?s.count=1/0:s.count=o.count),!0}},loopObject:function(a,r,e,t,n,i,s){var o=typeof a;if("object"===o||"function"===o)return u(a,function(e,t){var n=void 0===i[t]?i["*"]:i[t];v(e,r[t],a,r,t,n,s)}),!0},intersection:function(e,t,n,a,r,i,s){return s.result={},s.performedIntersection=0,s.checks=[c.intersectionComparesType,d(c.equalBasicTypes),d(c.intersectionArrayLike),o(c.intersectionObject)],s.default=!1,!0===v(e,t,n,a,r,i,s)&&s.result},intersectionComparesType:function(e,t,n,a,r,i,s){if("function"==typeof i){var o=i(e,t,n,a,r,s);if("boolean"==typeof o)return!0===o?(s.result[r]=e,!0):o;if(o&&"object"==typeof o&&"intersection"in o)return void 0!==o.intersection&&(s.result[r]=o.intersection),s.performedIntersection++,!0}},intersectionObject:function(e,t,n,a,r,s,o){var i=function(e,t,n,a,r){var i=void 0===s[r]?s["*"]:s[r];if(!v(e,t,n,a,r,i,o))return function(e,t,n,a,r,i,s){var o;if(r in n){if(r in a)return!1}else o="subsetB";r in a||(o="subsetA"),s.result[r]="subsetB"===o?t:e}(e,t,n,a,r,0,o)},c=typeof e;if("object"===c||"function"===c)return f.eachInUnique(e,i,t,i,!0)},intersectionArrayLike:function(e,n,a,r,t,i,s){if(Array.isArray(e)&&Array.isArray(n)){var o=[];return u(l(e),function(e){for(var t=0;t<n.length;t++)if(c.equal(e,n[t],a,r,void 0,i["*"],{default:!1})){o.push(e);break}}),s.result[t]=o,!0}}}}),define("can-set/src/get",["require","exports","module","can-set/src/compare","can-set/src/helpers","can-util/js/each/each"],function(e,t,n){var f=e("can-set/src/compare"),h=e("can-set/src/helpers"),v=e("can-util/js/each/each");n.exports={subsetData:function(n,t,e,a){var r,i,s,o=a.getClauseProperties(n),c=a.getClauseProperties(t),u={},l=(r=e,i=o.where,s=a.clauses.where,h.filter.call(r,function(e){return f.subset(e,i,void 0,void 0,void 0,s,{})}));if(l.length&&(o.enabled.order||c.enabled.order)){u={};var d=h.firstProp(o.order),p=a.clauses.order[d];l=l.sort(function(e,t){return p(n[d],e,t)})}return l.length&&(o.enabled.paginate||c.enabled.paginate)&&(u={},f.subset(o.paginate,c.paginate,void 0,void 0,void 0,a.clauses.paginate,u),v(u.getSubsets,function(e){l=e(n,t,l,a,u)})),l}}}),define("can-set/src/set-core",["require","exports","module","can-set/src/helpers","can-set/src/clause","can-set/src/compare","can-set/src/get","can-assign","can-util/js/each/each","can-util/js/make-array/make-array","can-util/js/is-empty-object/is-empty-object","can-util/js/get/get"],function(e,t,n){var d=e("can-set/src/helpers"),i=e("can-set/src/clause"),p=e("can-set/src/compare"),s=e("can-set/src/get"),f=e("can-assign"),h=e("can-util/js/each/each"),r=e("can-util/js/make-array/make-array"),o=e("can-util/js/is-empty-object/is-empty-object"),c=e("can-util/js/get/get");function v(e,t,r){var i,s={};return"undefined"!=typeof Set&&(i=new Set),e.forEach(function(n){var a=s;i&&i.add(n),h(r.clauses.id,function(e){var t=c(n,e);a=a&&void 0!==t?a[t]=a[t]||{}:void 0})}),e.concat(t.filter(function(t){var n=s;return(!i||!i.has(t))&&(!(!i&&-1<e.indexOf(t))&&(h(r.clauses.id,function(e){n=n&&n[c(t,e)]}),n===s||!n))}))}function a(e,t){if("string"==typeof t){var n=t;t={fromSet:function(e,t){return e[n]||{}},toSet:function(e,t){return e[n]=t,e}}}this.clause=e,f(this,t)}var u=function(){var t=this.clauses={where:{},order:{},paginate:{},id:{}};this.translators={where:new a("where",{fromSet:function(e,t){return t},toSet:function(e,t){return f(e,t)}})};var n=this;h(arguments,function(e){e&&(e instanceof a?n.translators[e.clause]=e:f(t[e.constructor.type||"where"],e))})};u.make=function(e,t){return e instanceof u?e:new u(e,t)},f(u.prototype,{getClauseProperties:function(e,t){t=t||{};var a=f({},e),r=this.clauses,n=["order","paginate","id"],i={enabled:{where:!0,order:!1,paginate:!1,id:!1}};return t.omitClauses&&(n=d.arrayUnionIntersectionDifference(n,t.omitClauses).difference),h(n,function(e){var t,n={};for(t in r[e])t in a&&(n[t]=a[t],"id"!==e&&delete a[t]);i[e]=n,i.enabled[e]=!o(n)}),i.where=t.isProperties?a:this.translators.where.fromSet(e,a),i},getDifferentClauseTypes:function(t,n){var a=this,r=[];return h(i.TYPES,function(e){a.evaluateOperator(p.equal,t[e],n[e],{isProperties:!0},{isProperties:!0})||r.push(e)}),r},updateSet:function(e,t,n,a){return n&&"object"==typeof n&&!1!==a?(e=this.translators[t]?this.translators.where.toSet(e,n):f(e,n),!0):!!n&&(void 0===a&&void 0)},evaluateOperator:function(e,t,n,a,r,i){a=a||{},r=r||{},i=f({evaluateWhere:e,evaluatePaginate:e,evaluateOrder:e,shouldEvaluatePaginate:function(e,t){return e.enabled.paginate||t.enabled.paginate},shouldEvaluateOrder:function(e,t){return e.enabled.order&&p.equal(e.order,t.order,void 0,void 0,void 0,{},{})}},i||{});var s,o=this.getClauseProperties(t,a),c=this.getClauseProperties(n,r),u={},l=i.evaluateWhere(o.where,c.where,void 0,void 0,void 0,this.clauses.where,{});return s=this.updateSet(u,"where",l,s),l&&i.shouldEvaluatePaginate(o,c)?(i.shouldEvaluateOrder(o,c)&&(l=i.evaluateOrder(o.order,c.order,void 0,void 0,void 0,{},{}),s=this.updateSet(u,"order",l,s)),l&&(l=i.evaluatePaginate(o.paginate,c.paginate,void 0,void 0,void 0,this.clauses.paginate,{}),s=this.updateSet(u,"paginate",l,s))):l&&i.shouldEvaluateOrder(o,c)&&(l=e(o.order,c.order,void 0,void 0,void 0,{},{}),s=this.updateSet(u,"order",l,s)),l&&s?u:l},equal:function(e,t){return this.evaluateOperator(p.equal,e,t)},subset:function(e,t){var n=this.getClauseProperties(e),a=this.getClauseProperties(t),r=!0;return a.enabled.paginate&&(n.enabled.order||a.enabled.order)&&(r=p.equal(n.order,a.order,void 0,void 0,void 0,{},{})),!!r&&this.evaluateOperator(p.subset,e,t)},properSubset:function(e,t){return this.subset(e,t)&&!this.equal(e,t)},difference:function(e,t){var n,a,r=this.getClauseProperties(e),i=this.getClauseProperties(t),s=this.getDifferentClauseTypes(r,i);if(2<s.length)a=!1;else if(2!==s.length||"where"===s[0]&&"id"===s[1])switch(n=s[0]){case void 0:case"order":a=!1;break;case"paginate":case"where":"object"==typeof(a=p.difference(r[n],i[n],void 0,void 0,void 0,this.clauses[n],{}))&&(this.translators[n]&&(a=this.translators[n].toSet({},a)),f(a,r.order),"paginate"===n?f(a,r.where):"id"===s[1]&&(a=p.difference(r.id,i.id,void 0,void 0,void 0,this.clauses.id,{})))}else a=!1;return a},union:function(e,t){return this.evaluateOperator(p.union,e,t)},intersection:function(e,t){return this.evaluateOperator(p.intersection,e,t)},count:function(e){return this.evaluateOperator(p.count,e,{})},has:function(e,t){return this.evaluateOperator(p.subset,t,e,{isProperties:!0},void 0,{shouldEvaluatePaginate:function(){return!1}})},index:function(e,t,n){var a,r,i=this.getClauseProperties(e),s=d.firstProp(i.order);return s?(a=this.clauses.order[s],r=e[s],d.index(function(e,t){return a(r,e,t)},t,n)):(s=d.firstProp(this.clauses.id))?(a=d.defaultSort,r=s,d.index(function(e,t){return a(r,e,t)},t,n)):void 0},getSubset:function(e,t,n){var a=this.getClauseProperties(e),r=this.getClauseProperties(t);if(this.subset(f({},a.where,a.paginate),f({},r.where,r.paginate)))return s.subsetData(e,t,n,this)},getUnion:function(n,a,r,i){var s,e,t=this.getClauseProperties(n),o=this.getClauseProperties(a),c=this;if(this.subset(n,a))return i;if(this.subset(a,n))return r;if(t.enabled.paginate||o.enabled.paginate){if(s={},!p.union(t.paginate,o.paginate,void 0,void 0,void 0,this.clauses.paginate,s))return;h(s.getUnions,function(e){var t=e(n,a,r,i,c,s);r=t[0],i=t[1]}),e=v(r,i,this)}else e=v(r,i,this);if(e.length&&t.enabled.order&&p.equal(t.order,o.order,void 0,void 0,void 0,{},{})){s={};var u=d.firstProp(t.order),l=c.clauses.order[u];e=e.sort(function(e,t){return l(n[u],e,t)})}return e},id:function(t){var e=Object.keys(this.clauses.id);if(1===e.length)return t[e[0]];var n={};return e.forEach(function(e){n[e]=t[e]}),JSON.stringify(n)}});var l=function(n,a){return function(){var e=r(arguments).slice(0,a),t=u.make(arguments[a]);return t[n].apply(t,e)}};n.exports={Algebra:u,Translate:a,difference:l("difference",2),equal:l("equal",2),subset:l("subset",2),properSubset:l("properSubset",2),union:l("union",2),intersection:l("intersection",2),count:l("count",1),has:l("has",2),index:l("index",3),getSubset:l("getSubset",3),getUnion:l("getUnion",4)}}),define("can-set/src/props",["require","exports","module","can-set/src/helpers","can-set/src/clause","can-util/js/each/each"],function(e,t,n){var s=e("can-set/src/helpers"),a=e("can-set/src/clause"),c=e("can-util/js/each/each"),p=function(e,t){return e>=t[0]&&e<=t[1]},f=function(e,t,n,a){return{sAv1:+e[n],sAv2:+e[a],sBv1:+t[n],sBv2:+t[a]}},l=function(e,t,n,a){var r=f(e,t,n,a),i=r.sAv1,s=r.sAv2,o=r.sBv1,c=r.sBv2,u=s-i+1,l={difference:[c+1,s],intersection:[i,c],union:[o,s],count:u,meta:"after"},d={difference:[i,o-1],intersection:[o,s],union:[i,c],count:u,meta:"before"};return i===o&&s===c?{intersection:[i,s],union:[i,s],count:u,meta:"equal"}:i===o&&c<s?l:s===c&&i<o?d:p(i,[o,c])&&p(s,[o,c])?{intersection:[i,s],union:[o,c],count:u,meta:"subset"}:p(o,[i,s])&&p(c,[i,s])?{intersection:[o,c],difference:[null,null],union:[i,s],count:u,meta:"superset"}:i<o&&p(s,[o,c])?d:o<i&&p(c,[i,s])?l:s===o-1?{difference:[i,s],union:[i,c],count:u,meta:"disjoint-before"}:c===i-1?{difference:[i,s],union:[o,s],count:u,meta:"disjoint-after"}:isNaN(u)?void 0:{count:u,meta:"disjoint"}},o=function(e,t){return e?(Array.isArray(e)||(e=[e]),e.length?e:t):t},r={0:!1,false:!1,null:void 0,undefined:void 0},i=function(e){return"string"==typeof e?!(e.toLowerCase()in r)||r[e.toLowerCase()]:e},u={enum:function(e,i){var t=new a.Where({});return t[e]=function(e,t,n,a){e=o(e,i),t=o(t,i);var r=s.arrayUnionIntersectionDifference(e,t);return r.difference.length||delete r.difference,c(r,function(e,t){Array.isArray(e)&&(s.arraySame(i,e)?r[t]=void 0:1===e.length&&(r[t]=e[0]))}),r},t},paginate:function(i,s,d,o){var e={},u=function(n,a){var r={};return c(["intersection","difference","union"],function(e){if(n[e]){var t={start:n[e][0],end:n[e][1]};r[e]=o(t)[0===a?i:s]}}),n.count&&(r.count=n.count),r};return e[i]=function(e,t,n,a){if(void 0!==e){var r=l(d(n),d(a),"start","end"),i=u(r,0);return i.getSubset=function(e,t,n,a,r){return n},i.getUnion=function(e,t,n,a,r,i){return[n,a]},i}},e[s]=function(e,t,n,a){if(void 0!==e){var c=l(d(n),d(a),"start","end"),r=u(c,1);return r.getSubset=function(e,t,n,a,r){var i=d(e),s=d(t),o=f(i,s,"start","end"),c=o.sAv1,u=o.sAv2,l=o.sBv1;return"end"in s&&"end"in i?n.slice(c-l,u-l+1):n.slice(c,u+1)},r.getUnion=function(e,t,n,a,r,i){var s=d(e),o=d(t);return 0<=c.meta.indexOf("after")?(c.intersection&&(a=a.slice(0,c.intersection[0]-+o.start)),[a,n]):(c.intersection&&(n=n.slice(0,c.intersection[0]-+s.start)),[n,a])},r}},new a.Paginate(e)},boolean:function(e){var t=new a.Where({});return t[e]=function(e,t){return(e=i(e))===!(t=i(t))&&t===!e?{difference:!t,union:void 0}:void 0===e?{difference:!t,intersection:t,union:void 0}:e===t||void 0},t},sort:function(e,t){t||(t=s.defaultSort);var n={};return n[e]=t,new a.Order(n)},id:function(e){var t={};return t[e]=e,new a.Id(t)}},d=function(e,t,n){for(var a in t)n[a]||(e[a]=t[a]);return e};u.offsetLimit=function(i,s){return i=i||"offset",s=s||"limit",u.paginate(i,s,function(e){return function(e,t,n){var a={};a[t]=a[n]=1;var r=d({},e,a);return t in e&&(r.start=parseInt(e[t],10)),n in e&&(r.end=r.start+parseInt(e[n])-1),r}(e,i,s)},function(e){return n=i,a=s,r=d({},t=e,{start:1,end:1}),"start"in t&&(r[n]=t.start),"end"in t&&(r[a]=t.end-t.start+1),r;var t,n,a,r})},u.rangeInclusive=function(a,r){return a=a||"start",r=r||"end",u.paginate(a,r,function(e){var t={};t[a]=t[r]=1;var n=d({},e,t);return a in e&&(n.start=e[a]),r in e&&(n.end=e[r]),n},function(e){var t=d({},e,{start:1,end:1});return t[a]=e.start,t[r]=e.end,t})};var h=function(e,t){if(void 0!==e)return 1===t.length?e[t[0]]:h(e[t[0]],t.slice(1))};u.dotNotation=function(e){var t=new a.Where({});return t[e]=function(e,t,n,a,r){return void 0===e&&(e=h(n,r.split("."))),void 0===t&&(t=h(a,r.split("."))),e===t},t},n.exports=u}),define("can-set",["require","exports","module","can-set/src/set-core","can-namespace","can-set/src/props","can-set/src/clause","can-set/src/helpers"],function(e,t,n){var a=e("can-set/src/set-core"),r=e("can-namespace"),i=e("can-set/src/props"),s=e("can-set/src/clause");a.comparators=i,a.props=i,a.helpers=e("can-set/src/helpers"),a.clause=s,n.exports=r.set=a}),define("can-validate-interface",function(e,t,n){"use strict";n.exports=function(e){var t=e.reduce(function(e,t){return e.concat(t)},[]);return function(n){var e=t.reduce(function(e,t){return t in n?e:e.concat(t)},[]);return e.length?{message:"missing expected properties",related:e}:void 0}}}),define("can-connect/helpers/validate",["require","exports","module","can-validate-interface"],function(e,t,n){var o=e("can-validate-interface");function c(e,t,n){var a='can-connect: Extending behavior "'+(t.behaviorName||"anonymous behavior")+'" found base behavior "'+(e.__behaviorName||"anonymous behavior")+'" was missing required properties: '+JSON.stringify(n.related),r=new Error(a);return Object.setPrototypeOf&&Object.setPrototypeOf(r,Object.getPrototypeOf(this)),r}n.exports=function(n,e){var t,a,r,i,s=(t=n,a=0,r=e,i=function(e,t){throw new c(t,n,e)},function(){var e=o(r)(arguments[a]);return e&&i&&i(e,arguments[a]),t.apply(this,arguments)});return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.__interfaces=e,s},c.prototype=Object.create(Error.prototype,{constructor:{value:Error}}),Object.setPrototypeOf?Object.setPrototypeOf(c,Error):c.__proto__=Error}),define("can-connect/cache-requests/cache-requests",["require","exports","module","can-connect","can-connect/helpers/get-items","can-set","can-connect/helpers/validate"],function(e,t,n){var a=e("can-connect"),u=e("can-connect/helpers/get-items"),s=e("can-set"),o=[].forEach,r=a.behavior("cache-requests",function(c){return{getDiff:function(a,e){var r,i=this;return o.call(e,function(e){var t,n=s.difference(a,e,i.algebra);"object"==typeof n?t={needed:n,cached:s.intersection(a,e,i.algebra),count:s.count(n,i.algebra)}:s.subset(a,e,i.algebra)&&(t={cached:a,count:0}),t&&(!r||t.count<r.count)&&(r=t)}),r?{needed:r.needed,cached:r.cached}:{needed:a}},getUnion:function(e,t,n,a){return{data:s.getUnion(t.needed,t.cached,u(n),u(a),this.algebra)}},getListData:function(s){s=s||{};var o=this;return this.cacheConnection.getSets(s).then(function(e){var a=o.getDiff(s,e);if(a.needed){if(a.cached){var t=o.cacheConnection.getListData(a.cached),n=c.getListData(a.needed),r=n.then(function(e){return o.cacheConnection.updateListData(u(e),a.needed).then(function(){return e})}),i=Promise.all([t,n]).then(function(e){var t=e[0],n=e[1];return o.getUnion(s,a,n,t)});return Promise.all([i,r]).then(function(e){return e[0]})}return c.getListData(a.needed).then(function(e){return o.cacheConnection.updateListData(u(e),a.needed).then(function(){return e})})}return o.cacheConnection.getListData(a.cached)})}}});n.exports=r;var i=e("can-connect/helpers/validate");n.exports=i(r,["getListData","cacheConnection"])}),define("can-connect/helpers/weak-reference-map",["require","exports","module","can-util/js/assign/assign"],function(e,t,n){var a=function(){this.set={}};e("can-util/js/assign/assign")(a.prototype,{has:function(e){return!!this.set[e]},addReference:function(e,t,n){if(void 0===e)throw new Error("can-connect: You must provide a key to store a value in a WeakReferenceMap");var a=this.set[e];a||(a=this.set[e]={item:t,referenceCount:0,key:e}),a.referenceCount+=n||1},referenceCount:function(e){var t=this.set[e];if(t)return t.referenceCount},deleteReference:function(e){var t=this.set[e];t&&(t.referenceCount--,0===t.referenceCount&&delete this.set[e])},get:function(e){var t=this.set[e];if(t)return t.item},forEach:function(e){for(var t in this.set)e(this.set[t].item,t)}}),n.exports=a}),define("can-connect/helpers/overwrite",function(e,t,n){n.exports=function(e,t,n){for(var a in e)!e.hasOwnProperty(a)||"__"===a.substr(0,2)||a===n||a in t||delete e[a];for(a in t)e[a]=t[a];return e}}),define("can-connect/helpers/id-merge",function(e,t,n){var l=[].map;n.exports=function(e,t,n,a){for(var r=0,i=0;r<e.length&&i<t.length;){var s=e[r],o=t[i],c=n(s),u=n(o);if(n(s)!==n(o))if(i+1<t.length&&n(t[i+1])===c)e.splice(r,0,a(t[i])),r++,i++;else{if(!(r+1<e.length&&n(e[r+1])===u))return e.splice.apply(e,[r,e.length-r].concat(l.call(t.slice(i),a))),e;e.splice(r,1),r++,i++}else r++,i++}i===t.length&&r===e.length||e.splice.apply(e,[r,e.length-r].concat(l.call(t.slice(i),a)))}}),define("can-connect/constructor/constructor",["require","exports","module","can-util/js/make-array/make-array","can-util/js/assign/assign","can-connect","can-connect/helpers/weak-reference-map","can-connect/helpers/overwrite","can-connect/helpers/id-merge"],function(e,t,n){var a=e("can-util/js/make-array/make-array"),r=e("can-util/js/assign/assign"),i=e("can-connect"),s=e("can-connect/helpers/weak-reference-map"),o=e("can-connect/helpers/overwrite"),c=e("can-connect/helpers/id-merge");function u(e,t){for(var n in e)"data"!==n&&("function"==typeof t.set?t.set(n,e[n]):"function"==typeof t.attr?t.attr(n,e[n]):t[n]=e[n])}n.exports=i.behavior("constructor",function(e){return{cidStore:new s,_cid:0,get:function(e){var t=this;return this.getData(e).then(function(e){return t.hydrateInstance(e)})},getList:function(t){t=t||{};var n=this;return this.getListData(t).then(function(e){return n.hydrateList(e,t)})},hydrateList:function(e,t){Array.isArray(e)&&(e={data:e});for(var n=[],a=0;a<e.data.length;a++)n.push(this.hydrateInstance(e.data[a]));if(e.data=n,this.list)return this.list(e,t);var r=e.data.slice(0);return r[this.listSetProp||"__listSet"]=t,u(e,r),r},hydrateInstance:function(e){return this.instance?this.instance(e):r({},e)},save:function(t){var e=this.serializeInstance(t),n=this.id(t),a=this;if(void 0===n){var r=this._cid++;return this.cidStore.addReference(r,t),this.createData(e,r).then(function(e){return void 0!==e&&a.createdInstance(t,e),a.cidStore.deleteReference(r,t),t})}return this.updateData(e).then(function(e){return void 0!==e&&a.updatedInstance(t,e),t})},destroy:function(t){var e=this.serializeInstance(t),n=this;return this.destroyData(e).then(function(e){return void 0!==e&&n.destroyedInstance(t,e),t})},createdInstance:function(e,t){r(e,t)},updatedInstance:function(e,t){o(e,t,this.idProp)},updatedList:function(e,t,n){for(var a=[],r=0;r<t.data.length;r++)a.push(this.hydrateInstance(t.data[r]));c(e,a,this.id.bind(this),this.hydrateInstance.bind(this)),u(t,e)},destroyedInstance:function(e,t){o(e,t,this.idProp)},serializeInstance:function(e){return r({},e)},serializeList:function(e){var t=this;return a(e).map(function(e){return t.serializeInstance(e)})},isNew:function(e){var t=this.id(e);return!(t||0===t)}}})}),define("can-connect/helpers/sorted-set-json",function(e,t,n){var a=[].forEach,r=Object.keys;n.exports=function(t){if(null==t)return t;var n={};return a.call(r(t).sort(),function(e){n[e]=t[e]}),JSON.stringify(n)}}),define("can-connect/constructor/callbacks-once/callbacks-once",["require","exports","module","can-connect","can-connect/helpers/sorted-set-json","can-connect/helpers/validate"],function(e,t,n){var a=e("can-connect"),o=e("can-connect/helpers/sorted-set-json"),r=[].forEach,i=["createdInstance","updatedInstance","destroyedInstance"],s=a.behavior("constructor/callbacks-once",function(s){var e={};return r.call(i,function(i){e[i]=function(e,t){var n=this.getInstanceMetaData(e,"last-data-"+i),a=o(t);if(n!==a){var r=s[i].apply(this,arguments);return this.addInstanceMetaData(e,"last-data-"+i,a),r}}}),e});n.exports=s;var c=e("can-connect/helpers/validate");n.exports=c(s,i)}),define("can-connect/helpers/weak-reference-set",["require","exports","module","can-util/js/assign/assign"],function(e,t,n){var a=function(){this.set=[]};e("can-util/js/assign/assign")(a.prototype,{has:function(e){return-1!==this._getIndex(e)},addReference:function(e,t){var n=this._getIndex(e),a=this.set[n];a||(a={item:e,referenceCount:0},this.set.push(a)),a.referenceCount+=t||1},deleteReference:function(e){var t=this._getIndex(e),n=this.set[t];n&&(n.referenceCount--,0===n.referenceCount&&this.set.splice(t,1))},delete:function(e){var t=this._getIndex(e);-1!==t&&this.set.splice(t,1)},get:function(e){var t=this.set[this._getIndex(e)];if(t)return t.item},referenceCount:function(e){var t=this.set[this._getIndex(e)];if(t)return t.referenceCount},_getIndex:function(n){var a;return this.set.every(function(e,t){if(e.item===n)return a=t,!1}),void 0!==a?a:-1},forEach:function(e){return this.set.forEach(e)}}),n.exports=a}),define("can-connect/constructor/store/store",["require","exports","module","can-connect","can-connect/helpers/weak-reference-map","can-connect/helpers/weak-reference-set","can-connect/helpers/sorted-set-json","can-event-queue/map/map","can-connect/helpers/validate"],function(e,t,n){var a=e("can-connect"),r=e("can-connect/helpers/weak-reference-map"),s=e("can-connect/helpers/weak-reference-set"),o=e("can-connect/helpers/sorted-set-json"),i=e("can-event-queue/map/map"),c=0,u=null,l={increment:function(e){c++,clearTimeout(u)},decrement:function(e){0===--c&&(u=setTimeout(function(){l.dispatch("end")},n.exports.requestCleanupDelay)),c<0&&(c=0)},count:function(){return c}};i(l);var d=a.behavior("constructor/store",function(i){return{instanceStore:new r,newInstanceStore:new s,listStore:new r,init:function(){i.init&&i.init.apply(this,arguments),this.hasOwnProperty("_requestInstances")||(this._requestInstances={}),this.hasOwnProperty("_requestLists")||(this._requestLists={}),l.on("end",function(){var e;for(e in this._requestInstances)this.instanceStore.deleteReference(e);for(e in this._requestInstances={},this._requestLists)this.listStore.deleteReference(e),this._requestLists[e].forEach(this.deleteInstanceReference.bind(this));this._requestLists={}}.bind(this))},_finishedRequest:function(){l.decrement(this)},addInstanceReference:function(e,t){var n=t||this.id(e);void 0===n?this.newInstanceStore.addReference(e):this.instanceStore.addReference(n,e)},createdInstance:function(e,t){i.createdInstance.apply(this,arguments),this.moveCreatedInstanceToInstanceStore(e)},moveCreatedInstanceToInstanceStore:function(e){var t=this.id(e);if(this.newInstanceStore.has(e)&&void 0!==t){var n=this.newInstanceStore.referenceCount(e);this.newInstanceStore.delete(e),this.instanceStore.addReference(t,e,n)}},addInstanceMetaData:function(e,t,n){var a=this.instanceStore.set[this.id(e)];a&&(a[t]=n)},getInstanceMetaData:function(e,t){var n=this.instanceStore.set[this.id(e)];if(n)return n[t]},deleteInstanceMetaData:function(e,t){delete this.instanceStore.set[this.id(e)][t]},deleteInstanceReference:function(e){void 0===this.id(e)?this.newInstanceStore.deleteReference(e):this.instanceStore.deleteReference(this.id(e),e)},addListReference:function(e,t){var n=o(t||this.listSet(e));n&&(this.listStore.addReference(n,e),e.forEach(function(e){this.addInstanceReference(e)}.bind(this)))},deleteListReference:function(e,t){var n=o(t||this.listSet(e));n&&(this.listStore.deleteReference(n,e),e.forEach(this.deleteInstanceReference.bind(this)))},hydratedInstance:function(e){if(0<l.count()){var t=this.id(e);this._requestInstances[t]||(this.addInstanceReference(e),this._requestInstances[t]=e)}},hydrateInstance:function(e){var t=this.id(e);if((t||0===t)&&this.instanceStore.has(t)){var n=this.instanceStore.get(t);return this.updatedInstance(n,e),n}var a=i.hydrateInstance.call(this,e);return this.hydratedInstance(a),a},hydratedList:function(e,t){if(0<l.count()){var n=o(t||this.listSet(e));n&&(this._requestLists[n]||(this.addListReference(e,t),this._requestLists[n]=e))}},hydrateList:function(e,t){t=t||this.listSet(e);var n=o(t);if(n&&this.listStore.has(n)){var a=this.listStore.get(n);return this.updatedList(a,e,t),a}var r=i.hydrateList.call(this,e,t);return this.hydratedList(r,t),r},getList:function(e){var t=this;l.increment(this);var n=i.getList.call(this,e);return n.then(function(e){t._finishedRequest()},function(){t._finishedRequest()}),n},get:function(e){var t=this;l.increment(this);var n=i.get.call(this,e);return n.then(function(e){t._finishedRequest()},function(){t._finishedRequest()}),n},save:function(t){var n=this;l.increment(this);var a=!this.isNew(t);a&&this.addInstanceReference(t);var e=i.save.call(this,t);return e.then(function(e){a&&n.deleteInstanceReference(t),n._finishedRequest()},function(){n._finishedRequest()}),e},destroy:function(e){var t=this;this.addInstanceReference(e),l.increment(this);var n=i.destroy.call(this,e);return n.then(function(e){t._finishedRequest(),t.deleteInstanceReference(e)},function(){t._finishedRequest()}),n},updatedList:function(e,t,n){var a=e.slice(0);t.data||"number"!=typeof t.length||(t={data:t}),i.updatedList?(i.updatedList.call(this,e,t,n),e.forEach(function(e){this.addInstanceReference(e)}.bind(this))):t.data&&t.data.forEach(function(e){this.addInstanceReference(e)}.bind(this)),a.forEach(this.deleteInstanceReference.bind(this))}}});d.requests=l,d.requestCleanupDelay=10,n.exports=d;var p=e("can-connect/helpers/validate");n.exports=p(d,["hydrateInstance","hydrateList","getList","get","save","destroy"])}),define("can-connect/data/callbacks/callbacks",["require","exports","module","can-connect","can-util/js/each/each","can-connect/helpers/validate"],function(e,t,n){var a=e("can-connect"),r=e("can-util/js/each/each"),s={getListData:"gotListData",createData:"createdData",updateData:"updatedData",destroyData:"destroyedData"},i=a.behavior("data/callbacks",function(i){var t={};return r(s,function(r,e){t[e]=function(t,n){var a=this;return i[e].call(this,t).then(function(e){return a[r]?a[r].call(a,e,t,n):e})}}),t});n.exports=i;var o=e("can-connect/helpers/validate");n.exports=o(i,["getListData","createData","updateData","destroyData"])}),define("can-connect/data/callbacks-cache/callbacks-cache",["require","exports","module","can-connect","can-util/js/assign/assign","can-util/js/each/each","can-connect/helpers/validate"],function(e,t,n){var a=e("can-connect"),s=e("can-util/js/assign/assign"),r=e("can-util/js/each/each"),o={createdData:"createData",updatedData:"updateData",destroyedData:"destroyData"},i=a.behavior("data/callbacks-cache",function(i){var e={};return r(o,function(a,r){e[r]=function(e,t,n){return this.cacheConnection[a](s(s({},t),e)),i[r]?i[r].call(this,e,t,n):e}}),e});n.exports=i;var c=e("can-connect/helpers/validate");n.exports=c(i,[])}),define("can-connect/helpers/deferred",function(e,t,n){n.exports=function(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n}}),define("can-connect/data/combine-requests/combine-requests",["require","exports","module","can-connect","can-set","can-connect/helpers/get-items","can-util/js/deep-assign/deep-assign","can-connect/helpers/deferred","can-connect/helpers/validate"],function(e,t,n){var a=e("can-connect"),i=e("can-set"),s=e("can-connect/helpers/get-items"),o=e("can-util/js/deep-assign/deep-assign"),c=e("can-connect/helpers/deferred"),u=[].forEach,r=a.behavior("data/combine-requests",function(r){var n;return{unionPendingRequests:function(e){var n=this;e.sort(function(e,t){return i.subset(e.set,t.set,n.algebra)?1:i.subset(t.set,e.set,n.algebra)?-1:0});var a,t=[];return d(e,{start:function(e){a={set:e.set,pendingRequests:[e]},t.push(a)},iterate:function(e){var t=i.union(a.set,e.set,n.algebra);if(t)return a.set=t,a.pendingRequests.push(e),!0}}),Promise.resolve(t)},time:1,getListData:function(e){e=e||{};var a=this;n||(n=[],setTimeout(function(){var e=a.unionPendingRequests(n);n=null,e.then(function(e){u.call(e,function(n){var e=o({},n.set);r.getListData(e).then(function(t){1===n.pendingRequests.length?n.pendingRequests[0].deferred.resolve(t):u.call(n.pendingRequests,function(e){e.deferred.resolve({data:i.getSubset(e.set,n.set,s(t),a.algebra)})})},function(t){1===n.pendingRequests.length?n.pendingRequests[0].deferred.reject(t):u.call(n.pendingRequests,function(e){e.deferred.reject(t)})})})})},this.time||1));var t=c();return n.push({deferred:t,set:e}),t.promise}}});n.exports=r;var l=e("can-connect/helpers/validate");n.exports=l(r,["getListData"]);var d=function(e,t){for(var n=0;n<e.length;){t.start(e[n]);for(var a=n+1;a<e.length;)!0===t.iterate(e[a])?e.splice(a,1):a++;n++}}}),define("can-connect/helpers/set-add",["require","exports","module","can-set"],function(e,t,n){var o=e("can-set");n.exports=function(e,t,n,a,r){var i=o.index(t,n,a,r);void 0===i&&(i=n.length);var s=n.slice(0);return s.splice(i,0,a),s}}),define("can-connect/helpers/get-index-by-id",function(e,t,n){n.exports=function(e,t,n){for(var a=e.id(t),r=0;r<n.length;r++){if(a==e.id(n[r]))return r}return-1}}),define("can-connect/data/localstorage-cache/localstorage-cache",["require","exports","module","can-connect/helpers/get-items","can-connect","can-connect/helpers/sorted-set-json","can-set","can-connect/helpers/set-add","can-connect/helpers/get-index-by-id","can-util/js/assign/assign","can-connect/helpers/overwrite"],function(e,t,n){var c=e("can-connect/helpers/get-items"),a=e("can-connect"),o=e("can-connect/helpers/sorted-set-json"),u=e("can-set"),i=[].forEach,l=[].map,d=e("can-connect/helpers/set-add"),p=e("can-connect/helpers/get-index-by-id"),f=e("can-util/js/assign/assign"),r=e("can-connect/helpers/overwrite");n.exports=a.behavior("data/localstorage-cache",function(e){return{_instances:{},getSetData:function(){var n={},a=this;return i.call(JSON.parse(localStorage.getItem(this.name+"-sets"))||[],function(e){var t=o(e);localStorage.getItem(a.name+"/set/"+t)&&(n[t]={set:e,setKey:t})}),n},_getSets:function(e){var t=[];for(var n in e=e||this.getSetData())t.push(JSON.parse(n));return t},getInstance:function(e){var t=localStorage.getItem(this.name+"/instance/"+e);if(t)return JSON.parse(t)},updateInstance:function(e){var t=this.id(e),n=this.getInstance(t);return n?r(n,e,this.idProp):n=e,localStorage.setItem(this.name+"/instance/"+t,JSON.stringify(n)),n},getInstances:function(e){var t=this;return l.call(e,function(e){return t.getInstance(e)})},removeSet:function(e){var t=this.getSetData();localStorage.removeItem(this.name+"/set/"+e),delete t[e]},updateSets:function(e){var t=this._getSets(e);localStorage.setItem(this.name+"-sets",JSON.stringify(t))},updateSet:function(e,t,n){var a=n?o(n):e.setKey;if(n&&a!==e.setKey){var r=this.getSetData();localStorage.removeItem(this.name+"/set/"+e.setKey),delete r[e.setKey],r[a]={setKey:a,set:n},this.updateSets(r)}e.items=t;var i=this,s=l.call(t,function(e){var t=i.id(e);return localStorage.setItem(i.name+"/instance/"+t,JSON.stringify(e)),t});localStorage.setItem(this.name+"/set/"+a,JSON.stringify(s))},addSet:function(e,t){var n=c(t),a=this.getSetData(),r=o(e);a[r]={setKey:r,items:n,set:e};var i=this,s=l.call(n,function(e){var t=i.id(e);return localStorage.setItem(i.name+"/instance/"+t,JSON.stringify(e)),t});localStorage.setItem(this.name+"/set/"+r,JSON.stringify(s)),this.updateSets(a)},_eachSet:function(e){var t=this.getSetData(),a=this,n=function(t,n){return e.call(a,t,n,function(){if(!("items"in t)){var e=JSON.parse(localStorage.getItem(a.name+"/set/"+n));t.items=a.getInstances(e)}return t.items})};for(var r in t){var i=n(t[r],r);if(void 0!==i)return i}},clear:function(){var e=this.getSetData();for(var t in e)localStorage.removeItem(this.name+"/set/"+t);localStorage.removeItem(this.name+"-sets");for(var n=[],a=0,r=localStorage.length;a<r;++a)0===localStorage.key(a).indexOf(this.name+"/instance/")&&n.push(localStorage.key(a));i.call(n,function(e){localStorage.removeItem(e)}),this._instances={}},getSets:function(){return Promise.resolve(this._getSets())},getListData:function(e){e=e||{};var t=this.getListDataSync(e);return t?Promise.resolve(t):Promise.reject({message:"no data",error:404})},getListDataSync:function(e){for(var t=this._getSets(),n=0;n<t.length;n++){var a=t[n];if(u.subset(e,a,this.algebra))return{data:u.getSubset(e,a,this.__getListData(a),this.algebra)}}},__getListData:function(e){var t=o(e);if(this.getSetData()[t]){var n=localStorage.getItem(this.name+"/set/"+t);if(n)return this.getInstances(JSON.parse(n))}},getData:function(e){var t=this.id(e),n=localStorage.getItem(this.name+"/instance/"+t);return n?Promise.resolve(JSON.parse(n)):Promise.reject({message:"no data",error:404})},updateListData:function(e,t){t=t||{};var n=c(e),a=this.getSetData(),r=this;for(var i in a){var s=a[i],o=u.union(s.set,t,this.algebra);if(o)return this.getListData(s.set).then(function(e){r.updateSet(s,u.getUnion(s.set,t,c(e),n,this.algebra),o)})}return this.addSet(t,e),Promise.resolve()},createData:function(e){var a=this,r=this.updateInstance(e);return this._eachSet(function(e,t,n){u.has(e.set,r,this.algebra)&&a.updateSet(e,d(a,e.set,n(),r,a.algebra),e.set)}),Promise.resolve(f({},r))},updateData:function(e){var i=this,s=this.updateInstance(e);return this._eachSet(function(e,t,n){var a=n(),r=p(i,s,a);u.has(e.set,s,this.algebra)?-1===r?i.updateSet(e,d(i,e.set,n(),s,i.algebra)):(a.splice(r,1,s),i.updateSet(e,a)):-1!==r&&(a.splice(r,1),i.updateSet(e,a))}),Promise.resolve(f({},s))},destroyData:function(e){var i=this,s=this.updateInstance(e);this._eachSet(function(e,t,n){var a=n(),r=p(i,s,a);-1!==r&&(a.splice(r,1),i.updateSet(e,a))});var t=this.id(s);return localStorage.removeItem(this.name+"/instance/"+t),Promise.resolve(f({},s))}}})}),define("can-connect/helpers/clone-data",["require","exports","module","can-util/js/deep-assign/deep-assign"],function(e,t,n){var a=e("can-util/js/deep-assign/deep-assign");n.exports=function(e){return Array.isArray(e)?e.slice(0):a({},e)}}),define("can-connect/data/memory-cache/memory-cache",["require","exports","module","can-connect/helpers/get-items","can-connect","can-connect/helpers/sorted-set-json","can-set","can-connect/helpers/overwrite","can-connect/helpers/set-add","can-connect/helpers/get-index-by-id","can-util/js/assign/assign","can-connect/helpers/clone-data"],function(e,t,n){var l=e("can-connect/helpers/get-items"),a=e("can-connect"),o=e("can-connect/helpers/sorted-set-json"),d=e("can-set"),r=e("can-connect/helpers/overwrite"),c=e("can-connect/helpers/set-add"),u=e("can-connect/helpers/get-index-by-id"),p=e("can-util/js/assign/assign"),f=e("can-connect/helpers/clone-data");n.exports=a.behavior("data/memory-cache",function(e){return{_sets:{},getSetData:function(){return this._sets},__getListData:function(e){var t=this.getSetData()[o(e)];if(t)return t.items},_instances:{},getInstance:function(e){return this._instances[e]},removeSet:function(e,t){delete this.getSetData()[e],!0!==t&&this.updateSets()},updateSets:function(){},updateInstance:function(e){var t=this.id(e);return t in this._instances?r(this._instances[t],e,this.idProp):this._instances[t]=e,this._instances[t]},updateSet:function(e,t,n){var a=n?o(n):e.setKey;if(n&&a!==e.setKey){var r=this.getSetData(),i=e.setKey;(r[a]=e).setKey=a,e.set=p({},n),this.removeSet(i)}e.items=t;var s=this;t.forEach(function(e){s.updateInstance(e)})},addSet:function(e,t){var n=l(t),a=this.getSetData(),r=o(e);a[r]={setKey:r,items:n,set:p({},e)};var i=this;n.forEach(function(e){i.updateInstance(e)}),this.updateSets()},_eachSet:function(n){var e=this.getSetData(),a=this,t=function(e,t){return n.call(a,e,t,function(){return e.items})};for(var r in e){var i=t(e[r],r);if(void 0!==i)return i}},_getSets:function(){var e=[],t=this.getSetData();for(var n in t)e.push(t[n].set);return e},getSets:function(){return Promise.resolve(this._getSets())},clear:function(){this._instances={},this._sets={}},getListData:function(e){e=e||{};var t=this.getListDataSync(e);return t?Promise.resolve(t):Promise.reject({message:"no data",error:404})},getListDataSync:function(e){for(var t=this._getSets(),n=0;n<t.length;n++){var a=t[n];if(d.subset(e,a,this.algebra)){var r=this.__getListData(a);return{data:d.getSubset(e,a,r,this.algebra),count:r.length}}}},_getListData:function(e){return this.getListDataSync(e)},updateListData:function(e,t){t=t||{};var n=f(e),a=l(n),r=this.getSetData(),i=this;for(var s in r){var o=r[s],c=d.union(o.set,t,this.algebra);if(c){var u=p({},o.set);return this.getListData(u).then(function(e){i.updateSet(o,d.getUnion(u,t,l(e),a,i.algebra),c)})}}return this.addSet(t,n),Promise.resolve()},getData:function(e){var t=this.id(e),n=this.getInstance(t);return n?Promise.resolve(n):Promise.reject({message:"no data",error:404})},createData:function(e){var a=this,r=this.updateInstance(e);return this._eachSet(function(e,t,n){d.has(e.set,r,this.algebra)&&a.updateSet(e,c(a,e.set,n(),r,a.algebra),e.set)}),Promise.resolve(p({},r))},updateData:function(e){var i=this,s=this.updateInstance(e);return this._eachSet(function(e,t,n){var a=n(),r=u(i,s,a);d.subset(s,e.set,this.algebra)?-1===r?i.updateSet(e,c(i,e.set,n(),s,i.algebra)):(a.splice(r,1,s),i.updateSet(e,a)):-1!==r&&(a.splice(r,1),i.updateSet(e,a))}),Promise.resolve(p({},s))},destroyData:function(i){var s=this;this._eachSet(function(e,t,n){var a=n(),r=u(s,i,a);-1!==r&&(a.splice(r,1),s.updateSet(e,a))});var e=this.id(i);return delete this._instances[e],Promise.resolve(p({},i))}}})}),define("can-connect/data/parse/parse",["require","exports","module","can-connect","can-util/js/each/each","can-util/js/get/get"],function(e,t,n){var a=e("can-connect"),r=e("can-util/js/each/each"),s=e("can-util/js/get/get");n.exports=a.behavior("data/parse",function(i){var e={parseListData:function(e){var t;if(i.parseListData&&(e=i.parseListData.apply(this,arguments)),Array.isArray(e))t={data:e};else{var n=this.parseListProp||"data";if(e.data=s(e,n),t=e,"data"!==n&&delete e[n],!Array.isArray(t.data))throw new Error("Could not get any raw data while converting using .parseListData")}for(var a=[],r=0;r<t.data.length;r++)a.push(this.parseInstanceData(t.data[r]));return t.data=a,t},parseInstanceData:function(e){return i.parseInstanceData&&(e=i.parseInstanceData.apply(this,arguments)||e),this.parseInstanceProp&&s(e,this.parseInstanceProp)||e}};return r(o,function(n,a){e[a]=function(e){var t=this;return i[a].call(this,e).then(function(){return t[n].apply(t,arguments)})}}),e});var o={getListData:"parseListData",getData:"parseInstanceData",createData:"parseInstanceData",updateData:"parseInstanceData",destroyData:"parseInstanceData"}}),define("can-param",["require","exports","module","can-namespace"],function(e,t,n){var a=e("can-namespace");function s(e,t,n){if(Array.isArray(t))for(var a=0,r=t.length;a<r;++a)n(e+"[]",t[a]);else if(t&&"object"==typeof t)for(var i in t)s(e+"["+i+"]",t[i],n);else n(e,t)}n.exports=a.param=function(e){var n=[],t=function(e,t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))};for(var a in e)s(a,e[a],t);return n.join("&").replace(/%20/g,"+")}}),define("can-ajax",["require","exports","module","can-globals/global/global","can-reflect","can-namespace","can-parse-uri","can-param"],function(e,t,n){!function(e,t,n,a){"use strict";var r=t("can-globals/global/global"),v=t("can-reflect"),i=t("can-namespace"),g=t("can-parse-uri"),m=t("can-param"),s=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")}],o=null,y=g(r().location.href),b={},w=function(){if(null!=o)return o();for(var e=0,t=s.length;e<t;e++)try{var n=s[e],a=n();if(null!=a)return o=n,a}catch(e){continue}return function(){}},x={json:"application/json",form:"application/x-www-form-urlencoded"},k=function(e,t){switch(t.dataType||e.getResponseHeader("Content-Type").split(";")[0]){case"text/xml":case"xml":return e.responseXML;case"text/json":case"application/json":case"text/javascript":case"application/javascript":case"application/x-javascript":case"json":return e.responseText&&JSON.parse(e.responseText);default:return e.responseText}};a.exports=i.ajax=function(t){var e,n,a=w(),r=0,i={},s=new Promise(function(e,t){i.resolve=e,i.reject=t});if(s.abort=function(){a.abort()},(t=[{userAgent:"XMLHttpRequest",lang:"en",type:"GET",data:null,dataType:"json"},b,t].reduce(function(e,t,n){return v.assignDeep(e,t)})).contentType||(t.contentType="GET"===t.type.toUpperCase()?x.form:x.json),null==t.crossDomain)try{n=g(t.url),t.crossDomain=!!(n.protocol&&n.protocol!==y.protocol||n.host&&n.host!==y.host)}catch(e){t.crossDomain=!0}t.timeout&&(e=setTimeout(function(){a.abort(),t.timeoutFn&&t.timeoutFn(t.url)},t.timeout)),a.onreadystatechange=function(){try{4===a.readyState?(e&&clearTimeout(e),a.status<300?t.success&&t.success(k(a,t)):t.error&&t.error(a,a.status,a.statusText),t.complete&&t.complete(a,a.statusText),200<=a.status&&a.status<300?i.resolve(k(a,t)):i.reject(a)):t.progress&&t.progress(++r)}catch(e){i.reject(e)}};var o=t.url,c=null,u=t.type.toUpperCase(),l=t.contentType===x.json,d="POST"===u||"PUT"===u;!d&&t.data&&(o+="?"+(l?JSON.stringify(t.data):m(t.data))),a.open(u,o);var p=t.crossDomain&&-1!==["GET","POST","HEAD"].indexOf(u);if(d){c=l&&!p?"object"==typeof t.data?JSON.stringify(t.data):t.data:m(t.data);var f=l&&!p?"application/json":"application/x-www-form-urlencoded";a.setRequestHeader("Content-Type",f)}else a.setRequestHeader("Content-Type",t.contentType);if(p||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.xhrFields)for(var h in t.xhrFields)a[h]=t.xhrFields[h];return a.send(c),s},a.exports.ajaxSetup=function(e){b=e||{}}}(0,e,0,n)}),define("can-connect/helpers/get-id-props",function(e,t,n){n.exports=function(e){var t=[],n=e.algebra;if(n&&n.clauses&&n.clauses.id)for(var a in n.clauses.id)t.push(a);return e.idProp&&!t.length&&t.push(e.idProp),t.length||t.push("id"),t}}),define("can-make-rest",["require","exports","module","can-util/js/each/each"],function(e,t,n){var r=e("can-util/js/each/each"),i={item:{GET:"getData",PUT:"updateData",DELETE:"destroyData"},list:{GET:"getListData",POST:"createData"}};n.exports=function(e,t){var a={};return r(function(e,t){t=t||function(e){var t=e.match(/\{(.*)\}/);if(t&&2===t.length)return t[1]}(e)||"id";var n=new RegExp("\\/\\{"+t+"\\}.*"),a=n.test(e),r=a?e.replace(n,""):e;return{item:a?e:e.trim()+"/{"+t+"}",list:r}}(e,t),function(n,e){r(i[e],function(e,t){a[e]={method:t,url:n}})}),a}}),define("can-util/js/is-promise/is-promise",["require","exports","module","can-reflect"],function(e,t,n){"use strict";var a=e("can-reflect");n.exports=function(e){return a.isPromise(e)}}),define("can-util/js/make-promise/make-promise",["require","exports","module","can-util/js/is-promise-like/is-promise-like","can-util/js/is-promise/is-promise"],function(e,t,n){"use strict";var a=e("can-util/js/is-promise-like/is-promise-like"),r=e("can-util/js/is-promise/is-promise");n.exports=function(n){return a(n)&&!r(n)?new Promise(function(e,t){n.then(e,t)}):n}}),define("can-connect/data/url/url",["require","exports","module","can-util/js/assign/assign","can-util/js/each/each","can-ajax","can-util/js/string/string","can-connect/helpers/get-id-props","can-util/js/dev/dev","can-connect","can-make-rest","can-util/js/make-promise/make-promise","can-connect/helpers/validate"],function(e,t,n){var c=e("can-util/js/assign/assign"),a=e("can-util/js/each/each"),l=e("can-ajax"),u=e("can-util/js/string/string"),d=e("can-connect/helpers/get-id-props"),r=e("can-util/js/dev/dev"),i=e("can-connect"),p=e("can-make-rest"),s=p("/resource/{id}"),f=e("can-util/js/make-promise/make-promise"),o=i.behavior("data/url",function(u){var e={};return a(s,function(o,c){e[c]=function(e){var t=h[c];if("object"==typeof this.url){if("function"==typeof this.url[c])return f(this.url[c](e));if(this.url[c]){var n=m(this.url[c],e,o.method,this.ajax||l,v(this.url,o.method),t);return f(n)}}var a="string"==typeof this.url?this.url:this.url.resource;if(a){var r=d(this),i=a.replace(/\/+$/,""),s=p(i,r[0])[c];return f(m(s.url,e,s.method,this.ajax||l,v(this.url,s.method),t))}return u[name].call(this,e)}}),e}),h={getListData:{},getData:{},createData:{},updateData:{},destroyData:{includeData:!1}},v=function(e,t){if("object"==typeof e&&e.contentType){if("application/x-www-form-urlencoded"===e.contentType||"application/json"===e.contentType)return e.contentType;r.warn("Unacceptable contentType on can-connect request. Use 'application/json' or 'application/x-www-form-urlencoded'")}return"GET"===t?"application/x-www-form-urlencoded":"application/json"};function g(e,t){return encodeURIComponent(t)}var m=function(e,t,n,a,r,i){var s={};if("string"==typeof e){var o=e.split(/\s+/);s.url=o.pop(),o.length&&(s.type=o.pop())}else c(s,e);return s.data="object"!=typeof t||Array.isArray(t)?t:c(s.data||{},t),s.url=u.replaceWith(s.url,s.data,g,!0),s.contentType=r,!1===i.includeData&&delete s.data,a(c({type:n||"post",dataType:"json"},s))};n.exports=o;var y=e("can-connect/helpers/validate");n.exports=y(o,["url"])}),define("can-util/js/log/log",["require","exports","module","can-log"],function(e,t,n){"use strict";n.exports=e("can-log")}),define("can-connect/fall-through-cache/fall-through-cache",["require","exports","module","can-connect","can-connect/helpers/sorted-set-json","can-util/js/log/log","can-connect/helpers/validate"],function(e,t,n){var a=e("can-connect"),i=e("can-connect/helpers/sorted-set-json"),s=e("can-util/js/log/log"),r=a.behavior("fall-through-cache",function(r){return{hydrateList:function(e,t){t=t||this.listSet(e);var n=i(t),a=r.hydrateList.call(this,e,t);return this._getHydrateListCallbacks[n]&&(this._getHydrateListCallbacks[n].shift()(a),this._getHydrateListCallbacks[n].length||delete this._getHydrateListCallbacks[n]),a},_getHydrateListCallbacks:{},_getHydrateList:function(e,t){var n=i(e);this._getHydrateListCallbacks[n]||(this._getHydrateListCallbacks[n]=[]),this._getHydrateListCallbacks[n].push(t)},getListData:function(n){n=n||{};var a=this;return this.cacheConnection.getListData(n).then(function(e){return a._getHydrateList(n,function(t){a.addListReference(t,n),setTimeout(function(){r.getListData.call(a,n).then(function(e){a.cacheConnection.updateListData(e,n),a.updatedList(t,e,n),a.deleteListReference(t,n)},function(e){s.log("REJECTED",e)})},1)}),e},function(){var e=r.getListData.call(a,n);return e.then(function(e){a.cacheConnection.updateListData(e,n)}),e})},hydrateInstance:function(e){var t=this.id(e),n=r.hydrateInstance.apply(this,arguments);return this._getMakeInstanceCallbacks[t]&&(this._getMakeInstanceCallbacks[t].shift()(n),this._getMakeInstanceCallbacks[t].length||delete this._getMakeInstanceCallbacks[t]),n},_getMakeInstanceCallbacks:{},_getMakeInstance:function(e,t){this._getMakeInstanceCallbacks[e]||(this._getMakeInstanceCallbacks[e]=[]),this._getMakeInstanceCallbacks[e].push(t)},getData:function(n){var a=this;return this.cacheConnection.getData(n).then(function(e){return a._getMakeInstance(a.id(e)||a.id(n),function(t){a.addInstanceReference(t),setTimeout(function(){r.getData.call(a,n).then(function(e){a.cacheConnection.updateData(e),a.updatedInstance(t,e),a.deleteInstanceReference(t)},function(e){s.log("REJECTED",e)})},1)}),e},function(){var e=r.getData.call(a,n);return e.then(function(e){a.cacheConnection.updateData(e)}),e})}}});n.exports=r;var o=e("can-connect/helpers/validate");n.exports=o(r,["hydrateList","hydrateInstance","getListData","getData"])}),define("can-connect/real-time/real-time",["require","exports","module","can-connect","can-set","can-connect/helpers/set-add","can-connect/helpers/get-index-by-id","can-util/js/dev/dev"],function(e,t,n){var a=e("can-connect"),u=e("can-set"),l=e("can-connect/helpers/set-add"),d=e("can-connect/helpers/get-index-by-id"),o=e("can-util/js/dev/dev");n.exports=a.behavior("real-time",function(n){var s=Promise.resolve();return{createData:function(){var e=n.createData.apply(this,arguments),t=e.catch(function(){return""});return s=Promise.all([s,t]),e},createInstance:function(r){var i=this;return new Promise(function(a,e){s.then(function(){setTimeout(function(){var e,t=i.id(r),n=i.instanceStore.get(t);n?a(i.updateInstance(r)):(n=i.hydrateInstance(r),e=i.serializeInstance(n),i.addInstanceReference(n),Promise.resolve(i.createdData(r,e)).then(function(){i.deleteInstanceReference(n),a(n)}))},1)})})},createdData:function(e,t,n){var a;a=void 0!==n?this.cidStore.get(n):this.instanceStore.get(this.id(e)),this.addInstanceReference(a,this.id(e)),this.createdInstance(a,e),r.call(this,this.serializeInstance(a)),this.deleteInstanceReference(a)},updatedData:function(e,t){var n=this.instanceStore.get(this.id(t));this.updatedInstance(n,e),i.call(this,this.serializeInstance(n))},updateInstance:function(e){var t=this.id(e),n=this.instanceStore.get(t);n||(n=this.hydrateInstance(e)),this.addInstanceReference(n);var a=this.serializeInstance(n),r=this;return Promise.resolve(this.updatedData(e,a)).then(function(){return r.deleteInstanceReference(n),n})},destroyedData:function(e,t){var n=this.id(t||e),a=this.instanceStore.get(n);a||(a=this.hydrateInstance(e));var r=this.serializeInstance(a);this.destroyedInstance(a,e),c.call(this,r)},destroyInstance:function(e){var t=this.id(e),n=this.instanceStore.get(t);n||(n=this.hydrateInstance(e)),this.addInstanceReference(n);var a=this.serializeInstance(n),r=this;return Promise.resolve(this.destroyedData(e,a)).then(function(){return r.deleteInstanceReference(n),n})},gotListData:function(e,t){if(this.algebra)for(var n,a=0,r=e.data.length;a<r;a++)if(n=e.data[a],!this.algebra.has(t,n)){var i="One or more items were retrieved which do not match the 'Set' parameters used to load them. Read the docs for more information: https://canjs.com/doc/can-set.html#SolvingCommonIssues\n\nBelow are the 'Set' parameters:\n"+o.stringify(t)+"\n\nAnd below is an item which does not match those parameters:\n"+o.stringify(n);o.warn(i);break}return Promise.resolve(e)}}});var r=function(i){var s=this;this.listStore.forEach(function(e,t){var n=JSON.parse(t),a=d(s,i,e);if(u.has(n,i,s.algebra)&&-1===a){var r=s.serializeList(e);s.updatedList(e,{data:l(s,n,r,i,s.algebra)},n)}})},i=function(o){var c=this;this.listStore.forEach(function(e,t){var n,a=JSON.parse(t),r=d(c,o,e);if(u.has(a,o,c.algebra))if(n=c.serializeList(e),-1===r)c.updatedList(e,{data:l(c,a,n,o,c.algebra)},a);else{var i=u.index(a,n,o,c.algebra);if(void 0!==i&&i!==r){var s=n.slice(0);r<i?(s.splice(i,0,o),s.splice(r,1)):(s.splice(r,1),s.splice(i,0,o)),c.updatedList(e,{data:s},a)}}else-1!==r&&((n=c.serializeList(e)).splice(r,1),c.updatedList(e,{data:n},a))})},c=function(i){var s=this;this.listStore.forEach(function(e,t){var n=JSON.parse(t),a=d(s,i,e);if(-1!==a){var r=s.serializeList(e);r.splice(a,1),s.updatedList(e,{data:r},n)}})}}),define("can-connect/can/map/map",["require","exports","module","can-util/js/each/each","can-connect","can-queues","can-event-queue/map/map","can-observation-recorder","can-util/js/is-plain-object/is-plain-object","can-types","can-util/js/each/each","can-util/js/dev/dev","can-reflect","can-symbol","can-connect/helpers/validate"],function(e,t,n){"use strict";var a=e("can-util/js/each/each"),r=e("can-connect"),i=e("can-queues"),s=e("can-event-queue/map/map"),o=(e("can-observation-recorder"),e("can-util/js/is-plain-object/is-plain-object")),c=e("can-types"),u=(a=e("can-util/js/each/each"),e("can-util/js/dev/dev")),l=e("can-reflect"),d=e("can-symbol"),p=r.behavior("can/map",function(r){var e={init:function(){if(!this.Map)throw new Error("can-connect/can/map/map must be configured with a Map type");if(this.List=this.List||this.Map.List,!this.List)throw new Error("can-connect/can/map/map must be configured with a List type");v(this,this.Map,f),v(this,this.List,h);var a=this;this.Map[d.for("can.onInstanceBoundChange")]?this.Map[d.for("can.onInstanceBoundChange")](function(e,t){var n=t?"addInstanceReference":"deleteInstanceReference";a[n]&&a[n](e)}):console.warn("can-connect/can/map is unable to listen to onInstanceBoundChange on the Map type"),this.List[d.for("can.onInstanceBoundChange")]?this.List[d.for("can.onInstanceBoundChange")](function(e,t){var n=t?"addListReference":"deleteListReference";a[n]&&a[n](e)}):console.warn("can-connect/can/map is unable to listen to onInstanceBoundChange on the List type"),this.Map[d.for("can.onInstancePatches")]?this.Map[d.for("can.onInstancePatches")](function(t,e){e.forEach(function(e){"add"!==e.type&&"set"!==e.type||e.key!==a.idProp||!t[d.for("can.isBound")]()||a.addInstanceReference(t)})}):console.warn("can-connect/can/map is unable to listen to onInstancePatches on the Map type"),r.init.apply(this,arguments)},id:function(e){if(o(e))return r.id(e);var t=[],n=this.algebra;if(n&&n.clauses&&n.clauses.id)for(var a in n.clauses.id)t.push(l.getKeyValue(e,a));return this.idProp&&!t.length&&t.push(l.getKeyValue(e,this.idProp)),t.length||t.push(l.getKeyValue(e,"id")),1<t.length?t.join("@|@"):t[0]},serializeInstance:function(e){return l.serialize(e)},serializeList:function(e){return l.serialize(e)},instance:function(e){return new(this.Map||c.DefaultMap)(e)},list:function(e,t){var n=new(this.List||this.Map&&this.Map.List||c.DefaultList)(e.data);return a(e,function(e,t){"data"!==t&&l.setKeyValue(n,t,e)}),n.__listSet=t,n},updatedList:function(e,t,n){i.batch.start(),i.mutateQueue.enqueue(r.updatedList,this,arguments,{reasonLog:["set",n,"list",e,"updated with",t]}),i.batch.stop()},save:function(e){l.setKeyValue(e,"_saving",!0);var t=function(){l.setKeyValue(e,"_saving",!1)},n=r.save.apply(this,arguments);return n.then(t,t),n},destroy:function(e){l.setKeyValue(e,"_destroying",!0);var t=function(){l.setKeyValue(e,"_destroying",!1)},n=r.destroy.apply(this,arguments);return n.then(t,t),n}};return a(["created","updated","destroyed"],function(n){e[n+"Instance"]=function(e,t){t&&"object"==typeof t&&(this.constructor.removeAttr?l.updateDeep(e,t):l.assignDeep(e,t)),"created"===n&&this.moveCreatedInstanceToInstanceStore&&this.moveCreatedInstanceToInstanceStore(e),p.callbackInstanceEvents(n,e)}}),e});p.callbackInstanceEvents=function(e,t){var n=t.constructor;i.batch.start(),s.dispatch.call(t,{type:e,target:t}),this.id&&u.log("can-connect/can/map/map.js - "+(n.shortName||this.name)+" "+this.id(t)+" "+e),s.dispatch.call(n,e,[t]),i.batch.stop()};var f={static:{getList:function(e,t){return function(e){return t.getList(e)}},findAll:function(e,t){return function(e){return t.getList(e)}},get:function(e,t){return function(e){return t.get(e)}},findOne:function(e,t){return function(e){return t.get(e)}}},prototype:{isNew:function(e,t){return function(){return t.isNew(this)}},isSaving:function(e,t){return function(){return!!l.getKeyValue(this,"_saving")}},isDestroying:function(e,t){return function(){return!!l.getKeyValue(this,"_destroying")}},save:function(e,a){return function(e,t){var n=a.save(this);return n.then(e,t),n}},destroy:function(e,a){return function(e,t){var n;return this.isNew()?(n=Promise.resolve(this),a.destroyedInstance(this,{})):n=a.destroy(this),n.then(e,t),n}}},properties:{_saving:{enumerable:!1,value:!1,configurable:!0,writable:!0},_destroying:{enumerable:!1,value:!1,configurable:!0,writable:!0}}},h={static:{_bubbleRule:function(a,e){return function(e,t){var n=a(e,t);return n.push("destroyed"),n}}},prototype:{setup:function(t,n){return function(e){o(e)&&!Array.isArray(e)?(this.__listSet=e,t.apply(this),this.replace(l.isPromise(e)?e:n.getList(e))):t.apply(this,arguments)}}},properties:{}},v=function(e,t,n){var a;for(a in n.properties)l.defineInstanceKey(t,a,n.properties[a]);for(a in n.prototype)t.prototype[a]=n.prototype[a](t.prototype[a],e);if(n.static)for(a in n.static)t[a]=n.static[a](t[a],e)};n.exports=p;var g=e("can-connect/helpers/validate");n.exports=g(p,["id","get","updatedList","destroy","save","getList"])}),define("can-connect/can/ref/ref",["require","exports","module","can-connect","can-connect/helpers/get-id-props","can-connect/helpers/weak-reference-map","can-observation-recorder","can-connect/constructor/store/store","can-define"],function(e,t,n){var a=e("can-connect"),s=e("can-connect/helpers/get-id-props"),o=e("can-connect/helpers/weak-reference-map"),c=e("can-observation-recorder"),u=e("can-connect/constructor/store/store"),l=e("can-define");n.exports=a.behavior("can/ref",function(e){return{init:function(){e.init.apply(this,arguments),this.Map.Ref=function(a){var r=s(a)[0],i=function(e,t){"object"==typeof e&&(e=(t=e)[r]);var n=i.store.get(e);if(n)return t&&!n._value&&(t instanceof a.Map?n._value=t:n._value=a.hydrateInstance(t)),n;this[r]=e,t&&(t instanceof a.Map?this._value=t:this._value=a.hydrateInstance(t)),0<u.requests.count()&&(i._requestInstances[e]||(i.store.addReference(e,this),i._requestInstances[e]=this))};i.store=new o,i._requestInstances={},i.type=function(e){return e&&"object"!=typeof e?new i(e):new i(e[r],e)};var e={promise:{get:function(){if(this._value)return Promise.resolve(this._value);var e={};return e[r]=this[r],a.Map.get(e)}},_state:{get:function(e,t){return t&&this.promise.then(function(){t("resolved")},function(){t("rejected")}),"pending"}},value:{get:function(e,t){if(this._value)return this._value;t&&this.promise.then(function(e){t(e)})}},reason:{get:function(e,t){this._value||this.promise.catch(function(e){t(e)})}}};e[r]={type:"*",set:function(){this._value=void 0}},l(i.prototype,e),i.prototype.unobservedId=c.ignore(function(){return this[r]}),i.prototype.isResolved=function(){return!!this._value||"resolved"===this._state},i.prototype.isRejected=function(){return"rejected"===this._state},i.prototype.isPending=function(){return!this._value&&("resolved"!==this._state||"rejected"!==this._state)},i.prototype.serialize=function(){return this[r]};var t=i.prototype._eventSetup;i.prototype._eventSetup=function(){return i.store.addReference(this.unobservedId(),this),t.apply(this,arguments)};var n=i.prototype._eventTeardown;return i.prototype._eventTeardown=function(){return i.store.deleteReference(this.unobservedId(),this),n.apply(this,arguments)},u.requests.on("end",function(){for(var e in i._requestInstances)i.store.deleteReference(e);i._requestInstances={}}),i}(this)}}})}),define("can-util/js/global/global",["require","exports","module","can-globals/global/global"],function(e,t,r){!function(e,t,n,a){"use strict";r.exports=t("can-globals/global/global")}(0,e)}),define("can-connect/can/super-map/super-map",["require","exports","module","can-connect","can-connect/constructor/constructor","can-connect/can/map/map","can-connect/can/ref/ref","can-connect/constructor/store/store","can-connect/data/callbacks/callbacks","can-connect/data/callbacks-cache/callbacks-cache","can-connect/data/combine-requests/combine-requests","can-connect/data/localstorage-cache/localstorage-cache","can-connect/data/parse/parse","can-connect/data/url/url","can-connect/fall-through-cache/fall-through-cache","can-connect/real-time/real-time","can-connect/constructor/callbacks-once/callbacks-once","can-util/js/global/global"],function(e,t,n){var a,r,i,s,o,c,u,l,d,p,f,h,v,g,m,y,b;r=n,i=(a=e)("can-connect"),s=a("can-connect/constructor/constructor"),o=a("can-connect/can/map/map"),c=a("can-connect/can/ref/ref"),u=a("can-connect/constructor/store/store"),l=a("can-connect/data/callbacks/callbacks"),d=a("can-connect/data/callbacks-cache/callbacks-cache"),p=a("can-connect/data/combine-requests/combine-requests"),f=a("can-connect/data/localstorage-cache/localstorage-cache"),h=a("can-connect/data/parse/parse"),v=a("can-connect/data/url/url"),g=a("can-connect/fall-through-cache/fall-through-cache"),m=a("can-connect/real-time/real-time"),y=a("can-connect/constructor/callbacks-once/callbacks-once"),b=a("can-util/js/global/global")().$,i.superMap=function(e){var t=[s,o,c,u,l,p,h,v,m,y];return"undefined"!=typeof localStorage&&(e.cacheConnection||(e.cacheConnection=i([f],{name:e.name+"Cache",idProp:e.idProp,algebra:e.algebra})),t.push(d,g)),b&&b.ajax&&(e.ajax=b.ajax),i(t,e)},r.exports=i.superMap}),define("can-connect/can/tag/tag",["require","exports","module","can-stache-bindings","can-connect","can-observation","can-stache/src/expression","can-view-callbacks","can-observation-recorder","can-view-nodelist","can-reflect","can-symbol","can-dom-mutate","can-dom-mutate/node","can-util/js/each/each"],function(e,t,n){e("can-stache-bindings");var a=e("can-connect"),m=e("can-observation"),y=e("can-stache/src/expression"),r=e("can-view-callbacks"),b=e("can-observation-recorder"),w=e("can-view-nodelist"),x=e("can-reflect"),k=e("can-symbol"),L=e("can-dom-mutate"),j=e("can-dom-mutate/node"),D=e("can-util/js/each/each"),S=function(e){return"function"==typeof e?S(e()):e};a.tag=function(e,g){r.tag(e,function(e,a){var t,n,r,i=e.getAttribute("getList")||e.getAttribute("get-list"),s=e.getAttribute("get"),o=i||s,c=i?"getList":"get",u=y.parse("tmp("+(n=n||"{",r=r||"}",(t=o)[0]===n&&t[t.length-1]===r?t.substr(1,t.length-2):t)+")",{baseMethodType:"Call"}),l=!1,d=b.ignore(function(e,t){if(!l){var n=a.scope.peek("%root")||a.scope.peek("@root");n&&n.pageData&&("get"===c&&(e=g.id(e)),n.pageData(g.name,e,t))}l=!0}),p=new m(function(){var n={};if("object"==typeof u.hash)D(u.hash,function(e,t){e&&e.hasOwnProperty("get")?n[t]=a.scope.read(e.get,{}).value:n[t]=e});else if("function"==typeof u.hash){var e=u.hash(a.scope,a.options,{});D(e(),function(e,t){n[t]=S(e)})}else n=u.argExprs.length?x.getValue(u.argExprs[0].value(a.scope,a.options)):{};var t=g[c](n);return d(n,t),t});e[k.for("can.viewModel")]=p;var f=w.register([],void 0,a.parentNodeList||!0),h=a.subtemplate?a.subtemplate(a.scope.add(p),a.options,f):document.createDocumentFragment();j.appendChild.call(e,h),w.update(f,e.childNodes);var v=L.onNodeRemoval(e,function(){e.ownerDocument.contains(e)||(v(),w.unregister(f))})})},n.exports=a.tag}),define("can-connect/can/base-map/base-map",["require","exports","module","can-connect","can-connect/constructor/constructor","can-connect/can/map/map","can-connect/can/ref/ref","can-connect/constructor/store/store","can-connect/data/callbacks/callbacks","can-connect/data/callbacks-cache/callbacks-cache","can-connect/data/parse/parse","can-connect/data/url/url","can-connect/real-time/real-time","can-connect/constructor/callbacks-once/callbacks-once","can-util/js/global/global"],function(e,t,n){var a,r,i,s,o,c,u,l,d,p,f,h,v;r=n,i=(a=e)("can-connect"),s=a("can-connect/constructor/constructor"),o=a("can-connect/can/map/map"),c=a("can-connect/can/ref/ref"),u=a("can-connect/constructor/store/store"),l=a("can-connect/data/callbacks/callbacks"),a("can-connect/data/callbacks-cache/callbacks-cache"),d=a("can-connect/data/parse/parse"),p=a("can-connect/data/url/url"),f=a("can-connect/real-time/real-time"),h=a("can-connect/constructor/callbacks-once/callbacks-once"),v=a("can-util/js/global/global")().$,i.baseMap=function(e){var t=[s,o,c,u,l,d,p,f,h];return v&&v.ajax&&(e.ajax=v.ajax),i(t,e)},r.exports=i.baseMap}),define("can-connect/all",["require","exports","module","can-connect","can-connect/cache-requests/cache-requests","can-connect/constructor/constructor","can-connect/constructor/callbacks-once/callbacks-once","can-connect/constructor/store/store","can-connect/data/callbacks/callbacks","can-connect/data/callbacks-cache/callbacks-cache","can-connect/data/combine-requests/combine-requests","can-connect/data/localstorage-cache/localstorage-cache","can-connect/data/memory-cache/memory-cache","can-connect/data/parse/parse","can-connect/data/url/url","can-connect/fall-through-cache/fall-through-cache","can-connect/real-time/real-time","can-connect/can/super-map/super-map","can-connect/can/tag/tag","can-connect/can/base-map/base-map"],function(e,t,n){var a=e("can-connect");a.cacheRequests=e("can-connect/cache-requests/cache-requests"),a.constructor=e("can-connect/constructor/constructor"),a.constructorCallbacksOnce=e("can-connect/constructor/callbacks-once/callbacks-once"),a.constructorStore=e("can-connect/constructor/store/store"),a.dataCallbacks=e("can-connect/data/callbacks/callbacks"),a.dataCallbacksCache=e("can-connect/data/callbacks-cache/callbacks-cache"),a.dataCombineRequests=e("can-connect/data/combine-requests/combine-requests"),a.dataLocalStorageCache=e("can-connect/data/localstorage-cache/localstorage-cache"),a.dataMemoryCache=e("can-connect/data/memory-cache/memory-cache"),a.dataParse=e("can-connect/data/parse/parse"),a.dataUrl=e("can-connect/data/url/url"),a.fallThroughCache=e("can-connect/fall-through-cache/fall-through-cache"),a.realTime=e("can-connect/real-time/real-time"),a.superMap=e("can-connect/can/super-map/super-map"),a.tag=e("can-connect/can/tag/tag"),a.baseMap=e("can-connect/can/base-map/base-map"),n.exports=a}),define("can-define/list/list",["require","exports","module","can-construct","can-define","can-queues","can-event-queue/type/type","can-observation-recorder","can-log","can-log/dev/dev","can-define/define-helpers/define-helpers","can-log/dev/dev","can-define/ensure-meta","can-util/js/assign/assign","can-util/js/diff/diff","can-util/js/each/each","can-util/js/make-array/make-array","can-namespace","can-reflect","can-symbol","can-util/js/single-reference/single-reference"],function(e,t,n){var a=e("can-construct"),r=e("can-define"),i=r.make,l=e("can-queues"),s=e("can-event-queue/type/type"),o=e("can-observation-recorder"),c=e("can-log"),u=e("can-log/dev/dev"),d=e("can-define/define-helpers/define-helpers"),p=e("can-log/dev/dev"),f=e("can-define/ensure-meta"),h=e("can-util/js/assign/assign"),v=e("can-util/js/diff/diff"),g=e("can-util/js/each/each"),m=e("can-util/js/make-array/make-array"),y=e("can-namespace"),b=e("can-reflect"),w=e("can-symbol"),x=e("can-util/js/single-reference/single-reference"),k=[].splice,L=!1,j=function(e){return e},D="can.patches",S=r.eventsProto[w.for("can.onKeyValue")],C=r.eventsProto[w.for("can.offKeyValue")],O=a.extend("DefineList",{setup:function(e){if(O){s(this);var t=this.prototype,n=r(t,t,e.prototype._define);r.makeDefineInstanceKey(this,n);var a=n.definitions["#"]||n.defaultDefinition;a&&(a.Type?this.prototype.__type=i.set.Type("*",a.Type,j):a.type&&(this.prototype.__type=i.set.type("*",a.type,j)))}}},{setup:function(e){this._define||(Object.defineProperty(this,"_define",{enumerable:!1,value:{definitions:{length:{type:"number"},_length:{type:"number"}}}}),Object.defineProperty(this,"_data",{enumerable:!1,value:{}})),r.setup.call(this,{},!1),Object.defineProperty(this,"_length",{enumerable:!1,configurable:!0,writable:!0,value:0}),e&&this.splice.apply(this,[0,0].concat(b.toArray(e)))},__type:r.types.observable,_triggerChange:function(e,t,n,a){var r=+e;if(isNaN(r))this.dispatch({type:""+e,target:this},[n,a]);else{var i,s=this._define.definitions["#"];"add"===t?(s&&"function"==typeof s.added&&o.ignore(s.added).call(this,n,r),i=[{type:"splice",insert:n,index:r,deleteCount:0}],this.dispatch({type:t,patches:i,reasonLog:[b.getName(this),"added",n,"at",r]},[n,r])):"remove"===t?(s&&"function"==typeof s.removed&&o.ignore(s.removed).call(this,a,r),i=[{type:"splice",index:r,deleteCount:a.length}],this.dispatch({type:t,patches:i,reasonLog:[b.getName(this),"remove",a,"at",r]},[a,r])):this.dispatch(t,[n,r])}},get:function(e){return arguments.length?(isNaN(e)?o.add(this,e):o.add(this,"length"),this[e]):b.unwrap(this,Map)},set:function(e,t){if("object"!=typeof e)if("number"==typeof(e=isNaN(+e)||e%1?e:+e)){if("number"==typeof e&&e>this._length-1){var n=new Array(e+1-this._length);return n[n.length-1]=t,this.push.apply(this,n),n}this.splice(e,1,t)}else{d.defineExpando(this,e,t)||(this[e]=t)}else u.warn("can-define/list/list.prototype.set is deprecated; please use can-define/list/list.prototype.assign or can-define/list/list.prototype.update instead"),b.isListLike(e)?t?this.replace(e):b.assignList(this,e):b.assignMap(this,e);return this},assign:function(e){return b.isListLike(e)?b.assignList(this,e):b.assignMap(this,e),this},update:function(e){return b.isListLike(e)?b.updateList(this,e):b.updateMap(this,e),this},assignDeep:function(e){return b.isListLike(e)?b.assignDeepList(this,e):b.assignDeepMap(this,e),this},updateDeep:function(e){return b.isListLike(e)?b.updateDeepList(this,e):b.updateDeepMap(this,e),this},_items:function(){var t=[];return this._each(function(e){t.push(e)}),t},_each:function(e){for(var t=0,n=this._length;t<n;t++)e(this[t],t)},splice:function(e,t){var n,a,r,i=m(arguments),s=[],o=2<i.length,c=this._length;for(e=e||0,n=0,a=i.length-2;n<a;n++)i[r=n+2]=this.__type(i[r],r),s.push(i[r]),this[n+e]!==i[r]&&(o=!1);if(o&&this._length<=s.length)return s;void 0===t&&(t=i[1]=this._length-e),L=!0;var u=k.apply(this,i);return L=!1,l.batch.start(),0<t&&this._triggerChange(""+e,"remove",void 0,u),2<i.length&&this._triggerChange(""+e,"add",s,u),this.dispatch("length",[this._length,c]),l.batch.stop(),u},serialize:function(){return b.serialize(this,Map)},log:function(a){var r=this,i=function(e){return"string"==typeof e?JSON.stringify(e):e},e=f(r),s=e.allowedLogKeysSet||new Set;e.allowedLogKeysSet=s,a&&s.add(a),e._log=function(e,t){var n=e.type;"can.onPatches"===n||a&&!s.has(n)||("add"===n||"remove"===n?p.log(b.getName(r),"\n how   ",i(n),"\n what  ",i(t[0]),"\n index ",i(t[1])):p.log(b.getName(r),"\n key ",i(n),"\n is  ",i(t[0]),"\n was ",i(t[1])))}}});for(var V in r.eventsProto)Object.defineProperty(O.prototype,V,{enumerable:!1,value:r.eventsProto[V],writable:!0});("getOwnPropertySymbols"in Object?Object.getOwnPropertySymbols(r.eventsProto):[w.for("can.onKeyValue"),w.for("can.offKeyValue")]).forEach(function(e){Object.defineProperty(O.prototype,e,{enumerable:!1,value:r.eventsProto[e],writable:!0})});for(var V in g({push:"length",unshift:0},function(i,e){var s=[][e];O.prototype[e]=function(){for(var e,t,n=[],a=i?this._length:0,r=arguments.length;r--;)t=arguments[r],n[r]=this.__type(t,r);return L=!0,e=s.apply(this,n),L=!1,this.comparator&&!n.length||(l.batch.start(),this._triggerChange(""+a,"add",n,void 0),this.dispatch("length",[this._length,a]),l.batch.stop()),e}}),g({pop:"length",shift:0},function(i,e){var s=[][e];O.prototype[e]=function(){if(this._length){var e,t,n=(t=arguments)[0]&&Array.isArray(t[0])?t[0]:m(t),a=i&&this._length?this._length-1:0,r=this._length?this._length:0;return L=!0,e=s.apply(this,n),L=!1,l.batch.start(),this._triggerChange(""+a,"remove",void 0,[e]),this.dispatch("length",[this._length,r]),l.batch.stop(),e}}}),g({map:3,filter:3,reduce:4,reduceRight:4,every:3,some:3},function(s,o){O.prototype[o]=function(){var n,t=this,e=[].slice.call(arguments,0),a=e[0],r=e[s-1]||t;"object"==typeof a&&(n=a,a=function(e){for(var t in n)if(e[t]!==n[t])return!1;return!0}),e[0]=function(){var e=[].slice.call(arguments,0);return e[s-3]=t.get(e[s-2]),a.apply(r,e)};var i=Array.prototype[o].apply(this,e);return"map"===o?new O(i):"filter"===o?new t.constructor(i):i}}),h(O.prototype,{indexOf:function(e,t){for(var n=t||0,a=this.length;n<a;n++)if(this.get(n)===e)return n;return-1},lastIndexOf:function(e,t){for(var n=t=void 0===t?this.length-1:t;0<=n;n--)if(this.get(n)===e)return n;return-1},join:function(){return o.add(this,"length"),[].join.apply(this,arguments)},reverse:function(){var e=[].reverse.call(this._items());return this.replace(e)},slice:function(){o.add(this,"length");var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var t=[];return g(arguments,function(e){b.isListLike(e)?(Array.isArray(e)?e:m(e)).forEach(function(e){t.push(this.__type(e))},this):t.push(this.__type(e))},this),new this.constructor(Array.prototype.concat.apply(m(this),t))},forEach:function(e,t){for(var n,a=0,r=this.length;a<r&&(n=this.get(a),!1!==e.call(t||n,n,a,this));a++);return this},replace:function(e){var t=v(this,e);l.batch.start();for(var n=0,a=t.length;n<a;n++)this.splice.apply(this,[t[n].index,t[n].deleteCount].concat(t[n].insert));return l.batch.stop(),this},sort:function(e){var t=Array.prototype.slice.call(this);Array.prototype.sort.call(this,e);var n=Array.prototype.slice.call(this);return l.batch.start(),this.dispatch("remove",[t,0]),this.dispatch("add",[n,0]),this.dispatch("length",[this._length,this._length]),l.batch.stop(),this}}),r.eventsProto)O[V]=r.eventsProto[V],Object.defineProperty(O.prototype,V,{enumerable:!1,value:r.eventsProto[V],writable:!0});Object.defineProperty(O.prototype,"length",{get:function(){return this.__inSetup||o.add(this,"length"),this._length},set:function(e){if(L)this._length=e;else if(null!=e&&!isNaN(+e)&&e!==this._length)if(e>this._length-1){var t=new Array(e-this._length);this.push.apply(this,t)}else this.splice(e)},enumerable:!0}),O.prototype.attr=function(e,t){return c.warn("DefineMap::attr shouldn't be called"),0===arguments.length?this.get():e&&"object"==typeof e?this.set.apply(this,arguments):1===arguments.length?this.get(e):this.set(e,t)},O.prototype.item=function(e,t){return 1===arguments.length?this.get(e):this.set(e,t)},O.prototype.items=function(){return c.warn("DefineList::get should should be used instead of DefineList::items"),this.get()},b.assignSymbols(O.prototype,{"can.isMoreListLikeThanMapLike":!0,"can.isMapLike":!0,"can.isListLike":!0,"can.isValueLike":!1,"can.getKeyValue":O.prototype.get,"can.setKeyValue":O.prototype.set,"can.onKeyValue":function(e,t,n){var a;return isNaN(e)?S.apply(this,arguments):(a=function(){t(this[e])},Object.defineProperty(a,"name",{value:"translationHandler("+e+")::"+b.getName(this)+".onKeyValue('length',"+b.getName(t)+")"}),x.set(t,this,a,e),S.call(this,"length",a,n))},"can.offKeyValue":function(e,t,n){var a;return isNaN(e)?C.apply(this,arguments):(a=x.getAndDelete(t,this,e),C.call(this,"length",a,n))},"can.deleteKeyValue":function(e){if("number"==typeof(e=isNaN(+e)||e%1?e:+e))this.splice(e,1);else{if("length"===e||"_length"===e)return;this.set(e,void 0)}return this},"can.assignDeep":function(e){l.batch.start(),b.assignList(this,e),l.batch.stop()},"can.updateDeep":function(e){l.batch.start(),this.replace(e),l.batch.stop()},"can.keyHasDependencies":function(e){return!!(this._computed&&this._computed[e]&&this._computed[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computed&&this._computed[e]&&this._computed[e].compute&&((t={}).valueDependencies=new Set([this._computed[e].compute])),t},"can.splice":function(e,t,n){this.splice.apply(this,[e,t].concat(n))},"can.onPatches":function(e,t){this[w.for("can.onKeyValue")](D,e,t)},"can.offPatches":function(e,t){this[w.for("can.offKeyValue")](D,e,t)},"can.getName":function(){return b.getName(this.constructor)+"[]"}}),b.setKeyValue(O.prototype,w.iterator,function(){var e=-1;return"number"!=typeof this._length&&(this._length=0),{next:function(){return{value:this[++e],done:e>=this._length}}.bind(this)}}),r.DefineList=O,n.exports=y.DefineList=O}),define("can-simple-observable/make-compute/make-compute",["require","exports","module","can-reflect"],function(e,t,n){var i=e("can-reflect"),s=new WeakMap;n.exports=function(a){var r=function(e){return arguments.length?i.setValue(this,e):i.getValue(this)}.bind(a);return r.on=r.bind=r.addEventListener=function(e,n){var t=s.get(n);t||(t=function(e,t){n.call(r,{type:"change"},e,t)},Object.defineProperty(t,"name",{value:"translationHandler("+e+")::"+i.getName(a)+".onValue("+i.getName(n)+")"}),s.set(n,t)),i.onValue(a,t)},r.off=r.unbind=r.removeEventListener=function(e,t){i.offValue(a,s.get(t))},i.assignSymbols(r,{"can.getValue":function(){return i.getValue(a)},"can.setValue":function(e){return i.setValue(a,e)},"can.onValue":function(e,t){return i.onValue(a,e,t)},"can.offValue":function(e,t){return i.offValue(a,e,t)},"can.valueHasDependencies":function(){return i.valueHasDependencies(a)},"can.getPriority":function(){return i.getPriority(a)},"can.setPriority":function(e){i.setPriority(a,e)},"can.isValueLike":!0,"can.isFunctionLike":!1}),r.isComputed=!0,r}}),define("can-route/src/binding-proxy",["require","exports","module","can-reflect","can-symbol","can-simple-observable"],function(e,t,n){var r=e("can-reflect"),i=e("can-symbol"),a=new(e("can-simple-observable"))("hashchange"),s={get defaultBinding(){return a.get()},set defaultBinding(e){a.set(e)},currentBinding:null,bindings:{},call:function(){var e=r.toArray(arguments),t=e.shift(),n=s.bindings[s.currentBinding||s.defaultBinding],a=n[0===t.indexOf("can.")?i.for(t):t];return a.apply?a.apply(n,e):a}};n.exports=s}),define("can-route/src/regexps",function(e,t,n){n.exports={curlies:/\{\s*([\w.]+)\s*\}/g,colon:/\:([\w.]+)/g}}),define("can-util/js/diff-object/diff-object",["require","exports","module","can-assign"],function(e,t,n){"use strict";var s=e("can-assign");n.exports=function(e,t){var n,a=[];for(var r in n=s({},e),t)e&&e.hasOwnProperty(r)?t[r]!==e[r]&&a.push({property:r,type:"set",value:t[r]}):a.push({property:r,type:"add",value:t[r]}),delete n[r];for(var i in n)a.push({property:i,type:"remove"});return a}}),define("can-route/src/register",["require","exports","module","can-reflect","can-log/dev/dev","can-route/src/binding-proxy","can-route/src/regexps","can-util/js/diff/diff","can-util/js/diff-object/diff-object"],function(e,t,n){var d=e("can-reflect"),p=e("can-log/dev/dev"),f=e("can-route/src/binding-proxy"),h=e("can-route/src/regexps"),v=e("can-util/js/diff/diff"),g=e("can-util/js/diff-object/diff-object"),m=function(e){return e.replace(/\\/g,"")},y={routes:{},register:function(s,o){var e=f.call("root");e.lastIndexOf("/")===e.length-1&&0===s.indexOf("/")&&(s=s.substr(1)),o=o||{};var t,n,a,r,c=[],i="",u=f.call("querySeparator"),l=f.call("matchSlashes");for(h.colon.test(s)?(n=h.colon,p.warn('update route "'+s+'" to "'+s.replace(h.colon,function(e,t){return"{"+t+"}"})+'"')):n=h.curlies,a=n.lastIndex=0;t=n.exec(s);)c.push(t[1]),i+=m(s.substring(a,n.lastIndex-t[0].length)),i+="([^"+("\\"+(m(s.substr(n.lastIndex,1))||u+(l?"":"|/")))+"]"+(o[t[1]]?"*":"+")+")",a=n.lastIndex;return i+=s.substr(a).replace("\\",""),d.eachKey(y.routes,function(e){var t=e.names.concat(Object.keys(e.defaults)).sort(),n=c.concat(Object.keys(o)).sort(),a=!v(t,n).length,r=!g(e.defaults,o).length,i=e.route.replace(/\/$/,"")===s.replace(/\/$/,"");a&&r&&!i&&p.warn('two routes were registered with matching keys:\n\t(1) route("'+e.route+'", '+JSON.stringify(e.defaults)+')\n\t(2) route("'+s+'", '+JSON.stringify(o)+")\n(1) will always be chosen since it was registered first")}),y.routes[s]={test:new RegExp("^"+i+"($|"+(r=u,(r+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1"))+")"),route:s,names:c,defaults:o,length:s.split("/").length}}};n.exports=y}),define("can-deparam",["require","exports","module","can-namespace"],function(e,t,n){var a=e("can-namespace"),u=/^\d+$/,l=/([^\[\]]+)|(\[\])/g,r=/([^?#]*)(#.*)?$/,i=/%([^0-9a-f][0-9a-f]|[0-9a-f][^0-9a-f]|[^0-9a-f][^0-9a-f])/i,d=function(t){t=t.replace(/\+/g," ");try{return decodeURIComponent(t)}catch(e){return decodeURIComponent(t.replace(i,function(e,t){return"%25"+t}))}};n.exports=a.deparam=function(e){var o,c={};return e&&r.test(e)&&e.split("&").forEach(function(e){var t=e.split("="),n=d(t.shift()),a=d(t.join("=")),r=c;if(n){for(var i=0,s=(t=n.match(l)).length-1;i<s;i++)r[t[i]]||(r[t[i]]=u.test(t[i+1])||"[]"===t[i+1]?[]:{}),r=r[t[i]];"[]"===(o=t.pop())?r.push(a):r[o]=a}}),c}}),define("can-route/src/deparam",["require","exports","module","can-deparam","can-reflect","can-route/src/binding-proxy","can-route/src/register"],function(e,t,n){var c=e("can-deparam"),u=e("can-reflect"),l=e("can-route/src/binding-proxy"),r=e("can-route/src/register"),d=function(t){try{return decodeURIComponent(t)}catch(e){return unescape(t)}};function p(e){var t=l.call("root");return t.lastIndexOf("/")===t.length-1&&0===e.indexOf("/")&&(e=e.substr(1)),e}function f(n){n=p(n);var a={length:-1};if(u.eachKey(r.routes,function(e,t){e.test.test(n)&&e.length>a.length&&(a=e)}),-1<a.length)return a}function a(e){var n=f(e),a=l.call("querySeparator"),t=l.call("paramsMatcher");if(e=p(e),n){var r=e.match(n.test),i=r.shift(),s=e.substr(i.length-(r[r.length-1]===a?1:0)),o=s&&t.test(s)?c(s.slice(1)):{};return o=u.assignDeep(u.assignDeep({},n.defaults),o),r.forEach(function(e,t){e&&e!==a&&(o[n.names[t]]=d(e))}),o}return e.charAt(0)!==a&&(e=a+e),t.test(e)?c(e.slice(1)):{}}a.getRule=f,n.exports=a}),define("can-route/src/param",["require","exports","module","can-reflect","can-param","can-route/src/register","can-route/src/regexps","can-route/src/binding-proxy"],function(e,t,n){var o=e("can-reflect"),s=e("can-param"),c=e("can-route/src/register"),u=e("can-route/src/regexps"),l=e("can-route/src/binding-proxy"),d=function(e,t){var n=0,a=0,r={};for(var i in e.defaults)e.defaults[i]===t[i]&&(r[i]=1,n++);for(;a<e.names.length;a++){if(!t.hasOwnProperty(e.names[a]))return-1;r[e.names[a]]||n++}return n};function a(n,e){var a,r,i=0,s=0;return delete n.route,o.eachKey(n,function(){s++}),o.eachKey(c.routes,function(e,t){if(r=d(e,n),i<r&&(a=e,i=r),s<=r)return!1}),c.routes[e]&&d(c.routes[e],n)===i&&(a=c.routes[e]),a}function r(n,a){var r,e,t,i;return n?(r=o.assignMap({},a),i=u.colon.test(n.route)?u.colon:u.curlies,e=n.route.replace(i,function(e,t){return delete r[t],a[t]===n.defaults[t]?"":encodeURIComponent(a[t])}).replace("\\",""),o.eachKey(n.defaults,function(e,t){r[t]===e&&delete r[t]}),e+((t=s(r))?l.call("querySeparator")+t:"")):0===o.size(a)?"":l.call("querySeparator")+s(a)}function i(e,t){return r(a(e,t),e)}(n.exports=i).paramFromRoute=r,i.getMatchedRoute=a}),define("can-route/src/url-helpers",["require","exports","module","can-route/src/binding-proxy","can-route/src/deparam","can-route/src/param","can-reflect","can-util/js/string/string"],function(e,t,n){var a=e("can-route/src/binding-proxy"),r=e("can-route/src/deparam"),i=e("can-route/src/param"),s=e("can-reflect"),o=e("can-util/js/string/string"),c=function(e,t){for(var n in e){var a=e[n],r=t[n];if(a&&r&&"object"==typeof a&&"object"==typeof t)return c(a,r);if(a!=r)return!1}return!0};function u(e,t){if(t){var n=r(a.call("can.getValue"));e=s.assignMap(s.assignMap({},n),e)}return a.call("root")+i(e)}n.exports={url:u,link:function(e,t,n,a){return"<a "+(r=s.assignMap({href:u(t,a)},n),i=[],s.eachKey(r,function(e,t){i.push(("className"===t?"class":t)+'="'+("href"===t?e:o.esc(e))+'"')}),i.join(" "))+">"+e+"</a>";var r,i},isCurrent:function(e,t){if(t){var n=r(a.call("can.getValue"));return c(e,n)}return a.call("can.getValue")===i(e)}}}),define("can-route/src/hashchange",["require","exports","module","can-globals/location/location","can-reflect","can-observation-recorder","can-queues","can-key-tree","can-simple-observable","can-dom-events"],function(e,t,n){!function(e,t,n,a){var r=t("can-globals/location/location"),i=t("can-reflect"),s=t("can-observation-recorder"),o=t("can-queues"),c=t("can-key-tree"),u=t("can-simple-observable"),l=t("can-dom-events");function d(){return r().href.split(/#!?/)[1]||""}function p(){var e=this.dispatchHandlers.bind(this),t=this;this.handlers=new c([Object,Array],{onFirst:function(){t.value=d(),l.addEventListener(window,"hashchange",e)},onEmpty:function(){l.removeEventListener(window,"hashchange",e)}})}p.prototype=Object.create(u.prototype),p.constructor=p,i.assign(p.prototype,{paramsMatcher:/^(?:&[^=]+=[^&]*)+/,querySeparator:"&",matchSlashes:!1,root:"#!",dispatchHandlers:function(){var e=this.value;this.value=d(),e!==this.value&&o.enqueueByQueue(this.handlers.getNode([]),this,[this.value,e],null,[i.getName(this),"changed to",this.value,"from",e])},get:function(){return s.add(this),d()},set:function(e){var t=r();return(e||t.path)&&t.hash!=="#"+e&&(t.hash="!"+e),e}}),i.assignSymbols(p.prototype,{"can.getValue":p.prototype.get,"can.setValue":p.prototype.set,"can.onValue":p.prototype.on,"can.offValue":p.prototype.off,"can.isMapLike":!1,"can.valueHasDependencies":function(){return!0},"can.getName":function(){return"HashchangeObservable<"+this.value+">"}}),a.exports=new p}(0,e,0,n)}),define("can-globals/is-web-worker/is-web-worker",["require","exports","module","can-globals/can-globals-instance"],function(s,e,t){!function(e,t,n,a){"use strict";var r=s("can-globals/can-globals-instance"),i=Function;r.define("isWebWorker",function(){var e=i("return this")();return"undefined"!=typeof WorkerGlobalScope&&e instanceof WorkerGlobalScope}),a.exports=r.makeExport("isWebWorker")}(0,0,0,t)}),define("can-route",["require","exports","module","can-queues","can-observation","can-namespace","can-log/dev/dev","can-reflect","can-symbol","can-simple-observable/make-compute/make-compute","can-simple-map","can-route/src/register","can-route/src/url-helpers","can-route/src/param","can-route/src/deparam","can-route/src/binding-proxy","can-route/src/hashchange","can-globals/is-web-worker/is-web-worker","can-globals/is-browser-window/is-browser-window"],function(e,t,n){!function(e,t,n,a){var r,i=t("can-queues"),s=t("can-observation"),o=t("can-namespace"),c=t("can-log/dev/dev"),u=t("can-reflect"),l=t("can-symbol"),d=t("can-simple-observable/make-compute/make-compute"),p=t("can-simple-map"),f=t("can-route/src/register"),h=t("can-route/src/url-helpers"),v=t("can-route/src/param"),g=t("can-route/src/deparam"),m=t("can-route/src/binding-proxy"),y=t("can-route/src/hashchange"),b=t("can-globals/is-web-worker/is-web-worker"),w=t("can-globals/is-browser-window/is-browser-window");function x(e,t){return c.warn("Call route.register(url,defaults) instead of calling route(url, defaults)"),f.register(e,t),x}m.bindings.hashchange=y,m.defaultBinding="hashchange";var k=new s(function(){var e=m.call("can.getValue");return x.rule(e)});function L(e){clearTimeout(r),r=setTimeout(function(){var e=u.serialize(x.data),t=k.get(),n=v.getMatchedRoute(e,t),a=v.paramFromRoute(n,e);m.call("can.setValue",a)},10)}function j(){var e=m.call("can.getValue");i.batch.start();var t=x.deparam(e);delete t.route,u.update(x.data,t),i.batch.stop()}Object.defineProperty(L,"name",{value:"can-route.updateUrl"}),Object.defineProperty(j,"name",{value:"can-route.updateRouteData"}),Object.defineProperty(x,"routes",{get:function(){return f.routes},set:function(e){return f.routes=e}}),Object.defineProperty(x,"defaultBinding",{get:function(){return m.defaultBinding},set:function(e){m.defaultBinding=e}}),Object.defineProperty(x,"currentBinding",{get:function(){return m.currentBinding},set:function(e){m.currentBinding=e}}),u.assignMap(x,{param:v,deparam:g,map:function(e){c.warn("Set route.data directly instead of calling route.map"),x.data=e},start:function(e){if(!0!==e&&(x._setup(),w()||b())){var t=m.call("can.getValue");i.batch.start();var n=x.deparam(t);delete n.route,u.assign(x.data,n),i.batch.stop(),L()}return x},url:h.url,link:h.link,isCurrent:h.isCurrent,bindings:m.bindings,_setup:function(){x.currentBinding||(m.call("can.onValue",j),u.onValue(x.serializedObservation,L,"notify"),x.currentBinding=x.defaultBinding)},_teardown:function(){x.currentBinding&&(m.call("can.offValue",j),u.offValue(x.serializedObservation,L,"notify"),x.currentBinding=null),clearTimeout(r)},stop:function(){return this._teardown(),x},currentRule:d(k),register:f.register,rule:function(e){var t=g.getRule(e);if(t)return t.route}});var D,S=function(e,t){return x.data[e]?x.data[e].apply(x.data,t):x.data.addEventListener.apply(x.data,t)};["addEventListener","removeEventListener","bind","unbind","on","off"].forEach(function(n){x[n]=function(e,t){return"__url"===e?m.call("can.onValue",t):S(n,arguments)}}),["delegate","undelegate","removeAttr","compute","_get","___get","each"].forEach(function(e){x[e]=function(){return S(e,arguments)}});var C,O,V=function(e){return D=e};Object.defineProperty(x,"serializedObservation",{get:function(){return C||(C=new s(function(){return u.serialize(x.data)})),C}}),Object.defineProperty(x,"serializedCompute",{get:function(){return O||(O=d(x.serializedObservation)),O}});var _=function(n){return n&&"object"==typeof n?(n=n&&"object"==typeof n&&"serialize"in n?n.serialize():"function"==typeof n.slice?n.slice():u.assign({},n),u.eachKey(n,function(e,t){n[t]=_(e)})):null!=n&&"function"==typeof n.toString&&(n=n.toString()),n},q=function(e){var t=l.for("can.route.stringCoercingMapDecorator");if(!e.attr[t]){var a=e.attr;e.attr=function(e,t){var n;return n=void 0===this.define||void 0===this.define[e]||!!this.define[e].serialize?_(Array.apply(null,arguments)):arguments,a.apply(this,n)},u.setKeyValue(e.attr,t,!0)}return e},E=l.for("can.viewModel");Object.defineProperty(x,"data",{get:function(){return D||V(q(new p))},set:function(e){u.isConstructorLike(e)&&(e=new e),e&&void 0!==e[E]&&(e=e[E]),V("attr"in e?q(e):e)}}),x.attr=function(e,t){return console.warn("can-route: can-route.attr is deprecated. Use methods on can-route.data instead."),"attr"in x.data?x.data.attr.apply(x.data,arguments):1<arguments.length?(u.setKeyValue(x.data,e,t),x.data):"object"==typeof e?(u.assignDeep(x.data,e),x.data):1===arguments.length?u.getKeyValue(x.data,e):u.unwrap(x.data)},u.setKeyValue(x,l.for("can.isFunctionLike"),!1),x.matched=x.currentRule,x.current=x.isCurrent,a.exports=o.route=x}(0,e,0,n)}),define("can-stache-route-helpers",["require","exports","module","can-stache/helpers/core","can-route","can-stache/src/expression","can-util/js/each/each"],function(e,t,n){var r=e("can-stache/helpers/core"),a=e("can-route"),i=e("can-stache/src/expression"),s=e("can-util/js/each/each"),o=r.looksLikeOptions,c=function(){var t,n,a;return s(arguments,function(e){"boolean"==typeof e?n=e:e&&"object"==typeof e&&(o(e)?a=e:t=r.resolveHash(e))}),!t&&a&&(t=r.resolveHash(a.hash)),{finalParams:t||{},finalMerge:n,optionsArg:a}};r.registerHelper("routeUrl",function(){var e=c.apply(this,arguments);return a.url(e.finalParams,"boolean"==typeof e.finalMerge?e.finalMerge:void 0)});var u=function(){var e=c.apply(this,arguments),t=a.current(e.finalParams,"boolean"==typeof e.finalMerge?e.finalMerge:void 0);return!e.optionsArg||e.optionsArg instanceof i.Call?t:t?e.optionsArg.fn():e.optionsArg.inverse()};u.callAsMethod=!0,r.registerHelper("routeCurrent",u)}),define("can-event-dom-enter",["require","exports","module","can-namespace"],function(e,t,n){"use strict";var a=e("can-namespace");var i={defaultEventType:"enter",addEventListener:function(e,t,r){var n=function(e){if(n="Enter"===(t=e).key,a=13===t.keyCode,n||a)return r.apply(this,arguments);var t,n,a},a=i._eventTypeHandlerMap[t];a||(a=i._eventTypeHandlerMap[t]=new Map),a.set(r,n),this.addEventListener(e,"keyup",n)},removeEventListener:function(e,t,n){var a=i._eventTypeHandlerMap[t];if(a){var r=a.get(n);r&&(a.delete(n),0===a.size&&delete i._eventTypeHandlerMap[t],this.removeEventListener(e,"keyup",r))}},_eventTypeHandlerMap:{}};n.exports=a.domEventEnter=i}),define("can-event-dom-enter/add-global/add-global",["require","exports","module","can-event-dom-enter","can-dom-events"],function(e,t,n){var a=e("can-event-dom-enter"),r=e("can-dom-events");n.exports=r.addEvent(a)}),define("can",["require","exports","module","can-util/namespace","can-assign","can-component","can-connect/all","can-define/map/map","can-define/list/list","can-route","can-set","can-simple-observable","can-stache","can-stache-route-helpers","can-stache-bindings","can-attribute-encoder","can-ajax","can-globals","can-reflect","can-define-lazy-value","can-dom-events","can-event-dom-enter/add-global/add-global","can-event-dom-radiochange","can-parse-uri","can-validate-interface","can-view-model"],function(e,t,n){var a,r,i;r=n,i=(a=e)("can-util/namespace"),a("can-assign"),a("can-component"),a("can-connect/all"),a("can-define/map/map"),a("can-define/list/list"),a("can-route"),a("can-set"),a("can-simple-observable"),a("can-stache"),a("can-stache-route-helpers"),a("can-stache-bindings"),a("can-attribute-encoder"),a("can-ajax"),a("can-globals"),a("can-reflect"),a("can-define-lazy-value"),a("can-dom-events"),a("can-event-dom-enter/add-global/add-global"),a("can-event-dom-radiochange"),a("can-parse-uri"),a("can-validate-interface"),a("can-view-model"),r.exports=i}),function(e){e._define=e.define,e.define=e.define.orig}("object"==typeof self&&self.Object==Object?self:"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)?global:window);