!function(e,t,n){var i=t.define,a=function(e){var n,i=e.split("."),a=t;for(n=0;n<i.length&&a;n++)a=a[i[n]];return a},r=function(e,n){var i,a,r,o=e.split("."),s=t;for(i=0;i<o.length-1;i++)(r=s[a=o[i]])||(r=s[a]={}),s=r;s[a=o[o.length-1]]=n},o=function(e){if(!e||!e.__esModule)return!1;var t={__esModule:!0,default:!0};for(var n in e)if(!t[n])return!1;return!0},s=function(e){return"require"===e[0]&&"exports"===e[1]&&"module"===e[2]},c=t.define&&t.define.modules||t._define&&t._define.modules||{},l=t.define=function(n,u,d){var p;"function"==typeof u&&(d=u,u=[]);var f,h=[];for(f=0;f<u.length;f++)h.push(e[u[f]]?a(e[u[f]]):c[u[f]]||a(u[f]));s(u)||!u.length&&d.length?(p={exports:{}},h[0]=function(t){return e[t]?a(e[t]):c[t]},h[1]=p.exports,h[2]=p):h[0]||"exports"!==u[0]?h[0]||"module"!==u[0]||(h[0]={id:n}):(p={exports:{}},h[0]=p.exports,"module"===u[1]&&(h[1]=p)),t.define=i;var v=d?d.apply(null,h):void 0;t.define=l,v=p&&p.exports?p.exports:v,c[n]=v;var m=e[n];m&&!a(m)&&(o(v)&&(v=v.default),r(m,v))};t.define.orig=i,t.define.modules=c,t.define.amd=!0,l("@loader",[],function(){var e=function(){};return{get:function(){return{prepareGlobal:e,retrieveGlobal:e}},global:t,__exec:function(e){n(e.source,t)}}})}({jquery:"jQuery","can-util/namespace":"can",kefir:"Kefir","validate.js":"validate",react:"React"},"object"==typeof self&&self.Object==Object?self:window,function(__$source__,__$global__){eval("(function() { "+__$source__+" \n }).call(__$global__);")}),define("can-namespace",function(e,t,n){n.exports={}}),define("can-util/namespace",["require","exports","module","can-namespace"],function(e,t,n){n.exports=e("can-namespace")}),define("can-assign",function(e,t,n){n.exports=function(e,t){for(var n in t)e[n]=t[n];return e}}),define("can-util/js/assign/assign",["require","exports","module","can-assign"],function(e,t,n){"use strict";n.exports=e("can-assign")}),define("can-util/js/is-function/is-function",function(e,t,n){"use strict";var i="undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return"[object Function]"===Object.prototype.toString.call(e)}:function(e){return"function"==typeof e};n.exports=i}),define("can-util/js/is-plain-object/is-plain-object",function(e,t,n){"use strict";function i(e){return null!==e&&e==e.window}var a=Object.prototype.hasOwnProperty;n.exports=function(e){if(!e||"object"!=typeof e||e.nodeType||i(e)||e.constructor&&e.constructor.shortName)return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||a.call(e,t)}}),define("can-util/js/deep-assign/deep-assign",["require","exports","module","can-util/js/is-function/is-function","can-util/js/is-plain-object/is-plain-object"],function(e,t,n){"use strict";function i(){var e,t,n,o,s,c,l=arguments[0]||{},u=1,d=arguments.length;for("object"==typeof l||a(l)||(l={}),d===u&&(l=this,--u);u<d;u++)if(null!=(e=arguments[u]))for(t in e)n=l[t],l!==(o=e[t])&&(o&&(r(o)||(s=Array.isArray(o)))?(s?(s=!1,c=n&&Array.isArray(n)?n:[]):c=n&&r(n)?n:{},l[t]=i(c,o)):void 0!==o&&(l[t]=o));return l}var a=e("can-util/js/is-function/is-function"),r=e("can-util/js/is-plain-object/is-plain-object");n.exports=i}),define("can-log",function(e,t,n){"use strict";t.warnTimeout=5e3,t.logLevel=0,t.warn=function(e){this.logLevel<2&&(Array.prototype.unshift.call(arguments,"WARN:"),"undefined"!=typeof console&&console.warn?this._logger("warn",Array.prototype.slice.call(arguments)):"undefined"!=typeof console&&console.log?this._logger("log",Array.prototype.slice.call(arguments)):window&&window.opera&&window.opera.postError&&window.opera.postError("CanJS WARNING: "+e))},t.log=function(e){this.logLevel<1&&("undefined"!=typeof console&&console.log?(Array.prototype.unshift.call(arguments,"INFO:"),this._logger("log",Array.prototype.slice.call(arguments))):window&&window.opera&&window.opera.postError&&window.opera.postError("CanJS INFO: "+e))},t.error=function(e){this.logLevel<1&&("undefined"!=typeof console&&console.error?(Array.prototype.unshift.call(arguments,"ERROR:"),this._logger("error",Array.prototype.slice.call(arguments))):window&&window.opera&&window.opera.postError&&window.opera.postError("ERROR: "+e))},t._logger=function(e,t){try{console[e].apply(console,t)}catch(n){console[e](t)}}}),define("can-log/dev/dev",["require","exports","module","can-log"],function(e,t,n){"use strict";var i=e("can-log");n.exports={warnTimeout:5e3,logLevel:0,stringify:function(e){return JSON.stringify(e,function(e,t){return void 0===t?"/* void(undefined) */":t},"  ").replace(/"\/\* void\(undefined\) \*\/"/g,"undefined")},warn:function(){i.warn.apply(this,arguments)},log:function(){i.log.apply(this,arguments)},error:function(){i.error.apply(this,arguments)},_logger:i._logger}}),define("can-util/js/dev/dev",["require","exports","module","can-log/dev/dev"],function(e,t,n){"use strict";n.exports=e("can-log/dev/dev")}),define("can-util/js/is-array-like/is-array-like",function(e,t,n){"use strict";n.exports=function(e){var t=typeof e;if("string"===t)return!0;if("number"===t)return!1;var n=e&&"boolean"!==t&&"number"!=typeof e&&"length"in e&&e.length;return"function"!=typeof e&&(0===n||"number"==typeof n&&n>0&&n-1 in e)}}),define("can-symbol",["require","exports","module","can-namespace"],function(e,t,n){!function(e,t,n,i){var a,r=t("can-namespace");if("undefined"!=typeof Symbol&&"function"==typeof Symbol.for)a=Symbol;else{var o=0,s={},c={};(a=function(e){var t="@@symbol"+o+++e,n={};return Object.defineProperties(n,{toString:{value:function(){return t}}}),n}).for=function(e){var t=s[e];return t||(t=s[e]=a(e),c[t]=e),t},a.keyFor=function(e){return c[e]},["hasInstance","isConcatSpreadable","iterator","match","prototype","replace","search","species","split","toPrimitive","toStringTag","unscopables"].forEach(function(e){a[e]=a.for(e)})}["isMapLike","isListLike","isValueLike","isFunctionLike","getOwnKeys","getOwnKeyDescriptor","proto","getOwnEnumerableKeys","hasOwnKey","size","getName","getIdentity","assignDeep","updateDeep","getValue","setValue","getKeyValue","setKeyValue","updateValues","addValue","removeValues","apply","new","onValue","offValue","onKeyValue","offKeyValue","getKeyDependencies","getValueDependencies","keyHasDependencies","valueHasDependencies","onKeys","onKeysAdded","onKeysRemoved"].forEach(function(e){a.for("can."+e)}),i.exports=r.Symbol=a}(0,e,0,n)}),define("can-util/js/is-iterable/is-iterable",["require","exports","module","can-symbol"],function(e,t,n){"use strict";var i=e("can-symbol");n.exports=function(e){return e&&!!e[i.iterator||i.for("iterator")]}}),define("can-util/js/each/each",["require","exports","module","can-util/js/is-array-like/is-array-like","can-util/js/is-iterable/is-iterable","can-symbol"],function(e,t,n){"use strict";var i=e("can-util/js/is-array-like/is-array-like"),a=Object.prototype.hasOwnProperty,r=e("can-util/js/is-iterable/is-iterable"),o=e("can-symbol");n.exports=function(e,t,n){var s,c,l,u=0;if(e)if(i(e))for(c=e.length;u<c&&(l=e[u],!1!==t.call(n||l,l,u,e));u++);else if(r(e))for(var d,p,f=e[o.iterator||o.for("iterator")]();!(d=f.next()).done;)p=d.value,t.call(n||e,Array.isArray(p)?p[1]:p,p[0]);else if("object"==typeof e)for(s in e)if(a.call(e,s)&&!1===t.call(n||e[s],e[s],s,e))break;return e}}),define("can-util/js/make-array/make-array",["require","exports","module","can-util/js/each/each","can-util/js/is-array-like/is-array-like"],function(e,t,n){"use strict";var i=e("can-util/js/each/each"),a=e("can-util/js/is-array-like/is-array-like");n.exports=function(e){var t=[];return a(e)?i(e,function(e,n){t[n]=e}):(0===e||e)&&t.push(e),t}}),define("can-util/js/is-container/is-container",function(e,t,n){"use strict";n.exports=function(e){return/^f|^o/.test(typeof e)}}),define("can-util/js/get/get",["require","exports","module","can-util/js/is-container/is-container"],function(e,t,n){"use strict";var i=e("can-util/js/is-container/is-container");n.exports=function(e,t){var n,a,r=void 0!==t?(t+"").replace(/\[/g,".").replace(/]/g,"").split("."):[],o=r.length;if(!o)return e;for(n=e,a=0;a<o&&i(n);a++)n=n[r[a]];return n}}),define("can-util/js/is-array/is-array",["require","exports","module","can-log/dev/dev"],function(e,t,n){"use strict";var i=e("can-log/dev/dev"),a=!1;n.exports=function(e){return a||(i.warn("js/is-array/is-array is deprecated; use Array.isArray"),a=!0),Array.isArray(e)}}),define("can-util/js/string/string",["require","exports","module","can-util/js/get/get","can-util/js/is-container/is-container","can-log/dev/dev","can-util/js/is-array/is-array"],function(e,t,n){"use strict";var i=e("can-util/js/get/get"),a=e("can-util/js/is-container/is-container"),r=e("can-log/dev/dev"),o=e("can-util/js/is-array/is-array"),s=/\=\=/,c=/([A-Z]+)([A-Z][a-z])/g,l=/([a-z\d])([A-Z])/g,u=/([a-z\d])([A-Z])/g,d=/\{([^\}]+)\}/g,p=/"/g,f=/'/g,h=/-+(.)?/g,v=/[a-z][A-Z]/g,m=function(e){return""+(null===e||void 0===e||isNaN(e)&&""+e=="NaN"?"":e)},g=function(e,t){for(var n=t?t.replace(/\[/g,".").replace(/]/g,"").split("."):[],i=e,a=0;a<n.length-1;a++)i&&(i=i[n[a]]);i&&delete i[n[n.length-1]]},y={esc:function(e){return m(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(p,"&#34;").replace(f,"&#39;")},getObject:function(e,t){r.warn("string.getObject is deprecated, please use can-util/js/get/get instead.");for(var n,a=(t=o(t)?t:[t||window]).length,s=0;s<a;s++)if(n=i(t[s],e))return n},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return m(e).replace(h,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return m(e).replace(v,function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(s,"/").replace(c,"$1_$2").replace(l,"$1_$2").replace(u,"_").toLowerCase()},sub:function(e,t,n){var r=[];return e=e||"",r.push(e.replace(d,function(e,o){var s=i(t,o);return!0===n&&g(t,o),void 0===s||null===s?(r=null,""):a(s)&&r?(r.push(s),""):""+s})),null===r?r:r.length<=1?r[0]:r},replacer:d,undHash:/_|-/};n.exports=y}),define("can-construct",["require","exports","module","can-util/js/assign/assign","can-util/js/deep-assign/deep-assign","can-util/js/dev/dev","can-util/js/make-array/make-array","can-namespace","can-util/js/string/string"],function(e,t,n){"use strict";var i,a=e("can-util/js/assign/assign"),r=e("can-util/js/deep-assign/deep-assign"),o=e("can-util/js/dev/dev"),s=e("can-util/js/make-array/make-array"),c=e("can-namespace"),l=e("can-util/js/string/string"),u={abstract:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,throws:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0},d=/[^A-Z0-9_]/gi,p=0,f=function(e){return function(t,n){return(t in e?e[t]:e[t]=new Function("__","function "+t+"(){return __.apply(this,arguments)};return "+t))(n)}}({}),h=function(){if(arguments.length)return h.extend.apply(h,arguments)};try{Object.getOwnPropertyDescriptor({}),i=!0}catch(e){i=!1}var v=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return n&&(n.get||n.set)?n:null};a(h,{constructorExtends:!0,newInstance:function(){var e,t=this.instance();if(t.setup){if(Object.defineProperty(t,"__inSetup",{configurable:!0,enumerable:!1,value:!0,writable:!0}),(e=t.setup.apply(t,arguments))instanceof h.ReturnValue)return e.value;t.__inSetup=!1}return t.init&&t.init.apply(t,e||arguments),t},_inherit:i?function(e,t,n){n=n||e;var i;for(var a in e)(i=v(e,a))?this._defineProperty(n,t,a,i):h._overwrite(n,t,a,e[a])}:function(e,t,n){n=n||e;for(var i in e)h._overwrite(n,t,i,e[i])},_defineProperty:function(e,t,n,i){Object.defineProperty(e,n,i)},_overwrite:function(e,t,n,i){Object.defineProperty(e,n,{value:i,configurable:!0,enumerable:!0,writable:!0})},setup:function(e){this.defaults=r(!0,{},e.defaults,this.defaults)},instance:function(){p=1;var e=new this;return p=0,e},extend:function(e,t,n){function i(){if(!p)return(!this||this.constructor!==m&&arguments.length&&m.constructorExtends)&&o.warn("can/construct/construct.js: extending a Construct without calling extend"),this&&this.constructor===m||!arguments.length||!m.constructorExtends?m.newInstance.apply(m,arguments):m.extend.apply(m,arguments)}var r=e,c=t,v=n;"string"!=typeof r&&(v=c,c=r,r=null),v||(v=c,c=null),v=v||{};var m,g,y=this,b=this.prototype;g=this.instance(),h._inherit(v,b,g),r||(c&&c.shortName?r=c.shortName:this.shortName&&(r=this.shortName));var w=r?r.replace(d,"_"):"Constructor";u[w]&&(w=l.capitalize(w)),m="function"==typeof f?f(w,i):function(){return i.apply(this,arguments)};for(var k in y)y.hasOwnProperty(k)&&(m[k]=y[k]);h._inherit(c,y,m),a(m,{constructor:m,prototype:g}),void 0!==r&&(m.shortName=r),m.prototype.constructor=m;var x=[y].concat(s(arguments)),L=m.setup.apply(m,x);return m.init&&m.init.apply(m,L||x),m},ReturnValue:function(e){this.value=e}}),h.prototype.setup=function(){},h.prototype.init=function(){},n.exports=c.Construct=h}),define("can-cid",["require","exports","module","can-namespace"],function(e,t,n){var i=e("can-namespace"),a=0,r="can"+new Date,o=function(e,t){var n=e.nodeName?r:"_cid";return e[n]||(a++,e[n]=(t||"")+a),e[n]};if(o.domExpando=r,o.get=function(e){var t=typeof e;return null!==t&&("object"===t||"function"===t)?o(e):t+":"+e},i.cid)throw new Error("You can't have two versions of can-cid, check your dependencies");n.exports=i.cid=o}),define("can-dom-data-state",["require","exports","module","can-namespace","can-cid"],function(e,t,n){"use strict";var i=e("can-namespace"),a=e("can-cid"),r={},o=function(e){for(var t in e)return!1;return!0},s=function(e,t){var n=a(this),i=r[n],o=!1;return r[n]||(o=!0,i=r[n]={}),void 0!==e&&(i[e]=t),o},c=function(){var e=a.get(this),t=!1;return e&&r[e]&&(t=!0,delete r[e]),t},l={_data:r,getCid:function(){return a.get(this)},cid:function(){return a(this)},expando:a.domExpando,get:function(e){var t=a.get(this),n=t&&r[t];return void 0===e?n||s(this):n&&n[e]},set:s,clean:function(e){var t=a.get(this),n=r[t];n&&n[e]&&delete n[e],o(n)&&c.call(this)},delete:c};if(i.domDataState)throw new Error("You can't have two versions of can-dom-data-state, check your dependencies");n.exports=i.domDataState=l}),define("can-reflect/reflections/helpers",["require","exports","module","can-symbol"],function(e,t,n){var i=e("can-symbol");n.exports={makeGetFirstSymbolValue:function(e){var t=e.map(function(e){return i.for(e)}),n=t.length;return function(e){for(var i=-1;++i<n;)if(void 0!==e[t[i]])return e[t[i]]}},hasLength:function(e){var t=typeof e,n=e&&"boolean"!==t&&"number"!=typeof e&&"length"in e&&e.length;return"function"!=typeof e&&(0===n||"number"==typeof n&&n>0&&n-1 in e)}}}),define("can-reflect/reflections/type/type",["require","exports","module","can-symbol","can-reflect/reflections/helpers"],function(e,t,n){function i(e){var t=typeof e;return null==e||"function"!==t&&"object"!==t}function a(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(t===Object.prototype||null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)===h}var r,o=e("can-symbol"),s=e("can-reflect/reflections/helpers"),c=Object.getOwnPropertyNames(function(){}.prototype),l=Object.getPrototypeOf(function(){}.prototype),u=s.makeGetFirstSymbolValue(["can.new","can.apply"]),d=s.makeGetFirstSymbolValue(["can.onValue","can.onKeyValue","can.onKeys","can.onKeysAdded"]);if("undefined"!=typeof Symbol&&"function"==typeof Symbol.for)r=function(e){return"symbol"==typeof e};else{r=function(e){return"object"==typeof e&&!Array.isArray(e)&&"@@symbol"===e.toString().substr(0,"@@symbol".length)}}var p=Object.prototype.hasOwnProperty,f=Function.prototype.toString,h=f.call(Object);n.exports={isConstructorLike:function(e){var t=e[o.for("can.new")];if(void 0!==t)return t;if("function"!=typeof e)return!1;var n=e.prototype;if(!n)return!1;if(l!==Object.getPrototypeOf(n))return!0;var i=Object.getOwnPropertyNames(n);if(i.length===c.length){for(var a=0,r=i.length;a<r;a++)if(i[a]!==c[a])return!0;return!1}return!0},isFunctionLike:function(e){var t,n=e[o.for("can.isFunctionLike")];return void 0!==n?n:void 0!==(t=u(e))?!!t:"function"==typeof e},isListLike:function(e){var t;if("string"==typeof e)return!0;if(i(e))return!1;if(void 0!==(t=e[o.for("can.isListLike")]))return t;var n=e[o.iterator];return void 0!==n?!!n:!!Array.isArray(e)||s.hasLength(e)},isMapLike:function(e){if(i(e))return!1;var t=e[o.for("can.isMapLike")];if(void 0!==t)return!!t;var n=e[o.for("can.getKeyValue")];return void 0===n||!!n},isObservableLike:function(e){if(i(e))return!1;var t=d(e);return void 0!==t&&!!t},isPrimitive:i,isBuiltIn:function(e){return!!(i(e)||Array.isArray(e)||a(e)||"[object Object]"!==Object.prototype.toString.call(e)&&-1!==Object.prototype.toString.call(e).indexOf("[object "))},isValueLike:function(e){var t;if(i(e))return!0;if(void 0!==(t=e[o.for("can.isValueLike")]))return t;var n=e[o.for("can.getValue")];return void 0!==n?!!n:void 0},isSymbolLike:r,isMoreListLikeThanMapLike:function(e){if(Array.isArray(e))return!0;var t=e[o.for("can.isMoreListLikeThanMapLike")];if(void 0!==t)return t;var n=this.isListLike(e),i=this.isMapLike(e);return!(!n||i)||!(!n&&i)&&void 0},isIteratorLike:function(e){return e&&"object"==typeof e&&"function"==typeof e.next&&0===e.next.length},isPromise:function(e){return e instanceof Promise||"[object Promise]"===Object.prototype.toString.call(e)},isPlainObject:a}}),define("can-reflect/reflections/call/call",["require","exports","module","can-symbol","can-reflect/reflections/type/type"],function(e,t,n){var i=e("can-symbol"),a=e("can-reflect/reflections/type/type");n.exports={call:function(e,t){var n=[].slice.call(arguments,2),a=e[i.for("can.apply")];return a?a.call(e,t,n):e.apply(t,n)},apply:function(e,t,n){var a=e[i.for("can.apply")];return a?a.call(e,t,n):e.apply(t,n)},new:function(e){var t=[].slice.call(arguments,1),n=e[i.for("can.new")];if(n)return n.apply(e,t);var r=Object.create(e.prototype),o=e.apply(r,t);return a.isPrimitive(o)?r:o}}}),define("can-reflect/reflections/get-set/get-set",["require","exports","module","can-symbol","can-reflect/reflections/type/type"],function(e,t,n){var i=e("can-symbol"),a=e("can-reflect/reflections/type/type"),r=i.for("can.setKeyValue"),o=i.for("can.getKeyValue"),s=i.for("can.getValue"),c=i.for("can.setValue"),l={setKeyValue:function(e,t,n){if(a.isSymbolLike(t))"symbol"==typeof t?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:n,writable:!0});else{var i=e[r];if(void 0!==i)return i.call(e,t,n);e[t]=n}},getKeyValue:function(e,t){var n=e[o];return n?n.call(e,t):e[t]},deleteKeyValue:function(e,t){var n=e[i.for("can.deleteKeyValue")];if(n)return n.call(e,t);delete e[t]},getValue:function(e){if(a.isPrimitive(e))return e;var t=e[s];return t?t.call(e):e},setValue:function(e,t){var n=e&&e[c];if(n)return n.call(e,t);throw new Error("can-reflect.setValue - Can not set value.")},splice:function(e,t,n,a){var r;if("number"!=typeof n){var o=e[i.for("can.updateValues")];if(o)return o.call(e,t,n,a);r=n.length}else r=n;var s=e[i.for("can.splice")];return s?s.call(e,t,r,a):[].splice.apply(e,[t,r].concat(a))},addValues:function(e,t,n){var a=e[i.for("can.addValues")];return a?a.call(e,t,n):Array.isArray(e)&&void 0===n?e.push.apply(e,t):l.splice(e,n,[],t)},removeValues:function(e,t,n){var a=e[i.for("can.removeValues")];if(a)return a.call(e,t,n);{if(!Array.isArray(e)||void 0!==n)return l.splice(e,n,t,[]);t.forEach(function(t){var n=e.indexOf(t);n>=0&&e.splice(n,1)})}}};l.get=l.getKeyValue,l.set=l.setKeyValue,l.delete=l.deleteKeyValue,n.exports=l}),define("can-reflect/reflections/observe/observe",["require","exports","module","can-symbol"],function(e,t,n){function i(e,t){return function(n,i,a,o){var s=n[r.for(e)];return void 0!==s?s.call(n,i,a,o):this[t].apply(this,arguments)}}function a(e,t){return function(n){var i=n[r.for(e)];if(void 0!==i){var a=o.call(arguments,1);return i.apply(n,a)}throw new Error(t)}}var r=e("can-symbol"),o=[].slice;n.exports={onKeyValue:i("can.onKeyValue","onEvent"),offKeyValue:i("can.offKeyValue","offEvent"),onKeys:a("can.onKeys","can-reflect: can not observe an onKeys event"),onKeysAdded:a("can.onKeysAdded","can-reflect: can not observe an onKeysAdded event"),onKeysRemoved:a("can.onKeysRemoved","can-reflect: can not unobserve an onKeysRemoved event"),getKeyDependencies:a("can.getKeyDependencies","can-reflect: can not determine dependencies"),keyHasDependencies:a("can.keyHasDependencies","can-reflect: can not determine if this has key dependencies"),onValue:a("can.onValue","can-reflect: can not observe value change"),offValue:a("can.offValue","can-reflect: can not unobserve value change"),getValueDependencies:a("can.getValueDependencies","can-reflect: can not determine dependencies"),valueHasDependencies:a("can.valueHasDependencies","can-reflect: can not determine if value has dependencies"),onEvent:function(e,t,n,i){if(e){var a=e[r.for("can.onEvent")];if(void 0!==a)return a.call(e,t,n,i);e.addEventListener&&e.addEventListener(t,n,i)}},offEvent:function(e,t,n,i){if(e){var a=e[r.for("can.offEvent")];if(void 0!==a)return a.call(e,t,n,i);e.removeEventListener&&e.removeEventListener(t,n,i)}},setPriority:function(e,t){if(e){var n=e[r.for("can.setPriority")];if(void 0!==n)return n.call(e,t),!0}return!1},getPriority:function(e){if(e){var t=e[r.for("can.getPriority")];if(void 0!==t)return t.call(e)}}}}),define("can-reflect/reflections/shape/shape",["require","exports","module","can-symbol","can-reflect/reflections/get-set/get-set","can-reflect/reflections/type/type","can-reflect/reflections/helpers"],function(e,t,n){function i(e){return!!d.isPrimitive(e)||!w(e)&&(d.isBuiltIn(e)&&!d.isPlainObject(e))}function a(e,t){return function(n,a){if(i(n))return n;var r;a&&!b&&(b={unwrap:new a,serialize:new a},r=!0);var o;if(d.isValueLike(n))o=this[e](u.getValue(n));else{var s=d.isIteratorLike(n)||d.isMoreListLikeThanMapLike(n);if(o=s?[]:{},b){if(b[e].has(n))return b[e].get(n);b[e].set(n,o)}for(var c=0,l=t.length;c<l;c++){var p=n[t[c]];if(p){var f=p.call(n,o);return r&&(b=null),f}}"function"==typeof obj?(b&&b[e].set(n,n),o=n):s?this.eachIndex(n,function(t,n){o[n]=this[e](t)},this):this.eachKey(n,function(t,n){o[n]=this[e](t)},this)}return r&&(b=null),o}}function r(e,t){var n=e[e.length-1];if(n&&n.deleteCount===n.insert.length&&t.index-n.index===n.deleteCount)return n.insert.push.apply(n.insert,t.insert),void(n.deleteCount+=t.deleteCount);e.push(t)}function o(e,t,n){var i=this.toArray(t),a=[],o=-1;this.eachIndex(e,function(e,t){if(o=t,t>=i.length)return n||r(a,{index:t,deleteCount:i.length-t+1,insert:[]}),!1;var s=i[t];d.isPrimitive(e)||d.isPrimitive(s)||!1===k(e)?r(a,{index:t,deleteCount:1,insert:[s]}):this.updateDeep(e,s)},this),i.length>o&&r(a,{index:o+1,deleteCount:0,insert:i.slice(o+1)});for(var s=0,c=a.length;s<c;s++){var l=a[s];u.splice(e,l.index,l.deleteCount,l.insert)}return e}var s,c,l=e("can-symbol"),u=e("can-reflect/reflections/get-set/get-set"),d=e("can-reflect/reflections/type/type"),p=e("can-reflect/reflections/helpers"),f=function(e){return function(){var t=[this];return t.push.apply(t,arguments),e.apply(null,t)}},h=l.for("can.getKeyValue"),v=f(u.getKeyValue),m=l.for("can.setKeyValue"),g=f(u.setKeyValue),y=l.for("can.size"),b=null,w=p.makeGetFirstSymbolValue(["can.updateDeep","can.assignDeep","can.setKeyValue"]),k=function(e){return d.isPlainObject(e)||Array.isArray(e)||!!w(e)};try{Object.keys(1),c=Object.keys}catch(e){c=function(e){return d.isPrimitive(e)?[]:Object.keys(e)}}var x;x="undefined"!=typeof Map?function(e){var t=new Map;return s.eachIndex(e,function(e){t.set(e,!0)}),t}:function(e){var t={};return e.forEach(function(e){t[e]=!0}),{get:function(e){return t[e]},set:function(e,n){t[e]=n},keys:function(){return e}}};var L=function(e){var t=e[l.for("can.hasOwnKey")];if(t)return t.bind(e);var n=x(s.getOwnEnumerableKeys(e));return function(e){return n.get(e)}};(s={each:function(e,t,n){return d.isIteratorLike(e)||d.isMoreListLikeThanMapLike(e)?this.eachIndex(e,t,n):this.eachKey(e,t,n)},eachIndex:function(e,t,n){if(Array.isArray(e))return this.eachListLike(e,t,n);var i,a=e[l.iterator];if(d.isIteratorLike(e)?i=e:a&&(i=a.call(e)),i)for(var r,o=0;!(r=i.next()).done&&!1!==t.call(n||e,r.value,o++,e););else this.eachListLike(e,t,n);return e},eachListLike:function(e,t,n){var i=-1,a=e.length;if(void 0===a){var r=e[y];if(!r)throw new Error("can-reflect: unable to iterate.");a=r.call(e)}for(;++i<a;){var o=e[i];if(!1===t.call(n||o,o,i,e))break}return e},toArray:function(e){var t=[];return this.each(e,function(e){t.push(e)}),t},eachKey:function(e,t,n){if(e){var i=this.getOwnEnumerableKeys(e),a=e[h]||v;return this.eachIndex(i,function(i){var r=a.call(e,i);return t.call(n||e,r,i,e)})}return e},hasOwnKey:function(e,t){var n=e[l.for("can.hasOwnKey")];if(n)return n.call(e,t);var i=e[l.for("can.getOwnKeys")];if(i){var a=!1;return this.eachIndex(i.call(e),function(e){if(e===t)return a=!0,!1}),a}return e.hasOwnProperty(t)},getOwnEnumerableKeys:function(e){var t=e[l.for("can.getOwnEnumerableKeys")];if(t)return t.call(e);if(e[l.for("can.getOwnKeys")]&&e[l.for("can.getOwnKeyDescriptor")]){var n=[];return this.eachIndex(this.getOwnKeys(e),function(t){this.getOwnKeyDescriptor(e,t).enumerable&&n.push(t)},this),n}return c(e)},getOwnKeys:function(e){var t=e[l.for("can.getOwnKeys")];return t?t.call(e):Object.getOwnPropertyNames(e)},getOwnKeyDescriptor:function(e,t){var n=e[l.for("can.getOwnKeyDescriptor")];return n?n.call(e,t):Object.getOwnPropertyDescriptor(e,t)},unwrap:a("unwrap",[l.for("can.unwrap")]),serialize:a("serialize",[l.for("can.serialize"),l.for("can.unwrap")]),assignMap:function(e,t){var n=L(e),i=e[h]||v,a=e[m]||g;return this.eachKey(t,function(t,r){n(r)&&i.call(e,r)===t||a.call(e,r,t)}),e},assignList:function(e,t){var n=this.toArray(t);return u.splice(e,0,n,n),e},assign:function(e,t){return d.isIteratorLike(t)||d.isMoreListLikeThanMapLike(t)?this.assignList(e,t):this.assignMap(e,t),e},assignDeepMap:function(e,t){var n=L(e),i=e[h]||v,a=e[m]||g;return this.eachKey(t,function(t,r){if(n(r)){var o=i.call(e,r);t===o||(d.isPrimitive(o)||d.isPrimitive(t)||!1===k(o)?a.call(e,r,t):this.assignDeep(o,t))}else u.setKeyValue(e,r,t)},this),e},assignDeepList:function(e,t){return o.call(this,e,t,!0)},assignDeep:function(e,t){var n=e[l.for("can.assignDeep")];return n?n.call(e,t):d.isMoreListLikeThanMapLike(t)?this.assignDeepList(e,t):this.assignDeepMap(e,t),e},updateMap:function(e,t){var n=x(this.getOwnEnumerableKeys(t)),i=t[h]||v,a=e[m]||g;return this.eachKey(e,function(r,o){if(n.get(o)){n.set(o,!1);var s=i.call(t,o);s!==r&&a.call(e,o,s)}else u.deleteKeyValue(e,o)},this),this.eachIndex(n.keys(),function(r){n.get(r)&&a.call(e,r,i.call(t,r))}),e},updateList:function(e,t){var n=this.toArray(t);return u.splice(e,0,e,n),e},update:function(e,t){return d.isIteratorLike(t)||d.isMoreListLikeThanMapLike(t)?this.updateList(e,t):this.updateMap(e,t),e},updateDeepMap:function(e,t){var n=x(this.getOwnEnumerableKeys(t)),i=t[h]||v,a=e[m]||g;return this.eachKey(e,function(r,o){if(n.get(o)){n.set(o,!1);var s=i.call(t,o);d.isPrimitive(r)||d.isPrimitive(s)||!1===k(r)?a.call(e,o,s):this.updateDeep(r,s)}else u.deleteKeyValue(e,o)},this),this.eachIndex(n.keys(),function(r){n.get(r)&&a.call(e,r,i.call(t,r))}),e},updateDeepList:function(e,t){return o.call(this,e,t)},updateDeep:function(e,t){var n=e[l.for("can.updateDeep")];return n?n.call(e,t):d.isMoreListLikeThanMapLike(t)?this.updateDeepList(e,t):this.updateDeepMap(e,t),e},in:function(){},getAllEnumerableKeys:function(){},getAllKeys:function(){},assignSymbols:function(e,t){return this.eachKey(t,function(t,n){var i=d.isSymbolLike(l[n])?l[n]:l.for(n);u.setKeyValue(e,i,t)}),e},isSerializable:i,size:function(e){var t=e[y],n=0;if(t)return t.call(e);if(p.hasLength(e))return e.length;if(d.isListLike(e))return this.each(e,function(){n++}),n;if(e){for(var i in e)e.hasOwnProperty(i)&&n++;return n}}}).keys=s.getOwnEnumerableKeys,n.exports=s}),define("can-reflect/reflections/get-name/get-name",["require","exports","module","can-symbol","can-reflect/reflections/type/type"],function(e,t,n){function i(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e)return e.name;if(e.constructor&&e!==e.constructor){var n=i(e.constructor);if(n){if(r.isValueLike(e))return n+"<>";if(r.isMoreListLikeThanMapLike(e))return n+"[]";if(r.isMapLike(e))return n+"{}"}}}var a=e("can-symbol"),r=e("can-reflect/reflections/type/type"),o=a.for("can.getName");n.exports={setName:function(e,t){if("function"!=typeof t){var n=t;t=function(){return n}}Object.defineProperty(e,o,{value:t})},getName:i}}),define("can-reflect/types/map",["require","exports","module","can-reflect/reflections/shape/shape","can-symbol"],function(e,t,n){var i=e("can-reflect/reflections/shape/shape"),a=e("can-symbol");"undefined"!=typeof Map&&(i.assignSymbols(Map.prototype,{"can.getOwnEnumerableKeys":Map.prototype.keys,"can.setKeyValue":Map.prototype.set,"can.getKeyValue":Map.prototype.get,"can.deleteKeyValue":Map.prototype.delete,"can.hasOwnKey":Map.prototype.has}),"function"!=typeof Map.prototype.keys&&(Map.prototype.keys=Map.prototype[a.for("can.getOwnEnumerableKeys")]=function(){var e=[],t=0;return this.forEach(function(t,n){e.push(n)}),{next:function(){return{value:e[t],done:t++===e.length}}}})),"undefined"!=typeof WeakMap&&i.assignSymbols(WeakMap.prototype,{"can.getOwnEnumerableKeys":function(){throw new Error("can-reflect: WeakMaps do not have enumerable keys.")},"can.setKeyValue":WeakMap.prototype.set,"can.getKeyValue":WeakMap.prototype.get,"can.deleteKeyValue":WeakMap.prototype.delete,"can.hasOwnKey":WeakMap.prototype.has})}),define("can-reflect/types/set",["require","exports","module","can-reflect/reflections/shape/shape","can-symbol"],function(e,t,n){var i=e("can-reflect/reflections/shape/shape"),a=e("can-symbol");"undefined"!=typeof Set&&(i.assignSymbols(Set.prototype,{"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,t,n){t!==n&&i.each(t,function(e){this.delete(e)},this),i.each(n,function(e){this.add(e)},this)},"can.size":function(){return this.size}}),"function"!=typeof Set.prototype[a.iterator]&&(Set.prototype[a.iterator]=function(){var e=[],t=0;return this.forEach(function(t){e.push(t)}),{next:function(){return{value:e[t],done:t++===e.length}}}})),"undefined"!=typeof WeakSet&&i.assignSymbols(WeakSet.prototype,{"can.isListLike":!0,"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,t,n){t!==n&&i.each(t,function(e){this.delete(e)},this),i.each(n,function(e){this.add(e)},this)},"can.size":function(){throw new Error("can-reflect: WeakSets do not have enumerable keys.")}})}),define("can-reflect",["require","exports","module","can-reflect/reflections/call/call","can-reflect/reflections/get-set/get-set","can-reflect/reflections/observe/observe","can-reflect/reflections/shape/shape","can-reflect/reflections/type/type","can-reflect/reflections/get-name/get-name","can-namespace","can-reflect/types/map","can-reflect/types/set"],function(e,t,n){var i=e("can-reflect/reflections/call/call"),a=e("can-reflect/reflections/get-set/get-set"),r=e("can-reflect/reflections/observe/observe"),o=e("can-reflect/reflections/shape/shape"),s=e("can-reflect/reflections/type/type"),c=e("can-reflect/reflections/get-name/get-name"),l=e("can-namespace"),u={};[i,a,r,o,s,c].forEach(function(e){for(var t in e)if(u[t]=e[t],"function"==typeof e[t]){var n=Object.getOwnPropertyDescriptor(e[t],"name");(!n||n.writable&&n.configurable)&&Object.defineProperty(e[t],"name",{value:"canReflect."+t})}}),e("can-reflect/types/map"),e("can-reflect/types/set"),n.exports=l.Reflect=u}),define("can-globals/can-globals-proto",["require","exports","module","can-reflect"],function(e,t,n){!function(e,t,n,i){"use strict";function a(e,t){var n=this.eventHandlers[e];if(n)for(var i=n.slice(),a=0;a<i.length;a++)i[a](t)}function r(){this.eventHandlers={},this.properties={}}var o=t("can-reflect");r.prototype.define=function(e,t,n){return void 0===n&&(n=!0),this.properties[e]||(this.properties[e]={default:t,value:t,enableCache:n}),this},r.prototype.getKeyValue=function(e){var t=this.properties[e];if(t)return"function"==typeof t.value?t.cachedValue?t.cachedValue:t.enableCache?(t.cachedValue=t.value(),t.cachedValue):t.value():t.value},r.prototype.makeExport=function(e){return function(t){return 0===arguments.length?this.getKeyValue(e):void 0!==t&&null!==t?("function"==typeof t?this.setKeyValue(e,function(){return t}):this.setKeyValue(e,t),t):void this.deleteKeyValue(e)}.bind(this)},r.prototype.offKeyValue=function(e,t){if(this.properties[e]){var n=this.eventHandlers[e];if(n){var i=n.indexOf(t);n.splice(i,1)}}return this},r.prototype.onKeyValue=function(e,t){return this.properties[e]&&(this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)),this},r.prototype.deleteKeyValue=function(e){var t=this.properties[e];return void 0!==t&&(t.value=t.default,t.cachedValue=void 0,a.call(this,e,t.value)),this},r.prototype.setKeyValue=function(e,t){if(!this.properties[e])return this.define(e,t);var n=this.properties[e];return n.value=t,n.cachedValue=void 0,a.call(this,e,t),this},r.prototype.reset=function(){for(var e in this.properties)this.properties.hasOwnProperty(e)&&(this.properties[e].cachedValue=void 0,a.call(this,e,this.getKeyValue(e)));return this},o.assignSymbols(r.prototype,{"can.getKeyValue":r.prototype.getKeyValue,"can.setKeyValue":r.prototype.setKeyValue,"can.deleteKeyValue":r.prototype.deleteKeyValue,"can.onKeyValue":r.prototype.onKeyValue,"can.offKeyValue":r.prototype.offKeyValue}),i.exports=r}(0,e,0,n)}),define("can-globals/can-globals-instance",["require","exports","module","can-namespace","can-globals/can-globals-proto"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-namespace"),r=new(t("can-globals/can-globals-proto"));if(a.globals)throw new Error("You can't have two versions of can-globals, check your dependencies");i.exports=a.globals=r,i.exports=r}(0,e,0,n)}),define("can-globals/global/global",["require","exports","module","can-globals/can-globals-instance"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-globals/can-globals-instance");a.define("global",function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:"object"==typeof process&&"[object process]"==={}.toString.call(process)?e:window}),i.exports=a.makeExport("global")}(function(){return this}(),e,0,n)}),define("can-globals/document/document",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,n){!function(e,t,n,i){"use strict";t("can-globals/global/global");var a=t("can-globals/can-globals-instance");a.define("document",function(){return a.getKeyValue("global").document}),i.exports=a.makeExport("document")}(0,e,0,n)}),define("can-globals/mutation-observer/mutation-observer",["require","exports","module","can-globals/global/global","can-globals/can-globals-instance"],function(e,t,n){!function(e,t,n,i){"use strict";t("can-globals/global/global");var a=t("can-globals/can-globals-instance");a.define("MutationObserver",function(){var e=a.getKeyValue("global");return e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver}),i.exports=a.makeExport("MutationObserver")}(0,e,0,n)}),define("can-cid/helpers",function(e,t,n){n.exports={each:function(e,t,n){for(var i in e)t.call(n,e[i],i);return e}}}),define("can-cid/set/set",["require","exports","module","can-cid","can-cid/helpers"],function(e,t,n){"use strict";var i,a=e("can-cid").get,r=e("can-cid/helpers");"undefined"!=typeof Set?i=Set:((i=function(){this.values={}}).prototype.add=function(e){this.values[a(e)]=e},i.prototype.delete=function(e){var t=a(e)in this.values;return t&&delete this.values[a(e)],t},i.prototype.forEach=function(e,t){r.each(this.values,e,t)},i.prototype.has=function(e){return a(e)in this.values},i.prototype.clear=function(){return this.values={}},Object.defineProperty(i.prototype,"size",{get:function(){var e=0;return r.each(this.values,function(){e++}),e}})),n.exports=i}),define("can-util/dom/mutation-observer/document/document",["require","exports","module","can-globals/document/document","can-dom-data-state","can-globals/mutation-observer/mutation-observer","can-util/js/each/each","can-cid/set/set","can-util/js/make-array/make-array","can-util/js/string/string"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-globals/document/document"),r=t("can-dom-data-state"),o=t("can-globals/mutation-observer/mutation-observer"),s=t("can-util/js/each/each"),c=t("can-cid/set/set"),l=t("can-util/js/make-array/make-array"),u=t("can-util/js/string/string"),d=function(e,t,n){if(n.has(e))return!0;n.add(e),"removedNodes"===t.name&&a().documentElement.contains(e)||(t.handlers.forEach(function(t){t(e)}),t.afterHandlers.forEach(function(t){t(e)}))},p={add:function(e){var t=o();if(t){var n=a().documentElement,i=r.get.call(n,"globalObserverData");if(!i){var s=new t(function(e){i.handlers.forEach(function(t){t(e)})});s.observe(n,{childList:!0,subtree:!0}),i={observer:s,handlers:[]},r.set.call(n,"globalObserverData",i)}i.handlers.push(e)}},remove:function(e){var t=a().documentElement,n=r.get.call(t,"globalObserverData");if(n){var i=n.handlers.indexOf(e);i>=0&&n.handlers.splice(i,1),0===n.handlers.length&&(n.observer.disconnect(),r.clean.call(t,"globalObserverData"))}}},f=function(e){var t=e.toLowerCase()+"Nodes",n=function(){var e=a().documentElement,n=r.get.call(e,t+"MutationData");return n||(n={name:t,handlers:[],afterHandlers:[],hander:null},o()&&r.set.call(e,t+"MutationData",n)),n},i=function(){var e=n();return 0!==e.handlers.length&&0!==e.afterHandlers.length||(e.handler=function(n){var i=new c;n.forEach(function(n){s(n[t],function(t){var n=t.getElementsByTagName&&l(t.getElementsByTagName("*")),a=d(t,e,i);if(n&&!a)for(var r,o=0;void 0!==(r=n[o]);o++)d(r,e,i)})})},this.add(e.handler)),e},f=function(){var e=a().documentElement,i=n();0===i.handlers.length&&0===i.afterHandlers.length&&(this.remove(i.handler),r.clean.call(e,t+"MutationData"))},h=function(e,t){p["on"+e]=function(e){i.call(this)[t].push(e)},p["off"+e]=function(e){var i=n(),a=i[t].indexOf(e);a>=0&&i[t].splice(a,1),f.call(this)}};!function(e){h(e,"handlers"),h("After"+e,"afterHandlers")}(u.capitalize(t))};f("added"),f("removed"),i.exports=p}(0,e,0,n)}),define("can-util/dom/data/data",["require","exports","module","can-dom-data-state","can-util/dom/mutation-observer/document/document"],function(e,t,n){"use strict";var i=e("can-dom-data-state"),a=e("can-util/dom/mutation-observer/document/document"),r=function(){return i.delete.call(this)},o=0,s=function(e){0===(o-=r.call(e)?1:0)&&a.offAfterRemovedNodes(s)};n.exports={getCid:i.getCid,cid:i.cid,expando:i.expando,clean:i.clean,get:i.get,set:function(e,t){0===o&&a.onAfterRemovedNodes(s),o+=i.set.call(this,e,t)?1:0},delete:r}}),define("can-util/dom/class-name/class-name",function(e,t,n){"use strict";var i=function(e){return this.classList?this.classList.contains(e):!!this.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))};n.exports={has:i,add:function(e){this.classList?this.classList.add(e):i.call(this,e)||(this.className+=" "+e)},remove:function(e){if(this.classList)this.classList.remove(e);else if(i.call(this,e)){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");this.className=this.className.replace(t," ")}}}}),define("can-globals/is-browser-window/is-browser-window",["require","exports","module","can-globals/can-globals-instance"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-globals/can-globals-instance");a.define("isBrowserWindow",function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"==typeof SimpleDOM}),i.exports=a.makeExport("isBrowserWindow")}(0,e,0,n)}),define("can-util/dom/events/events",["require","exports","module","can-globals/document/document","can-globals/is-browser-window/is-browser-window","can-util/js/is-plain-object/is-plain-object","can-log/dev/dev"],function(e,t,n){!function(e,t,n,i){"use strict";function a(e,t){var n=s(t)?"inserted"===t.type||"removed"===t.type:"inserted"===t||"removed"===t,i=!!e.disabled;return n&&i}var r=t("can-globals/document/document"),o=t("can-globals/is-browser-window/is-browser-window"),s=t("can-util/js/is-plain-object/is-plain-object"),c=!1,l=t("can-log/dev/dev");i.exports={addEventListener:function(){this.addEventListener.apply(this,arguments)},removeEventListener:function(){this.removeEventListener.apply(this,arguments)},canAddEventListener:function(){return this.nodeName&&(1===this.nodeType||9===this.nodeType)||this===window},dispatch:function(e,t,n){var i,o=c&&a(this,e),s=(this.ownerDocument||r()).createEvent("HTMLEvents"),u="string"==typeof e;if(s.initEvent(u?e:e.type,void 0===n||n,!1),!u)for(var d in e)void 0===s[d]&&(s[d]=e[d]);return!0===this.disabled&&"fix_synthetic_events_on_disabled_test"!==s.type&&l.warn("can-util/dom/events::dispatch: Dispatching a synthetic event on a disabled is problematic in FireFox and Internet Explorer. We recommend avoiding this if at all possible. see https://github.com/canjs/can-util/issues/294"),s.args=t,o&&(this.disabled=!1),i=this.dispatchEvent(s),o&&(this.disabled=!0),i}},function(){if(o()){var e="fix_synthetic_events_on_disabled_test",t=document.createElement("input");t.disabled=!0;var n=setTimeout(function(){c=!0},50),a=function a(){clearTimeout(n),i.exports.removeEventListener.call(t,e,a)};i.exports.addEventListener.call(t,e,a);try{i.exports.dispatch.call(t,e,[],!1)}catch(e){a(),c=!0}}}()}(0,e,0,n)}),define("can-queues/queue-state",function(e,t,n){n.exports={lastTask:null}}),define("can-queues/queue",["require","exports","module","can-queues/queue-state","can-util/js/dev/dev"],function(e,t,n){var i=e("can-queues/queue-state"),a=e("can-util/js/dev/dev"),r=function(){},o=function(e,t){this.callbacks=Object.assign({onFirstTask:r,onComplete:function(){i.lastTask=null}},t||{}),this.name=e,this.index=0,this.tasks=[],this._log=!1};o.prototype.enqueue=function(e,t,n,i){this.tasks.push({fn:e,context:t,args:n,meta:i||{}}),this._logEnqueue(this.tasks[this.tasks.length-1]),1===this.tasks.length&&this.callbacks.onFirstTask(this)},o.prototype._logEnqueue=function(e){if(e.meta.stack=this,e.meta.parentTask=i.lastTask,!0===this._log||"enqueue"===this._log){var t=e.meta.log?e.meta.log.concat(e):[e.fn.name,e];a.log.apply(a,[this.name+" enqueuing:"].concat(t))}},o.prototype._logFlush=function(e){if(!0===this._log||"flush"===this._log){var t=e.meta&&e.meta.log?e.meta.log:[e.fn.name,e];a.log.apply(a,[this.name+" running  :"].concat(t))}i.lastTask=e},o.prototype.flush=function(){for(;this.index<this.tasks.length;){var e=this.tasks[this.index++];this._logFlush(e),e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.callbacks.onComplete(this)},o.prototype.log=function(){this._log=!arguments.length||arguments[0]},n.exports=o}),define("can-queues/priority-queue",["require","exports","module","can-queues/queue"],function(e,t,n){var i=e("can-queues/queue"),a=function(){i.apply(this,arguments),this.taskMap=new Map,this.curPriorityIndex=1/0,this.curPriorityMax=0,this.taskContainersByPriority=[],this.isFlushing=!1,this.tasksRemaining=0};(a.prototype=Object.create(i.prototype)).enqueue=function(e,t,n,i){if(!this.taskMap.has(e)){this.tasksRemaining++;var a=0===this.taskContainersByPriority.length,r={fn:e,context:t,args:n,meta:i||{}};this.getTaskContainerAndUpdateRange(r).tasks.push(r),this.taskMap.set(e,r),this._logEnqueue(r),a&&this.callbacks.onFirstTask(this)}},a.prototype.isEnqueued=function(e){return this.taskMap.has(e)},a.prototype.flush=function(){if(!this.isFlushing)for(this.isFlushing=!0;;){if(!(this.curPriorityIndex<=this.curPriorityMax))return this.taskMap=new Map,this.curPriorityIndex=1/0,this.curPriorityMax=0,this.taskContainersByPriority=[],this.isFlushing=!1,void this.callbacks.onComplete(this);var e=this.taskContainersByPriority[this.curPriorityIndex];if(e&&e.tasks.length>e.index){var t=e.tasks[e.index++];this._logFlush(t),this.tasksRemaining--,this.taskMap.delete(t.fn),t.fn.apply(t.context,t.args)}else this.curPriorityIndex++}},a.prototype.flushQueuedTask=function(e){var t=this.taskMap.get(e);if(t){var n=t.meta.priority||0,i=this.taskContainersByPriority[n],a=i.tasks.indexOf(t,i.index);a>=0&&(i.tasks.splice(a,1),this._logFlush(t),this.tasksRemaining--,this.taskMap.delete(t.fn),t.fn.apply(t.context,t.args))}},a.prototype.getTaskContainerAndUpdateRange=function(e){var t=e.meta.priority||0;return t<this.curPriorityIndex&&(this.curPriorityIndex=t),t>this.curPriorityMax&&(this.curPriorityMax=t),this.taskContainersByPriority[t]||(this.taskContainersByPriority[t]={tasks:[],index:0})},a.prototype.tasksRemainingCount=function(){return this.tasksRemaining},n.exports=a}),define("can-queues/completion-queue",["require","exports","module","can-queues/queue"],function(e,t,n){var i=e("can-queues/queue"),a=function(){i.apply(this,arguments),this.flushCount=0};(a.prototype=Object.create(i.prototype)).flush=function(){if(this.flushCount>0);else{for(this.flushCount++;this.index<this.tasks.length;){var e=this.tasks[this.index++];this._logFlush(e),e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.flushCount--,this.callbacks.onComplete(this)}},n.exports=a}),define("can-queues",["require","exports","module","can-util/js/dev/dev","can-queues/queue","can-queues/priority-queue","can-queues/queue-state","can-queues/completion-queue","can-namespace"],function(e,t,n){var i,a,r,o,s,c=e("can-util/js/dev/dev"),l=e("can-queues/queue"),u=e("can-queues/priority-queue"),d=e("can-queues/queue-state"),p=e("can-queues/completion-queue"),f=e("can-namespace"),h=0,v=!1,m=!1,g=0,y=function(){return{}};a=new l("NOTIFY",{onComplete:function(){r.flush()},onFirstTask:function(){h?v=!0:a.flush()}}),r=new u("DERIVE",{onComplete:function(){o.flush()},onFirstTask:function(){v=!0}}),o=new p("DOM_UI",{onComplete:function(){s.flush()},onFirstTask:function(){v=!0}}),s=new l("MUTATE",{onComplete:function(){d.lastTask=null,m=!1},onFirstTask:function(){v=!0}});var b={Queue:l,PriorityQueue:u,notifyQueue:a,deriveQueue:r,domUIQueue:o,mutateQueue:s,batch:{start:function(){1===++h&&(i={number:++g})},stop:function(){0===--h&&v&&(v=!1,m=!0,a.flush())},isCollecting:function(){return h>0},number:function(){return g},data:function(){return i}},enqueueByQueue:function(e,t,n,i,a){e&&(i=i||y,b.batch.start(),["notify","derive","domUI","mutate"].forEach(function(r){var o=b[r+"Queue"],s=e[r];void 0!==s&&s.forEach(function(e){var r=i&&i(e,t,n);r.reasonLog=a,o.enqueue(e,t,n,r)})}),b.batch.stop())},stack:function(){for(var e=d.lastTask,t=[];e;)t.unshift(e),e=e.meta.parentTask;return t},logStack:function(){this.stack().forEach(function(e){var t=e.meta&&e.meta.log?e.meta.log:[e.fn.name,e];c.log.apply(c,[e.meta.stack.name+" ran task:"].concat(t))})},taskCount:function(){return a.tasks.length+r.tasks.length+o.tasks.length+s.tasks.length},flush:function(){a.flush()},log:function(){a.log.apply(a,arguments),r.log.apply(r,arguments),o.log.apply(o,arguments),s.log.apply(s,arguments)}};if(f.queues)throw new Error("You can't have two versions of can-queues, check your dependencies");n.exports=f.queues=b}),define("can-key-tree",["require","exports","module","can-reflect"],function(e,t,n){function i(e){return e===Object.prototype||"[object Object]"!==Object.prototype.toString.call(e)&&-1!==Object.prototype.toString.call(e).indexOf("[object ")}function a(e,t,n,i){if(e)if(i===n){if(!s.isMoreListLikeThanMapLike(e))throw new Error("can-key-tree: Map types are not supported yet.");s.addValues(t,s.toArray(e))}else s.each(e,function(e){a(e,t,n+1,i)})}function r(e,t,n){if(n===t){if(!s.isMoreListLikeThanMapLike(e))throw new Error("can-key-tree: Map types are not supported yet.");s.removeValues(e,s.toArray(e))}else s.each(e,function(i,a){r(i,t+1,n),s.deleteKeyValue(e,a)})}function o(e,t){if(0===t)return s.size(e);if(0===s.size(e))return 0;var n=0;return s.each(e,function(e){n+=o(e,t-1)}),n}var s=e("can-reflect"),c=function(e,t){this.callbacks=t||{},this.treeStructure=e;var n=e[0];s.isConstructorLike(n)?this.root=new n:this.root=n};c.prototype.add=function(e){if(e.length>this.treeStructure.length)throw new Error("can-key-tree: Can not add path deeper than tree.");for(var t=this.root,n=0===s.size(this.root),a=0;a<e.length-1;a++){var r=e[a],o=s.getKeyValue(t,r);if(!o){var c=this.treeStructure[a+1];o=i(c.prototype)?new c:new c(r),s.setKeyValue(t,r,o)}t=o}if(!s.isMoreListLikeThanMapLike(t))throw new Error("can-key-tree: Map types are not supported yet.");s.addValues(t,[e[e.length-1]]),n&&this.callbacks.onFirst&&this.callbacks.onFirst.call(this)},c.prototype.get=function(e){var t=this.getNode(e);if(this.treeStructure.length===e.length)return t;var n=new(0,this.treeStructure[this.treeStructure.length-1]);return a(t,n,e.length,this.treeStructure.length-1),n},c.prototype.getNode=function(e){for(var t=this.root,n=0;n<e.length;n++){var i=e[n],a=s.getKeyValue(t,i);if(!a)return;t=a}return t},c.prototype.delete=function(e){for(var t=this.root,n=[this.root],i=0;i<e.length-1;i++){var a=e[i],o=s.getKeyValue(t,a);if(void 0===o)return!1;n.push(o),t=o}var c=e[e.length-1];if(e.length===this.treeStructure.length){if(!s.isMoreListLikeThanMapLike(t))throw new Error("can-key-tree: Map types are not supported yet.");s.removeValues(t,[c])}else if(e.length){var l=s.getKeyValue(t,c);if(void 0===l)return!1;r(l,e.length,this.treeStructure.length-1),s.deleteKeyValue(t,c)}else r(t,0,this.treeStructure.length-1);for(i=n.length-2;i>=0&&0===s.size(t);i--)t=n[i],s.deleteKeyValue(t,e[i]);return this.callbacks.onEmpty&&0===s.size(this.root)&&this.callbacks.onEmpty.call(this),!0},c.prototype.size=function(){return o(this.root,this.treeStructure.length-1)},n.exports=c}),define("can-observation-recorder",["require","exports","module","can-namespace"],function(e,t,n){var i=e("can-namespace"),a=[],r={stack:a,makeDependenciesRecorder:function(){return{traps:null,keyDependencies:new Map,valueDependencies:new Set,ignore:0}},start:function(){a.push({traps:null,keyDependencies:new Map,valueDependencies:new Set,ignore:0})},stop:function(){return a.pop()},add:function(e,t){var n=a[a.length-1];if(n&&0===n.ignore)if(n.traps)n.traps.push([e,t]);else if(void 0===t)n.valueDependencies.add(e);else{var i=n.keyDependencies.get(e);i||(i=new Set,n.keyDependencies.set(e,i)),i.add(t)}},addMany:function(e){var t=a[a.length-1];if(t)if(t.traps)t.traps.push.apply(t.traps,e);else for(var n=0,i=e.length;n<i;n++)this.add(e[n][0],e[n][1])},ignore:function(e){return function(){if(a.length){var t=a[a.length-1];t.ignore++;var n=e.apply(this,arguments);return t.ignore--,n}return e.apply(this,arguments)}},trap:function(){if(a.length){var e=a[a.length-1],t=e.traps,n=e.traps=[];return function(){return e.traps=t,n}}return function(){return[]}},trapsCount:function(){return a.length?a[a.length-1].traps.length:0},isRecording:function(){var e=a.length,t=e&&a[e-1];return t&&0===t.ignore&&t}};if(i.observationRecorder)throw new Error("You can't have two versions of can-observation-recorder, check your dependencies");n.exports=i.observationRecorder=r}),define("can-observation/recorder-dependency-helpers",["require","exports","module","can-reflect"],function(e,t,n){function i(e){l.offKeyValue(this.observable,e,this.onDependencyChange,"notify")}function a(e,t){e.forEach(i,{onDependencyChange:this.onDependencyChange,observable:t})}function r(e){this.oldEventSet&&this.oldEventSet.delete(e)||l.onKeyValue(this.observable,e,this.onDependencyChange,"notify")}function o(e,t){e.forEach(r,{onDependencyChange:this.onDependencyChange,observable:t,oldEventSet:this.oldDependencies.keyDependencies.get(t)})}function s(e){this.oldDependencies.valueDependencies.delete(e)||l.onValue(e,this.onDependencyChange,"notify")}function c(e){l.offValue(e,this.onDependencyChange,"notify")}var l=e("can-reflect");n.exports={updateObservations:function(e){e.newDependencies.keyDependencies.forEach(o,e),e.oldDependencies.keyDependencies.forEach(a,e),e.newDependencies.valueDependencies.forEach(s,e),e.oldDependencies.valueDependencies.forEach(c,e)},stopObserving:function(e,t){e.keyDependencies.forEach(a,{onDependencyChange:t}),e.valueDependencies.forEach(c,{onDependencyChange:t})}}}),define("can-observation",["require","exports","module","can-util/js/assign/assign","can-namespace","can-reflect","can-queues","can-key-tree","can-observation-recorder","can-observation/recorder-dependency-helpers","can-symbol","can-log/dev/dev"],function(e,t,n){!function(e,t,n,i){function a(e,t,n){this.func=e,this.context=t,this.options=n||{priority:0,isObservable:!0},this.newDependencies=u.makeDependenciesRecorder(),this.oldDependencies=null,this.handlers=new l([Object,Array],{onFirst:this.start.bind(this),onEmpty:this.stop.bind(this)}),this.bound=!1;var i=this;this.onDependencyChange=function(e){i.dependencyChange(this,e)},this.update=this.update.bind(this),Object.defineProperty(this.onDependencyChange,"name",{value:s.getName(this)+".onDependencyChange"}),Object.defineProperty(this.update,"name",{value:s.getName(this)+".update"})}var r=t("can-util/js/assign/assign"),o=t("can-namespace"),s=t("can-reflect"),c=t("can-queues"),l=t("can-key-tree"),u=t("can-observation-recorder"),d=t("can-observation/recorder-dependency-helpers"),p=t("can-symbol"),f=t("can-log/dev/dev");r(a.prototype,{get:function(){return this.options.isObservable&&a.isRecording()&&(u.add(this),this.bound||a.temporarilyBind(this)),!0===this.bound?(c.deriveQueue.tasksRemainingCount()>0&&a.updateChildrenAndSelf(this),this.value):this.func.call(this.context)},dependencyChange:function(e,t){!0===this.bound&&c.deriveQueue.enqueue(this.update,this,[],{priority:this.options.priority,log:[s.getName(this.update)]},[s.getName(e),"changed"])},update:function(){if(!0===this.bound){var e=this.value;if(this.oldValue=null,this.start(),e!==this.value)return"function"==typeof this._log&&this._log(e,this.value),c.enqueueByQueue(this.handlers.getNode([]),this,[this.value,e],null,[s.getName(this),"changed to",this.value,"from",e]),!0}},start:function(){this.bound=!0,this.oldDependencies=this.newDependencies,u.start(),this.value=this.func.call(this.context),this.newDependencies=u.stop(),d.updateObservations(this)},stop:function(){this.bound=!1,d.stopObserving(this.newDependencies,this.onDependencyChange),this.newDependencies=u.makeDependenciesRecorder()},hasDependencies:function(){var e=this.newDependencies;return this.bound?e.valueDependencies.size+e.keyDependencies.size>0:void 0},log:function(){var e=function(e){return"string"==typeof e?JSON.stringify(e):e};this._log=function(t,n){f.log(s.getName(this),"\n is  ",e(n),"\n was ",e(t))}}}),s.assignSymbols(a.prototype,{"can.onValue":function(e,t){this.handlers.add([t||"mutate",e])},"can.offValue":function(e,t){this.handlers.delete([t||"mutate",e])},"can.getValue":a.prototype.get,"can.isValueLike":!0,"can.isMapLike":!1,"can.isListLike":!1,"can.valueHasDependencies":a.prototype.hasDependencies,"can.getValueDependencies":function(){if(!0===this.bound)return this.newDependencies},"can.getPriority":function(){return this.options.priority},"can.setPriority":function(e){this.options.priority=e},"can.getName":function(){return s.getName(this.constructor)+"<"+s.getName(this.func)+">"}});var h=p.for("can.getValueDependencies");a.updateChildrenAndSelf=function(e){if(e.update&&!0===c.deriveQueue.isEnqueued(e.update))return c.deriveQueue.flushQueuedTask(e.update),!0;if(e[h]){var t=!1;return(e[h]().valueDependencies||[]).forEach(function(e){a.updateChildrenAndSelf(e)&&(t=!0)}),t}return!1},a.add=u.add,a.addAll=u.addMany,a.ignore=u.ignore,a.trap=u.trap,a.trapsCount=u.trapsCount,a.isRecording=u.isRecording;var v,m=function(){},g=function(){for(var e=0,t=v.length;e<t;e++)s.offValue(v[e],m);v=null};if(a.temporarilyBind=function(e){var t=e.computeInstance||e;s.onValue(t,m),v||(v=[],setTimeout(g,10)),v.push(t)},o.Observation)throw new Error("You can't have two versions of can-observation, check your dependencies");i.exports=o.Observation=a}(0,e,0,n)}),define("can-util/js/is-promise-like/is-promise-like",function(e,t,n){"use strict";n.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}}),define("can-reflect-promise",["require","exports","module","can-reflect","can-symbol","can-observation-recorder","can-queues","can-key-tree","can-util/js/dev/dev"],function(e,t,n){function i(e,t,n){var i=e[f],a=i[t];i[t]=n,l.enqueueByQueue(i.handlers.getNode([t]),e,[n,a],function(){return{}},["Promise",e,"resolved with value",n,"and changed virtual property: "+t])}function a(e){var t=e[f];t||(Object.defineProperty(e,f,{enumerable:!1,configurable:!1,writable:!1,value:Object.create(h)}),(t=e[f]).handlers=new u([Object,Object,Array])),e.then(function(t){l.batch.start(),i(e,"isPending",!1),i(e,"isResolved",!0),i(e,"value",t),i(e,"state","resolved"),l.batch.stop()},function(t){l.batch.start(),i(e,"isPending",!1),i(e,"isRejected",!0),i(e,"reason",t),i(e,"state","rejected"),l.batch.stop(),d.error("Failed promise:",t)})}function r(e){var t,n="getPrototypeOf"in Object?Object.getPrototypeOf(e):e.__proto__;e[p]&&e[f]||(null!==n&&n!==Object.prototype||"function"==typeof(n=e).promise&&(t=n.promise,n.promise=function(){var e=t.call(n);return r(e),e}),o.assignSymbols(n,{"can.getKeyValue":function(e){switch(this[f]||a(this),c.add(this,e),e){case"state":case"isPending":case"isResolved":case"isRejected":case"value":case"reason":return this[f][e];default:return this[e]}},"can.getValue":function(){return this[p]("value")},"can.isValueLike":!1,"can.onKeyValue":function(e,t,n){this[f]||a(this),this[f].handlers.add([e,n||"mutate",t])},"can.offKeyValue":function(e,t,n){this[f]||a(this),this[f].handlers.delete([e,n||"mutate",t])}}))}var o=e("can-reflect"),s=e("can-symbol"),c=e("can-observation-recorder"),l=e("can-queues"),u=e("can-key-tree"),d=e("can-util/js/dev/dev"),p=s.for("can.getKeyValue"),f=s.for("can.meta"),h={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0};n.exports=r}),define("can-stache-key",["require","exports","module","can-observation","can-util/js/dev/dev","can-util/js/each/each","can-symbol","can-reflect","can-util/js/is-promise-like/is-promise-like","can-reflect-promise"],function(e,t,n){var i,a=e("can-observation"),r=e("can-util/js/dev/dev"),o=e("can-util/js/each/each"),s=e("can-symbol"),c=e("can-reflect"),l=e("can-util/js/is-promise-like/is-promise-like"),u=e("can-reflect-promise"),d=s.for("can.getValue"),p=s.for("can.setValue"),f=s.for("can.isValueLike"),h=a.ignore(c.getKeyValue.bind(c)),v=function(e,t){var n=t[e-1];return n&&n.at},m=function(e,t,n,a,r,o){var s;do{s=!1;for(var c=0,l=i.valueReaders.length;c<l;c++)i.valueReaders[c].test(e,t,n,a)&&(e=i.valueReaders[c].read(e,t,n,a,r,o))}while(s);return e},g={index:!0,key:!0,event:!0,element:!0,viewModel:!0},y=function(e,t,n,i,r){e.foundObservable&&!t.foundObservable&&a.trapsCount()&&(a.addAll(n()),e.foundObservable(i,r),t.foundObservable=!0)};o((i={read:function(e,t,n){var r,o={foundObservable:!1};(n=n||{}).foundObservable&&(r=a.trap());var s,c=m(e,0,t,n,o),l=t.length,u=0;for(y(n,o,r,e,0);u<l;){s=c;for(var d=0,p=i.propertyReaders.length;d<p;d++){var f=i.propertyReaders[d];if(f.test(c)){c=f.read(c,t[u],u,n,o);break}}if(y(n,o,r,s,u),c,u+=1,c=m(c,u,t,n,o,s),y(n,o,r,s,u-1),typeof c,u<t.length&&(null===c||void 0===c))return n.earlyExit&&n.earlyExit(s,u-1,c),{value:void 0,parent:s}}return void 0===c&&n.earlyExit&&n.earlyExit(s,u-1),{value:c,parent:s}},get:function(e,t,n){return i.read(e,i.reads(t),n||{}).value},valueReadersMap:{},valueReaders:[{name:"function",test:function(e){return e&&c.isFunctionLike(e)&&!c.isConstructorLike(e)},read:function(e,t,n,i,a,r){return v(t,n)?t===n.length?e.bind(r):e:i.callMethodsOnObservables&&c.isObservableLike(r)&&c.isMapLike(r)?e.apply(r,i.args||[]):i.isArgument&&t===n.length?!1!==i.proxyMethods?e.bind(r):e:e.apply(r,i.args||[])}},{name:"isValueLike",test:function(e,t,n,i){return e&&e[d]&&!1!==e[f]&&(i.foundAt||!v(t,n))},read:function(e,t,n,i){return!1===i.readCompute&&t===n.length?e:c.getValue(e)},write:function(e,t){e[p]?e[p](t):e.set?e.set(t):e(t)}}],propertyReadersMap:{},propertyReaders:[{name:"map",test:function(e){return(l(e)||"object"==typeof e&&e&&"function"==typeof e.then)&&u(e),c.isObservableLike(e)&&c.isMapLike(e)},read:function(e,t){var n=c.getKeyValue(e,t.key);return void 0!==n?n:e[t.key]},write:c.setKeyValue},{name:"object",test:function(){return!0},read:function(e,t,n,i){if(null!=e)return"object"!=typeof e?e[t.key]:t.key in e?e[t.key]:t.at&&g[t.key]&&"@"+t.key in e?(i.foundAt=!0,r.warn("Use %"+t.key+" in place of @"+t.key+"."),e["@"+t.key]):void 0},write:function(e,t,n){var i=e[t];c.isMapLike(i)&&n&&"object"==typeof n?(r.warn('can-stache-key: Merging data into "'+t+'" because its parent is non-observable'),c.update(i,n)):c.isValueLike(i)&&c.isObservableLike(i)?c.setValue(i,n):e[t]=n}}],reads:function(e){var t=""+e,n=[],i=0,a=!1;"@"===t.charAt(0)&&(i=1,a=!0);for(var r="",o=i;o<t.length;o++){var s=t.charAt(o);"."===s||"@"===s?"\\"!==t.charAt(o-1)?(n.push({key:r,at:a}),a="@"===s,r=""):r=r.substr(0,r.length-1)+".":r+=s}return n.push({key:r,at:a}),n},write:function(e,t,n,a){var r,o="string"==typeof t?i.reads(t):t;a=a||{},o.length>1?(r=o.pop(),e=i.read(e,o,a).value,o.push(r)):r=o[0];var s=h(e,r.key);i.valueReadersMap.isValueLike.test(s,o.length-1,o,a)?i.valueReadersMap.isValueLike.write(s,n,a):(i.valueReadersMap.isValueLike.test(e,o.length-1,o,a)&&(e=e[d]()),i.propertyReadersMap.map.test(e)?i.propertyReadersMap.map.write(e,r.key,n,a):i.propertyReadersMap.object.test(e)&&(i.propertyReadersMap.object.write(e,r.key,n,a),a.observation&&a.observation.update()))}}).propertyReaders,function(e){i.propertyReadersMap[e.name]=e}),o(i.valueReaders,function(e){i.valueReadersMap[e.name]=e}),i.set=i.write,n.exports=i}),define("can-util/dom/dispatch/dispatch",["require","exports","module","can-util/dom/events/events"],function(e,t,n){"use strict";var i=e("can-util/dom/events/events");n.exports=function(){return i.dispatch.apply(this,arguments)}}),define("can-util/dom/matches/matches",function(e,t,n){"use strict";var i=function(e){return e.matches||e.webkitMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector};n.exports=function(){var e=i(this);return!!e&&e.apply(this,arguments)}}),define("can-util/js/is-empty-object/is-empty-object",function(e,t,n){"use strict";n.exports=function(e){for(var t in e)return!1;return!0}}),define("can-util/dom/events/delegate/delegate",["require","exports","module","can-util/dom/events/events","can-util/dom/data/data","can-util/dom/matches/matches","can-util/js/each/each","can-util/js/is-empty-object/is-empty-object"],function(e,t,n){"use strict";var i=e("can-util/dom/events/events"),a=e("can-util/dom/data/data"),r=e("can-util/dom/matches/matches"),o=e("can-util/js/each/each"),s=e("can-util/js/is-empty-object/is-empty-object"),c="delegateEvents",l=function(e){return"focus"===e||"blur"===e},u=function(e){var t=a.get.call(this,c)[e.type],n=[];if(t){var i=[];o(t,function(e){i.push(e)});var s=e.target;do{i.forEach(function(e){r.call(s,e[0].selector)&&n.push({target:s,delegates:e})}),s=s.parentNode}while(s&&s!==e.currentTarget)}var l=e.stopPropagation;e.stopPropagation=function(){l.apply(this,arguments),this.cancelBubble=!0};for(var u=0;u<n.length;u++)for(var d=n[u],p=d.delegates,f=0,h=p.length;f<h;f++){if(!1===p[f].handler.call(d.target,e))return!1;if(e.cancelBubble)return}};i.addDelegateListener=function(e,t,n){var r,o=a.get.call(this,c);o||a.set.call(this,c,o={}),(r=o[e])||(r=o[e]={},i.addEventListener.call(this,e,u,l(e))),r[t]||(r[t]=[]),r[t].push({handler:n,selector:t})},i.removeDelegateListener=function(e,t,n){var r=a.get.call(this,c);if(r&&r[e]&&r[e][t]){for(var o=r[e],d=o[t],p=0;p<d.length;)d[p].handler===n?d.splice(p,1):p++;0===d.length&&(delete o[t],s(o)&&(i.removeEventListener.call(this,e,u,l(e)),delete r[e],s(r)&&a.clean.call(this,c)))}}}),define("can-control",["require","exports","module","can-construct","can-namespace","can-util/js/string/string","can-util/js/assign/assign","can-util/js/is-function/is-function","can-util/js/each/each","can-util/js/dev/dev","can-util/js/get/get","can-util/dom/data/data","can-util/dom/class-name/class-name","can-util/dom/events/events","can-stache-key","can-reflect","can-observation","can-symbol","can-util/dom/dispatch/dispatch","can-util/dom/events/delegate/delegate"],function(e,t,n){var i,a=e("can-construct"),r=e("can-namespace"),o=e("can-util/js/string/string"),s=e("can-util/js/assign/assign"),c=e("can-util/js/is-function/is-function"),l=e("can-util/js/each/each"),u=e("can-util/js/dev/dev"),d=e("can-util/js/get/get"),p=e("can-util/dom/data/data"),f=e("can-util/dom/class-name/class-name"),h=e("can-util/dom/events/events"),v=e("can-stache-key"),m=e("can-reflect"),g=e("can-observation"),y=e("can-symbol");e("can-util/dom/dispatch/dispatch"),e("can-util/dom/events/delegate/delegate");var b,w=y.for("can.onKeyValue"),k=y.for("can.offKeyValue"),x=y.for("can.onEvent"),L=y.for("can.offEvent"),j=y.for("can.onValue"),E=y.for("can.offValue"),V={on:function(e,t,n){if(h.canAddEventListener.call(this))h["string"==typeof t?"addDelegateListener":"addEventListener"].call(this,e,t,n);else if(this[w])m.onKeyValue(this,e,t,n);else if(this[x])this[x](e,t,n);else if("addEventListener"in this)this.addEventListener(e,t,n);else{if(e||!this[j])throw new Error("can-control: Unable to bind "+e);m.onValue(this,t)}},off:function(e,t,n){if(h.canAddEventListener.call(this))h["string"==typeof t?"removeDelegateListener":"removeEventListener"].call(this,e,t,n);else if(this[k])m.offKeyValue(this,e,t,n);else if(this[L])this[L](e,t,n);else if("removeEventListener"in this)this.removeEventListener(e,t,n);else{if(e||!this[E])throw new Error("can-control: Unable to unbind "+e);m.offValue(this,t)}}},C=function(e,t,n,i){return V.on.call(e,t,n,i),function(){V.off.call(e,t,n,i)}},O=[].slice,_=/\{([^\}]+)\}/g,S=function(e,t,n,i){return V.on.call(e,n,t,i),function(){V.off.call(e,n,t,i)}},N=function(e,t,n,i){return i?S(e,i.trim(),t,n):C(e,t,n)},D=a.extend("Control",{setup:function(){if(a.setup.apply(this,arguments),D){var e,t=this;t.actions={};for(e in t.prototype)t._isAction(e)&&(t.actions[e]=t._action(e))}},_shifter:function(e,t){function n(){var n=a.wrapElement(this);return e.called=t,i.apply(e,[n].concat(O.call(arguments,0)))}var i="string"==typeof t?e[t]:t;c(i)||(i=e[i]);var a=this;return Object.defineProperty(n,"name",{value:m.getName(this)+"["+t+"]"}),n},_isAction:function(e){var t=this.prototype[e],n=typeof t;return"constructor"!==e&&("function"===n||"string"===n&&c(this.prototype[t]))&&!!(D.isSpecial(e)||i[e]||/[^\w]/.test(e))},_action:function(e,t,n){var i,a;if(_.lastIndex=0,t||!_.test(e)){var r=function(){var n,i=e.replace(_,function(e,i){var r,o;return this._isDelegate(t,i)?(n=this._getDelegate(t,i),""):(i=this._removeDelegateFromKey(i),o=this._lookup(t)[0],void 0===(r=v.read(o,v.reads(i),{readCompute:!1}).value)&&"undefined"!=typeof window&&(r=d(window,i)),o&&(m.isObservableLike(o)&&m.isMapLike(o)||r)?"string"==typeof r?r:(n=r,""):(a=!0,null))}.bind(this)),r=(i=i.trim()).split(/\s+/g),o=r.pop();return{processor:this.processors[o]||b,parts:[i,r.join(" "),o],delegate:n||void 0}};if(Object.defineProperty(r,"name",{value:m.getName(n||this.prototype)+"["+e+"].actionData"}),i=new g(r,this),n){var o=function(t){n._bindings.control[e](n.element),n._bindings.control[e]=t.processor(t.delegate||n.element,t.parts[2],t.parts[1],e,n)};Object.defineProperty(o,"name",{value:m.getName(n)+"["+e+"].handler"}),m.onValue(i,o,"mutate"),a&&u.log("can-control: No property found for handling "+e),n._bindings.readyComputes[e]={compute:i,handler:o}}return i.get()}},_lookup:function(e){return[e,window]},_removeDelegateFromKey:function(e){return e},_isDelegate:function(e,t){return"element"===t},_getDelegate:function(e,t){},processors:{},defaults:{},convertElement:function(e){return e="string"==typeof e?document.querySelector(e):e,this.wrapElement(e)},wrapElement:function(e){return e},unwrapElement:function(e){return e},isSpecial:function(e){return"inserted"===e||"removed"===e}},{setup:function(e,t){var n,i=this.constructor,a=i.pluginName||i.shortName;if(!e)throw new Error("Creating an instance of a named control without passing an element");if(this.element=i.convertElement(e),a&&"Control"!==a&&f.add.call(this.element,a),(n=p.get.call(this.element,"controls"))||(n=[],p.set.call(this.element,"controls",n)),n.push(this),m.isObservableLike(t)&&m.isMapLike(t)){for(var r in i.defaults)t.hasOwnProperty(r)||v.set(t,r,i.defaults[r]);this.options=t}else this.options=s(s({},i.defaults),t);return this.on(),[this.element,this.options]},on:function(e,t,n,i){if(!e){this.off();var a,r,o=this.constructor,s=this._bindings,c=o.actions,l=this.constructor.unwrapElement(this.element),u=D._shifter(this,"destroy");for(a in c)c.hasOwnProperty(a)&&(r=c[a]||o._action(a,this.options,this))&&(s.control[a]=r.processor(r.delegate||l,r.parts[2],r.parts[1],a,this));return h.addEventListener.call(l,"removed",u),s.user.push(function(e){h.removeEventListener.call(e,"removed",u)}),s.user.length}return"string"==typeof e&&(i=n,n=t,t=e,e=this.element),void 0===i&&(i=n,n=t,t=null),"string"==typeof i&&(i=D._shifter(this,i)),this._bindings.user.push(N(e,n,i,t)),this._bindings.user.length},off:function(){var e=this.constructor.unwrapElement(this.element),t=this._bindings;t&&(l(t.user||[],function(t){t(e)}),l(t.control||{},function(t){t(e)}),l(t.readyComputes||{},function(e){m.offValue(e.compute,e.handler,"mutate")})),this._bindings={user:[],control:{},readyComputes:{}}},destroy:function(){if(null!==this.element){var e,t=this.constructor,n=t.pluginName||t.shortName&&o.underscore(t.shortName);this.off(),n&&"can_control"!==n&&f.remove.call(this.element,n),(e=p.get.call(this.element,"controls"))&&e.splice(e.indexOf(this),1),this.element=null}else u.warn("can-control: Control already destroyed")}});i=D.processors,b=function(e,t,n,i,a){return N(e,t,D._shifter(a,i),n)},l(["beforeremove","change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed","dragstart","dragenter","dragover","dragleave","drag","drop","dragend"],function(e){i[e]=b}),n.exports=r.Control=D}),define("can-component/control/control",["require","exports","module","can-control","can-util/js/each/each","can-reflect"],function(e,t,n){var i=e("can-control"),a=e("can-util/js/each/each"),r=e("can-reflect"),o=/\{([^\}]+)\}/g,s=i.extend({_lookup:function(e){return[e.scope,e,window]},_removeDelegateFromKey:function(e){return e.replace(/^(scope|^viewModel)\./,"")},_isDelegate:function(e,t){return"scope"===t||"viewModel"===t},_getDelegate:function(e,t){return e[t]},_action:function(e,t,n){var a;return o.lastIndex=0,a=o.test(e),!n&&a?void 0:i._action.apply(this,arguments)}},{setup:function(e,t){return this.scope=t.scope,this.viewModel=t.viewModel,i.prototype.setup.call(this,e,t)},off:function(){this._bindings&&a(this._bindings.readyComputes||{},function(e){r.offValue(e.compute,e.handler)}),i.prototype.off.apply(this,arguments),this._bindings.readyComputes={}},destroy:function(){i.prototype.destroy.apply(this,arguments),"function"==typeof this.options.destroy&&this.options.destroy.apply(this,arguments)}});n.exports=s}),define("can-event-queue",["require","exports","module","can-util/js/dev/dev","can-util/js/assign/assign","can-queues","can-reflect","can-symbol","can-key-tree"],function(e,t,n){function i(e){var t=d(e),n=t.handlers;return n||(n=t.handlers=new u([Object,Object,Object,Array],{onFirst:function(){e._eventSetup&&e._eventSetup()},onEmpty:function(){e._eventTeardown&&e._eventTeardown()}})),n}function a(e,t,n){Object.defineProperty(e,t,{enumerable:!1,value:n})}var r=e("can-util/js/dev/dev"),o=e("can-util/js/assign/assign"),s=e("can-queues"),c=e("can-reflect"),l=e("can-symbol"),u=e("can-key-tree"),d=function(e){var t=l.for("can.meta"),n=e[t];return n||(n={},c.setKeyValue(e,t,n)),n},p={dispatch:function(e,t){if(arguments.length>2&&(r.warn("Arguments to dispatch should be an array, not multiple arguments."),t=Array.prototype.slice.call(arguments,1)),t&&!Array.isArray(t)&&(r.warn("Arguments to dispatch should be an array."),t=[t]),!this.__inSetup){"string"==typeof e&&(e={type:e}),e.reasonLog||(e.reasonLog=[c.getName(this),"dispatched",'"'+e+'"',"with"].concat(t)),e.makeMeta||(e.makeMeta=function(e){return{log:[c.getName(e)]}});var n=d(this);"function"==typeof n._log&&n._log.call(this,e,t);var a=i(this).getNode([e.type]);if(a){if(s.batch.start(),a.onKeyValue&&s.enqueueByQueue(a.onKeyValue,this,t,e.makeMeta,e.reasonLog),a.event){e.batchNum=s.batch.number();var o=[e].concat(t);s.enqueueByQueue(a.event,this,o,e.makeMeta,e.reasonLog)}s.batch.stop()}}},addEventListener:function(e,t,n){i(this).add([e,"event",n||"mutate",t])},removeEventListener:function(e,t,n){i(this).delete([e,"event",n||"mutate",t])}};p.on=p.addEventListener,p.off=p.removeEventListener;var f={"can.onKeyValue":function(e,t,n){i(this).add([e,"onKeyValue",n||"mutate",t])},"can.offKeyValue":function(e,t,n){i(this).delete([e,"onKeyValue",n||"mutate",t])}},h=function(e){return o(e,p),c.assignSymbols(e,f),e};o(h,p),a(h,"start",function(){console.warn("use can-queues.batch.start()"),s.batch.start()}),a(h,"stop",function(){console.warn("use can-queues.batch.stop()"),s.batch.stop()}),a(h,"flush",function(){console.warn("use can-queues.flush()"),s.flush()}),a(h,"afterPreviousEvents",function(e){console.warn("don't use afterPreviousEvents"),s.mutateQueue.enqueue(function(){s.mutateQueue.enqueue(e)}),s.flush()}),a(h,"after",function(e){console.warn("don't use after"),s.mutateQueue.enqueue(e),s.flush()}),n.exports=h}),define("can-simple-map",["require","exports","module","can-construct","can-event-queue","can-queues","can-util/js/each/each","can-observation-recorder","can-reflect","can-log/dev/dev","can-symbol"],function(e,t,n){var i=e("can-construct"),a=e("can-event-queue"),r=e("can-queues"),o=e("can-util/js/each/each"),s=e("can-observation-recorder"),c=e("can-reflect"),l=e("can-log/dev/dev"),u=e("can-symbol"),d=function(e){var t=u.for("can.meta"),n=e[t];return n||(n={},c.setKeyValue(e,t,n)),n},p=i.extend("SimpleMap",{setup:function(e){this._data={},this.attr(e)},attr:function(e,t){var n=this;if(0===arguments.length){s.add(this,"__keys");var i={};return o(this._data,function(e,t){s.add(this,t),i[t]=e},this),i}if(arguments.length>1){var a=this._data.hasOwnProperty(e),l=this._data[e];this._data[e]=t,r.batch.start(),a||this.dispatch("__keys",[]),"function"==typeof this._log&&this._log(e,t,l),this.dispatch({type:e,reasonLog:[c.getName(this)+"'s",e,"changed to",t,"from",l]},[t,l]),r.batch.stop()}else{if("object"!=typeof e)return"constructor"!==e?(s.add(this,e),this._data[e]):this.constructor;r.batch.start(),c.eachKey(e,function(e,t){n.attr(t,e)}),r.batch.stop()}},serialize:function(){return c.serialize(this,Map)},get:function(){return this.attr.apply(this,arguments)},set:function(){return this.attr.apply(this,arguments)},log:function(e){var t=function(e){return"string"==typeof e?JSON.stringify(e):e},n=d(this);n.allowedLogKeysSet=n.allowedLogKeysSet||new Set,e&&n.allowedLogKeysSet.add(e),this._log=function(i,a,r,o){e&&!n.allowedLogKeysSet.has(i)||l.log(c.getName(this),"\n key ",t(i),"\n is  ",t(a),"\n was ",t(r))}}});a(p.prototype),c.assignSymbols(p.prototype,{"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":p.prototype.get,"can.setKeyValue":p.prototype.set,"can.deleteKeyValue":function(e){return this.attr(e,void 0)},"can.getOwnEnumerableKeys":function(){return s.add(this,"__keys"),Object.keys(this._data)},"can.assignDeep":function(e){r.batch.start(),c.assignMap(this,e),r.batch.stop()},"can.updateDeep":function(e){r.batch.start(),c.updateMap(this,e),r.batch.stop()},"can.keyHasDependencies":function(e){return!1},"can.getKeyDependencies":function(e){},"can.getName":function(){return c.getName(this.constructor)+"{}"}}),n.exports=p}),define("can-view-scope/reference-map",["require","exports","module","can-simple-map"],function(e,t,n){var i=e("can-simple-map").extend({});n.exports=i}),define("can-util/js/single-reference/single-reference",["require","exports","module","can-cid"],function(e,t,n){!function(e,t,n,i){function a(e,t){return(t?o(e)+":"+t:o(e))||e}var r,o=t("can-cid");r={set:function(e,t,n,i){e[a(t,i)]=n},getAndDelete:function(e,t,n){var i=a(t,n),r=e[i];return delete e[i],r}},i.exports=r}(0,e,0,n)}),define("can-view-scope/make-compute-like",["require","exports","module","can-util/js/single-reference/single-reference","can-reflect"],function(e,t,n){var i=e("can-util/js/single-reference/single-reference"),a=e("can-reflect"),r=function(e){return arguments.length?a.setValue(this,e):a.getValue(this)};n.exports=function(e){var t=r.bind(e);return t.on=t.bind=t.addEventListener=function(n,a){var r=function(e,n){a.call(t,{type:"change"},e,n)};i.set(a,this,r),e.on(r)},t.off=t.unbind=t.removeEventListener=function(t,n){e.off(i.getAndDelete(n,this))},a.assignSymbols(t,{"can.getValue":function(){return a.getValue(e)},"can.setValue":function(t){return a.setValue(e,t)},"can.onValue":function(t,n){return a.onValue(e,t,n)},"can.offValue":function(t,n){return a.offValue(e,t,n)},"can.valueHasDependencies":function(){return a.valueHasDependencies(e)},"can.getPriority":function(){return a.getPriority(e)},"can.setPriority":function(t){a.setPriority(e,t)},"can.isValueLike":!0,"can.isFunctionLike":!1}),t.isComputed=!0,t}}),define("can-view-scope/compute_data",["require","exports","module","can-observation","can-stache-key","can-util/js/assign/assign","can-reflect","can-symbol","can-key-tree","can-queues","can-observation-recorder","can-cid/set/set","can-view-scope/make-compute-like"],function(e,t,n){"use strict";var i=e("can-observation"),a=e("can-stache-key"),r=e("can-util/js/assign/assign"),o=e("can-reflect"),s=e("can-symbol"),c=e("can-key-tree"),l=e("can-queues"),u=e("can-observation-recorder"),d=e("can-cid/set/set"),p=e("can-view-scope/make-compute-like"),f=u.ignore(o.getValue.bind(o)),h=u.ignore(function(e){if(e.reads&&1===e.reads.length){var t=e.root;return t&&t[s.for("can.getValue")]&&(t=o.getValue(t)),t&&o.isObservableLike(t)&&o.isMapLike(t)&&"function"!=typeof t[e.reads[0].key]&&t}}),v=function(e){return e&&"number"==typeof e.batchNum&&"string"==typeof e.type},m=function(e,t,n){this.startingScope=e,this.key=t,this.options=r({observation:this.observation},n);var a;this.read=this.read.bind(this),this.dispatch=this.dispatch.bind(this),Object.defineProperty(this.read,"name",{value:"{{"+this.key+"}}::ScopeKeyData.read"}),Object.defineProperty(this.dispatch,"name",{value:o.getName(this)+".dispatch"}),this.handlers=new c([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),a=this.observation=new i(this.read,this),this.fastPath=void 0,this.root=void 0,this.initialValue=void 0,this.reads=void 0,this.setRoot=void 0;var s=new d;s.add(a),this.dependencies={valueDependencies:s}};m.prototype={constructor:m,dispatch:function(e){var t=this.value;this.value=e,l.enqueueByQueue(this.handlers.getNode([]),this,[e,t],null,[o.getName(this),"changed to",e,"from",t])},setup:function(){this.bound=!0,o.onValue(this.observation,this.dispatch,"notify");var e=h(this);e&&this.toFastPath(e),this.value=f(this.observation)},teardown:function(){this.bound=!1,o.offValue(this.observation,this.dispatch,"notify"),this.toSlowPath()},set:function(e){var t=this.root||this.setRoot;t?a.write(t,this.reads,e,this.options):this.startingScope.set(this.key,e,this.options)},get:function(){return u.isRecording()&&(u.add(this),this.bound||i.temporarilyBind(this)),!0===this.bound?this.value:this.observation.get()},on:function(e,t){this.handlers.add([t||"mutate",e])},off:function(e,t){this.handlers.delete([t||"mutate",e])},toFastPath:function(e){var t=this,n=this.observation;this.fastPath=!0,n.dependencyChange=function(n,a){if(v(a))throw"no event objects!";return n===e&&"function"!=typeof a?this.newVal=a:t.toSlowPath(),i.prototype.dependencyChange.apply(this,arguments)},n.start=function(){this.value=this.newVal}},toSlowPath:function(){this.observation.dependencyChange=i.prototype.dependencyChange,this.observation.start=i.prototype.start,this.fastPath=!1},read:function(){if(this.root)return a.read(this.root,this.reads,this.options).value;var e=this.startingScope.read(this.key,this.options);return this.scope=e.scope,this.reads=e.reads,this.root=e.rootObserve,this.setRoot=e.setRoot,this.initialValue=e.value},hasDependencies:function(){return o.valueHasDependencies(this.observation)}},o.assignSymbols(m.prototype,{"can.getValue":m.prototype.get,"can.setValue":m.prototype.set,"can.onValue":m.prototype.on,"can.offValue":m.prototype.off,"can.valueHasDependencies":m.prototype.hasDependencies,"can.getValueDependencies":function(){return this.dependencies},"can.getPriority":function(){return o.getPriority(this.observation)},"can.setPriority":function(e){o.setPriority(this.observation,e)},"can.getName":function(){return o.getName(this.constructor)+"{{"+this.key+"}}"}}),Object.defineProperty(m.prototype,"compute",{get:function(){var e=p(this);return Object.defineProperty(this,"compute",{value:e,writable:!1,configurable:!1}),e},configurable:!0}),n.exports=function(e,t,n){return new m(e,t,n||{args:[]})}}),define("can-util/js/log/log",["require","exports","module","can-log"],function(e,t,n){"use strict";n.exports=e("can-log")}),define("can-view-scope",["require","exports","module","can-stache-key","can-observation","can-view-scope/reference-map","can-view-scope/compute_data","can-util/js/assign/assign","can-util/js/each/each","can-namespace","can-util/js/dev/dev","can-reflect","can-util/js/log/log"],function(e,t,n){function i(e,t,n){this._context=e,this._parent=t,this._meta=n||{},this.__cache={}}function a(e,t,n){e.helpers||e.partials||e.tags||(e={helpers:e}),i.call(this,e,t,n)}var r=e("can-stache-key"),o=e("can-observation"),s=e("can-view-scope/reference-map"),c=e("can-view-scope/compute_data"),l=e("can-util/js/assign/assign"),u=e("can-util/js/each/each"),d=e("can-namespace"),p=e("can-util/js/dev/dev"),f=e("can-reflect"),h=e("can-util/js/log/log");l(i,{read:r.read,Refs:s,refsScope:function(){return new i(new this.Refs)},keyInfo:function(e){var t={};return t.isDotSlash="./"===e.substr(0,2),t.isThisDot="this."===e.substr(0,5),t.isThisAt="this@"===e.substr(0,5),t.isInCurrentContext=t.isDotSlash||t.isThisDot||t.isThisAt,t.isInParentContext="../"===e.substr(0,3),t.isCurrentContext="."===e||"this"===e,t.isParentContext=".."===e,t.isContextBased=t.isInCurrentContext||t.isInParentContext||t.isCurrentContext||t.isParentContext,t}}),l(i.prototype,{add:function(e,t){return e!==this._context?new this.constructor(e,this,t):this},read:function(e,t){if("%root"===e)return{value:this.getRoot()};if("%scope"===e)return{value:this};var n=i.keyInfo(e);if(n.isContextBased&&this._meta.notContext)return this._parent.read(e,t);var a;if(n.isInCurrentContext)a=!0,e=n.isDotSlash?e.substr(2):e.substr(5);else{if(n.isInParentContext||n.isParentContext){for(var o=this._parent;o._meta.notContext;)o=o._parent;return n.isParentContext?r.read(o._context,[],t):o.read(e.substr(3)||".",t)}if(n.isCurrentContext)return r.read(this._context,[],t)}var s=r.reads(e);return"*"===s[0].key.charAt(0)?this.getRefs()._read(s,t,!0):this._read(s,t,a)},_read:function(e,t,n){for(var i,a,s,c,u,d=this,p=[],f=-1,h=l({foundObservable:function(t,n){a=t,s=e.slice(n)},earlyExit:function(t,n){(n>f||n===f&&"object"==typeof t&&e[n].key in t)&&(u=a,c=s,f=n)}},t),v=o.isRecording();d;){if(null!==(i=d._context)&&("object"==typeof i||"function"==typeof i)){var m=o.trap(),g=r.read(i,e,h),y=m();if(void 0!==g.value)return!y.length&&v?(a=g.parent,s=e.slice(e.length-1)):o.addAll(y),{scope:d,rootObserve:a,value:g.value,reads:s};p.push.apply(p,y)}d=n?null:d._parent}return o.addAll(p),{setRoot:u,reads:c,value:void 0}},get:function(e,t){return t=l({isArgument:!0},t),this.read(e,t).value},peek:o.ignore(function(e,t){return this.get(e,t)}),peak:o.ignore(function(e,t){return p.warn("peak is deprecated, please use peek instead"),this.peek(e,t)}),getScope:function(e){for(var t=this;t;){if(e(t))return t;t=t._parent}},getContext:function(e){var t=this.getScope(e);return t&&t._context},getRefs:function(){var e,t=this.getScope(function(t){return e=t,t._context instanceof i.Refs});return t||(e._parent=i.refsScope(),t=e._parent),t},getRoot:function(){for(var e=this,t=this;e._parent;)t=e,e=e._parent;return e._context instanceof i.Refs&&(e=t),e._context},set:function(e,t,n){n=n||{};var a=i.keyInfo(e);if(a.isCurrentContext)return f.setValue(this._context,t);if(a.isInParentContext||a.isParentContext){for(var o=this._parent;o._meta.notContext;)o=o._parent;return a.isParentContext?f.setValue(o._context,t):o.set(e.substr(3)||".",t,n)}var s,c,l=e.lastIndexOf("."),u=e.lastIndexOf("/");if(u>l?(s=e.substring(0,u),c=e.substring(u+1,e.length)):-1!==l?(s=e.substring(0,l),c=e.substring(l+1,e.length)):(s=".",c=e),"*"===e.charAt(0))r.write(this.getRefs()._context,e,t,n);else{var d=this.read(s,n).value;if(void 0===d)return void p.error("Attempting to set a value at "+e+" where "+s+" is undefined.");r.write(d,c,t,n)}},attr:o.ignore(function(e,t,n){return h.warn("can-view-scope::attr is deprecated, please use peek, get or set"),n=l({isArgument:!0},n),2===arguments.length?this.set(e,t,n):this.get(e,n)}),computeData:function(e,t){return c(this,e,t)},compute:function(e,t){return this.computeData(e,t).compute},cloneFromRef:function(){for(var e,t,n=[],a=this;a;){if((e=a._context)instanceof i.Refs){t=a._parent;break}n.unshift(e),a=a._parent}return t?(u(n,function(e){t=t.add(e)}),t):this}}),(a.prototype=new i).constructor=a,i.Options=a,d.view=d.view||{},n.exports=d.view.Scope=i}),define("can-simple-observable/log",["require","exports","module","can-log/dev/dev","can-reflect"],function(e,t,n){function i(e){return"string"==typeof e?JSON.stringify(e):e}var a=e("can-log/dev/dev"),r=e("can-reflect");n.exports=function(){this._log=function(e,t){a.log(r.getName(this),"\n is  ",i(t),"\n was ",i(e))}}}),define("can-simple-observable",["require","exports","module","can-reflect","can-observation-recorder","can-namespace","can-key-tree","can-queues","can-simple-observable/log"],function(e,t,n){function i(e){this.handlers=new s([Object,Array]),this.value=e}var a=e("can-reflect"),r=e("can-observation-recorder"),o=e("can-namespace"),s=e("can-key-tree"),c=e("can-queues");i.prototype={constructor:i,get:function(){return r.add(this),this.value},set:function(e){var t=this.value;this.value=e,c.enqueueByQueue(this.handlers.getNode([]),this,[e,t],null,[a.getName(this),"changed to",e,"from",t]),"function"==typeof this._log&&this._log(t,e)},on:function(e,t){this.handlers.add([t||"mutate",e])},off:function(e,t){this.handlers.delete([t||"mutate",e])},log:e("can-simple-observable/log")},a.assignSymbols(i.prototype,{"can.getValue":i.prototype.get,"can.setValue":i.prototype.set,"can.onValue":i.prototype.on,"can.offValue":i.prototype.off,"can.isMapLike":!1,"can.valueHasDependencies":function(){return!0},"can.getName":function(){var e=this.value;return e="object"!=typeof e||null===e?JSON.stringify(e):"",a.getName(this.constructor)+"<"+e+">"}}),n.exports=o.SimpleObservable=i}),define("can-simple-observable/settable/settable",["require","exports","module","can-reflect","can-observation-recorder","can-simple-observable","can-observation","can-key-tree","can-queues","can-simple-observable/log"],function(e,t,n){function i(e,t,n){function i(){return e.call(t,this.lastSetValue.get())}this.handlers=new c([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),this.lastSetValue=new o(n),this.handler=this.handler.bind(this),a.assignSymbols(this,{"can.getName":function(){return a.getName(this.constructor)+"<"+a.getName(e)+">"}}),Object.defineProperty(this.handler,"name",{value:a.getName(this)+".handler"}),Object.defineProperty(i,"name",{value:a.getName(e)+"::"+a.getName(this.constructor)}),this.observation=new s(i,this)}var a=e("can-reflect"),r=e("can-observation-recorder"),o=e("can-simple-observable"),s=e("can-observation"),c=e("can-key-tree"),l=e("can-queues"),u=e("can-simple-observable/log"),d=r.ignore(a.getValue.bind(a));(i.prototype={handler:function(e){var t=this.value;this.value=e,"function"==typeof this._log&&this._log(t,e),l.enqueueByQueue(this.handlers.getNode([]),this,[e,t],function(){return{}})},setup:function(){this.bound=!0,a.onValue(this.observation,this.handler,"notify"),this.value=d(this.observation)},teardown:function(){this.bound=!1,a.offValue(this.observation,this.handler,"notify")},set:function(e){e!==this.lastSetValue.get()&&this.lastSetValue.set(e)},get:function(){return r.isRecording()&&(r.add(this),this.bound||s.temporarilyBind(this)),!0===this.bound?this.value:this.observation.get()},on:function(e,t){this.handlers.add([t||"mutate",e])},off:function(e,t){this.handlers.delete([t||"mutate",e])},hasDependencies:function(){return a.valueHasDependencies(this.observation)},getValueDependencies:function(){return a.getValueDependencies(this.observation)},log:u}).constructor=i,a.assignSymbols(i.prototype,{"can.getValue":i.prototype.get,"can.setValue":i.prototype.set,"can.onValue":i.prototype.on,"can.offValue":i.prototype.off,"can.isMapLike":!1,"can.getPriority":function(){return a.getPriority(this.observation)},"can.setPriority":function(e){a.setPriority(this.observation,e)},"can.valueHasDependencies":i.prototype.hasDependencies,"can.getValueDependencies":i.prototype.getValueDependencies}),n.exports=i}),define("can-stache/src/key-observable",["require","exports","module","can-simple-observable/settable/settable","can-stache-key"],function(e,t,n){function i(e,t){t=""+t,this.key=t,this.root=e,a.call(this,function(){return r.get(this,t)},e)}var a=e("can-simple-observable/settable/settable"),r=e("can-stache-key");(i.prototype=Object.create(a.prototype)).set=function(e){r.set(this.root,this.key,e)},n.exports=i}),define("can-stache/src/utils",["require","exports","module","can-view-scope","can-observation","can-stache-key","can-reflect","can-stache/src/key-observable","can-util/js/is-array-like/is-array-like"],function(e,t,n){var i=e("can-view-scope"),a=e("can-observation"),r=e("can-stache-key"),o=e("can-reflect"),s=e("can-stache/src/key-observable"),c=e("can-util/js/is-array-like/is-array-like"),l=i.Options,u=function(){};n.exports={isArrayLike:c,emptyHandler:function(){},jsonParse:function(e){return"'"===e[0]?e.substr(1,e.length-2):"undefined"===e?void 0:JSON.parse(e)},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(e){this.last().add(e)},subSectionDepth:function(){return this.stack.length-1}},convertToScopes:function(e,t,n,i,a,r,o){e.fn=a?this.makeRendererConvertScopes(a,t,n,i,o):u,e.inverse=r?this.makeRendererConvertScopes(r,t,n,i,o):u,e.isSection=!(!a&&!r)},makeRendererConvertScopes:function(e,t,n,r,o){var s=function(n,i,a){return e(n||t,i,a)},c=function(e,a,o){return void 0===e||e instanceof i||(e=t?t.add(e):i.refsScope().add(e||{})),void 0===a||a instanceof l||(a=n.add(a)),s(e,a||n,o||r)};return o?c:a.ignore(c)},getItemsStringContent:function(e,t,n,i){for(var a="",c=r.get(e,"length"),l=o.isObservableLike(e),u=0;u<c;u++){var d=l?new s(e,u):e[u];a+=n.fn(d,i)}return a},getItemsFragContent:function(e,t,n,i){for(var a=[],c=r.get(e,"length"),l=o.isObservableLike(e),u=0;u<c;u++){var d={"%index":u},p=l?new s(e,u):e[u];i&&(d[i]=p),a.push(t.fn(n.add(d,{notContext:!0}).add(p)))}return a},Options:l}}),define("can-attribute-encoder",["require","exports","module","can-namespace","can-log/dev/dev"],function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function a(e,t,n){return t+"-"+n.toLowerCase()}function r(e,t){return 0===e.indexOf(t)}function o(e,t){return e.length-e.indexOf(t)===t.length}var s=e("can-namespace"),c=e("can-log/dev/dev"),l=function(e){var t={};return i(e.split(","),function(e){t[e]=!0}),t}("allowReorder,attributeName,attributeType,autoReverse,baseFrequency,baseProfile,calcMode,clipPathUnits,contentScriptType,contentStyleType,diffuseConstant,edgeMode,externalResourcesRequired,filterRes,filterUnits,glyphRef,gradientTransform,gradientUnits,kernelMatrix,kernelUnitLength,keyPoints,keySplines,keyTimes,lengthAdjust,limitingConeAngle,markerHeight,markerUnits,markerWidth,maskContentUnits,maskUnits,patternContentUnits,patternTransform,patternUnits,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,repeatCount,repeatDur,requiredExtensions,requiredFeatures,specularConstant,specularExponent,spreadMethod,startOffset,stdDeviation,stitchTiles,surfaceScale,systemLanguage,tableValues,textLength,viewBox,viewTarget,xChannelSelector,yChannelSelector"),u={leftParens:/\(/g,rightParens:/\)/g,leftBrace:/\{/g,rightBrace:/\}/g,camelCase:/([a-z])([A-Z])/g,forwardSlash:/\//g,space:/\s/g,uppercase:/[A-Z]/g,uppercaseDelimiterThenChar:/:u:([a-z])/g,caret:/\^/g,dollar:/\$/g,at:/@/g},d={prependUppercase:":u:",replaceSpace:":s:",replaceForwardSlash:":f:",replaceLeftParens:":lp:",replaceRightParens:":rp:",replaceLeftBrace:":lb:",replaceRightBrace:":rb:",replaceCaret:":c:",replaceDollar:":d:",replaceAt:":at:"},p={};if(p.encode=function(e){var t=e;return!l[t]&&t.match(u.camelCase)&&(r(t,"on:")||o(t,":to")||o(t,":from")||o(t,":bind")?t=t.replace(u.uppercase,function(e){return d.prependUppercase+e.toLowerCase()}):(t=t.replace(u.camelCase,a),c.warn("can-attribute-encoder: Found attribute with name: "+e+". Converting to: "+t+"."))),t=t.replace(u.space,d.replaceSpace).replace(u.forwardSlash,d.replaceForwardSlash).replace(u.leftParens,d.replaceLeftParens).replace(u.rightParens,d.replaceRightParens).replace(u.leftBrace,d.replaceLeftBrace).replace(u.rightBrace,d.replaceRightBrace).replace(u.caret,d.replaceCaret).replace(u.dollar,d.replaceDollar).replace(u.at,d.replaceAt)},p.decode=function(e){var t=e;return t=t.replace(d.replaceLeftParens,"(").replace(d.replaceRightParens,")").replace(d.replaceLeftBrace,"{").replace(d.replaceRightBrace,"}").replace(d.replaceForwardSlash,"/").replace(d.replaceSpace," ").replace(d.replaceCaret,"^").replace(d.replaceDollar,"$").replace(d.replaceAt,"@"),!l[t]&&t.match(u.uppercaseDelimiterThenChar)&&(r(t,"on:")||o(t,":to")||o(t,":from")||o(t,":bind"))&&(t=t.replace(u.uppercaseDelimiterThenChar,function(e,t){return t.toUpperCase()})),t},s.encoder)throw new Error("You can't have two versions of can-attribute-encoder, check your dependencies");n.exports=s.encoder=p}),define("can-view-parser",["require","exports","module","can-namespace","can-log/dev/dev","can-attribute-encoder"],function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function a(e){var t={};return i(e.split(","),function(e){t[e]=!0}),t}function r(e,t){for(var n=0,i=e.length;n<i;n++){var a=e[n];t[a.tokenType].apply(t,a.args)}return e}function o(e){return e.split("\n").length-1}var s=e("can-namespace"),c=e("can-log/dev/dev"),l=e("can-attribute-encoder"),u=new RegExp("^<\\/([-:_A-Za-z0-9]+)[^>]*>"),d=new RegExp("\\{\\{(![\\s\\S]*?!|[\\s\\S]*?)\\}\\}\\}?","g"),p=/\s/,f=new RegExp("[A-Za-z0-9]"),h=a("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),v=a("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),m=a("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),g=a("script"),y="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),b={"{":"}","(":")"},w=function(){},k=function(e,t,n){function a(e,n){var i;if(n)for(n=v[n]?n:n.toLowerCase(),i=V.length-1;i>=0&&V[i]!==n;i--);else i=0;if(void 0===e?V.length>0&&(t.filename?c.warn(t.filename+": expected closing tag </"+V[i]+">"):c.warn("expected closing tag </"+V[i]+">")):(i<0||i!==V.length-1)&&(V.length>0?t.filename?c.warn(t.filename+":"+b+": unexpected closing tag "+e+" expected </"+V[V.length-1]+">"):c.warn(b+": unexpected closing tag "+e+" expected </"+V[V.length-1]+">"):t.filename?c.warn(t.filename+":"+b+": unexpected closing tag "+e):c.warn(b+": unexpected closing tag "+e)),i>=0){for(var a=V.length-1;a>=i;a--)t.close&&t.close(V[a],b);V.length=i}}if("object"==typeof e)return r(e,t);var s=[];t=t||{},n&&i(y,function(e){var n=t[e]||w;t[e]=function(){if(!1!==n.apply(this,arguments)){var t=arguments.length;void 0===arguments[t-1]&&(t=arguments.length-1),t=arguments.length,s.push({tokenType:e,args:[].slice.call(arguments,0,t)})}}});var l,p,f,b,x=t.magicMatch||d,L=t.magicStart||"{{",E=function(){O&&(t.chars&&t.chars(O,b),b+=o(O)),O=""},V=[],C=e,O="";for(b=1,V.last=function(){return this[this.length-1]};e;){if(p=!0,V.last()&&g[V.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+V.last()+"[^>]*>"),function(e,n){return n=n.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(n,b),b+=o(n),""}),a("",V.last());else{if(0===e.indexOf("\x3c!--"))(l=e.indexOf("--\x3e"))>=0&&(E(),t.comment&&t.comment(e.substring(4,l),b),b+=o(e.substring(0,l+3)),e=e.substring(l+3),p=!1);else if(0===e.indexOf("</"))(f=e.match(u))&&(E(),f[0].replace(u,a),b+=o(e.substring(0,f[0].length)),e=e.substring(f[0].length),p=!1);else if(0===e.indexOf("<")){var _=k.searchStartTag(e);_&&(E(),function(e,n,i,r){n=v[n]?n:n.toLowerCase(),m[n]&&V.last()===n&&a("",n),r=h[n]||!!r,t.start(n,r,b),r||V.push(n),k.parseAttrs(i,t,b),b+=o(e),t.end(n,r,b)}.apply(null,_.match),e=_.html,p=!1)}else 0===e.indexOf(L)&&(f=e.match(x))&&(E(),f[0].replace(x,function(e,n){t.special&&t.special(n,b)}),b+=o(e.substring(0,f[0].length)),e=e.substring(f[0].length));if(p){0===(l=j(e,L))&&e===C&&(O+=e.charAt(0),e=e.substr(1),l=j(e,L));var S=l<0?e:e.substring(0,l);e=l<0?"":e.substring(l),S&&(O+=S)}}if(e===C)throw new Error("Parse Error: "+e);C=e}return E(),a(),t.done(b),s},x=function(e,t,n,i,a){var r=i.substring("number"==typeof e.nameStart?e.nameStart:t,t),o=l.encode(r);e.attrStart=o,n.attrStart(e.attrStart,a),e.inName=!1},L=function(e,t,n,i,a){if(void 0!==e.valueStart&&e.valueStart<t){var r,o,s=i.substring(e.valueStart,t);o=(r=(r=i.substring(e.valueStart-1,t+1)).trim()).charAt(r.length-1),e.inQuote!==o&&(n.filename?c.warn(n.filename+":"+a+": End quote is missing for "+s):c.warn(a+": End quote is missing for "+s)),n.attrValue(s,a)}n.attrEnd(e.attrStart,a),e.attrStart=void 0,e.valueStart=void 0,e.inValue=!1,e.inName=!1,e.lookingForEq=!1,e.inQuote=!1,e.lookingForName=!0},j=function(e,t){for(var n=t.length,i=0,a=e.length;i<a;i++)if("<"===e[i]||e.substr(i,n)===t)return i;return-1};k.parseAttrs=function(e,t,n){if(e){for(var i,a=t.magicMatch||d,r=t.magicStart||"{{",o=0,s={inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};o<e.length;){i=o;var c=e.charAt(o);if(o++,r===e.substr(i,r.length)){s.inValue&&i>s.valueStart?t.attrValue(e.substring(s.valueStart,i),n):s.inName&&s.nameStart<i?(x(s,i,t,e,n),L(s,i,t,e,n)):s.lookingForValue?s.inValue=!0:s.lookingForEq&&s.attrStart&&L(s,i,t,e,n),a.lastIndex=i;var l=a.exec(e);l&&(t.special(l[1],n),o=i+l[0].length,s.inValue&&(s.valueStart=i+l[0].length))}else if(s.inValue)s.inQuote?c===s.inQuote&&L(s,i,t,e,n):p.test(c)&&L(s,i,t,e,n);else if("="===c&&(s.lookingForEq||s.lookingForName||s.inName))s.attrStart||x(s,i,t,e,n),s.lookingForValue=!0,s.lookingForEq=!1,s.lookingForName=!1;else if(s.inName){var u,f=e[s.nameStart];b[f]===c?(u=b["{"===f?"(":"{"],e[i+1]===u?(x(s,i+2,t,e,n),o++):x(s,i+1,t,e,n),s.lookingForEq=!0):p.test(c)&&"{"!==f&&"("!==f&&(x(s,i,t,e,n),s.lookingForEq=!0)}else s.lookingForName?p.test(c)||(s.attrStart&&L(s,i,t,e,n),s.nameStart=i,s.inName=!0):s.lookingForValue&&(p.test(c)?o===e.length&&L(s,i,t,e,n):(s.lookingForValue=!1,s.inValue=!0,"'"===c||'"'===c?(s.inQuote=c,s.valueStart=i+1):s.valueStart=i))}s.inName?(x(s,i+1,t,e,n),L(s,i+1,t,e,n)):(s.lookingForEq||s.lookingForValue||s.inValue)&&L(s,i+1,t,e,n),a.lastIndex=0}},k.searchStartTag=function(e){var t=e.indexOf(">");if(-1===t||!f.test(e[1]))return null;var n,i,a,r="",o="",s=e.substring(0,t+1),c="/"===s[s.length-2],l=s.search(p);return c?(o="/",i=s.substring(1,s.length-2).trim()):i=s.substring(1,s.length-1).trim(),-1===l?n=i:(l--,n=i.substring(0,l),r=i.substring(l)),a=[s,n,r,o],{match:a,html:e.substring(s.length)}},n.exports=s.HTMLParser=k}),define("can-util/js/set-immediate/set-immediate",["require","exports","module","can-globals/global/global"],function(e,t,n){!function(e,t,n,i){"use strict";var e=t("can-globals/global/global")();i.exports=e.setImmediate||function(e){return setTimeout(e,0)}}(function(){return this}(),e,0,n)}),define("can-util/dom/child-nodes/child-nodes",function(e,t,n){"use strict";n.exports=function(e){var t=e.childNodes;if("length"in t)return t;for(var n=e.firstChild,i=[];n;)i.push(n),n=n.nextSibling;return i}}),define("can-util/dom/contains/contains",function(e,t,n){"use strict";n.exports=function(e){return this.contains(e)}}),define("can-util/dom/mutate/mutate",["require","exports","module","can-util/js/make-array/make-array","can-util/js/set-immediate/set-immediate","can-cid","can-globals/mutation-observer/mutation-observer","can-util/dom/child-nodes/child-nodes","can-util/dom/contains/contains","can-util/dom/dispatch/dispatch","can-globals/document/document","can-util/dom/data/data"],function(e,t,n){!function(e,t,n,i){"use strict";var a,r=t("can-util/js/make-array/make-array"),o=t("can-util/js/set-immediate/set-immediate"),s=t("can-cid"),c=t("can-globals/mutation-observer/mutation-observer"),l=t("can-util/dom/child-nodes/child-nodes"),u=t("can-util/dom/contains/contains"),d=t("can-util/dom/dispatch/dispatch"),p=t("can-globals/document/document"),f=t("can-util/dom/data/data"),h={inserted:function(e,t){return u.call(e,t)},removed:function(e,t){return!u.call(e,t)}},v=function(e,t,n,i,a){if(e.length)for(var o,c,l,u=0;void 0!==(l=e[u]);u++)if(c=s(l),l.getElementsByTagName&&n(t,l)&&!a[c]){a[c]=!0,o=r(l.getElementsByTagName("*")),d.call(l,i,[],!1),"removed"===i&&f.delete.call(l);for(var p,h=0;void 0!==(p=o[h]);h++)a[c=s(p)]||(d.call(p,i,[],!1),"removed"===i&&f.delete.call(p),a[c]=!0)}},m=function(){var e=a;a=null;var t=e[0][1][0],n=p()||t.ownerDocument||t,i=n.contains?n:n.documentElement,r={inserted:{},removed:{}};e.forEach(function(e){v(e[1],i,h[e[0]],e[0],r[e[0]])})},g=function(e,t){if(!c()&&e.length){var n=e[0],i=p()||n.ownerDocument||n,r=i.contains?i:i.documentElement;h.inserted(r,n)&&(a||(a=[],o(m)),a.push([t,e]))}};i.exports={appendChild:function(e){if(c())this.appendChild(e);else{var t;t=11===e.nodeType?r(l(e)):[e],this.appendChild(e),g(t,"inserted")}},insertBefore:function(e,t,n){if(c())this.insertBefore(e,t);else{var i;i=11===e.nodeType?r(l(e)):[e],this.insertBefore(e,t),g(i,"inserted")}},removeChild:function(e){c()?this.removeChild(e):(g([e],"removed"),this.removeChild(e))},replaceChild:function(e,t){if(c())this.replaceChild(e,t);else{var n;n=11===e.nodeType?r(l(e)):[e],g([t],"removed"),this.replaceChild(e,t),g(n,"inserted")}},inserted:function(e){g(e,"inserted")},removed:function(e){g(e,"removed")}}}(0,e,0,n)}),define("can-cid/map/map",["require","exports","module","can-cid","can-cid/helpers"],function(e,t,n){"use strict";var i,a=e("can-cid").get,r=e("can-cid/helpers");"undefined"!=typeof Map?i=Map:((i=function(){this.values={}}).prototype.set=function(e,t){this.values[a(e)]={key:e,value:t}},i.prototype.delete=function(e){var t=a(e)in this.values;return t&&delete this.values[a(e)],t},i.prototype.forEach=function(e,t){r.each(this.values,function(n){return e.call(t||this,n.value,n.key,this)},this)},i.prototype.has=function(e){return a(e)in this.values},i.prototype.get=function(e){var t=this.values[a(e)];return t&&t.value},i.prototype.clear=function(){return this.values={}},Object.defineProperty(i.prototype,"size",{get:function(){var e=0;return r.each(this.values,function(){e++}),e}})),n.exports=i}),define("can-util/js/cid-map/cid-map",["require","exports","module","can-cid/map/map"],function(e,t,n){!function(e,t,n,i){"use strict";i.exports=t("can-cid/map/map")}(0,e,0,n)}),define("can-view-nodelist",["require","exports","module","can-util/js/make-array/make-array","can-util/js/each/each","can-namespace","can-util/dom/mutate/mutate","can-util/js/cid-map/cid-map"],function(e,t,n){var i=e("can-util/js/make-array/make-array"),a=e("can-util/js/each/each"),r=e("can-namespace"),o=e("can-util/dom/mutate/mutate"),s=e("can-util/js/cid-map/cid-map"),c=new s,l=[].splice,u=[].push,d=function(e){for(var t=0,n=0,i=e.length;n<i;n++){var a=e[n];a.nodeType?t++:t+=d(a)}return t},p=function(e){for(var t=new s,n=0,i=e.length;n<i;n++){var a=h.first(e[n]);t.set(a,e[n])}return t},f=function(e,t){t.forEach(function(t){e.newDeepChildren.push(t)})},h={update:function(e,t){var n=h.unregisterChildren(e);t=i(t);var a=e.length;return l.apply(e,[0,a].concat(t)),e.replacements?(h.nestReplacements(e),e.deepChildren=e.newDeepChildren,e.newDeepChildren=[]):h.nestList(e),n},nestReplacements:function(e){for(var t=0,n=p(e.replacements),i=e.replacements.length;t<e.length&&i;){var a=e[t],r=n.get(a);r&&(n.delete(a),e.splice(t,d(r),r),i--),t++}i&&f(e,n),e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var n=e[t],i=c.get(n);i?i!==e&&e.splice(t,d(i),i):c.set(n,e),t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:h.last(t)},first:function(e){var t=e[0];return t.nodeType?t:h.first(t)},flatten:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.nodeType?t.push(i):t.push.apply(t,h.flatten(i))}return t},register:function(e,t,n,i){return e.unregistered=t,e.parentList=n,e.nesting=n&&void 0!==n.nesting?n.nesting+1:0,n?(e.deepChildren=[],e.newDeepChildren=[],e.replacements=[],!0!==n&&(i?n.replacements.push(e):n.newDeepChildren.push(e))):h.nestList(e),e},unregisterChildren:function(e){var t=[];return a(e,function(n){n.nodeType?(e.replacements||c.delete(n),t.push(n)):u.apply(t,h.unregister(n,!0))}),a(e.deepChildren,function(e){h.unregister(e,!0)}),t},unregister:function(e,t){var n=h.unregisterChildren(e,!0);if(e.unregistered){var i=e.unregistered;if(e.replacements=e.unregistered=null,!t){var a=e.parentList&&e.parentList.deepChildren;if(a){var r=a.indexOf(e);-1!==r&&a.splice(r,1)}}i()}return n},after:function(e,t){var n=e[e.length-1];n.nextSibling?o.insertBefore.call(n.parentNode,t,n.nextSibling):o.appendChild.call(n.parentNode,t)},replace:function(e,t){var n,i=e[0].parentNode;"SELECT"===i.nodeName.toUpperCase()&&i.selectedIndex>=0&&(n=i.value),1===e.length?o.replaceChild.call(i,t,e[0]):(h.after(e,t),h.remove(e)),void 0!==n&&(i.value=n)},remove:function(e){var t=e[0]&&e[0].parentNode;a(e,function(e){o.removeChild.call(t,e)})},nodeMap:c};n.exports=r.nodeLists=h}),define("can-util/dom/fragment/fragment",["require","exports","module","can-globals/document/document","can-util/dom/child-nodes/child-nodes"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-globals/document/document"),r=t("can-util/dom/child-nodes/child-nodes"),o=/^\s*<(\w+)[^>]*>/,s={}.toString,c=function(e,t,n){void 0===t&&(t=o.test(e)&&RegExp.$1),e&&"[object Function]"===s.call(e.replace)&&(e=e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var i=n.createElement("div"),a=n.createElement("div");"tbody"===t||"tfoot"===t||"thead"===t||"colgroup"===t?(a.innerHTML="<table>"+e+"</table>",i=3===a.firstChild.nodeType?a.lastChild:a.firstChild):"col"===t?(a.innerHTML="<table><colgroup>"+e+"</colgroup></table>",i=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild):"tr"===t?(a.innerHTML="<table><tbody>"+e+"</tbody></table>",i=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild):"td"===t||"th"===t?(a.innerHTML="<table><tbody><tr>"+e+"</tr></tbody></table>",i=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild.firstChild):"option"===t?(a.innerHTML="<select>"+e+"</select>",i=3===a.firstChild.nodeType?a.lastChild:a.firstChild):i.innerHTML=""+e;var c={},l=r(i);c.length=l.length;for(var u=0;u<l.length;u++)c[u]=l[u];return[].slice.call(c)};i.exports=function(e,t){if(e&&11===e.nodeType)return e;t?t.length&&(t=t[0]):t=a();for(var n=c(e,void 0,t),i=(t||document).createDocumentFragment(),r=0,o=n.length;r<o;r++)i.appendChild(n[r]);return i}}(0,e,0,n)}),define("can-util/dom/frag/frag",["require","exports","module","can-globals/document/document","can-util/dom/fragment/fragment","can-util/js/each/each","can-util/dom/child-nodes/child-nodes"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-globals/document/document"),r=t("can-util/dom/fragment/fragment"),o=t("can-util/js/each/each"),s=t("can-util/dom/child-nodes/child-nodes"),c=function(e,t){var n,i=t||a();return e&&"string"!=typeof e?11===e.nodeType?e:"number"==typeof e.nodeType?((n=i.createDocumentFragment()).appendChild(e),n):"number"==typeof e.length?(n=i.createDocumentFragment(),o(e,function(e){n.appendChild(c(e))}),s(n).length||n.appendChild(i.createTextNode("")),n):(n=r(""+e,i),s(n).length||n.appendChild(i.createTextNode("")),n):((n=r(null==e?"":""+e,i)).childNodes.length||n.appendChild(i.createTextNode("")),n)};i.exports=c}(0,e,0,n)}),define("can-util/dom/is-of-global-document/is-of-global-document",["require","exports","module","can-globals/document/document"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-globals/document/document");i.exports=function(e){return(e.ownerDocument||e)===a()}}(0,e,0,n)}),define("can-util/dom/events/make-mutation-event/make-mutation-event",["require","exports","module","can-util/dom/events/events","can-util/dom/data/data","can-globals/mutation-observer/mutation-observer","can-util/dom/dispatch/dispatch","can-util/dom/mutation-observer/document/document","can-globals/document/document","can-cid/map/map","can-util/js/string/string","can-util/dom/is-of-global-document/is-of-global-document"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-util/dom/events/events"),r=t("can-util/dom/data/data"),o=t("can-globals/mutation-observer/mutation-observer"),s=t("can-util/dom/dispatch/dispatch"),c=t("can-util/dom/mutation-observer/document/document"),l=t("can-globals/document/document"),u=t("can-cid/map/map"),d=t("can-util/js/string/string");t("can-util/dom/is-of-global-document/is-of-global-document"),i.exports=function(e,t){var n=a.addEventListener,i=a.removeEventListener;a.addEventListener=function(i){if(i===e&&o()){var a=l().documentElement,p=r.get.call(a,e+"Data");if(p||(p={handler:function(t){p.nodeIdsRespondingToInsert.has(t)&&(s.call(t,e,[],!1),p.nodeIdsRespondingToInsert.delete(t))},nodeIdsRespondingToInsert:new u},c["on"+d.capitalize(t)](p.handler),r.set.call(a,e+"Data",p)),11!==this.nodeType){var f=p.nodeIdsRespondingToInsert.get(this)||0;p.nodeIdsRespondingToInsert.set(this,f+1)}}return n.apply(this,arguments)},a.removeEventListener=function(n){if(n===e&&o()){var a=l().documentElement,s=r.get.call(a,e+"Data");if(s){var u=s.nodeIdsRespondingToInsert.get(this)-1;u?s.nodeIdsRespondingToInsert.set(this,u):s.nodeIdsRespondingToInsert.delete(this),s.nodeIdsRespondingToInsert.size||(c["off"+d.capitalize(t)](s.handler),r.clean.call(a,e+"Data"))}}return i.apply(this,arguments)}}}(0,e,0,n)}),define("can-util/dom/events/removed/removed",["require","exports","module","can-util/dom/events/make-mutation-event/make-mutation-event"],function(e,t,n){"use strict";e("can-util/dom/events/make-mutation-event/make-mutation-event")("removed","removedNodes")}),define("can-view-live/lib/core",["require","exports","module","can-view-parser","can-util/dom/events/events","can-view-nodelist","can-util/dom/frag/frag","can-util/dom/child-nodes/child-nodes","can-reflect","can-util/dom/events/removed/removed","can-symbol"],function(e,t,n){var i=e("can-view-parser"),a=e("can-util/dom/events/events"),r=e("can-view-nodelist"),o=e("can-util/dom/frag/frag"),s=e("can-util/dom/child-nodes/child-nodes"),c=e("can-reflect");e("can-util/dom/events/removed/removed");var l=new WeakMap,u={setup:function(e,t,n){var i,r=!1,o=function(){return r||(r=!0,n(i),a.removeEventListener.call(e,"removed",o)),!0};return i={teardownCheck:function(e){return!e&&o()}},a.addEventListener.call(e,"removed",o),t(i),i},listen:function(e,t,n){return u.setup(e,function(){c.onValue(t,n,"notify"),u.addElementDependency(e,t)},function(i){c.offValue(t,n,"notify"),u.deleteElementDependency(e,t),i.nodeList&&r.unregister(i.nodeList)})},getAttributeParts:function(e){var t,n={};return i.parseAttrs(e,{attrStart:function(e){n[e]="",t=e},attrValue:function(e){n[t]+=e},attrEnd:function(){}}),n},isNode:function(e){return e&&e.nodeType},addTextNodeIfNoChildren:function(e){e.firstChild||e.appendChild(e.ownerDocument.createTextNode(""))},replace:function(e,t,n){var i=e.slice(0),a=o(t);return r.register(e,n),r.update(e,s(a)),r.replace(i,a),e},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},makeString:function(e){return null==e?"":""+e},addElementDependency:function(e,t){var n=l.get(e);n?n.add(t):l.set(e,new Set([t]))},deleteElementDependency:function(e,t){var n=l.get(e);n&&(n.delete(t),n.size||l.delete(e))}},d=e("can-symbol").for("can.getValueDependencies");Element.prototype[d]=function(){var e=this;if(l.has(e))return{valueDependencies:l.get(e)}},n.exports=u}),define("can-types",["require","exports","module","can-namespace","can-reflect","can-symbol","can-log/dev/dev"],function(e,t,n){var i=e("can-namespace"),a=e("can-reflect"),r=e("can-symbol"),o=e("can-log/dev/dev"),s={isMapLike:function(e){return o.warn("can-types.isMapLike(obj) is deprecated, please use `canReflect.isObservableLike(obj) && canReflect.isMapLike(obj)` instead."),a.isObservableLike(e)&&a.isMapLike(e)},isListLike:function(e){return o.warn("can-types.isListLike(obj) is deprecated, please use `canReflect.isObservableLike(obj) && canReflect.isListLike(obj)` instead."),a.isObservableLike(e)&&a.isListLike(e)},isPromise:function(e){return o.warn("can-types.isPromise is deprecated, please use canReflect.isPromise instead."),a.isPromise(e)},isConstructor:function(e){return o.warn("can-types.isConstructor is deprecated, please use canReflect.isConstructorLike instead."),a.isConstructorLike(e)},isCallableForValue:function(e){return o.warn("can-types.isCallableForValue(obj) is deprecated, please use `canReflect.isFunctionLike(obj) && !canReflect.isConstructorLike(obj)` instead."),e&&a.isFunctionLike(e)&&!a.isConstructorLike(e)},isCompute:function(e){return o.warn("can-types.isCompute is deprecated."),e&&e.isComputed},get iterator(){return o.warn('can-types.iterator is deprecated, use `canSymbol.iterator || canSymbol.for("iterator")` instead.'),r.iterator||r.for("iterator")},DefaultMap:null,DefaultList:null,queueTask:function(e){var t=e[2]||[];e[0].apply(e[1],t)},wrapElement:function(e){return e},unwrapElement:function(e){return e}};if(i.types)throw new Error("You can't have two versions of can-types, check your dependencies");n.exports=i.types=s}),define("can-util/js/diff/diff",function(e,t,n){"use strict";function i(e,t,n,i,r){for(var o=n.length-1,s=i.length-1;o>e&&s>t;){if(!r(n[o],i[s]))return[{index:t,deleteCount:o-e+1,insert:a.call(i,t,s+1)}];o--,s--}return[{index:t,deleteCount:o-e+1,insert:a.call(i,t,s+1)}]}var a=[].slice,r=function(e,t){return e===t};n.exports=function(e,t,n){n=n||r;for(var o=0,s=0,c=e.length,l=t.length,u=[];o<c&&s<l;){var d=e[o],p=t[s];if(n(d,p))o++,s++;else if(s+1<l&&n(d,t[s+1]))u.push({index:s,deleteCount:0,insert:[t[s]]}),o++,s+=2;else{if(!(o+1<c&&n(e[o+1],p)))return u.push.apply(u,i(o,s,e,t,n)),u;u.push({index:s,deleteCount:1,insert:[]}),o+=2,s++}}return s===l&&o===c?u:(u.push({index:s,deleteCount:c-o,insert:a.call(t,s)}),u)}}),define("can-util/dom/events/attributes/attributes",["require","exports","module","can-util/dom/events/events","can-util/dom/is-of-global-document/is-of-global-document","can-util/dom/data/data","can-globals/mutation-observer/mutation-observer","can-assign","can-util/dom/dispatch/dispatch"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-util/dom/events/events"),r=t("can-util/dom/is-of-global-document/is-of-global-document"),o=t("can-util/dom/data/data"),s=t("can-globals/mutation-observer/mutation-observer"),c=t("can-assign"),l=t("can-util/dom/dispatch/dispatch"),u=a.addEventListener,d=a.removeEventListener;a.addEventListener=function(e){if("attributes"===e){var t=s();if(r(this)&&t){if(!o.get.call(this,"canAttributesObserver")){var n=this,i=new t(function(e){e.forEach(function(e){var t=c({},e);l.call(n,t,[],!1)})});i.observe(this,{attributes:!0,attributeOldValue:!0}),o.set.call(this,"canAttributesObserver",i)}}else o.set.call(this,"canHasAttributesBindings",!0)}return u.apply(this,arguments)},a.removeEventListener=function(e){if("attributes"===e){var t,n=s();r(this)&&n?(t=o.get.call(this,"canAttributesObserver"))&&t.disconnect&&(t.disconnect(),o.clean.call(this,"canAttributesObserver")):o.clean.call(this,"canHasAttributesBindings")}return d.apply(this,arguments)}}(0,e)}),define("can-util/dom/events/inserted/inserted",["require","exports","module","can-util/dom/events/make-mutation-event/make-mutation-event"],function(e,t,n){"use strict";e("can-util/dom/events/make-mutation-event/make-mutation-event")("inserted","addedNodes")}),define("can-util/dom/attr/attr",["require","exports","module","can-util/js/set-immediate/set-immediate","can-globals/document/document","can-globals/global/global","can-util/dom/is-of-global-document/is-of-global-document","can-util/dom/data/data","can-util/dom/contains/contains","can-util/dom/events/events","can-util/dom/dispatch/dispatch","can-globals/mutation-observer/mutation-observer","can-util/js/each/each","can-types","can-util/js/diff/diff","can-util/dom/events/attributes/attributes","can-util/dom/events/inserted/inserted"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-util/js/set-immediate/set-immediate"),r=t("can-globals/document/document"),e=t("can-globals/global/global")(),o=t("can-util/dom/is-of-global-document/is-of-global-document"),s=t("can-util/dom/data/data"),c=t("can-util/dom/contains/contains"),l=t("can-util/dom/events/events"),u=t("can-util/dom/dispatch/dispatch"),d=t("can-globals/mutation-observer/mutation-observer"),p=t("can-util/js/each/each"),f=t("can-types"),h=t("can-util/js/diff/diff");t("can-util/dom/events/attributes/attributes"),t("can-util/dom/events/inserted/inserted");var v={xlink:"http://www.w3.org/1999/xlink"},m={INPUT:!0,TEXTAREA:!0,SELECT:!0},g=function(e){return null==e?"":""+e},y=function(e){return"http://www.w3.org/2000/svg"===e.namespaceURI},b=function(){return!0},w=function(e){return e&&e.test||b},k=function(e,t){return t=t||{},t.get=function(){return this[e]},t.set=function(t){return this[e]!==t&&(this[e]=t),t},t},x=function(e){return{isBoolean:!0,set:function(t){e in this?this[e]=!1!==t:this.setAttribute(e,"")},remove:function(){this[e]=!1}}},L=function(e,t){if(!s.get.call(e,"attrMO")){var n=function(){t.call(e)},i=d();if(i){var a=new i(n);a.observe(e,{childList:!0,subtree:!0}),s.set.call(e,"attrMO",a)}else s.set.call(e,"attrMO",!0),s.set.call(e,"canBindingCallback",{onMutation:n})}},j=function(e,t){for(var n=e.firstChild;n;){if("OPTION"===n.nodeName&&t===n.value)return n;if("OPTGROUP"===n.nodeName){var i=j(n,t);if(i)return i}n=n.nextSibling}},E=function(e,t){var n;null!=t&&(n=j(e,t)),n?n.selected=!0:e.selectedIndex=-1},V=function(e,t){for(var n=e.firstChild;n;)"OPTION"===n.nodeName&&t(n),"OPTGROUP"===n.nodeName&&V(n,t),n=n.nextSibling},C=function(e){var t=[];return V(e,function(e){e.selected&&t.push(e.value)}),t},O=function(e,t){V(e,function(e){e.selected=-1!==t.indexOf(e.value)})},_=function(e,t){var n=s.get.call(e,"attrSetChildOptions");return n?Function.prototype:(n=function(){E(e,e.value)},s.set.call(e,"attrSetChildOptions",n),t.call(e,"change",n),function(t){s.clean.call(e,"attrSetChildOptions"),t.call(e,"change",n)})},S={special:{checked:{get:function(){return this.checked},set:function(e){var t=!!e||""===e||0===arguments.length;return this.checked=t,t&&"radio"===this.type&&(this.defaultChecked=!0),e},remove:function(){this.checked=!1},test:function(){return"INPUT"===this.nodeName}},class:{get:function(){return y(this)?this.getAttribute("class"):this.className},set:function(e){return e=e||"",y(this)?this.setAttribute("class",""+e):this.className=e,e}},disabled:x("disabled"),focused:{get:function(){return this===document.activeElement},set:function(e){function t(){e?a.focus():a.blur()}var n=S.get(this,"focused"),i=this.ownerDocument.documentElement,a=this;if(n!==e)if(c.call(i,a))f.queueTask([t,this,[]]);else{var r=function(){l.removeEventListener.call(a,"inserted",r),t()};l.addEventListener.call(a,"inserted",r)}return!!e},addEventListener:function(e,t,n){return n.call(this,"focus",t),n.call(this,"blur",t),function(e){e.call(this,"focus",t),e.call(this,"blur",t)}},test:function(){return"INPUT"===this.nodeName}},for:k("htmlFor"),innertext:k("innerText"),innerhtml:k("innerHTML"),innerHTML:k("innerHTML",{addEventListener:function(e,t,n){var i=[],a=this;return p(["change","blur"],function(e){var n=function(){t.apply(this,arguments)};l.addEventListener.call(a,e,n),i.push([e,n])}),function(e){p(i,function(t){e.call(a,t[0],t[1])})}}}),required:x("required"),readonly:x("readOnly"),selected:{get:function(){return this.selected},set:function(e){return e=!!e,s.set.call(this,"lastSetValue",e),this.selected=e},addEventListener:function(e,t,n){var i=this,a=this.parentNode,r=i.selected,o=function(t){var n=i.selected;n!==(r=s.get.call(i,"lastSetValue")||r)&&(r=n,u.call(i,e))},c=_(a,n);return l.addEventListener.call(a,"change",o),n.call(i,e,t),function(n){c(n),l.removeEventListener.call(a,"change",o),n.call(i,e,t)}},test:function(){return"OPTION"===this.nodeName&&this.parentNode&&"SELECT"===this.parentNode.nodeName}},src:{set:function(e){return null==e||""===e?(this.removeAttribute("src"),null):(this.setAttribute("src",e),e)}},style:{set:function(){var t=e.document&&r().createElement("div");return t&&t.style&&"cssText"in t.style?function(e){return this.style.cssText=e||""}:function(e){return this.setAttribute("style",e)}}()},textcontent:k("textContent"),value:{get:function(){var e=this.value;return"SELECT"===this.nodeName&&"selectedIndex"in this&&-1===this.selectedIndex&&(e=void 0),e},set:function(e){var t=this.nodeName.toLowerCase();if("input"===t&&(e=g(e)),this.value===e&&"option"!==t||(this.value=e),S.defaultValue[t]&&(this.defaultValue=e),"select"===t){s.set.call(this,"attrValueLastVal",e),E(this,null===e?e:this.value);var n=this.ownerDocument.documentElement;if(!c.call(n,this)){var i=this,a=function(){l.removeEventListener.call(i,"inserted",a),E(i,null===e?e:i.value)};l.addEventListener.call(this,"inserted",a)}L(this,function(){var e=s.get.call(this,"attrValueLastVal");S.set(this,"value",e),u.call(this,"change")})}return e},test:function(){return m[this.nodeName]}},values:{get:function(){return C(this)},set:function(e){return e=e||[],O(this,e),s.set.call(this,"stickyValues",S.get(this,"values")),L(this,function(){var e=s.get.call(this,"stickyValues");S.set(this,"values",e);var t=s.get.call(this,"stickyValues");h(e.slice().sort(),t.slice().sort()).length&&u.call(this,"values")}),e},addEventListener:function(e,t,n){var i=function(){u.call(this,"values")};return l.addEventListener.call(this,"change",i),n.call(this,e,t),function(n){l.removeEventListener.call(this,"change",i),n.call(this,e,t)}}}},defaultValue:{input:!0,textarea:!0},setAttrOrProp:function(e,t,n){t=t.toLowerCase();var i=S.special[t];i&&i.isBoolean&&!n?this.remove(e,t):this.set(e,t,n)},set:function(e,t,n){var i=o(e)&&d();t=t.toLowerCase();var a;i||(a=S.get(e,t));var r,s=S.special[t],c=s&&s.set,l=w(s);"function"==typeof c&&l.call(e)?r=2===arguments.length?c.call(e):c.call(e,n):S.setAttribute(e,t,n),i||r===a||S.trigger(e,t,a)},setSelectValue:function(e,t){S.set(e,"value",t)},setAttribute:function(){var e=r();if(e&&document.createAttribute)try{e.createAttribute("{}")}catch(e){var t={},n=document.createElement("div");return function(e,i,a){var r,o,s,c=i.charAt(0);"{"!==c&&"("!==c&&"*"!==c||!e.setAttributeNode?1!==(s=i.split(":")).length&&v[s[0]]?e.setAttributeNS(v[s[0]],i,a):e.setAttribute(i,a):((r=t[i])||(n.innerHTML="<div "+i+'=""></div>',r=t[i]=n.childNodes[0].attributes[0]),(o=r.cloneNode()).value=a,e.setAttributeNode(o))}}return function(e,t,n){e.setAttribute(t,n)}}(),trigger:function(e,t,n){if(s.get.call(e,"canHasAttributesBindings"))return t=t.toLowerCase(),a(function(){u.call(e,{type:"attributes",attributeName:t,target:e,oldValue:n,bubbles:!1},[])})},get:function(e,t){t=t.toLowerCase();var n=S.special[t],i=n&&n.get,a=w(n);return"function"==typeof i&&a.call(e)?i.call(e):e.getAttribute(t)},remove:function(e,t){t=t.toLowerCase();var n;d()||(n=S.get(e,t));var i=S.special[t],a=i&&i.set,r=i&&i.remove,o=w(i);"function"==typeof r&&o.call(e)?r.call(e):"function"==typeof a&&o.call(e)?a.call(e,void 0):e.removeAttribute(t),d()||null==n||S.trigger(e,t,n)},has:function(){var e=r()&&document.createElement("div");return e&&e.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){return null!==e.getAttribute(t)}}()},N=l.addEventListener;l.addEventListener=function(e,t){var n=S.special[e];if(n&&n.addEventListener){var i=n.addEventListener.call(this,e,t,N),a=s.get.call(this,"attrTeardowns");return a||s.set.call(this,"attrTeardowns",a={}),a[e]||(a[e]=[]),void a[e].push({teardown:i,handler:t})}return N.apply(this,arguments)};var D=l.removeEventListener;l.removeEventListener=function(e,t){var n=S.special[e];{if(!n||!n.addEventListener)return D.apply(this,arguments);var i=s.get.call(this,"attrTeardowns");if(i&&i[e]){for(var a=i[e],r=0,o=a.length;r<o;r++)if(a[r].handler===t){a[r].teardown.call(this,D),a.splice(r,1);break}0===a.length&&delete i[e]}}},i.exports=S}(function(){return this}(),e,0,n)}),define("can-view-live/lib/attr",["require","exports","module","can-util/dom/attr/attr","can-view-live/lib/core","can-reflect"],function(e,t,n){var i=e("can-util/dom/attr/attr"),a=e("can-view-live/lib/core"),r=e("can-reflect");a.attr=function(e,t,n){function o(n){i.set(e,t,n)}Object.defineProperty(o,"name",{value:"live.attr update::"+r.getName(n)}),a.listen(e,n,o),o(r.getValue(n))}}),define("can-util/js/global/global",["require","exports","module","can-globals/global/global"],function(e,t,n){!function(e,t,n,i){"use strict";i.exports=t("can-globals/global/global")}(0,e,0,n)}),define("can-view-callbacks",["require","exports","module","can-observation-recorder","can-util/js/dev/dev","can-util/js/global/global","can-util/dom/mutate/mutate","can-namespace"],function(e,t,n){!function(e,t,n,i){var a=t("can-observation-recorder"),r=t("can-util/js/dev/dev"),o=t("can-util/js/global/global"),s=t("can-util/dom/mutate/mutate"),c=t("can-namespace"),l={},u={},d=[],p=/[-\:]/,f=function(){},h={},v={_tags:h,_attributes:u,_regExpAttributes:d,defaultCallback:f,tag:function(e,t){if(!t){var n;return null===t?delete h[e.toLowerCase()]:n=h[e.toLowerCase()],!n&&p.test(e)&&(n=f),n}void 0!==h[e.toLowerCase()]&&r.warn("Custom tag: "+e.toLowerCase()+" is already defined"),p.test(e)||"content"===e||r.warn("Custom tag: "+e.toLowerCase()+" hyphen missed"),o().html5&&(o().html5.elements+=" "+e,o().html5.shivDocument()),h[e.toLowerCase()]=t},attr:function(e,t){if(!t){var n=u[e];if(!n)for(var i=0,a=d.length;i<a;i++){var o=d[i];if(o.match.test(e))return o.handler}return l[e]=!0,n}"string"==typeof e?(u[e]=t,l[e]&&r.warn("can-view-callbacks: "+e+" custom attribute behavior requested before it was defined.  Make sure "+e+" is defined before it is needed.")):(d.push({match:e,handler:t}),Object.keys(l).forEach(function(t){e.test(t)&&r.warn("can-view-callbacks: "+t+" custom attribute behavior requested before it was defined.  Make sure "+e+" is defined before it is needed.")}))},tagHandler:function(e,t,n){var i,o=n.options.get("tags."+t,{proxyMethods:!1})||h[t],c=n.scope;if(i=o?a.ignore(o)(e,n):c,o||r.warn("can-view-callbacks: No custom element found for "+t),i&&n.subtemplate){c!==i&&(c=c.add(i));var l=n.subtemplate(c,n.options),u="string"==typeof l?can.view.frag(l):l;s.appendChild.call(e,u)}}};if(c.view=c.view||{},c.view.callbacks)throw new Error("You can't have two versions of can-view-callbacks, check your dependencies");i.exports=c.view.callbacks=v}(0,e,0,n)}),define("can-view-live/lib/attrs",["require","exports","module","can-view-live/lib/core","can-view-callbacks","can-util/dom/attr/attr","can-util/dom/events/events","can-reflect"],function(e,t,n){var i=e("can-view-live/lib/core"),a=e("can-view-callbacks"),r=e("can-util/dom/attr/attr"),o=e("can-util/dom/events/events"),s=e("can-reflect");i.attrs=function(e,t,n,c){function l(t){var o,s=i.getAttributeParts(t);for(o in s){var l=s[o];if(l!==u[o]){r.set(e,o,l);var d=a.attr(o);d&&d(e,{attributeName:o,scope:n,options:c})}delete u[o]}for(o in u)r.remove(e,o);u=s}if(s.isObservableLike(t)){var u={};Object.defineProperty(l,"name",{value:"live.attrs update::"+s.getName(t)}),i.addElementDependency(e,t),s.onValue(t,l);var d=function(){s.offValue(t,l),o.removeEventListener.call(e,"removed",d),i.deleteElementDependency(e,t)};o.addEventListener.call(e,"removed",d),l(s.getValue(t))}else{var p=i.getAttributeParts(t);for(var f in p)r.set(e,f,p[f])}}}),define("can-view-live/lib/html",["require","exports","module","can-view-live/lib/core","can-view-nodelist","can-util/dom/frag/frag","can-util/js/make-array/make-array","can-util/dom/child-nodes/child-nodes","can-reflect"],function(e,t,n){var i=e("can-view-live/lib/core"),a=e("can-view-nodelist"),r=e("can-util/dom/frag/frag"),o=e("can-util/js/make-array/make-array"),s=e("can-util/dom/child-nodes/child-nodes"),c=e("can-reflect");i.html=function(e,t,n,l){function u(e){a.first(f).parentNode&&p(e);var t=a.first(f).parentNode;d.teardownCheck(t)}var d,p,f;n=i.getParentNode(e,n),Object.defineProperty(u,"name",{value:"live.html update::"+c.getName(t)}),d=i.listen(n,t,u),f=l||[e],p=function(e){var t="function"==typeof e,n=r(t?"":e),c=o(f);i.addTextNodeIfNoChildren(n),c=a.update(f,s(n)),t&&e(n.firstChild),a.replace(c,n)},d.nodeList=f,l?l.unregistered=d.teardownCheck:a.register(f,d.teardownCheck),p(c.getValue(t))}}),define("can-view-live/lib/set-observable",["require","exports","module","can-simple-observable","can-reflect"],function(e,t,n){function i(e,t){this.setter=t,a.call(this,e)}var a=e("can-simple-observable"),r=e("can-reflect");(i.prototype=Object.create(a.prototype)).constructor=i,i.prototype.set=function(e){this.setter(e)},r.assignSymbols(i.prototype,{"can.setValue":i.prototype.set}),n.exports=i}),define("can-view-live/lib/patcher",["require","exports","module","can-reflect","can-key-tree","can-symbol","can-util/js/diff/diff","can-queues","can-symbol"],function(e,t,n){var i=e("can-reflect"),a=e("can-key-tree"),r=e("can-symbol"),o=e("can-util/js/diff/diff"),s=e("can-queues"),c=(r=e("can-symbol")).for("can.onValue"),l=r.for("can.offValue"),u=r.for("can.onPatches"),d=r.for("can.offPatches"),p=function(e,t){this.handlers=new a([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),this.observableOrList=e,this.isObservableValue=i.isValueLike(this.observableOrList)||i.isObservableLike(this.observableOrList),this.isObservableValue?this.priority=i.getPriority(e):this.priority=t||0,this.onList=this.onList.bind(this),this.onPatchesNotify=this.onPatchesNotify.bind(this),this.onPatchesDerive=this.onPatchesDerive.bind(this),this.patches=[],Object.defineProperty(this.onList,"name",{value:"live.list new list::"+i.getName(e)}),Object.defineProperty(this.onPatchesNotify,"name",{value:"live.list notify::"+i.getName(e)}),Object.defineProperty(this.onPatchesDerive,"name",{value:"live.list derive::"+i.getName(e)})};p.prototype={constructor:p,setup:function(){this.observableOrList[c]?(i.onValue(this.observableOrList,this.onList,"notify"),this.setupList(i.getValue(this.observableOrList))):this.setupList(this.observableOrList||[])},teardown:function(){this.observableOrList[l]&&i.offValue(this.observableOrList,this.onList,"notify")},setupList:function(e){this.currentList=e,e[u]&&e[u](this.onPatchesNotify,"notify")},onList:function(e){var t=this.currentList||[];e=e||[],t[d]&&t[d](this.onPatchesNotify,"notify");var n=o(t,e);this.currentList=e,this.onPatchesNotify(n),e[u]&&e[u](this.onPatchesNotify,"notify")},onPatchesNotify:function(e){this.patches.push.apply(this.patches,e),s.deriveQueue.enqueue(this.onPatchesDerive,this,[],{priority:this.priority})},onPatchesDerive:function(){var e=this.patches;this.patches=[],s.enqueueByQueue(this.handlers.getNode([]),this.currentList,[e,this.currentList],null,["Apply patches",e])}},i.assignSymbols(p.prototype,{"can.onPatches":function(e,t){this.handlers.add([t||"mutate",e])},"can.offPatches":function(e,t){this.handlers.delete([t||"mutate",e])}}),n.exports=p}),define("can-view-live/lib/list",["require","exports","module","can-view-live/lib/core","can-view-nodelist","can-util/dom/frag/frag","can-util/dom/mutate/mutate","can-util/dom/child-nodes/child-nodes","can-util/js/make-array/make-array","can-util/js/each/each","can-reflect","can-symbol","can-simple-observable","can-view-live/lib/set-observable","can-view-live/lib/patcher"],function(e,t,n){function i(e,t,n,i,o,s,c){this.patcher=new v(t),o=a.getParentNode(e,o),this.value=t,this.render=n,this.context=i,this.parentNode=o,this.falseyRender=c,this.masterNodeList=s||r.register([e],null,!0),this.placeholder=e,this.indexMap=[],this.isValueLike=d.isValueLike(this.value),this.isObservableLike=d.isObservableLike(this.value),this.onPatches=this.onPatches.bind(this);var l=this.data=a.setup(o,this.setupValueBinding.bind(this),this.teardownValueBinding.bind(this));this.masterNodeList.unregistered=function(){l.teardownCheck()},Object.defineProperty(this.onPatches,"name",{value:"live.list update::"+d.getName(t)})}var a=e("can-view-live/lib/core"),r=e("can-view-nodelist"),o=e("can-util/dom/frag/frag"),s=e("can-util/dom/mutate/mutate"),c=e("can-util/dom/child-nodes/child-nodes"),l=e("can-util/js/make-array/make-array"),u=e("can-util/js/each/each"),d=e("can-reflect"),p=e("can-symbol"),f=e("can-simple-observable"),h=e("can-view-live/lib/set-observable"),v=e("can-view-live/lib/patcher"),m=[].splice,g=function(e,t,n,i,a){var s=[];t&&(r.register(s,null,t,!0),s.parentList=t,s.expression="#each SUBEXPRESSION");var u=n.apply(i,a.concat([s])),d=o(u),p=l(c(d));return t?(r.update(s,p),e.push(s)):e.push(r.register(p)),d},y=function(e,t,n){var i=e.splice(t+1,n),a=[];return u(i,function(e){var t=r.unregister(e);[].push.apply(a,t)}),a},b=p.for("can.onPatches"),w=p.for("can.offPatches"),b=p.for("can.onPatches"),w=p.for("can.offPatches");i.prototype={setupValueBinding:function(){this.patcher[b](this.onPatches,"domUI"),this.patcher.currentList&&this.patcher.currentList.length?this.onPatches([{insert:this.patcher.currentList,index:0,deleteCount:0}]):this.addFalseyIfEmpty(),a.addElementDependency(this.parentNode,this.patcher.observableOrList)},teardownValueBinding:function(){this.patcher[w](this.onPatches,"domUI"),this.exit=!0,this.remove({length:this.patcher.currentList.length},0,!0),a.deleteElementDependency(this.parentNode,this.patcher.observableOrList)},onPatches:function(e){if(!this.exit)for(var t=0,n=e.length;t<n;t++){var i=e[t];"move"===i.type?this.move(i.toIndex,i.fromIndex):(i.deleteCount&&this.remove({length:i.deleteCount},i.index,!0),i.insert&&i.insert.length&&this.add(i.insert,i.index))}},add:function(e,t){var n=this.placeholder.ownerDocument.createDocumentFragment(),i=[],a=[],o=this.masterNodeList,c=this.render,l=this.context;u(e,function(e,r){var s=new f(r+t),u=new h(e,function(e){d.setKeyValue(this.patcher.currentList,s.get(),e)}.bind(this)),p=g(i,o,c,l,[u,s]);n.appendChild(p),a.push(s)},this);var p=t+1;if(!this.indexMap.length){var v=y(o,0,o.length-1);r.remove(v)}if(o[p]){var b=r.first(o[p]);s.insertBefore.call(b.parentNode,n,b)}else r.after(1===p?[this.placeholder]:[r.last(this.masterNodeList[p-1])],n);m.apply(this.masterNodeList,[p,0].concat(i)),m.apply(this.indexMap,[t,0].concat(a));for(var w=t+a.length,k=this.indexMap.length;w<k;w++)this.indexMap[w].set(w)},remove:function(e,t){t<0&&(t=this.indexMap.length+t);var n=y(this.masterNodeList,t,e.length),i=this.indexMap;i.splice(t,e.length);for(var a=t,o=i.length;a<o;a++)i[a].set(a);this.exit?r.unregister(this.masterNodeList):(this.addFalseyIfEmpty(),r.remove(n))},addFalseyIfEmpty:function(){if(this.falseyRender&&0===this.indexMap.length){var e=[],t=g(e,this.masterNodeList,this.falseyRender,this.currentList,[this.currentList]);r.after([this.masterNodeList[0]],t),this.masterNodeList.push(e[0])}},move:function(e,t){e+=1,t+=1;var n,i=this.masterNodeList,a=this.indexMap,s=i[e],c=o(r.flatten(i[t]));n=t<e?r.last(s).nextSibling:r.first(s),i[0].parentNode.insertBefore(c,n);var l=i[t];[].splice.apply(i,[t,1]),[].splice.apply(i,[e,0,l]),e-=1;var u=a[t-=1];[].splice.apply(a,[t,1]),[].splice.apply(a,[e,0,u]);var d=Math.min(t,e),p=a.length;for(p;d<p;d++)a[d].set(d)},set:function(e,t){this.remove({length:1},t,!0),this.add([e],t)}},a.list=function(e,t,n,a,o,s,c){if(e.nodeType!==Node.TEXT_NODE){var l;s?(l=document.createTextNode(""),r.replace(s,l),r.update(s,[l]),e=l):(l=document.createTextNode(""),e.replaceWith(l),e=l)}new i(e,t,n,a,o,s,c)}}),define("can-view-live/lib/text",["require","exports","module","can-view-live/lib/core","can-view-nodelist","can-reflect"],function(e,t,n){var i=e("can-view-live/lib/core"),a=e("can-view-nodelist"),r=e("can-reflect");i.text=function(e,t,n,o){function s(t){e.nodeValue=i.makeString(t)}if(e.nodeType!==Node.TEXT_NODE){var c;o?(c=document.createTextNode(""),a.replace(o,c),a.update(o,[c]),e=c):(c=document.createTextNode(""),e.replaceWith(c),e=c)}var l=i.getParentNode(e,n);e.nodeValue=i.makeString(r.getValue(t)),Object.defineProperty(s,"name",{value:"live.text update::"+r.getName(t)});var u=i.listen(l,t,s);o||(o=a.register([e],null,!0)),o.unregistered=u.teardownCheck,u.nodeList=o}}),define("can-view-live",["require","exports","module","can-view-live/lib/core","can-view-live/lib/attr","can-view-live/lib/attrs","can-view-live/lib/html","can-view-live/lib/list","can-view-live/lib/text"],function(e,t,n){var i=e("can-view-live/lib/core");e("can-view-live/lib/attr"),e("can-view-live/lib/attrs"),e("can-view-live/lib/html"),e("can-view-live/lib/list"),e("can-view-live/lib/text"),n.exports=i}),define("can-util/js/base-url/base-url",["require","exports","module","can-globals/global/global","can-globals/document/document"],function(e,t,n){!function(e,t,n,i){"use strict";var a,r=t("can-globals/global/global"),o=t("can-globals/document/document");i.exports=function(e){if(void 0!==e&&(a=e),void 0!==a)return a;var t=r(),n=o();if(n&&"baseURI"in n)return n.baseURI;if(t.location){var i=t.location.href,s=i.lastIndexOf("/");return-1!==s?i.substr(0,s):i}return"undefined"!=typeof process?process.cwd():void 0}}(0,e,0,n)}),define("can-parse-uri",function(e,t,n){n.exports=function(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}}),define("can-util/js/join-uris/join-uris",["require","exports","module","can-parse-uri"],function(e,t,n){"use strict";var i=e("can-parse-uri");n.exports=function(e,t){return t=i(t||""),e=i(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}}),define("can-stache/helpers/-debugger",["require","exports","module","can-util/js/log/log","can-reflect","can-symbol"],function(e,t,n){function i(){}var a=e("can-util/js/log/log"),r=i,o=i,s={},c=e("can-reflect"),l=e("can-symbol");s={allowDebugger:!0},r=function(e){return e&&e[l.for("can.getValue")]?c.getValue(e):e},o=function(e,t){switch(arguments.length){case 0:return!0;case 1:return!!r(e);case 2:return r(e)===r(t);default:throw a.log(["Usage:","  {{debugger}}: break any time this helper is evaluated","  {{debugger condition}}: break when `condition` is truthy","  {{debugger left right}}: break when `left` === `right`"].join("\n")),new Error("{{debugger}} must have less than three arguments")}},n.exports={helper:function(e,t){o.apply(null,Array.prototype.slice.call(arguments,0,-1))&&(arguments[arguments.length-1],a.log("Use `get(<path>)` to debug this template"),s.allowDebugger||a.warn("Forgotten {{debugger}} helper"))},evaluateArgs:o,resolveValue:r,__testing:s}}),define("can-stache/src/truthy-observable",["require","exports","module","can-observation","can-reflect"],function(e,t,n){var i=e("can-observation"),a=e("can-reflect");n.exports=function(e){return new i(function(){return!!a.getValue(e)})}}),define("can-stache/helpers/core",["require","exports","module","can-view-live","can-view-nodelist","can-stache/src/utils","can-util/js/is-function/is-function","can-util/js/base-url/base-url","can-util/js/join-uris/join-uris","can-util/js/each/each","can-util/js/assign/assign","can-util/js/is-iterable/is-iterable","can-util/js/dev/dev","can-symbol","can-reflect","can-util/js/is-empty-object/is-empty-object","can-stache/helpers/-debugger","can-stache/src/key-observable","can-observation","can-stache/src/truthy-observable","can-util/dom/data/data"],function(e,t,n){var i=e("can-view-live"),a=e("can-view-nodelist"),r=e("can-stache/src/utils"),o=e("can-util/js/is-function/is-function"),s=e("can-util/js/base-url/base-url"),c=e("can-util/js/join-uris/join-uris"),l=e("can-util/js/each/each"),u=e("can-util/js/assign/assign"),d=e("can-util/js/is-iterable/is-iterable"),p=e("can-util/js/dev/dev"),f=e("can-symbol"),h=e("can-reflect"),v=e("can-util/js/is-empty-object/is-empty-object"),m=e("can-stache/helpers/-debugger").helper,g=e("can-stache/src/key-observable"),y=e("can-observation"),b=e("can-stache/src/truthy-observable"),w=e("can-util/dom/data/data"),k=function(e){return e&&"function"==typeof e.fn&&"function"==typeof e.inverse},x=f.for("can.getValue"),L=f.for("can.isValueLike"),j=function(e){return e&&e[L]&&e[x]?e[x]():e},E={each:function(e){var t,n,o,s,c=[].slice.call(arguments),u=c.pop(),f=c.length,m=u.exprData.argExprs,y=u.exprData.hashExprs,b=j(e);if((2===f||3===f&&"as"===m[1].key)&&("string"!=typeof(t=c[f-1])&&(t=m[f-1].key),p.warn("can-stache: Using the `as` keyword is deprecated in favor of hash expressions. https://canjs.com/doc/can-stache.helpers.each.html"),p.warn("can-stache: Do not use `{{#"+u.nodeList.expression+"}}`, instead use `{{#"+u.nodeList.expression.split(" ")[0]+" "+u.nodeList.expression.split(" ")[1]+" "+t+"=value}}`")),v(y)||(n={},l(y,function(e,t){n[e.key]=t})),(h.isObservableLike(b)&&h.isListLike(b)||r.isArrayLike(b)&&e.isComputed)&&!u.stringOnly)return function(r){var o=[r];o.expression="live.list",a.register(o,null,u.nodeList,!0),a.update(u.nodeList,[r]);i.list(r,e,function(e,i,a){var r={"%index":i};return t&&(r[t]=e),v(n)||(n.value&&(r[n.value]=e),n.index&&(r[n.index]=i)),u.fn(u.scope.add(r,{notContext:!0}).add(e),u.options,a)},u.context,r.parentNode,o,function(e,t){return u.inverse(u.scope.add(e),u.options,t)})};var w,k=b;if(k&&r.isArrayLike(k))return w=r.getItemsFragContent(k,u,u.scope,t),u.stringOnly?w.join(""):w;if(d(k))return w=[],l(k,function(e,i){o={"%key":i},t&&(o[t]=e),v(n)||(n.value&&(o[n.value]=e),n.key&&(o[n.key]=i)),w.push(u.fn(u.scope.add(o,{notContext:!0}).add(e)))}),u.stringOnly?w.join(""):w;if(h.isObservableLike(k)&&h.isMapLike(k))return w=[],h.each(k,function(e,n){var i=new g(k,n);o={"%key":n},t&&(o[t]=k[n]),w.push(u.fn(u.scope.add(o,{notContext:!0}).add(i)))}),u.stringOnly?w.join(""):w;if(k instanceof Object){w=[];for(s in k)o={"%key":s},t&&(o[t]=k[s]),w.push(u.fn(u.scope.add(o,{notContext:!0}).add(k[s])));return u.stringOnly?w.join(""):w}},"%index":function(e,t){t||(t=e,e=0);var n=t.scope.peek("%index");return""+((o(n)?n():n)+e)},if:function(e,t){return(e&&e.isComputed?h.getValue(new b(e)):!!j(e))?t.fn(t.scope||this):t.inverse(t.scope||this)},is:function(){var e,t,n=arguments[arguments.length-1];if(arguments.length-2<=0)return n.inverse();var i=arguments;return new y(function(){for(var n=0;n<i.length-1;n++){if(t=j(i[n]),t=o(t)?t():t,n>0&&t!==e)return!1;e=t}return!0}).get()?n.fn():n.inverse()},eq:function(){return E.is.apply(this,arguments)},unless:function(e,t){return E.if.apply(this,[e,u(u({},t),{fn:t.inverse,inverse:t.fn})])},with:function(e,t){var n=e;return t?(e=j(e),t.hash&&!v(t.hash)&&(n=t.scope.add(t.hash).add(n))):(t=e,e=!0,n=t.hash),t.fn(n||{})},log:function(e){var t=[];l(arguments,function(e){k(e)||t.push(e)}),"undefined"!=typeof console&&console.log&&(t.length?console.log.apply(console,t):console.log(e.context))},data:function(e){var t=2===arguments.length?this:arguments[1];return function(n){w.set.call(n,e,t||this.context)}},switch:function(e,t){j(e);var n=!1,i=t.helpers.add({case:function(t,i){if(!n&&j(e)===j(t))return n=!0,i.fn(i.scope||this)},default:function(e){if(!n)return e.fn(e.scope||this)}});return t.fn(t.scope,i)},joinBase:function(e){var t=[].slice.call(arguments),n=t.pop(),i=t.map(function(e){var t=j(e);return o(t)?t():t}).join(""),a=n.helpers.peek("helpers.module"),r=a?a.uri:void 0;if("."===i[0]&&r)return c(r,i);var l="undefined"!=typeof System&&(System.renderingBaseURL||System.baseURL)||s();return"/"!==i[0]&&"/"!==l[l.length-1]&&(l+="/"),c(l,i)}};E.eachOf=E.each,E.debugger=m;var V=function(e,t){E[e]&&p.warn("The helper "+e+" has already been registered."),E[e]=t},C=function(e){return function(){var t=[];return l(arguments,function(e){for(;e&&e.isComputed;)e=e();t.push(e)}),e.apply(this,t)}};n.exports={registerHelper:V,registerSimpleHelper:function(e,t){V(e,C(t))},getHelper:function(e,t){var n=t&&t.get&&t.get("helpers."+e,{proxyMethods:!1});if(n||(n=E[e]),n)return{fn:n}},resolve:j,resolveHash:function(e){var t={};for(var n in e)t[n]=j(e[n]);return t},looksLikeOptions:k}}),define("can-util/js/last/last",function(e,t,n){"use strict";n.exports=function(e){return e&&e[e.length-1]}}),define("can-simple-observable/setter/setter",["require","exports","module","can-reflect","can-observation","can-key-tree","can-simple-observable/settable/settable"],function(e,t,n){function i(e,t){this.handlers=new o([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),this.setter=t,this.observation=new r(e),this.handler=this.handler.bind(this),a.assignSymbols(this,{"can.getName":function(){return a.getName(this.constructor)+"<"+a.getName(e)+">"}}),Object.defineProperty(this.handler,"name",{value:a.getName(this)+".handler"})}var a=e("can-reflect"),r=e("can-observation"),o=e("can-key-tree"),s=e("can-simple-observable/settable/settable");(i.prototype=Object.create(s.prototype)).constructor=i,i.prototype.set=function(e){this.setter(e)},i.prototype.hasDependencies=function(){return a.valueHasDependencies(this.observation)},a.assignSymbols(i.prototype,{"can.setValue":i.prototype.set,"can.valueHasDependencies":i.prototype.hasDependencies}),n.exports=i}),define("can-stache/src/expression",["require","exports","module","can-stache-key","can-stache/src/utils","can-stache/helpers/core","can-util/js/each/each","can-util/js/is-empty-object/is-empty-object","can-util/js/dev/dev","can-util/js/assign/assign","can-util/js/last/last","can-reflect","can-symbol","can-observation","can-simple-observable/setter/setter","can-view-scope/make-compute-like"],function(e,t,n){var i=e("can-stache-key"),a=e("can-stache/src/utils"),r=e("can-stache/helpers/core"),o=e("can-util/js/each/each"),s=e("can-util/js/is-empty-object/is-empty-object"),c=e("can-util/js/dev/dev"),l=e("can-util/js/assign/assign"),u=e("can-util/js/last/last"),d=e("can-reflect"),p=e("can-symbol"),f=e("can-observation"),h=e("can-simple-observable/setter/setter"),v=e("can-view-scope/make-compute-like"),m=p.for("can-stache.sourceText"),g=function(e,t,n){var i=t.computeData(e,n);return f.temporarilyBind(i),i},y=function(e){return e[p.for("can.valueHasDependencies")]?d.valueHasDependencies(e):e.computeInstance.hasDependencies},b=function(e,t,n,i){var a=g(e,t,i),o={value:a};if(void 0===a.initialValue){"@"===e.charAt(0)&&(e=e.substr(1));var s=r.getHelper(e,n);o.helper=s&&s.fn}return o},w=function(e,t,n,a){var r=function(){return(""+d.getValue(e)).replace(".","\\.")},o=new h(function(){return i.get(d.getValue(t),r())},function(e){i.write(d.getValue(t),i.reads(r()),e)});return f.temporarilyBind(o),o},k=function(e){return e instanceof O||e instanceof E?e:new O(e)},x=function(e){return d.isObservableLike(e)?!1===d.valueHasDependencies(e)?d.getValue(e):e.compute?e.compute:v(e):e},L=function(e){return e?e.isComputed?e:e.compute?e.compute:v(e):e},j=function(e,t){this.root=t,this.key=e};j.prototype.value=function(e,t){var n=this.root?this.root.value(e,t):e.peek(".");return w(this.key.value(e,t),n,0,0)},j.prototype.sourceText=function(){return this.rootExpr?this.rootExpr.sourceText()+"["+this.key+"]":"["+this.key+"]"};var E=function(e){this._value=e};E.prototype.value=function(){return this._value},E.prototype.sourceText=function(){return JSON.stringify(this._value)};var V=function(e,t,n){this.key=e,this.rootExpr=t,d.setKeyValue(this,m,n)};V.prototype.value=function(e,t){if(this.rootExpr)return w(this.key,this.rootExpr.value(e,t),0,0);var n=b(this.key,e,t);return this.isHelper=n.helper&&!n.helper.callAsMethod,n.helper||n.value},V.prototype.sourceText=function(){return this[m]?this[m]:this.rootExpr?this.rootExpr.sourceText()+"."+this.key:this.key};var C=function(e,t){V.apply(this,arguments)};C.prototype.value=function(e,t){return this.rootExpr?w(this.key,this.rootExpr.value(e,t),0,0):g(this.key,e,t)},C.prototype.sourceText=V.prototype.sourceText;var O=function(e,t){this.expr=e,this.modifiers=t||{},this.isCompute=!1};O.prototype.value=function(){return this.expr.value.apply(this.expr,arguments)},O.prototype.sourceText=function(){return(this.modifiers.compute?"~":"")+this.expr.sourceText()};var _=function(e){this.hashExprs=e};_.prototype.value=function(e,t){var n={};for(var i in this.hashExprs){var a=k(this.hashExprs[i]),r=a.value.apply(a,arguments);n[i]={call:!a.modifiers||!a.modifiers.compute,value:r}}return new f(function(){var e={};for(var t in n)e[t]=n[t].call?d.getValue(n[t].value):x(n[t].value);return e})},_.prototype.sourceText=function(){var e=[];return o(this.hashExprs,function(t,n){e.push(n+"="+t.sourceText())}),e.join(" ")};var S=function(e,t){this.methodExpr=e,this.argExprs=t.map(k)};S.prototype.args=function(e,t){for(var n=[],i=0,a=this.argExprs.length;i<a;i++){var r=this.argExprs[i],o=r.value.apply(r,arguments);n.push({call:!r.modifiers||!r.modifiers.compute,value:o})}return function(){for(var e=[],t=0,i=n.length;t<i;t++)e[t]=n[t].call?d.getValue(n[t].value):L(n[t].value);return e}},S.prototype.value=function(e,t,n){var i=this.methodExpr.value(e,t),a=this.isHelper=this.methodExpr.isHelper,r=this.args(e,t),o=function(e){var t=d.getValue(i);if("function"==typeof t){var o=r();return a&&n&&o.push(n),arguments.length&&o.unshift(new Q.SetIdentifier(e)),t.apply(null,o)}};Object.defineProperty(o,"name",{value:"{{"+this.sourceText()+"}}"});var s=new h(o,o);return f.temporarilyBind(s),s},S.prototype.sourceText=function(){var e=this.argExprs.map(function(e){return e.sourceText()});return this.methodExpr.sourceText()+"("+e.join(",")+")"},S.prototype.closingTag=function(){return this.methodExpr[m]?this.methodExpr[m]:this.methodExpr.key};var N=function(){V.apply(this,arguments)};N.prototype.value=function(e,t){var n=b(this.key,e,t,{isArgument:!0,args:[e.peek("."),e]});return n.helper||n.value},N.prototype.sourceText=V.prototype.sourceText;var D=function(){V.apply(this,arguments)};D.prototype.value=function(e,t){return g(this.key,e,{callMethodsOnObservables:!0,isArgument:!0,args:[e.peek("."),e]})},D.prototype.sourceText=V.prototype.sourceText;var T=function(e,t,n){this.methodExpr=e,this.argExprs=t,this.hashExprs=n,this.mode=null};T.prototype.args=function(e,t){for(var n=[],i=0,a=this.argExprs.length;i<a;i++){var r=this.argExprs[i];n.push(x(r.value.apply(r,arguments)))}return n},T.prototype.hash=function(e,t){var n={};for(var i in this.hashExprs){var a=this.hashExprs[i];n[i]=x(a.value.apply(a,arguments))}return n},T.prototype.helperAndValue=function(e,t){function n(){return a.initialValue.apply(null,o)}var i,a,o,l=this.argExprs.length||!s(this.hashExprs),u=this.methodExpr instanceof E?""+this.methodExpr._value:this.methodExpr.key;if(l&&(i=r.getHelper(u,t)),!i){if("function"==typeof(a=g(u,e,{isArgument:!0})).initialValue){o=this.args(e,t).map(x),Object.defineProperty(n,"name",{value:d.getName(this)});var p=new f(n);return f.temporarilyBind(p),{value:p}}if(void 0!==a.initialValue)return{value:a};l||(i=r.getHelper(u,t))}return i||(l?c.warn('can-stache/src/expression.js: Unable to find helper "'+u+'".'):c.warn('can-stache/src/expression.js: Unable to find key or helper "'+u+'".')),{value:a,args:o,helper:i&&i.fn}},T.prototype.evaluator=function(e,t,n,i,r,o,s,c){var u={stringOnly:c},d=t.peek("."),p=this.args(t,n,r,o,s,c),f=this.hash(t,n,r,o,s,c);return a.convertToScopes(u,t,n,r,o,s,c),l(u,{context:d,scope:t,contexts:t,hash:f,nodeList:r,exprData:this,helperOptions:n,helpers:n}),p.push(u),function(){return e.apply(d,p)}},T.prototype.value=function(e,t,n,i,a,r){var o=this.helperAndValue(e,t),s=o.helper;if(!s)return o.value;var c=this.evaluator(s,e,t,n,i,a,r),l=new f(c);return f.temporarilyBind(l),y(l)?l:l()},T.prototype.closingTag=function(){return this.methodExpr.key},T.prototype.sourceText=function(){var e=[this.methodExpr.sourceText()];return this.argExprs.length&&e.push(this.argExprs.map(function(e){return e.sourceText()}).join(" ")),s(this.hashExprs)||e.push(_.prototype.sourceText.call(this)),e.join(" ")},d.assignSymbols(T.prototype,{"can.getName":function(){return d.getName(this.constructor)+"{{"+this.sourceText()+"}}"}});var P=/[\w\.\\\-_@\/\&%]+/,M=/('.*?'|".*?"|=|[\w\.\\\-_@\/*%\$]+|[\(\)]|,|\~|\[|\]\s*|\s*(?=\[))/g,A=/\]\s+/,q=/^('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)$/,K=function(e){return P.test(e)},R=/^[\.@]\w/,I=function(e){return K(e)&&R.test(e)},H=function(e){return e.children||(e.children=[]),e},B=function(){this.root={children:[],type:"Root"},this.current=this.root,this.stack=[this.root]};l(B.prototype,{top:function(){return u(this.stack)},isRootTop:function(){return this.top()===this.root},popTo:function(e){this.popUntil(e),this.pop()},pop:function(){this.isRootTop()||this.stack.pop()},first:function(e){for(var t=this.stack.length-1;t>0&&-1===e.indexOf(this.stack[t].type);)t--;return this.stack[t]},firstParent:function(e){for(var t=this.stack.length-2;t>0&&-1===e.indexOf(this.stack[t].type);)t--;return this.stack[t]},popUntil:function(e){for(;-1===e.indexOf(this.top().type)&&!this.isRootTop();)this.stack.pop();return this.top()},addTo:function(e,t){var n=this.popUntil(e);H(n).children.push(t)},addToAndPush:function(e,t){this.addTo(e,t),this.stack.push(t)},push:function(e){this.stack.push(e)},topLastChild:function(){return u(this.top().children)},replaceTopLastChild:function(e){var t=H(this.top()).children;return t.pop(),t.push(e),e},replaceTopLastChildAndPush:function(e){this.replaceTopLastChild(e),this.stack.push(e)},replaceTopAndPush:function(e){var t;return this.top()===this.root?t=H(this.top()).children:(this.stack.pop(),t=H(this.top()).children),t.pop(),t.push(e),this.stack.push(e),e}});var F=function(e){var t=e.lastIndexOf("./"),n=e.lastIndexOf(".");if(n>t)return e.substr(0,n)+"@"+e.substr(n+1);var i=-1===t?0:t+2,a=e.charAt(i);return"."===a||"@"===a?e.substr(0,i)+"@"+e.substr(i+1):e.substr(0,i)+"@"+e.substr(i)},z=function(e){return"Lookup"===e.type&&(d.setKeyValue(e,m,e.key),e.key=F(e.key)),e},U=function(e){var t=e.top();if(t&&"Lookup"===t.type){var n=e.stack[e.stack.length-2];"Helper"!==n.type&&n&&e.replaceTopAndPush({type:"Helper",method:t})}},Q={toComputeOrValue:x,convertKeyToLookup:F,Literal:E,Lookup:V,ScopeLookup:C,Arg:O,Hash:function(){},Hashes:_,Call:S,Helper:T,HelperLookup:N,HelperScopeLookup:D,Bracket:j,SetIdentifier:function(e){this.value=e},tokenize:function(e){var t=[];return(e.trim()+" ").replace(M,function(e,n){A.test(n)?(t.push(n[0]),t.push(n.slice(1))):t.push(n)}),t},lookupRules:{default:function(e,t,n){var i=("Helper"!==t||e.root?"":"Helper")+(n?"Scope":"")+"Lookup";return Q[i]},method:function(e,t,n){return C}},methodRules:{default:function(e){return"Call"===e.type?S:T},call:function(e){return S}},parse:function(e,t){t=t||{};var n=this.ast(e);return t.lookupRule||(t.lookupRule="default"),"string"==typeof t.lookupRule&&(t.lookupRule=Q.lookupRules[t.lookupRule]),t.methodRule||(t.methodRule="default"),"string"==typeof t.methodRule&&(t.methodRule=Q.methodRules[t.methodRule]),this.hydrateAst(n,t,t.baseMethodType||"Helper")},hydrateAst:function(e,t,n,i){var a;if("Lookup"===e.type)return new(t.lookupRule(e,n,i))(e.key,e.root&&this.hydrateAst(e.root,t,n),e[m]);if("Literal"===e.type)return new E(e.value);if("Arg"===e.type)return new O(this.hydrateAst(e.children[0],t,n,i),{compute:!0});if("Hash"===e.type)throw new Error("");if("Hashes"===e.type)return a={},o(e.children,function(e){a[e.prop]=this.hydrateAst(e.children[0],t,n,!0)},this),new _(a);if("Call"===e.type||"Helper"===e.type){a={};var r=[],s=e.children,c=t.methodRule(e);if(s)for(var l=0;l<s.length;l++){var u=s[l];"Hashes"===u.type&&"Helper"===e.type&&c!==S?o(u.children,function(n){a[n.prop]=this.hydrateAst(n.children[0],t,e.type,!0)},this):r.push(this.hydrateAst(u,t,e.type,!0))}return new c(this.hydrateAst(e.method,t,e.type),r,a)}return"Bracket"===e.type?new j(this.hydrateAst(e.children[0],t),e.root?this.hydrateAst(e.root,t):void 0):void 0},ast:function(e){var t=this.tokenize(e);return this.parseAst(t,{index:0})},parseAst:function(e,t){for(var n,i,r,o=new B;t.index<e.length;){var s=e[t.index],c=e[t.index+1];if(t.index++,"="===c){(n=o.top())&&"Lookup"===n.type&&("Call"!==(i=o.firstParent(["Call","Helper","Hash"])).type&&"Root"!==i.type||(o.popUntil(["Call"]),n=o.top(),o.replaceTopAndPush({type:"Helper",method:"Root"===n.type?u(n.children):n})));var l={type:"Hash",prop:s};"Hashes"===(i=o.firstParent(["Call","Helper","Hashes"])).type?o.addToAndPush(["Hashes"],l):(o.addToAndPush(["Helper","Call"],{type:"Hashes",children:[l]}),o.push(l)),t.index++}else if(q.test(s))U(o),"Hash"===(i=o.first(["Helper","Call","Hash","Bracket"])).type&&i.children&&i.children.length>0?o.addTo(["Helper","Call","Bracket"],{type:"Literal",value:a.jsonParse(s)}):"Bracket"===i.type&&i.children&&i.children.length>0?o.addTo(["Helper","Call","Hash"],{type:"Literal",value:a.jsonParse(s)}):o.addTo(["Helper","Call","Hash","Bracket"],{type:"Literal",value:a.jsonParse(s)});else if(P.test(s))r=o.topLastChild(),i=o.first(["Helper","Call","Hash","Bracket"]),r&&("Call"===r.type||"Bracket"===r.type)&&I(s)?o.replaceTopLastChildAndPush({type:"Lookup",root:r,key:s.slice(1)}):"Bracket"===i.type?i.children&&i.children.length>0?"Helper"===o.first(["Helper","Call","Hash","Arg"]).type&&"."!==s[0]?o.addToAndPush(["Helper"],{type:"Lookup",key:s}):o.replaceTopAndPush({type:"Lookup",key:s.slice(1),root:i}):o.addToAndPush(["Bracket"],{type:"Lookup",key:s}):(U(o),o.addToAndPush(["Helper","Call","Hash","Arg","Bracket"],{type:"Lookup",key:s}));else if("~"===s)U(o),o.addToAndPush(["Helper","Call","Hash"],{type:"Arg",key:s});else if("("===s){if("Lookup"!==(n=o.top()).type)throw new Error("Unable to understand expression "+e.join(""));o.replaceTopAndPush({type:"Call",method:z(n)})}else")"===s?o.popTo(["Call"]):","===s?o.popUntil(["Call"]):"["===s?(n=o.top(),!(r=o.topLastChild())||"Call"!==r.type&&"Bracket"!==r.type?"Lookup"===n.type||"Bracket"===n.type?o.replaceTopAndPush({type:"Bracket",root:n}):"Call"===n.type?o.addToAndPush(["Call"],{type:"Bracket"}):" "===n?(o.popUntil(["Lookup"]),U(o),o.addToAndPush(["Helper","Call","Hash"],{type:"Bracket"})):o.replaceTopAndPush({type:"Bracket"}):o.replaceTopAndPush({type:"Bracket",root:r})):"]"===s?o.pop():" "===s&&o.push(s)}return o.root.children[0]}};n.exports=Q}),define("can-util/dom/document/document",["require","exports","module","can-globals/document/document"],function(e,t,n){!function(e,t,n,i){"use strict";i.exports=t("can-globals/document/document")}(0,e,0,n)}),define("can-view-model",["require","exports","module","can-util/dom/data/data","can-simple-map","can-namespace","can-util/dom/document/document","can-util/js/is-array-like/is-array-like","can-reflect"],function(e,t,n){"use strict";var i=e("can-util/dom/data/data"),a=e("can-simple-map"),r=e("can-namespace"),o=e("can-util/dom/document/document"),s=e("can-util/js/is-array-like/is-array-like"),c=e("can-reflect");n.exports=r.viewModel=function(e,t,n){var r;if("string"==typeof e?e=o().querySelector(e):s(e)&&!e.nodeType&&(e=e[0]),c.isObservableLike(t)&&c.isMapLike(t))return i.set.call(e,"viewModel",t);switch((r=i.get.call(e,"viewModel"))||(r=new a,i.set.call(e,"viewModel",r)),arguments.length){case 0:case 1:return r;case 2:return c.getKeyValue(r,t);default:return c.setKeyValue(r,t,n),e}}}),define("can-dom-events/helpers/util",["require","exports","module","can-globals/document/document","can-globals/is-browser-window/is-browser-window"],function(e,t,n){!function(e,t,n,i){"use strict";function a(e){return e.ownerDocument||s()}function r(e){if(!e||!e.nodeName)return e===window;var t=e.nodeType;return t===Node.DOCUMENT_NODE||t===Node.ELEMENT_NODE}function o(e,t){var n=t.type,i="inserted"===n||"removed"===n,a=!!e.disabled;return i&&a}var s=t("can-globals/document/document"),c=t("can-globals/is-browser-window/is-browser-window"),l=!1;!function(){if(c()){var e="fix_synthetic_events_on_disabled_test",t=document.createElement("input");t.disabled=!0;var n=setTimeout(function(){l=!0},50),i=function i(){clearTimeout(n),t.removeEventListener(e,i)};t.addEventListener(e,i);try{var a=document.create("HTMLEvents");a.initEvent(e,!1),t.dispatchEvent(a)}catch(e){i(),l=!0}}}(),i.exports={createEvent:function(e,t,n,i){var r,o=a(e).createEvent("HTMLEvents");if("string"==typeof t)r=t;else{r=t.type;for(var s in t)void 0===o[s]&&(o[s]=t[s])}return void 0===n&&(n=!0),o.initEvent(r,n,i),o},addDomContext:function(e,t){return r(e)&&(t=Array.prototype.slice.call(t,0)).unshift(e),t},removeDomContext:function(e,t){return r(e)||(e=(t=Array.prototype.slice.call(t,0)).shift()),{context:e,args:t}},isDomEventTarget:r,getTargetDocument:a,forceEnabledForDispatch:function(e,t){return l&&o(e,t)}}}(0,e,0,n)}),define("can-dom-events/helpers/add-event-compat",["require","exports","module","can-dom-events/helpers/util"],function(e,t,n){"use strict";function i(e){return!!(e&&e.addEventListener&&e.removeEventListener&&e.dispatch)}function a(e){return"function"==typeof e.addEvent}var r=e("can-dom-events/helpers/util"),o=r.addDomContext,s=r.removeDomContext;n.exports=function(e,t,n){if(!i(e))throw new Error("addEventCompat() must be passed can-dom-events or can-util/dom/events/events");if(n=n||t.defaultEventType,a(e))return e.addEvent(t,n);var r=e._compatRegistry;if(r||(r=e._compatRegistry={}),r[n])return function(){};r[n]=t;var c={addEventListener:function(){var t=s(this,arguments);return e.addEventListener.apply(t.context,t.args)},removeEventListener:function(){var t=s(this,arguments);return e.removeEventListener.apply(t.context,t.args)},dispatch:function(){var t=s(this,arguments),n=t.args[0],i="object"==typeof n?n.args:[];return t.args.splice(1,0,i),e.dispatch.apply(t.context,t.args)}},l=!0,u=e.addEventListener,d=e.addEventListener=function(e){if(l&&e===n){var i=o(this,arguments);t.addEventListener.apply(c,i)}return u.apply(this,arguments)},p=e.removeEventListener,f=e.removeEventListener=function(e){if(l&&e===n){var i=o(this,arguments);t.removeEventListener.apply(c,i)}return p.apply(this,arguments)};return function(){l=!1,r[n]=null,e.addEventListener===d&&(e.addEventListener=u),e.removeEventListener===f&&(e.removeEventListener=p)}}}),define("can-event-dom-enter",["require","exports","module","can-dom-data-state","can-cid"],function(e,t,n){"use strict";function i(e){var t="Enter"===e.key,n=13===e.keyCode;return t||n}function a(e,t){return e+":"+c(t)}function r(e,t,n,i){var r=a(t,n);s.set.call(e,r,i)}function o(e,t,n){var i=a(t,n),r=s.get.call(e,i);return r&&s.clean.call(e,i),r}var s=e("can-dom-data-state"),c=e("can-cid");n.exports={defaultEventType:"enter",addEventListener:function(e,t,n){var a=function(e){if(i(e))return n.apply(this,arguments)};r(e,t,n,a),this.addEventListener(e,"keyup",a)},removeEventListener:function(e,t,n){var i=o(e,t,n);i&&this.removeEventListener(e,"keyup",i)}}}),define("can-event-dom-enter/compat",["require","exports","module","can-dom-events/helpers/add-event-compat","can-event-dom-enter"],function(e,t,n){var i=e("can-dom-events/helpers/add-event-compat"),a=e("can-event-dom-enter");n.exports=function(e,t){return i(e,a,t)}}),define("can-dom-events/helpers/make-event-registry",function(e,t,n){"use strict";function i(){this._registry={}}n.exports=function(){return new i},i.prototype.has=function(e){return!!this._registry[e]},i.prototype.get=function(e){return this._registry[e]},i.prototype.add=function(e,t){if(!e)throw new Error("An EventDefinition must be provided");if("function"!=typeof e.addEventListener)throw new TypeError("EventDefinition addEventListener must be a function");if("function"!=typeof e.removeEventListener)throw new TypeError("EventDefinition removeEventListener must be a function");if("string"!=typeof(t=t||e.defaultEventType))throw new TypeError("Event type must be a string, not "+t);if(this.has(t))throw new Error('Event "'+t+'" is already registered');this._registry[t]=e;var n=this;return function(){n._registry[t]=void 0}}}),define("can-dom-events",["require","exports","module","can-namespace","can-dom-events/helpers/util","can-dom-events/helpers/make-event-registry"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-namespace"),r=t("can-dom-events/helpers/util"),o={_eventRegistry:t("can-dom-events/helpers/make-event-registry")(),addEvent:function(e,t){return this._eventRegistry.add(e,t)},addEventListener:function(e,t){if(o._eventRegistry.has(t))return o._eventRegistry.get(t).addEventListener.apply(o,arguments);var n=Array.prototype.slice.call(arguments,1);return e.addEventListener.apply(e,n)},removeEventListener:function(e,t){if(o._eventRegistry.has(t))return o._eventRegistry.get(t).removeEventListener.apply(o,arguments);var n=Array.prototype.slice.call(arguments,1);return e.removeEventListener.apply(e,n)},dispatch:function(e,t,n,i){var a=r.createEvent(e,t,n,i),o=r.forceEnabledForDispatch(e,a);o&&(e.disabled=!1);var s=e.dispatchEvent(a);return o&&(e.disabled=!0),s}};i.exports=a.domEvents=o}(0,e,0,n)}),define("can-event-dom-radiochange",["require","exports","module","can-dom-data-state","can-globals/document/document","can-dom-events","can-cid/map/map"],function(e,t,n){!function(e,t,n,i){"use strict";function a(e){return e.ownerDocument||g().documentElement}function r(e){return"can-event-radiochange:"+e+":registry"}function o(e){return"can-event-radiochange:"+e+":listener"}function s(e,t){var n=r(t),i=m.get.call(e,n);return i||(i=new b,m.set.call(e,n,i)),i}function c(e){for(;e&&"FORM"!==e.nodeName;)e=e.parentNode;return e}function l(e,t){var n=e.getAttribute("name");return n&&n===t.getAttribute("name")&&c(e)===c(t)}function u(e){return"INPUT"===e.nodeName&&"radio"===e.type}function d(e,t){s(a(t),e).forEach(function(n){l(t,n)&&y.dispatch(n,e)})}function p(e,t,n){var i=o(t);if(!m.get.call(e,i)){var a=function(e){var n=e.target;u(n)&&d(t,n)};n.addEventListener(e,"change",a),m.set.call(e,i,a)}}function f(e,t,n){var i=o(t),a=m.get.call(e,i);a&&(s(e,t).size>0||(n.removeEventListener(e,"change",a),m.clean.call(e,i)))}function h(e,t,n){if(!u(t))throw new Error("Listeners for "+e+" must be radio inputs");var i=a(t);s(i,e).set(t,t),p(i,e,n)}function v(e,t,n){var i=a(t);s(i,e).delete(t),f(i,e,n)}var m=t("can-dom-data-state"),g=t("can-globals/document/document"),y=t("can-dom-events"),b=t("can-cid/map/map");i.exports={defaultEventType:"radiochange",addEventListener:function(e,t,n){h(t,e,this),e.addEventListener(t,n)},removeEventListener:function(e,t,n){v(t,e,this),e.removeEventListener(t,n)}}}(0,e,0,n)}),define("can-event-dom-radiochange/compat",["require","exports","module","can-dom-events/helpers/add-event-compat","can-event-dom-radiochange"],function(e,t,n){var i=e("can-dom-events/helpers/add-event-compat"),a=e("can-event-dom-radiochange");n.exports=function(e,t){return i(e,a,t)}}),define("can-stache-bindings",["require","exports","module","can-stache/src/expression","can-view-callbacks","can-view-scope","can-view-model","can-stache-key","can-observation","can-simple-observable","can-util/js/assign/assign","can-util/js/make-array/make-array","can-util/js/each/each","can-util/js/dev/dev","can-util/dom/events/events","can-util/dom/events/removed/removed","can-util/dom/data/data","can-util/dom/attr/attr","can-stache/helpers/core","can-symbol","can-reflect","can-util/js/single-reference/single-reference","can-attribute-encoder","can-queues","can-simple-observable/setter/setter","can-view-scope/make-compute-like","can-event-dom-enter/compat","can-event-dom-radiochange/compat"],function(e,t,n){function i(e){if(void 0!==e.special.on)return e.tokens[e.special.on+1]}function a(e){var t={tokens:[],special:{}};return e.split(":").forEach(function(e){H[e]?t.special[e]=t.tokens.push(e)-1:t.tokens.push(e)}),t}var r=e("can-stache/src/expression"),o=e("can-view-callbacks"),s=e("can-view-scope"),c=e("can-view-model"),l=e("can-stache-key"),u=e("can-observation"),d=e("can-simple-observable"),p=e("can-util/js/assign/assign"),f=e("can-util/js/make-array/make-array"),h=e("can-util/js/each/each"),v=e("can-util/js/dev/dev"),m=e("can-util/dom/events/events");e("can-util/dom/events/removed/removed");var g=e("can-util/dom/data/data"),y=e("can-util/dom/attr/attr"),b=e("can-stache/helpers/core"),w=e("can-symbol"),k=e("can-reflect"),x=e("can-util/js/single-reference/single-reference"),L=e("can-attribute-encoder"),j=e("can-queues"),E=e("can-simple-observable/setter/setter"),V=e("can-view-scope/make-compute-like");e("can-event-dom-enter/compat")(m),e("can-event-dom-radiochange/compat")(m);var C={on:function(e,t,n){m.canAddEventListener.call(this)?m.addEventListener.call(this,e,t,n):k.onKeyValue(this,e,t,n)},off:function(e,t,n){m.canAddEventListener.call(this)?m.removeEventListener.call(this,e,t,n):k.offKeyValue(this,e,t,n)},one:function(e,t,n){var i=function(){return C.off.call(this,e,i,n),t.apply(this,arguments)};return C.on.call(this,e,i,n),this}},O=function(){},_=w.for("can.getValue"),S=w.for("can.setValue"),N=w.for("can.onValue"),D=w.for("can.offValue"),T=function(){throw new Error("can-stache-bindings - you can not have contextual bindings ( this:from='value' ) and key bindings ( prop:from='value' ) on one element.")},P=function(e,t){var n=t.bindingInfo.parentToChild&&"viewModel"===t.bindingInfo.child;if(!n)return e;var i=t.bindingInfo.childName;if(n&&("this"===i||"."===i)){if(!e.isSettingViewModel&&!e.isSettingOnViewModel)return{isSettingViewModel:!0,initialViewModelData:void 0};T()}else{if(!e.isSettingViewModel)return{isSettingOnViewModel:!0,initialViewModelData:e.initialViewModelData};T()}},M={viewModel:function(e,t,n,i,a){var r,o={},s=[],c={},l={},u=p({},i),d={isSettingOnViewModel:!1,isSettingViewModel:!1,initialViewModelData:i||{}},v=!1;if(h(f(e.attributes),function(n){var i=z(n,e,{templateType:t.templateType,scope:t.scope,semaphore:o,getViewModel:function(){return r},attributeViewModelBindings:u,alreadyUpdatedChild:!0,nodeList:t.parentNodeList,favorViewModel:!0});i&&(d=P(d,i),v=!0,i.onCompleteBinding&&(i.bindingInfo.parentToChild&&void 0!==i.value&&(d.isSettingViewModel?d.initialViewModelData=i.value:d.initialViewModelData[W(i.bindingInfo.childName)]=i.value),s.push(i.onCompleteBinding)),c[n.name]=i.onTeardown)}),!a||v){r=n(d.initialViewModelData,v);for(var g=0,y=s.length;g<y;g++)s[g]();return d.isSettingViewModel||m.addEventListener.call(e,"attributes",function(n){var i=n.attributeName,a=e.getAttribute(i);c[i]&&c[i]();var o=l[i]&&"attribute"===l[i].parent;if(null!==a||o){var s=z({name:i,value:a},e,{templateType:t.templateType,scope:t.scope,semaphore:{},getViewModel:function(){return r},attributeViewModelBindings:u,initializeValues:!0,nodeList:t.parentNodeList});s&&(s.onCompleteBinding&&s.onCompleteBinding(),l[i]=s.bindingInfo,c[i]=s.onTeardown)}}),function(){for(var e in c)c[e]()}}},data:function(e,t){if(!g.get.call(e,"preventDataBindings")){var n,i,a=u.ignore(function(){return n||(n=c(e))}),r={},o=z({name:t.attributeName,value:e.getAttribute(t.attributeName),nodeList:t.nodeList},e,{templateType:t.templateType,scope:t.scope,semaphore:r,getViewModel:a,syncChildWithParent:!1});"viewModel"!==o.bindingInfo.child||g.get(e,"viewModel")||v.warn("This element does not have a viewModel. (Attempting to bind `"+o.bindingInfo.bindingAttributeName+'="'+o.bindingInfo.parentName+'"`)'),o.onCompleteBinding&&o.onCompleteBinding(),i=o.onTeardown,C.one.call(e,"removed",function(){i()}),m.addEventListener.call(e,"attributes",function(n){var o=n.attributeName,s=e.getAttribute(o);if(o===t.attributeName&&(i&&i(),null!==s)){var c=z({name:o,value:s},e,{templateType:t.templateType,scope:t.scope,semaphore:r,getViewModel:a,initializeValues:!0,nodeList:t.nodeList,syncChildWithParent:!1});c&&(c.onCompleteBinding&&c.onCompleteBinding(),i=c.onTeardown)}})}},event:function(e,t){var n,i,a=L.decode(t.attributeName);if(-1!==a.indexOf(":to:")||-1!==a.indexOf(":from:")||-1!==a.indexOf(":bind:"))return this.data(e,t);if(!K.call(a,"on:"))throw new Error("can-stache-bindings - unsupported event bindings "+a);n=a.substr("on:".length);var o=g.get.call(e,"viewModel"),s=t.scope;if(K.call(n,"el:"))n=n.substr("el:".length),i=e;else{K.call(n,"vm:")?(n=n.substr("vm:".length),i=o,s=o):i=o||e;var u=n.indexOf(":by:");u>=0&&(i=s.get(n.substr(u+":by:".length)),n=n.substr(0,u))}var d=function(n){var i=e.getAttribute(L.encode(a));if(i){var o=c(e),s=r.parse(i,{lookupRule:function(){return r.Lookup},methodRule:"call"});if(!(s instanceof r.Call))throw new Error("can-stache-bindings: Event bindings must be a call expression. Make sure you have a () in "+t.attributeName+"="+JSON.stringify(i));var u,d,p,f=t.scope.add({"%element":this,"%event":n,"%viewModel":o,"%scope":t.scope,"%context":t.scope._context,"%arguments":arguments},{notContext:!0}),h=f.read(s.methodExpr.key,{isArgument:!0});if(!h.value){var m=l.reads(s.methodExpr.key).map(function(e){return e.key}).join(".");return(d=b.getHelper(m))?(u=s.args(f,null)(),"function"==typeof(p=d.fn.apply(f.peek("."),u))&&p(e),p):(v.warn("can-stache-bindings: "+a+" couldn't find method named "+s.methodExpr.key,{element:e,scope:t.scope}),null)}return u=s.args(f,null)(),h.value.apply(h.parent,u)}},p=function(e){var t=e.attributeName===a,n=!this.getAttribute(a);t&&n&&h()},f=function(e){h()},h=function(){C.off.call(i,n,d),C.off.call(e,"attributes",p),C.off.call(e,"removed",f)};C.on.call(i,n,d),C.on.call(e,"attributes",p),C.on.call(e,"removed",f)}};o.attr(/[\w\.:]+:to$/,M.data),o.attr(/[\w\.:]+:from$/,M.data),o.attr(/[\w\.:]+:bind$/,M.data),o.attr(/[\w\.:]+:to:on:[\w\.:]+/,M.data),o.attr(/[\w\.:]+:from:on:[\w\.:]+/,M.data),o.attr(/[\w\.:]+:bind:on:[\w\.:]+/,M.data),o.attr(/on:[\w\.:]+/,M.event);var A={viewModelOrAttribute:function(e,t,n,i,a,r,o){return g.get.call(e,"viewModel")?this.viewModel.apply(this,arguments):this.attribute.apply(this,arguments)},scope:function(e,t,n,i,a,o){if(n){if(a)return r.parse(n,{baseMethodType:"Call"}).value(t,new s.Options({}));var c=new u(function(){});return c[S]=function(e){t.set(W(n),e)},c}return new d},viewModel:function(e,t,n,i,a,r,o){function s(){var e=i.getViewModel();return l.read(e,p,{}).value}var c=W(n),u="."===n||"this"===n,p=u?[]:l.reads(n);return Object.defineProperty(s,"name",{value:"viewModel."+n}),new E(s,function(e){var t=i.getViewModel();if(r){var n=k.getKeyValue(t,c);k.isObservableLike(n)?k.setValue(n,e):k.setKeyValue(t,c,new d(k.getValue(r)))}else u?k.setValue(t,e):k.setKeyValue(t,c,e)})},attribute:function(e,t,n,i,a,r,o){if(!o){o="change";var s="INPUT"===e.nodeName&&"radio"===e.type,c="checked"===n&&!i.legacyBindings;s&&c&&(o="radiochange"),y.special[n]&&y.special[n].addEventListener&&(o=n)}var l="select"===e.nodeName.toLowerCase(),d=function(){return y.get(e,n)};"value"===n&&l&&e.multiple&&(n="values");var p=new u(d);return p[S]=function(t){return i.legacyBindings&&l&&"selectedIndex"in e&&"value"===n?y.setAttrOrProp(e,n,null==t?"":t):y.setAttrOrProp(e,n,t),t},p[_]=d,p[N]=function(t){var n=function(){t(d())};x.set(t,this,n),"radiochange"===o&&C.on.call(e,"change",n),C.on.call(e,o,n)},p[D]=function(t){var n=x.getAndDelete(t,this);"radiochange"===o&&C.off.call(e,"change",n),C.off.call(e,o,n)},p}},q={childToParent:function(e,t,n,i,a,r,o){function s(o){if(!i[a])if(t&&t[_]){var s=k.valueHasDependencies(t);s&&k.getValue(t)===o||k.setValue(t,o),r&&s&&k.getValue(t)!==k.getValue(n)&&(i[a]=(i[a]||0)+1,j.batch.start(),k.setValue(n,k.getValue(t)),j.mutateQueue.enqueue(function(){--i[a]},null,[],{}),j.batch.stop())}else if(k.isMapLike(t)){var c=e.getAttribute(a);v.warn("can-stache-bindings: Merging "+a+" into "+c+" because its parent is non-observable"),k.eachKey(t,function(e){k.deleteKeyValue(t,e)}),k.setValue(t,o&&o.serialize?o.serialize():o,!0)}}return Object.defineProperty(s,"name",{value:"update "+o.parent+"."+o.parentName+" of <"+e.nodeName.toLowerCase()+">"}),n&&n[_]&&k.onValue(n,s,"mutate"),s},parentToChild:function(e,t,n,i,a,r){var o=function(e){i[a]=(i[a]||0)+1,j.batch.start(),k.setValue(n,e),j.mutateQueue.enqueue(function(){--i[a]},null,[],{}),j.batch.stop()};return Object.defineProperty(o,"name",{value:"update "+r.child+"."+r.childName+" of <"+e.nodeName.toLowerCase()+">"}),t&&t[_]&&k.onValue(t,o,"mutate"),o}},K=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},R={to:{childToParent:!0,parentToChild:!1,syncChildWithParent:!1},from:{childToParent:!1,parentToChild:!0,syncChildWithParent:!1},bind:{childToParent:!0,parentToChild:!0,syncChildWithParent:!0}},I=[],H={vm:!0,on:!0};h(R,function(e,t){I.push(t),H[t]=!0});var B=function(e,t){return e.indexOf("vm")>=0?"viewModel":e.indexOf("el")>=0?"attribute":t?"viewModel":"viewModelOrAttribute"},F=function(e,t,n,r,o){var s,c,l,u=L.decode(e.name),d=e.value||"",f=a(u);if(I.forEach(function(e){if(void 0!==f.special[e]&&f.special[e]>0)return c=e,l=f.special[e],!1}),c){var h=i(f),v=!h;return s=p({parent:"scope",child:B(f.tokens,o),childName:f.tokens[l-1],childEvent:h,bindingAttributeName:u,parentName:d,initializeValues:v},R[c]),"~"===d.trim().charAt(0)&&(s.stickyParentToChild=!0),s}},z=function(e,t,n){var i=F(e,n.attributeViewModelBindings,n.templateType,t.nodeName.toLowerCase(),n.favorViewModel);if(i){i.alreadyUpdatedChild=n.alreadyUpdatedChild,n.initializeValues&&(i.initializeValues=!0);var a,r,o=A[i.parent](t,n.scope,i.parentName,n,i.parentToChild,void 0,void 0,i),s=A[i.child](t,n.scope,i.childName,n,i.childToParent,i.stickyParentToChild&&o,i.childEvent,i);n.nodeList&&(o&&k.setPriority(o,n.nodeList.nesting+1),s&&k.setPriority(s,n.nodeList.nesting+1)),i.parentToChild&&(r=q.parentToChild(t,o,s,n.semaphore,i.bindingAttributeName,i));var c=function(){i.childToParent?a=q.childToParent(t,o,s,n.semaphore,i.bindingAttributeName,i.syncChildWithParent,i):i.stickyParentToChild&&s[N]&&k.onValue(s,O,"mutate"),i.initializeValues&&U(i,s,o,r,a)},l=function(){Q(o,r),Q(s,a),Q(s,O)};return"viewModel"===i.child?{value:i.stickyParentToChild?V(o):k.getValue(o),onCompleteBinding:c,bindingInfo:i,onTeardown:l}:(c(),{bindingInfo:i,onTeardown:l})}},U=function(e,t,n,i,a){var r=!1;e.parentToChild&&!e.childToParent||(!e.parentToChild&&e.childToParent?r=!0:void 0===k.getValue(t)||void 0===k.getValue(n)&&(r=!0)),r?a(k.getValue(t)):e.alreadyUpdatedChild||i(k.getValue(n))},Q=function(e,t){e&&e[_]&&"function"==typeof t&&k.offValue(e,t,"mutate")},W=function(e){return e.replace(/@/g,"")};n.exports={behaviors:M,getBindingInfo:F}}),define("can-component",["require","exports","module","can-component/control/control","can-namespace","can-construct","can-stache-bindings","can-view-scope","can-view-callbacks","can-view-nodelist","can-util/dom/data/data","can-util/dom/mutate/mutate","can-util/dom/child-nodes/child-nodes","can-util/dom/dispatch/dispatch","can-util/js/string/string","can-reflect","can-util/js/each/each","can-util/js/assign/assign","can-util/js/is-function/is-function","can-util/js/log/log","can-util/js/dev/dev","can-util/js/make-array/make-array","can-util/js/is-empty-object/is-empty-object","can-simple-observable","can-simple-map","can-util/dom/events/inserted/inserted","can-util/dom/events/removed/removed","can-view-model"],function(e,t,n){function i(e,t,n){var i;p.set.call(e,"preventDataBindings",!0);var a=c.behaviors.viewModel(e,n,function(e){return i=new E(e)},void 0,!0);return a?b(b({},t),{teardown:a,scope:t.scope.add(i)}):t}function a(e,t,n,a,r){var o=n.options._context;return function n(s,c){var l=r(s)||c.subtemplate,u=l!==c.subtemplate;if(l){delete o.tags[e];var p;p=u?a.toLightContent?i(s,{scope:c.scope.cloneFromRef(),options:c.options},c):i(s,t,c):i(s,c,c);var f=d.register([s],function(){p.teardown&&p.teardown()},c.parentNodeList||!0,!1);f.expression="<can-slot name='"+s.getAttribute("name")+"'/>";var v=l(p.scope,p.options,f),m=L(h(v));d.replace(f,v),d.update(f,m),o.tags[e]=n}}}var r=e("can-component/control/control"),o=e("can-namespace"),s=e("can-construct"),c=e("can-stache-bindings"),l=e("can-view-scope"),u=e("can-view-callbacks"),d=e("can-view-nodelist"),p=e("can-util/dom/data/data"),f=e("can-util/dom/mutate/mutate"),h=e("can-util/dom/child-nodes/child-nodes"),v=e("can-util/dom/dispatch/dispatch"),m=e("can-util/js/string/string"),g=e("can-reflect"),y=e("can-util/js/each/each"),b=e("can-util/js/assign/assign"),w=e("can-util/js/is-function/is-function"),k=e("can-util/js/log/log"),x=e("can-util/js/dev/dev"),L=e("can-util/js/make-array/make-array"),j=e("can-util/js/is-empty-object/is-empty-object"),E=e("can-simple-observable"),V=e("can-simple-map");e("can-util/dom/events/inserted/inserted"),e("can-util/dom/events/removed/removed"),e("can-view-model");var C=s.extend({setup:function(){if(s.setup.apply(this,arguments),C){var e=this;j(this.prototype.events)||(this.Control=r.extend(this.prototype.events)),this.prototype.viewModel&&g.isConstructorLike(this.prototype.viewModel)&&x.warn("can-component: Assigning a DefineMap or constructor type to the viewModel property may not be what you intended. Did you mean ViewModel instead? More info: https://canjs.com/doc/can-component.prototype.ViewModel.html");var t=this.prototype.viewModel||this.prototype.scope;if(t&&this.prototype.ViewModel)throw new Error("Cannot provide both a ViewModel and a viewModel property");var n=m.capitalize(m.camelize(this.prototype.tag))+"VM";this.prototype.ViewModel?"function"==typeof this.prototype.ViewModel?this.ViewModel=this.prototype.ViewModel:this.ViewModel=V.extend(n,this.prototype.ViewModel):t?"function"==typeof t?g.isObservableLike(t.prototype)&&g.isMapLike(t.prototype)?this.ViewModel=t:this.viewModelHandler=t:g.isObservableLike(t)&&g.isMapLike(t)?(k.warn("can-component: "+this.prototype.tag+" is sharing a single map across all component instances"),this.viewModelInstance=t):this.ViewModel=V.extend(n,t):this.ViewModel=V.extend(n,{}),this.prototype.template&&(k.warn("can-component.prototype.template: is deprecated and will be removed in a future release. Use can-component.prototype.view"),this.renderer=this.prototype.template),this.prototype.view&&(this.renderer=this.prototype.view),u.tag(this.prototype.tag,function(t,n){new e(t,n)})}}},{setup:function(e,t){var n,i,r,o=this,s=[];if(!p.get.call(e,"preventDataBindings")){var u=t.setupBindings||function(e,n,i){return c.behaviors.viewModel(e,t,n,i)};r=u(e,function(i){var a=o.constructor.ViewModel,r=o.constructor.viewModelHandler,s=o.constructor.viewModelInstance;if(r){var c=r.call(o,i,t.scope,e);g.isObservableLike(c)&&g.isMapLike(c)?s=c:a=g.isObservableLike(c.prototype)&&g.isMapLike(c.prototype)?c:V.extend(c)}return a&&(s=new o.constructor.ViewModel(i)),n=s,s},{})}this.viewModel=n,p.set.call(e,"viewModel",n),p.set.call(e,"preventDataBindings",!0);var m={helpers:{},tags:{}};y(this.helpers||{},function(e,t){w(e)&&(m.helpers[t]=e.bind(n))}),this.constructor.Control&&(this._control=new this.constructor.Control(e,{scope:this.viewModel,viewModel:this.viewModel,destroy:function(){for(var e=0,t=s.length;e<t;e++)s[e]()}}));var b,k,x={toLightContent:!0===this.leakScope,intoShadowContent:!0===this.leakScope};if(!!this.constructor.renderer){var L;L=x.intoShadowContent?{scope:t.scope.add(new l.Refs).add(this.viewModel,{viewModel:!0}),options:t.options.add(m)}:{scope:l.refsScope().add(this.viewModel,{viewModel:!0}),options:new l.Options(m)},m.tags["can-slot"]=a("can-slot",t,L,x,function(e){return t.templates[e.getAttribute("name")]}),m.tags.content=a("content",t,L,x,function(){return t.subtemplate}),b=this.constructor.renderer,k=L}else k={scope:t.scope.add(this.viewModel,{viewModel:!0}),options:t.options.add(m)},b=t.subtemplate||e.ownerDocument.createDocumentFragment.bind(e.ownerDocument);var j=d.register([],function(){v.call(e,"beforeremove",[],!1),r&&r()},t.parentNodeList||!0,!1);j.expression="<"+this.tag+">",s.push(function(){d.unregister(j)}),i=b(k.scope,k.options,j),f.appendChild.call(e,i),d.update(j,h(e))}});n.exports=o.Component=C}),define("can-simple-observable/async/async",["require","exports","module","can-simple-observable","can-observation","can-key-tree","can-queues","can-simple-observable/settable/settable","can-reflect","can-observation-recorder"],function(e,t,n){function i(e,t,n){function i(){return this.resolveCalled=!1,e.call(t,this.lastSetValue.get(),!0===this.bound?this.resolve:void 0)}this.handlers=new o([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),this.resolve=this.resolve.bind(this),this.lastSetValue=new a(n),this.handler=this.handler.bind(this),l.assignSymbols(this,{"can.getName":function(){return l.getName(this.constructor)+"<"+l.getName(e)+">"}}),Object.defineProperty(this.handler,"name",{value:l.getName(this)+".handler"}),Object.defineProperty(i,"name",{value:l.getName(e)+"::"+l.getName(this.constructor)}),this.observation=new r(i,this)}var a=e("can-simple-observable"),r=e("can-observation"),o=e("can-key-tree"),s=e("can-queues"),c=e("can-simple-observable/settable/settable"),l=e("can-reflect"),u=e("can-observation-recorder");(i.prototype=Object.create(c.prototype)).constructor=i,i.prototype.handler=function(e){void 0!==e&&c.prototype.handler.apply(this,arguments)};var d=u.ignore(l.getValue.bind(l));i.prototype.setup=function(){this.bound=!0,l.onValue(this.observation,this.handler,"notify"),this.resolveCalled||(this.value=d(this.observation))},i.prototype.resolve=function(e){this.resolveCalled=!0;var t=this.value;this.value=e,"function"==typeof this._log&&this._log(t,e),s.enqueueByQueue(this.handlers.getNode([]),this,[e,t],function(){return{}})},n.exports=i}),define("can-util/js/defaults/defaults",function(e,t,n){"use strict";n.exports=function(e){for(var t=arguments.length,n=1;n<t;n++)for(var i in arguments[n])void 0===e[i]&&(e[i]=arguments[n][i]);return e}}),define("can-util/js/string-to-any/string-to-any",function(e,t,n){"use strict";n.exports=function(e){switch(e){case"NaN":case"Infinity":return+e;case"null":return null;case"undefined":return;case"true":case"false":return"true"===e;default:var t=+e;return isNaN(t)?e:t}}}),define("can-define-lazy-value",function(e,t,n){n.exports=function(e,t,n,i){Object.defineProperty(e,t,{configurable:!0,get:function(){Object.defineProperty(this,t,{value:void 0,writable:!0});var a=n.call(this,e,t);return Object.defineProperty(this,t,{value:a,writable:!!i}),a},set:function(e){return Object.defineProperty(this,t,{value:e,writable:!!i}),e}})}}),define("can-define",["require","exports","module","can-namespace","can-symbol","can-reflect","can-observation","can-simple-observable/async/async","can-simple-observable/settable/settable","can-cid","can-event-queue","can-queues","can-util/js/is-empty-object/is-empty-object","can-util/js/assign/assign","can-util/js/dev/dev","can-util/js/is-plain-object/is-plain-object","can-util/js/each/each","can-util/js/defaults/defaults","can-util/js/string-to-any/string-to-any","can-define-lazy-value"],function(e,t,n){"use strict";"format cjs";function i(e){return f.isValueLike(e)&&f.isObservableLike(e)}var a,r,o,s,c,l,u,d=e("can-namespace"),p=e("can-symbol"),f=e("can-reflect"),h=e("can-observation"),v=e("can-simple-observable/async/async"),m=e("can-simple-observable/settable/settable"),g=e("can-cid"),y=e("can-event-queue"),b=e("can-queues"),w=e("can-util/js/is-empty-object/is-empty-object"),k=e("can-util/js/assign/assign"),x=e("can-util/js/dev/dev"),L=e("can-util/js/is-plain-object/is-plain-object"),j=e("can-util/js/each/each"),E=e("can-util/js/defaults/defaults"),V=e("can-util/js/string-to-any/string-to-any"),C=e("can-define-lazy-value"),O=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})},_=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,Object.getOwnPropertyDescriptor(e,n))};n.exports=r=d.define=function(e,t,n){var i,o=Object.create(n?n.dataInitializers:null),s=Object.create(n?n.computedInitializers:null),l=c(t,n);if(l.dataInitializers=o,l.computedInitializers=s,j(l.definitions,function(t,n){r.property(e,n,t,o,s)}),e.hasOwnProperty("_data"))for(i in o)C(e._data,i,o[i].bind(e),!0);else C(e,"_data",function(){var e=this,t={};for(var n in o)C(t,n,o[n].bind(e),!0);return t});if(e.hasOwnProperty("_computed"))for(i in s)C(e._computed,i,s[i].bind(e));else C(e,"_computed",function(){var e=this,t=Object.create(null);for(var n in s)C(t,n,s[n].bind(e));return t});e.hasOwnProperty("_cid")||C(e,"_cid",function(){return g({})});for(i in a)Object.defineProperty(e,i,{enumerable:!1,value:a[i],configurable:!0,writable:!0});Object.defineProperty(e,"_define",{enumerable:!1,value:l,configurable:!0,writable:!0});var u=p.iterator||p.for("iterator");return e[u]||O(e,u,function(){return new r.Iterator(this)}),l},r.extensions=function(){};var S=function(e){for(var t in e)if("type"!==t)return!1;return!0};r.property=function(e,t,n,i,a){var s=r.extensions.apply(this,arguments);s&&(n=s);var c=n.type;if(c&&f.isConstructorLike(c)&&x.warn("can-define: the definition for "+t+(e.constructor.shortName?" on "+e.constructor.shortName:"")+' uses a constructor for "type". Did you mean "Type"?'),c&&S(n)&&c===r.types["*"])Object.defineProperty(e,t,{get:o.get.data(t),set:o.set.events(t,o.get.data(t),o.set.data(t),o.eventType.data(t)),enumerable:!0,configurable:!0});else{n.type=c;var l,u=n.get?"computed":"data",d=o.read[u](t),p=o.get[u](t),v=o.set[u](t);n.get&&Object.defineProperty(n.get,"name",{value:f.getName(e)+"'s "+t+" getter"}),n.set&&Object.defineProperty(n.set,"name",{value:f.getName(e)+"'s "+t+" setter"});var m=function(e){return e};n.Type&&(m=o.set.Type(t,n.Type,m)),c&&(m=o.set.type(t,c,m));var g=o.set.events(t,d,v,o.eventType[u](t));void 0===n.value&&void 0===n.Value||(null!==n.value&&"object"==typeof n.value&&x.warn("can-define: The value for "+t+" is set to an object. This will be shared by all instances of the DefineMap. Use a function that returns the object instead."),n.value&&f.isConstructorLike(n.value)&&x.warn('can-define: The "value" for '+t+' is set to a constructor. Did you mean "Value" instead?'),l=h.ignore(o.get.defaultValue(t,n,m,g))),n.get?a[t]=o.compute(t,n.get,l):l&&(i[t]=l),n.get&&n.set?v=o.set.setter(t,n.set,o.read.lastSet(t),v,!0):n.set?v=o.set.setter(t,n.set,d,g,!1):n.get?n.get.length<1&&(v=function(){x.warn("can-define: Set value for property "+t+(e.constructor.shortName?" on "+e.constructor.shortName:"")+" ignored, as its definition has a zero-argument getter and no setter")}):v=g,c&&(v=o.set.type(t,c,v)),n.Type&&(v=o.set.Type(t,n.Type,v)),Object.defineProperty(e,t,{get:p,set:v,enumerable:"serialize"in n?!!n.serialize:!n.get,configurable:!0})}},r.Constructor=function(e){var t=function(e){r.setup.call(this,e)};return r(t.prototype,e),t},o={compute:function(e,t,n){return function(){var i,a,r=this,o=n&&n.call(this);return i=0===t.length?new h(t,r):1===t.length?new m(t,r,o):new v(t,r,o),a={oldValue:void 0,compute:i,count:0,handler:function(t){var n=a.oldValue;a.oldValue=t,r.dispatch({type:e,target:r},[t,n])}},Object.defineProperty(a.handler,"name",{value:f.getName(t).replace("getter","event emitter")}),a}},set:{data:function(e){return function(t){this._data[e]=t}},computed:function(e){return function(t){f.setValue(this._computed[e].compute,t)}},events:function(e,t,n,i){return function(i){if(this.__inSetup)n.call(this,i);else{var a=t.call(this);i!==a&&(n.call(this,i),this.dispatch({type:e,target:this,reasonLog:[f.getName(this)+"'s",e,"changed to",i,"from",a]},[i,a]))}}},setter:function(e,t,n,i,a){return function(r){var o,s=this;b.batch.start();var c=!1,l=n.call(this),u=t.call(this,r,function(e){i.call(s,e),c=!0,clearTimeout(o)},l);if(c)b.batch.stop();else if(a)if(void 0!==u)l!==u&&i.call(this,u),b.batch.stop();else{if(0===t.length)return i.call(this,r),void b.batch.stop();if(1!==t.length)return o=setTimeout(function(){x.warn('can/map/setter.js: Setter "'+e+'" did not return a value or call the setter callback.')},x.warnTimeout),void b.batch.stop();b.batch.stop()}else if(void 0!==u)i.call(this,u),b.batch.stop();else{if(0===t.length)return i.call(this,r),void b.batch.stop();if(1!==t.length)return o=setTimeout(function(){x.warn('can/map/setter.js: Setter "'+e+'" did not return a value or call the setter callback.')},x.warnTimeout),void b.batch.stop();i.call(this,void 0),b.batch.stop()}}},type:function(e,t,n){return"object"==typeof t?o.set.Type(e,t,n):function(i){return n.call(this,t.call(this,i,e))}},Type:function(e,t,n){return Array.isArray(t)&&r.DefineList?t=r.DefineList.extend({"#":t[0]}):"object"==typeof t&&(t=r.DefineMap?r.DefineMap.extend(t):r.Constructor(t)),function(e){return e instanceof t||null==e?n.call(this,e):n.call(this,new t(e))}}},eventType:{data:function(e){return function(t,n){return void 0!==n||this._data.hasOwnProperty(e)?"set":"add"}},computed:function(){return function(){return"set"}}},read:{data:function(e){return function(){return this._data[e]}},computed:function(e){return function(){return f.getValue(this._computed[e].compute)}},lastSet:function(e){return function(){var t=this._computed[e].compute;if(t.lastSetValue)return f.getValue(t.lastSetValue)}}},get:{defaultValue:function(e,t,n,i){return function(){var a=t.value;if(void 0!==a)"function"==typeof a&&(a=a.call(this)),a=n(a);else{var r=t.Value;r&&(a=n(new r))}if(t.set){var s,c=!0;return o.set.setter(e,t.set,function(){},function(e){c?s=e:i.call(this,e)},t.get).call(this,a),c=!1,s}return a}},data:function(e){return function(){return this.__inSetup||h.add(this,e),this._data[e]}},computed:function(e){return function(){return f.getValue(this._computed[e].compute)}}}},r.behaviors=["get","set","value","Value","type","Type","serialize"];var N=function(e,t,n){if("type"===t){var i=n;"string"==typeof i&&"object"==typeof(i=r.types[i])&&(k(e,i),i=i[t]),e[t]=i}else e[t]=n};s=function(e,t,n){var i={};return j(t,function(e,t){N(i,t,e)}),j(n,function(e,t){void 0===i[t]&&"type"!==t&&"Type"!==t&&(i[t]=e)}),i.type||i.Type||E(i,n),w(i)&&(i.type=r.types["*"]),i},u=function(e,t,n){var i;return"string"==typeof t?i={type:t}:"function"==typeof t?f.isConstructorLike(t)?i={Type:t}:l(t)&&(i={type:t}):Array.isArray(t)?i={Type:t}:L(t)&&(i=t),i?s(0,i,n):t},c=function(e,t){var n,i=Object.create(t?t.definitions:null),a={},r=e["*"];return r?(delete e["*"],n=u(0,r,{})):n=Object.create(null),_(e,function(e,t){var r;if(r=t.get||t.set?{get:t.get,set:t.set}:t.value,"constructor"!==e){var o=u(0,r,n);o&&"object"==typeof o?i[e]=o:a[e]=o}else a[e]=r}),r&&(e["*"]=r),{definitions:i,methods:a,defaultDefinition:n}},a=y({});var D=p.for("can.meta");k(a,{_eventSetup:function(){},_eventTeardown:function(){},addEventListener:function(e,t,n){var i=this._computed&&this._computed[e];return i&&i.compute&&(i.count?i.count++:(i.count=1,f.onValue(i.compute,i.handler,"notify"),i.oldValue=f.getValue(i.compute))),y.addEventListener.apply(this,arguments)},removeEventListener:function(e,t){var n=this._computed&&this._computed[e];return n&&(1===n.count?(n.count=0,f.offValue(n.compute,n.handler,"notify")):n.count--),y.removeEventListener.apply(this,arguments)}}),a.on=a.bind=a.addEventListener,a.off=a.unbind=a.removeEventListener,delete a.one,r.setup=function(e,t){g(this),Object.defineProperty(this,"_cid",{value:this._cid,enumerable:!1,writable:!1}),Object.defineProperty(this,"constructor",{value:this.constructor,enumerable:!1,writable:!1}),Object.defineProperty(this,D,{value:Object.create(null),enumerable:!1,writable:!1});var n=this._define.definitions,i=Object.create(null),a=this;f.eachKey(e,function(e,t){if(void 0!==n[t])a[t]=e;else{var o=r.makeSimpleGetterSetter(t);i[t]={},Object.defineProperty(a,t,o),a[t]=r.types.observable(e)}}),w(i)||O(this,"_instanceDefinitions",i),this._data,this._computed,!1!==t&&Object.seal(this)},r.replaceWith=C,r.eventsProto=a,r.defineConfigurableAndNotEnumerable=O,r.make=o,r.getDefinitionOrMethod=u;var T={};r.makeSimpleGetterSetter=function(e){if(!T[e]){var t=o.set.events(e,o.get.data(e),o.set.data(e),o.eventType.data(e));T[e]={get:o.get.data(e),set:function(e){return t.call(this,r.types.observable(e))},enumerable:!0}}return T[e]},r.Iterator=function(e){this.obj=e,this.definitions=Object.keys(e._define.definitions),this.instanceDefinitions=e._instanceDefinitions?Object.keys(e._instanceDefinitions):Object.keys(e),this.hasGet="function"==typeof e.get},r.Iterator.prototype.next=function(){var e;if(this.definitions.length){if(e=this.definitions.shift(),this.obj._define.definitions[e].get)return this.next()}else{if(!this.instanceDefinitions.length)return{value:void 0,done:!0};e=this.instanceDefinitions.shift()}return{value:[e,this.hasGet?this.obj.get(e):this.obj[e]],done:!1}},l=function(e){return e&&!0===e.canDefineType},r.types={date:function(e){var t=typeof e;return"string"===t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"===t?new Date(e):e},number:function(e){return null==e?e:+e},boolean:function(e){return null==e?e:!("false"===e||"0"===e||!e)},observable:function(e){return Array.isArray(e)&&r.DefineList?e=new r.DefineList(e):L(e)&&r.DefineMap&&(e=new r.DefineMap(e)),e},stringOrObservable:function(e){return Array.isArray(e)?new r.DefaultList(e):L(e)?new r.DefaultMap(e):r.types.string(e)},htmlbool:function(e){return""===e||!!V(e)},"*":function(e){return e},any:function(e){return e},string:function(e){return null==e?e:""+e},compute:{set:function(e,t,n,a){return i(e)?e:i(a)?(f.setValue(a,e),a):e},get:function(e){return i(e)?f.getValue(e):e}}}}),define("can-define/define-helpers/define-helpers",["require","exports","module","can-define","can-reflect","can-queues"],function(e,t,n){var i=e("can-define"),a=e("can-reflect"),r=e("can-queues"),o={defineExpando:function(e,t,n){var a=e._define.definitions;if(!a||!a[t]){var o=e._instanceDefinitions;if(o||(Object.defineProperty(e,"_instanceDefinitions",{configurable:!0,enumerable:!1,value:{}}),o=e._instanceDefinitions),!o[t]){var s=e._define.defaultDefinition||{type:i.types.observable};return i.property(e,t,s,{},{}),e._data[t]=s.type?s.type(n):i.types.observable(n),o[t]=s,r.batch.start(),e.dispatch({type:"__keys",target:e}),void 0!==e._data[t]&&e.dispatch({type:t,target:e},[e._data[t],void 0]),r.batch.stop(),!0}}},reflectSerialize:function(e){var t=this._define.definitions,n=this._define.defaultDefinition;return this.each(function(i,r){var o=t[r];void 0!==(i=o&&"function"==typeof o.serialize?o.serialize.call(this,i,r):n&&"function"==typeof n.serialize?n.serialize.call(this,i,r):a.serialize(i))&&(e[r]=i)},this),e},reflectUnwrap:function(e){return this.forEach(function(t,n){void 0!==t&&(e[n]=a.unwrap(t))}),e}};n.exports=o}),define("can-util/js/cid-set/cid-set",["require","exports","module","can-cid/set/set"],function(e,t,n){!function(e,t,n,i){"use strict";i.exports=t("can-cid/set/set")}(0,e,0,n)}),define("can-define/ensure-meta",["require","exports","module","can-symbol","can-reflect"],function(e,t,n){var i=e("can-symbol"),a=e("can-reflect");n.exports=function(e){var t=i.for("can.meta"),n=e[t];return n||(n={},a.setKeyValue(e,t,n)),n}}),define("can-define/map/map",["require","exports","module","can-construct","can-define","can-define/define-helpers/define-helpers","can-observation","can-namespace","can-util/js/log/log","can-reflect","can-symbol","can-util/js/cid-set/cid-set","can-util/js/cid-map/cid-map","can-util/js/dev/dev","can-queues","can-define/ensure-meta","can-log/dev/dev"],function(e,t,n){function i(e){w.batch.start(),v.assignMap(this,e||{}),w.batch.stop()}function a(e){w.batch.start(),v.updateMap(this,e||{}),w.batch.stop()}function r(e){w.batch.start(),v.assignDeepMap(this,e||{}),w.batch.stop()}function o(e){w.batch.start(),v.updateDeepMap(this,e||{}),w.batch.stop()}function s(e,t){d.defineExpando(this,e,t)||(this[e]=t)}function c(e){var t=this[e];return void 0!==t||e in this||Object.isSealed(this)?t:(p.add(this,e),this[e])}var l=e("can-construct"),u=e("can-define"),d=e("can-define/define-helpers/define-helpers"),p=e("can-observation"),f=e("can-namespace"),h=e("can-util/js/log/log"),v=e("can-reflect"),m=e("can-symbol"),g=e("can-util/js/cid-set/cid-set"),y=e("can-util/js/cid-map/cid-map"),b=e("can-util/js/dev/dev"),w=e("can-queues"),k=e("can-define/ensure-meta"),x=e("can-log/dev/dev"),L=function(e){var t=[];for(var n in e){var i=e[n];"object"==typeof i&&("serialize"in i?!i.serialize:i.get)||t.push(n)}return t},j=l.extend("DefineMap",{setup:function(e){var t,n=this.prototype;if(j){u(n,n,e.prototype._define);for(t in j.prototype)u.defineConfigurableAndNotEnumerable(n,t,n[t]);this.prototype.setup=function(e){u.setup.call(this,e||{},this.constructor.seal)}}else for(t in n)u.defineConfigurableAndNotEnumerable(n,t,n[t]);u.defineConfigurableAndNotEnumerable(n,"constructor",this)}},{setup:function(e,t){this._define||(Object.defineProperty(this,"_define",{enumerable:!1,value:{definitions:{}}}),Object.defineProperty(this,"_data",{enumerable:!1,value:{}})),u.setup.call(this,e||{},!0===t)},get:function(e){return e?c.call(this,e):v.unwrap(this,y)},set:function(e,t){return"object"==typeof e?(b.warn("can-define/map/map.prototype.set is deprecated; please use can-define/map/map.prototype.assign or can-define/map/map.prototype.update instead"),!0===t?o.call(this,e):r.call(this,e)):s.call(this,e,t),this},assignDeep:function(e){return r.call(this,e),this},updateDeep:function(e){return o.call(this,e),this},assign:function(e){return i.call(this,e),this},update:function(e){return a.call(this,e),this},serialize:function(){return v.serialize(this,y)},forEach:function(){var e=function(e,t,n){return v.eachKey(e,t,n)},t=p.ignore(e);return function(n,i,a){return!1===a?t(this,n,i):e(this,n,i)}}(),"*":{type:u.types.observable},log:function(e){var t=this,n=function(e){return"string"==typeof e?JSON.stringify(e):e},i=k(t),a=i.allowedLogKeysSet||new Set;i.allowedLogKeysSet=a,e&&a.add(e),i._log=function(i,r){var o=i.type;"__keys"===o||e&&!a.has(o)||x.log(v.getName(t),"\n key ",n(o),"\n is  ",n(r[0]),"\n was ",n(r[1]))}}});v.assignSymbols(j.prototype,{"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":c,"can.setKeyValue":s,"can.deleteKeyValue":function(e){return this.set(e,void 0),this},"can.getOwnEnumerableKeys":function(){return p.add(this,"__keys"),L(this._define.definitions).concat(L(this._instanceDefinitions))},"can.assignDeep":r,"can.updateDeep":o,"can.unwrap":d.reflectUnwrap,"can.serialize":d.reflectSerialize,"can.keyHasDependencies":function(e){return!!(this._computed&&this._computed[e]&&this._computed[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computed&&this._computed[e]&&this._computed[e].compute&&((t={}).valueDependencies=new g,t.valueDependencies.add(this._computed[e].compute)),t},"can.getName":function(){return v.getName(this.constructor)+"{}"}}),v.setKeyValue(j.prototype,m.iterator,function(){return new u.Iterator(this)});for(var E in u.eventsProto)j[E]=u.eventsProto[E],Object.defineProperty(j.prototype,E,{enumerable:!1,value:u.eventsProto[E],writable:!0});("getOwnPropertySymbols"in Object?Object.getOwnPropertySymbols(u.eventsProto):[m.for("can.onKeyValue"),m.for("can.offKeyValue")]).forEach(function(e){Object.defineProperty(j.prototype,e,{enumerable:!1,value:u.eventsProto[e],writable:!0})}),u.DefineMap=j,Object.defineProperty(j.prototype,"toObject",{enumerable:!1,writable:!0,value:function(){return h.warn("Use DefineMap::get instead of DefineMap::toObject"),this.get()}}),Object.defineProperty(j.prototype,"each",{enumerable:!1,writable:!0,value:j.prototype.forEach}),n.exports=f.DefineMap=j}),define("can-define/list/list",["require","exports","module","can-construct","can-define","can-queues","can-observation","can-util/js/log/log","can-util/js/dev/dev","can-define/define-helpers/define-helpers","can-log/dev/dev","can-define/ensure-meta","can-util/js/assign/assign","can-util/js/diff/diff","can-util/js/each/each","can-util/js/make-array/make-array","can-namespace","can-reflect","can-symbol","can-util/js/cid-set/cid-set","can-util/js/cid-map/cid-map","can-util/js/single-reference/single-reference"],function(e,t,n){var i=e("can-construct"),a=e("can-define"),r=a.make,o=e("can-queues"),s=e("can-observation"),c=e("can-util/js/log/log"),l=e("can-util/js/dev/dev"),u=e("can-define/define-helpers/define-helpers"),d=e("can-log/dev/dev"),p=e("can-define/ensure-meta"),f=e("can-util/js/assign/assign"),h=e("can-util/js/diff/diff"),v=e("can-util/js/each/each"),m=e("can-util/js/make-array/make-array"),g=e("can-namespace"),y=e("can-reflect"),b=e("can-symbol"),w=e("can-util/js/cid-set/cid-set"),k=e("can-util/js/cid-map/cid-map"),x=e("can-util/js/single-reference/single-reference"),L=[].splice,j=!1,E=function(e){return e},V=function(e){return function(t){for(var n in e)if(t[n]!==e[n])return!1;return!0}},C=a.eventsProto[b.for("can.onKeyValue")],O=a.eventsProto[b.for("can.offKeyValue")],_=i.extend("DefineList",{setup:function(e){if(_){var t=this.prototype,n=a(t,t,e.prototype._define),i=n.definitions["#"]||n.defaultDefinition;i&&(i.Type?this.prototype.__type=r.set.Type("*",i.Type,E):i.type&&(this.prototype.__type=r.set.type("*",i.type,E)))}}},{setup:function(e){this._define||(Object.defineProperty(this,"_define",{enumerable:!1,value:{definitions:{length:{type:"number"},_length:{type:"number"}}}}),Object.defineProperty(this,"_data",{enumerable:!1,value:{}})),a.setup.call(this,{},!1),Object.defineProperty(this,"_length",{enumerable:!1,configurable:!0,writable:!0,value:0}),e&&this.splice.apply(this,[0,0].concat(y.toArray(e)))},__type:a.types.observable,_triggerChange:function(e,t,n,i){var a=+e;if(isNaN(a))this.dispatch({type:""+e,target:this},[n,i]);else{var r=this._define.definitions["#"];"add"===t?(r&&"function"==typeof r.added&&s.ignore(r.added).call(this,n,a),o.batch.start(),this.dispatch({type:t,reasonLog:[y.getName(this),"added",JSON.stringify(n),"at",a]},[n,a]),this.dispatch("can.onPatches",[[{insert:n,index:a,deleteCount:0}]]),o.batch.stop()):"remove"===t?(r&&"function"==typeof r.removed&&s.ignore(r.removed).call(this,i,a),o.batch.start(),this.dispatch({type:t,reasonLog:[y.getName(this),"remove",JSON.stringify(i),"at",a]},[i,a]),this.dispatch("can.onPatches",[[{index:a,deleteCount:i.length}]]),o.batch.stop()):this.dispatch(t,[n,a])}},get:function(e){return arguments.length?(isNaN(e)?s.add(this,e):s.add(this,"length"),this[e]):y.unwrap(this,k)},set:function(e,t){if("object"!=typeof e)if("number"==typeof(e=isNaN(+e)||e%1?e:+e)){if("number"==typeof e&&e>this._length-1){var n=new Array(e+1-this._length);return n[n.length-1]=t,this.push.apply(this,n),n}this.splice(e,1,t)}else u.defineExpando(this,e,t)||(this[e]=t);else l.warn("can-define/list/list.prototype.set is deprecated; please use can-define/list/list.prototype.assign or can-define/list/list.prototype.update instead"),y.isListLike(e)?t?this.replace(e):y.assignList(this,e):y.assignMap(this,e);return this},assign:function(e){return y.isListLike(e)?y.assignList(this,e):y.assignMap(this,e),this},update:function(e){return y.isListLike(e)?y.updateList(this,e):y.updateMap(this,e),this},assignDeep:function(e){return y.isListLike(e)?y.assignDeepList(this,e):y.assignDeepMap(this,e),this},updateDeep:function(e){return y.isListLike(e)?y.updateDeepList(this,e):y.updateDeepMap(this,e),this},_items:function(){var e=[];return this._each(function(t){e.push(t)}),e},_each:function(e){for(var t=0,n=this._length;t<n;t++)e(this[t],t)},splice:function(e,t){var n,i,a,r=m(arguments),s=[],c=r.length>2,l=this._length;for(e=e||0,n=0,i=r.length-2;n<i;n++)r[a=n+2]=this.__type(r[a],a),s.push(r[a]),this[n+e]!==r[a]&&(c=!1);if(c&&this._length<=s.length)return s;void 0===t&&(t=r[1]=this._length-e),j=!0;var u=L.apply(this,r);return j=!1,o.batch.start(),t>0&&this._triggerChange(""+e,"remove",void 0,u),r.length>2&&this._triggerChange(""+e,"add",s,u),this.dispatch("length",[this._length,l]),o.batch.stop(),u},serialize:function(){return y.serialize(this,k)},log:function(e){var t=this,n=function(e){return"string"==typeof e?JSON.stringify(e):e},i=p(t),a=i.allowedLogKeysSet||new Set;i.allowedLogKeysSet=a,e&&a.add(e),i._log=function(i,r){var o=i.type;"can.onPatches"===o||e&&!a.has(o)||("add"===o||"remove"===o?d.log(y.getName(t),"\n how   ",n(o),"\n what  ",n(r[0]),"\n index ",n(r[1])):d.log(y.getName(t),"\n key ",n(o),"\n is  ",n(r[0]),"\n was ",n(r[1])))}}}),S=function(e){return e[0]&&Array.isArray(e[0])?e[0]:m(e)};v({push:"length",unshift:0},function(e,t){var n=[][t];_.prototype[t]=function(){for(var t,i,a=[],r=e?this._length:0,s=arguments.length;s--;)i=arguments[s],a[s]=this.__type(i,s);return j=!0,t=n.apply(this,a),j=!1,this.comparator&&!a.length||(o.batch.start(),this._triggerChange(""+r,"add",a,void 0),this.dispatch("length",[this._length,r]),o.batch.stop()),t}}),v({pop:"length",shift:0},function(e,t){var n=[][t];_.prototype[t]=function(){if(this._length){var t,i=S(arguments),a=e&&this._length?this._length-1:0,r=this._length?this._length:0;return j=!0,t=n.apply(this,i),j=!1,o.batch.start(),this._triggerChange(""+a,"remove",void 0,[t]),this.dispatch("length",[this._length,r]),o.batch.stop(),t}}}),v({map:3,filter:3,reduce:4,reduceRight:4,every:3,some:3},function(e,t){_.prototype[t]=function(){var n=this,i=[].slice.call(arguments,0),a=i[0],r=i[e-1]||n;"object"==typeof a&&(a=V(a)),i[0]=function(){var t=[].slice.call(arguments,0);return t[e-3]=n.get(t[e-2]),a.apply(r,t)};var o=Array.prototype[t].apply(this,i);return"map"===t?new _(o):"filter"===t?new n.constructor(o):o}}),f(_.prototype,{indexOf:function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this.get(n)===e)return n;return-1},lastIndexOf:function(e,t){for(var n=t=void 0===t?this.length-1:t;n>=0;n--)if(this.get(n)===e)return n;return-1},join:function(){return s.add(this,"length"),[].join.apply(this,arguments)},reverse:function(){var e=[].reverse.call(this._items());return this.replace(e)},slice:function(){s.add(this,"length");var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var e=[];return v(arguments,function(t){y.isListLike(t)?(Array.isArray(t)?t:m(t)).forEach(function(t){e.push(this.__type(t))},this):e.push(this.__type(t))},this),new this.constructor(Array.prototype.concat.apply(m(this),e))},forEach:function(e,t){for(var n,i=0,a=this.length;i<a&&(n=this.get(i),!1!==e.call(t||n,n,i,this));i++);return this},replace:function(e){var t=h(this,e);o.batch.start();for(var n=0,i=t.length;n<i;n++)this.splice.apply(this,[t[n].index,t[n].deleteCount].concat(t[n].insert));return o.batch.stop(),this},sort:function(e){var t=Array.prototype.slice.call(this);Array.prototype.sort.call(this,e);var n=Array.prototype.slice.call(this);return o.batch.start(),this.dispatch("remove",[t,0]),this.dispatch("add",[n,0]),this.dispatch("length",[this._length,this._length]),o.batch.stop(),this}});for(var N in a.eventsProto)_[N]=a.eventsProto[N],Object.defineProperty(_.prototype,N,{enumerable:!1,value:a.eventsProto[N],writable:!0});Object.defineProperty(_.prototype,"length",{get:function(){return this.__inSetup||s.add(this,"length"),this._length},set:function(e){if(j)this._length=e;else if(null!=e&&!isNaN(+e)&&e!==this._length)if(e>this._length-1){var t=new Array(e-this._length);this.push.apply(this,t)}else this.splice(e)},enumerable:!0}),Object.defineProperty(_.prototype,"each",{enumerable:!1,writable:!0,value:_.prototype.forEach}),_.prototype.attr=function(e,t){return c.warn("DefineMap::attr shouldn't be called"),0===arguments.length?this.get():e&&"object"==typeof e?this.set.apply(this,arguments):1===arguments.length?this.get(e):this.set(e,t)},_.prototype.item=function(e,t){return 1===arguments.length?this.get(e):this.set(e,t)},_.prototype.items=function(){return c.warn("DefineList::get should should be used instead of DefineList::items"),this.get()},y.assignSymbols(_.prototype,{"can.isMoreListLikeThanMapLike":!0,"can.isMapLike":!0,"can.isListLike":!0,"can.isValueLike":!1,"can.getKeyValue":_.prototype.get,"can.setKeyValue":_.prototype.set,"can.onKeyValue":function(e,t,n){var i;return isNaN(e)?C.apply(this,arguments):(i=function(){t(this[e])},Object.defineProperty(i,"name",{value:"translationHandler("+e+")::"+y.getName(this)+".onKeyValue('length',"+y.getName(t)+")"}),x.set(t,this,i,e),C.call(this,"length",i,n))},"can.offKeyValue":function(e,t,n){var i;return isNaN(e)?O.apply(this,arguments):(i=x.getAndDelete(t,this,e),O.call(this,"length",i,n))},"can.deleteKeyValue":function(e){if("number"==typeof(e=isNaN(+e)||e%1?e:+e))this.splice(e,1);else{if("length"===e||"_length"===e)return;this.set(e,void 0)}return this},"can.assignDeep":function(e){o.batch.start(),y.assignList(this,e),o.batch.stop()},"can.updateDeep":function(e){o.batch.start(),this.replace(e),o.batch.stop()},"can.keyHasDependencies":function(e){return!!(this._computed&&this._computed[e]&&this._computed[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computed&&this._computed[e]&&this._computed[e].compute&&((t={}).valueDependencies=new w,t.valueDependencies.add(this._computed[e].compute)),t},"can.splice":function(e,t,n){this.splice.apply(this,[e,t].concat(n))},"can.onPatches":function(e,t){this[b.for("can.onKeyValue")]("can.onPatches",e,t)},"can.offPatches":function(e,t){this[b.for("can.offKeyValue")]("can.onPatches",e,t)},"can.getName":function(){return y.getName(this.constructor)+"[]"}}),y.setKeyValue(_.prototype,b.iterator,function(){var e=-1;return"number"!=typeof this._length&&(this._length=0),{next:function(){return e++,{value:this[e],done:e>=this._length}}.bind(this)}}),a.DefineList=_,n.exports=g.DefineList=_}),define("can-view-target",["require","exports","module","can-util/dom/child-nodes/child-nodes","can-util/dom/attr/attr","can-util/js/each/each","can-util/js/make-array/make-array","can-util/dom/document/document","can-util/dom/mutate/mutate","can-namespace","can-globals/mutation-observer/mutation-observer"],function(e,t,n){!function(e,t,n,i){function a(e,t,n,i){var a,r,o,s,c,u=n,d=typeof e,p=function(){return a||(a={path:n,callbacks:[]},t.push(a),u=[]),a};if("object"===d){if(e.tag){if(r=b&&e.namespace?i.createElementNS(e.namespace,e.tag):i.createElement(e.tag),e.attrs)for(var h in e.attrs){var v=e.attrs[h];"function"==typeof v?p().callbacks.push({callback:v}):l.setAttribute(r,h,v)}if(e.attributes)for(s=0,c=e.attributes.length;s<c;s++)p().callbacks.push({callback:e.attributes[s]});e.children&&e.children.length&&(o=a?a.paths=[]:t,r.appendChild(m(e.children,o,u,i)))}else if(e.comment&&(r=i.createComment(e.comment),e.callbacks))for(s=0,c=e.attributes.length;s<c;s++)p().callbacks.push({callback:e.callbacks[s]})}else"string"===d?r=i.createTextNode(e):"function"===d&&(g?(r=i.createTextNode(""),p().callbacks.push({callback:e})):(r=i.createComment("~"),p().callbacks.push({callback:function(){var t=i.createTextNode("");return f.replaceChild.call(this.parentNode,t,this),e.apply(t,arguments)}})));return r}function r(e,t,n){for(var i=t.path,a=t.callbacks,o=t.paths,s=e,c=i?i.length:0,l=o?o.length:0,u=0;u<c;u++)s=s.childNodes.item(i[u]);for(u=0;u<l;u++)r(s,o[u],n);n.push({element:s,callbacks:a})}function o(e,t){for(var n,i,a,r=e.length,o=0;o<r;o++){n=(a=e[o]).callbacks.length,i=a.element;for(var s=0;s<n;s++)a.callbacks[s].callback.apply(i,t)}}function s(e,t){var n=[],i=m(e,n,[],t||p());return{paths:n,clone:i,hydrate:function(){for(var e=w(this.clone),t=d(arguments),i=[],a=0;a<n.length;a++)r(e,n[a],i);return o(i,t),e}}}var c=t("can-util/dom/child-nodes/child-nodes"),l=t("can-util/dom/attr/attr"),u=t("can-util/js/each/each"),d=t("can-util/js/make-array/make-array"),p=t("can-util/dom/document/document"),f=t("can-util/dom/mutate/mutate"),h=t("can-namespace"),v=t("can-globals/mutation-observer/mutation-observer"),m=function(e,t,n,i){for(var r=i.createDocumentFragment(),o=0,s=e.length;o<s;o++){var c=e[o];r.appendChild(a(c,t,n.concat(o),i))}return r},g="undefined"!=typeof document&&function(){var e=document.createDocumentFragment(),t=document.createElement("div");t.appendChild(document.createTextNode("")),t.appendChild(document.createTextNode("")),e.appendChild(t);var n=e.cloneNode(!0);return 2===c(n.firstChild).length}(),y="undefined"!=typeof document&&function(){var e=document.createElement("a");e.innerHTML="<xyz></xyz>";var t,n,i=e.cloneNode(!0),a="<xyz></xyz>"===i.innerHTML;return a?((e=document.createDocumentFragment()).appendChild(document.createTextNode("foo-bar")),(t=v())?((n=new t(function(){})).observe(document.documentElement,{childList:!0,subtree:!0}),i=e.cloneNode(!0),n.disconnect()):i=e.cloneNode(!0),1===i.childNodes.length):a}(),b="undefined"!=typeof document&&!!document.createElementNS,w=y?function(e){return e.cloneNode(!0)}:function(e){var t,n=e.ownerDocument;if(1===e.nodeType?t="http://www.w3.org/1999/xhtml"!==e.namespaceURI&&b&&n.createElementNS?n.createElementNS(e.namespaceURI,e.nodeName):n.createElement(e.nodeName):3===e.nodeType?t=n.createTextNode(e.nodeValue):8===e.nodeType?t=n.createComment(e.nodeValue):11===e.nodeType&&(t=n.createDocumentFragment()),e.attributes){var i=d(e.attributes);u(i,function(e){e&&e.specified&&l.setAttribute(t,e.nodeName||e.name,e.nodeValue||e.value)})}if(e&&e.firstChild)for(var a=e.firstChild;a;)t.appendChild(w(a)),a=a.nextSibling;return t};s.keepsTextNodes=g,s.cloneNode=w,h.view=h.view||{},i.exports=h.view.target=s}(0,e,0,n)}),define("can-stache/src/mustache_core",["require","exports","module","can-view-live","can-view-nodelist","can-observation","can-stache/src/utils","can-stache/src/expression","can-util/dom/frag/frag","can-util/dom/attr/attr","can-symbol","can-reflect"],function(e,t,n){var i=e("can-view-live"),a=e("can-view-nodelist"),r=e("can-observation"),o=e("can-stache/src/utils"),s=e("can-stache/src/expression"),c=e("can-util/dom/frag/frag"),l=e("can-util/dom/attr/attr"),u=e("can-symbol"),d=e("can-reflect"),p=/(?:(^|\r?\n)(\s*)(\{\{([\s\S]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([\s\S]*)\}\}\}?)/g,f=/(\s*)(\{\{\{?)(-?)([\s\S]*?)(-?)(\}\}\}?)(\s*)/g,h=function(){},v={expression:s,makeEvaluator:function(e,t,n,i,a,r,l,u){if("^"===i){var p=r;r=l,l=p}var f,h;if(a instanceof s.Call){if(h={context:e.peek("."),scope:e,nodeList:n,exprData:a,helpersScope:t},o.convertToScopes(h,e,t,n,r,l,u),f=a.value(e,t,h),a.isHelper)return f}else if(a instanceof s.Bracket){if(f=a.value(e),a.isHelper)return f}else if(a instanceof s.Lookup){if(f=a.value(e),a.isHelper)return f}else if(a instanceof s.Helper&&a.methodExpr instanceof s.Bracket){if(f=a.methodExpr.value(e),a.isHelper)return f}else{var v={isArgument:!0,args:[e.peek("."),e],asCompute:!0},m=a.helperAndValue(e,t,v,n,r,l,u),g=m.helper;if(f=m.value,g)return a.evaluator(g,e,t,v,n,r,l,u)}return i?"#"===i||"^"===i?(h={},o.convertToScopes(h,e,t,n,r,l,u),function(){var n=d.getValue(f);if("function"==typeof n)return n;if("string"!=typeof n&&o.isArrayLike(n)){var i=d.isObservableLike(n)&&d.isListLike(n);return(i?n.attr("length"):n.length)?u?o.getItemsStringContent(n,i,h,t):c(o.getItemsFragContent(n,h,e)):h.inverse(e,t)}return n?h.fn(n||e,t):h.inverse(e,t)}):void 0:f},makeLiveBindingPartialRenderer:function(e,t){var n,o=(e=e.trim()).split(/\s+/).shift();return o!==e&&(n=v.expression.parse(e)),function(e,s,l){var u=[this];u.expression=">"+o,a.register(u,null,l||!0,t.directlyNested);var p=new r(function(){var t=o;if(n&&1===n.argExprs.length){var i=d.getValue(n.argExprs[0].value(e,s));void 0===i?dev.warn("The context ("+n.argExprs[0].key+") you passed into thepartial ("+o+") is not defined in the scope!"):e=e.add(i)}var a,l=s.peek("partials."+t);if(l=l||s.inlinePartials&&s.inlinePartials[t])a=function(){return l.render?l.render(e,s,u):l(e,s)};else{var p=e.read(t,{isArgument:!0}).value;if(null===p||!p&&"*"===t[0])return c("");p&&(t=p),a=function(){return"function"==typeof t?t(e,s,u):v.getTemplateById(t)(e,s,u)}}var f=r.ignore(a)();return c(f)});d.setPriority(p,u.nesting),i.html(this,p,this.parentNode,u)}},makeStringBranchRenderer:function(e,t){var n=v.expression.parse(t),i=e+t;n instanceof s.Helper||n instanceof s.Call||(n=new s.Helper(n,[],{}));var a=function(t,a,r,o){var s=t.__cache[i];!e&&s||(s=m(t,a,null,e,n,r,o,!0),e||(t.__cache[i]=s));var c;return null==(c=s[u.for("can.onValue")]?d.getValue(s):s())?"":""+c};return a.exprData=n,a},makeLiveBindingBranchRenderer:function(e,t,n){var o=v.expression.parse(t);o instanceof s.Helper||o instanceof s.Call||o instanceof s.Bracket||o instanceof s.Lookup||(o=new s.Helper(o,[],{}));var p=function(s,p,f,v,g){var y=[this];y.expression=t,a.register(y,null,f||!0,n.directlyNested);var b,w=m(s,p,y,e,o,v,g,n.tag);if(w[u.for("can.onValue")]?b=w:(Object.defineProperty(w,"name",{value:"{{"+t+"}}"}),b=new r(w,null,{isObservable:!1})),!1===d.setPriority(b,y.nesting))throw new Error("can-stache unable to set priority on observable");d.onValue(b,h);var k=d.getValue(b);"function"==typeof k?r.ignore(k)(this):d.valueHasDependencies(b)?n.attr?i.attr(this,n.attr,b):n.tag?i.attrs(this,b):n.text&&"object"!=typeof k?i.text(this,b,this.parentNode,y):i.html(this,b,this.parentNode,y):n.attr?l.set(this,n.attr,k):n.tag?i.attrs(this,k):n.text&&"string"==typeof k?this.nodeValue=k:null!=k&&a.replace([this],c(k,this.ownerDocument)),d.offValue(b,h)};return p.exprData=o,p},splitModeFromExpression:function(e,t){var n=(e=e.trim()).charAt(0);return"#/{&^>!<".indexOf(n)>=0?e=e.substr(1).trim():n=null,"{"===n&&t.node&&(n=null),{mode:n,expression:e}},cleanLineEndings:function(e){return e.replace(p,function(e,t,n,i,a,r,o,s,c,l){r=r||"",t=t||"",n=n||"";var u=g(a||c,{});return s||">{".indexOf(u.mode)>=0?e:"^#!/".indexOf(u.mode)>=0?(n=t+n&&" ")+i+(0!==l&&o.length?t+"\n":""):n+i+r+(n.length||0!==l?t+"\n":"")})},cleanWhitespaceControl:function(e){return e.replace(f,function(e,t,n,i,a,r,o,s,c){return"-"===i&&(t=""),"-"===r&&(s=""),t+n+a+o+s})},Options:o.Options,getTemplateById:function(){}},m=v.makeEvaluator,g=v.splitModeFromExpression;n.exports=v}),define("can-stache/src/html_section",["require","exports","module","can-view-target","can-view-scope","can-observation","can-stache/src/utils","can-stache/src/mustache_core","can-util/dom/document/document","can-util/js/assign/assign","can-util/js/last/last"],function(e,t,n){var i=e("can-view-target"),a=e("can-view-scope"),r=e("can-observation"),o=e("can-stache/src/utils"),s=e("can-stache/src/mustache_core"),c=e("can-util/dom/document/document"),l=e("can-util/js/assign/assign"),u=e("can-util/js/last/last"),d="undefined"!=typeof document&&function(){var e=c().createElement("div");return function(t){return-1===t.indexOf("&")?t.replace(/\r\n/g,"\n"):(e.innerHTML=t,0===e.childNodes.length?"":e.childNodes.item(0).nodeValue)}}(),p=function(){this.stack=[new f]};p.scopify=function(e){return r.ignore(function(t,n,i){return t instanceof a||(t=a.refsScope().add(t||{})),n instanceof s.Options||(n=new s.Options(n||{})),e(t,n,i)})},l(p.prototype,o.mixins),l(p.prototype,{startSubSection:function(e){var t=new f(e);return this.stack.push(t),t},endSubSectionAndReturnRenderer:function(){if(this.last().isEmpty())return this.stack.pop(),null;var e=this.endSection();return e.compiled.hydrate.bind(e.compiled)},startSection:function(e){var t=new f(e);this.last().add(t.targetCallback),this.stack.push(t)},endSection:function(){return this.last().compile(),this.stack.pop()},inverse:function(){this.last().inverse()},compile:function(){var e=this.stack.pop().compile();return r.ignore(function(t,n,i){return t instanceof a||(t=a.refsScope().add(t||{})),n instanceof s.Options||(n=new s.Options(n||{})),e.hydrate(t,n,i)})},push:function(e){this.last().push(e)},pop:function(){return this.last().pop()},removeCurrentNode:function(){this.last().removeCurrentNode()}});var f=function(e){this.data="targetData",this.targetData=[],this.targetStack=[];var t=this;this.targetCallback=function(n,i,a){e.call(this,n,i,a,t.compiled.hydrate.bind(t.compiled),t.inverseCompiled&&t.inverseCompiled.hydrate.bind(t.inverseCompiled))}};l(f.prototype,{inverse:function(){this.inverseData=[],this.data="inverseData"},push:function(e){this.add(e),this.targetStack.push(e)},pop:function(){return this.targetStack.pop()},add:function(e){"string"==typeof e&&(e=d(e)),this.targetStack.length?u(this.targetStack).children.push(e):this[this.data].push(e)},compile:function(){return this.compiled=i(this.targetData,c()),this.inverseData&&(this.inverseCompiled=i(this.inverseData,c()),delete this.inverseData),this.targetStack=this.targetData=null,this.compiled},removeCurrentNode:function(){return this.children().pop()},children:function(){return this.targetStack.length?u(this.targetStack).children:this[this.data]},isEmpty:function(){return!this.targetData.length}}),p.HTMLSection=f,n.exports=p}),define("can-stache/src/text_section",["require","exports","module","can-view-live","can-stache/src/utils","can-util/dom/attr/attr","can-util/js/assign/assign","can-reflect","can-observation"],function(e,t,n){var i=e("can-view-live"),a=e("can-stache/src/utils"),r=e("can-util/dom/attr/attr"),o=e("can-util/js/assign/assign"),s=e("can-reflect"),c=e("can-observation"),l=function(){},u=function(){this.stack=[new p]};o(u.prototype,a.mixins),o(u.prototype,{startSection:function(e){var t=new p;this.last().add({process:e,truthy:t}),this.stack.push(t)},endSection:function(){this.stack.pop()},inverse:function(){this.stack.pop();var e=new p;this.last().last().falsey=e,this.stack.push(e)},compile:function(e){var t=this.stack[0].compile();return Object.defineProperty(t,"name",{value:"textSectionRenderer<"+e.tag+"."+e.attr+">"}),function(n,a){function o(){return t(n,a)}Object.defineProperty(o,"name",{value:"textSectionRender<"+e.tag+"."+e.attr+">"});var u=new c(o,null,{isObservable:!1});s.onValue(u,l);var d=s.getValue(u);s.valueHasDependencies(u)?(e.textContentOnly?i.text(this,u):e.attr?i.attr(this,e.attr,u):i.attrs(this,u,n,a),s.offValue(u,l)):e.textContentOnly?this.nodeValue=d:e.attr?r.set(this,e.attr,d):i.attrs(this,d)}}});var d=function(e,t,n){return function(i,a){return e.call(this,i,a,t,n)}},p=function(){this.values=[]};o(p.prototype,{add:function(e){this.values.push(e)},last:function(){return this.values[this.values.length-1]},compile:function(){for(var e=this.values,t=e.length,n=0;n<t;n++){var i=this.values[n];"object"==typeof i&&(e[n]=d(i.process,i.truthy&&i.truthy.compile(),i.falsey&&i.falsey.compile()))}return function(n,i){for(var a,r="",o=0;o<t;o++)r+="string"==typeof(a=e[o])?a:a.call(this,n,i);return r}}}),n.exports=u}),define("can-stache/helpers/converter",["require","exports","module","can-stache/helpers/core","can-stache/src/expression","can-util/js/make-array/make-array"],function(e,t,n){var i=e("can-stache/helpers/core"),a=e("can-stache/src/expression"),r=e("can-util/js/make-array/make-array");i.registerConverter=function(e,t){t=t||{},i.registerHelper(e,function(e,n){var i=r(arguments);return e instanceof a.SetIdentifier?"function"==typeof t.set?t.set.apply(this,[e.value].concat(i.slice(1))):n(e.value):"function"==typeof t.get?t.get.apply(this,i):i[0]})},n.exports=i}),define("can-stache/src/intermediate_and_imports",["require","exports","module","can-stache/src/mustache_core","can-view-parser"],function(e,t,n){var i=e("can-stache/src/mustache_core"),a=e("can-view-parser");n.exports=function(e){function t(){f&&(s[f]=h,f=""),p?o.push(h):r.push(h)}var n=e;n=i.cleanWhitespaceControl(n),n=i.cleanLineEndings(n);var r=[],o=[],s={},c=!1,l=!1,u=!1,d=!1,p=!1,f="",h="";return{intermediate:a(n,{start:function(e,t){"can-import"===e?(d=t,p=!1,c=!0):"can-dynamic-import"===e?(d=t,p=!0,c=!0):c&&(p=!0,c=!1)},attrStart:function(e){"from"===e?l=!0:"as"!==e&&"export-as"!==e||(u=!0)},attrEnd:function(e){"from"===e?l=!1:"as"!==e&&"export-as"!==e||(u=!1)},attrValue:function(e){l&&c?h=e:u&&c&&(f=e)},end:function(e){"can-import"!==e&&"can-dymamic-import"!==e||!d||t()},close:function(e){"can-import"!==e&&"can-dymamic-import"!==e||t()},chars:function(e){e.trim().length>0&&(p=!0)},special:function(e){p=!0}},!0),imports:r,dynamicImports:o,ases:s,exports:s}}}),define("can-util/js/import/import",["require","exports","module","can-util/js/is-function/is-function","can-globals/global/global"],function(e,t,n){!function(e,t,n,i){"use strict";var a=t("can-util/js/is-function/is-function"),e=t("can-globals/global/global")();i.exports=function(t,n){return new Promise(function(i,r){try{"object"==typeof e.System&&a(e.System.import)?e.System.import(t,{name:n}).then(i,r):e.define&&e.define.amd?e.require([t],function(e){i(e)}):e.require?i(e.require(t)):i()}catch(e){r(e)}})}}(function(){return this}(),e,0,n)}),define("can-stache",["require","exports","module","can-view-parser","can-view-callbacks","can-stache/src/html_section","can-stache/src/text_section","can-stache/src/mustache_core","can-stache/helpers/core","can-stache/helpers/converter","can-stache/src/intermediate_and_imports","can-stache/src/utils","can-attribute-encoder","can-util/js/dev/dev","can-namespace","can-util/dom/document/document","can-util/js/assign/assign","can-util/js/last/last","can-util/js/import/import","can-view-target","can-view-nodelist"],function(e,t,n){function i(e){var t={};"string"==typeof e&&(e=c.cleanWhitespaceControl(e),e=c.cleanLineEndings(e));var n=new o,i={node:null,attr:null,sectionElementStack:[],text:!1,namespaceStack:[],textContentOnly:null},l=function(e,n,a){if(">"===n)e.add(c.makeLiveBindingPartialRenderer(a,u()));else if("/"===n){if("<"===e.last().startedWith?(t[a]=e.endSubSectionAndReturnRenderer(),e.removeCurrentNode()):e.endSection(),e instanceof o){var r=i.sectionElementStack[i.sectionElementStack.length-1].tag;""!==a&&a!==r&&f.warn("unexpected closing tag {{/"+a+"}} expected {{/"+r+"}}"),i.sectionElementStack.pop()}}else if("else"===n)e.inverse();else{var s=e instanceof o?c.makeLiveBindingBranchRenderer:c.makeStringBranchRenderer;if("{"===n||"&"===n)e.add(s(null,a,u()));else if("#"===n||"^"===n||"<"===n){var l=s(n,a,u());if(e.startSection(l),e.last().startedWith=n,e instanceof o){var d="function"==typeof l.exprData.closingTag?l.exprData.closingTag():"";i.sectionElementStack.push({type:"section",tag:d})}}else e.add(s(null,a,u({text:!0})))}},u=function(e){var t=i.sectionElementStack[i.sectionElementStack.length-1],n={tag:i.node&&i.node.tag,attr:i.attr&&i.attr.name,directlyNested:!i.sectionElementStack.length||("section"===t.type||"custom"===t.type),textContentOnly:!!i.textContentOnly};return e?m(n,e):n},h=function(e,t){e.attributes||(e.attributes=[]),e.attributes.unshift(t)};a(e,{start:function(e,t){var n=k[e];n&&!t&&i.namespaceStack.push(n),i.node={tag:e,children:[],namespace:n||g(i.namespaceStack)}},end:function(e,t){var a=r.tag(e);t?(n.add(i.node),a&&h(i.node,function(t,n,i){r.tagHandler(this,e,{scope:t,options:n,subtemplate:null,templateType:"stache",parentNodeList:i})})):(n.push(i.node),i.sectionElementStack.push({type:a?"custom":null,tag:a?null:e,templates:{}}),a?n.startSubSection():x[e]&&(i.textContentOnly=new s)),i.node=null},close:function(e){k[e]&&i.namespaceStack.pop();var t,a=r.tag(e);a&&(t=n.endSubSectionAndReturnRenderer()),x[e]&&(n.last().add(i.textContentOnly.compile(u())),i.textContentOnly=null);var o=n.pop();if(a)if("can-template"===e)i.sectionElementStack[i.sectionElementStack.length-2].templates[o.attrs.name]=d(t),n.removeCurrentNode();else{var s=i.sectionElementStack[i.sectionElementStack.length-1];h(o,function(n,i,a){r.tagHandler(this,e,{scope:n,options:i,subtemplate:t?d(t):t,templateType:"stache",parentNodeList:a,templates:s.templates})})}i.sectionElementStack.pop()},attrStart:function(e){i.node.section?i.node.section.add(e+'="'):i.attr={name:e,value:""}},attrEnd:function(e){if(i.node.section)i.node.section.add('" ');else{i.node.attrs||(i.node.attrs={}),i.node.attrs[i.attr.name]=i.attr.section?i.attr.section.compile(u()):i.attr.value;var t=r.attr(e),n=p.decode(e);weirdAttribute=!!b.test(n)||!!w.test(n),weirdAttribute&&!t&&f.warn("unknown attribute binding "+n+". Is can-stache-bindings imported?"),t&&(i.node.attributes||(i.node.attributes=[]),i.node.attributes.push(function(n,i,a){t(this,{attributeName:e,scope:n,options:i,nodeList:a})})),i.attr=null}},attrValue:function(e){var t=i.node.section||i.attr.section;t?t.add(e):i.attr.value+=e},chars:function(e){(i.textContentOnly||n).add(e)},special:function(e){var t=c.splitModeFromExpression(e,i),a=t.mode,r=t.expression;if("else"!==r){if("!"!==a)if(i.node&&i.node.section)l(i.node.section,a,r),0===i.node.section.subSectionDepth()&&(i.node.attributes.push(i.node.section.compile(u())),delete i.node.section);else if(i.attr)i.attr.section||(i.attr.section=new s,i.attr.value&&i.attr.section.add(i.attr.value)),l(i.attr.section,a,r);else if(i.node)if(i.node.attributes||(i.node.attributes=[]),a){if("#"!==a&&"^"!==a)throw new Error(a+" is currently not supported within a tag.");i.node.section||(i.node.section=new s),l(i.node.section,a,r)}else i.node.attributes.push(c.makeLiveBindingBranchRenderer(null,r,u()));else l(i.textContentOnly||n,a,r)}else{(i.attr&&i.attr.section?i.attr.section:i.node&&i.node.section?i.node.section:i.textContentOnly||n).inverse()}},comment:function(e){n.add({comment:e})},done:function(){}});var v=n.compile(),y=o.scopify(function(e,n,i){return Object.keys(t).length&&(n.inlinePartials=n.inlinePartials||{},m(n.inlinePartials,t)),e.set("*self",y),v.apply(this,arguments)});return y}var a=e("can-view-parser"),r=e("can-view-callbacks"),o=e("can-stache/src/html_section"),s=e("can-stache/src/text_section"),c=e("can-stache/src/mustache_core"),l=e("can-stache/helpers/core");e("can-stache/helpers/converter");var u=e("can-stache/src/intermediate_and_imports"),d=e("can-stache/src/utils").makeRendererConvertScopes,p=e("can-attribute-encoder"),f=e("can-util/js/dev/dev"),h=e("can-namespace"),v=e("can-util/dom/document/document"),m=e("can-util/js/assign/assign"),g=e("can-util/js/last/last"),y=e("can-util/js/import/import");e("can-view-target"),e("can-view-nodelist"),r.tag("content",function(e,t){return t.scope});var b=/[{(].*[)}]/,w=/^on:|(:to|:from|:bind)$|.*:to:on:.*/,k={svg:"http://www.w3.org/2000/svg",g:"http://www.w3.org/2000/svg"},x={style:!0,script:!0};m(i,l),i.safeString=function(e){return{toString:function(){return e}}},i.async=function(e){var t=u(e),n=t.imports.map(function(e){return y(e)});return Promise.all(n).then(function(){return i(t.intermediate)})};var L={};i.from=c.getTemplateById=function(e){if(!L[e]){var t=v().getElementById(e);L[e]=i(t.innerHTML)}return L[e]},i.registerPartial=function(e,t){L[e]="string"==typeof t?i(t):t},n.exports=h.stache=i}),define("can",["require","exports","module","can-util/namespace","can-component","can-define/map/map","can-define/list/list","can-stache","can-stache-bindings"],function(e,t,n){!function(e,t,n,i){var a=t("can-util/namespace");t("can-component"),t("can-define/map/map"),t("can-define/list/list"),t("can-stache"),t("can-stache-bindings"),i.exports=a}(0,e,0,n)}),function(e){e._define=e.define,e.define=e.define.orig}("object"==typeof self&&self.Object==Object?self:window);