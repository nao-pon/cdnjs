!function(e,t,n,i){e.Typeahead={jsonList:{}},"function"!=typeof Object.preventExtensions&&(Object.preventExtensions=function(e){return e});var a={searchList:"data-search-list"},o={settings:{compression:!1,order:null,minCharacter:2,maxItem:8,startCharacter:!1,group:!1,list:!1,ttl:3600,backdrop:!1,input:null,trigger:"change",action:"click",searchListClass:"typeahead-search",jsonList:{}},callback:{onInit:null,onHover:null,onHoverOut:null,onClick:null},debug:!1},s={settings:{compression:[!0,!1],order:[null,"asc","desc"],group:[!0,!1],backdrop:[!0,!1],action:["click","dblclick","mousedown","mouseup"],jsonList:["storage","pattern","data","url"]},debug:[!0,!1]},r=function(i,r){function l(){r instanceof Object||(r={}),n.jStorage||r.debug&&e.Debug.log({node:i,function:"extendOptions()",arguments:"$.jStorage",message:"WARNING - It is strongly recommended to have $.jStorage available on your page to store the result set(s)"});var t=Object.preventExtensions(n.extend(!0,{},o));for(var a in r)if(r.hasOwnProperty(a)&&"debug"!==a){if(void 0===o[a]){r.debug&&e.Debug.log({node:i,function:"extendOptions()",arguments:"{"+a+": "+JSON.stringify(r[a])+"}",message:"WARNING - Invalid option: "+a}),delete r[a];break}for(var l in r[a])if(r[a].hasOwnProperty(l))if(void 0!==o[a][l])if("jsonList"===l&&r[a][l]instanceof Object){for(var u in r[a][l])if(r[a][l].hasOwnProperty(u)){r[a][l][u]instanceof Object&&"data"!==u||(u="list",r[a][l]={list:r[a][l]});for(var c in r[a][l][u])r[a][l][u].hasOwnProperty(c)&&(-1!==n.inArray(c,s[a][l])||(r.debug&&e.Debug.log({node:i,function:"extendOptions()",arguments:"{"+c+": "+JSON.stringify(r[a][l][u][c])+"}",message:"WARNING - Invalid jsonList option: "+c}),delete r[a][l][u][c]))}}else s[a]&&s[a][l]&&-1===n.inArray(r[a][l],s[a][l])&&(r.debug&&e.Debug.log({node:i,function:"extendOptions()",arguments:"{"+l+":"+JSON.stringify(r[l])+"}",message:"WARNING - Unsupported option: "+l}),delete r[a][l]);else r.debug&&e.Debug.log({node:i,function:"extendOptions()",arguments:"{"+l+": "+JSON.stringify(r[a][l])+"}",message:"WARNING - Invalid option: "+l}),delete r[a][l]}r=n.extend(!0,t,r)}function u(){O(r.callback.onInit,[i]),r.debug&&e.Debug.log({node:i,function:"delegateTypeahead()",arguments:JSON.stringify(r),message:"OK - Typeahead activated on "+(r.settings.input||"#"+i.id||'[name="'+i.name+'"]')});var t=["focus.ac","blur.ac","keyup.ac","keypress.ac","keydown.ac"];n(i).on(t.join(" "),function(e){if("blur"===e.type)return!1;"focus"!==e.type||p||f();var t=this;setTimeout(function(){if(n(t).val()===g)return!1;g=n(t).val(),d(),g.length>=r.settings.minCharacter&&c()},0,e,t)})}function c(){if(""===g.trim())return!1;var e,t=[],o='<div class="'+r.settings.searchListClass+'" '+a.searchList+"><ul></ul></div>",s="";for(var l in h)for(var u in h[l]){if(t.length>=r.settings.maxItem)break;!h[l][u].display||-1===h[l][u].display.toLowerCase().indexOf(g.toLowerCase())||r.settings.startCharacter&&0!==h[l][u].display.toLowerCase().indexOf(g.toLowerCase())||(h[l][u].list=l,t.push(h[l][u]))}r.settings.order&&t.sort(function(e,t,n){var i=n?function(t){return n(t[e])}:function(t){return t[e]};return t=[-1,1][+!!t],function(e,n){return e=i(e),n=i(n),t*((e>n)-(n>e))}}("display","desc"!==r.settings.order,function(e){return e.toUpperCase()}));for(var u in t)e=t[u].display.match(new RegExp(g,"i")),s+="<li><a href='javascript:;' data-list='"+t[u].list+"'>"+t[u].display.replace(new RegExp(g,"i"),"<strong>"+e[0]+"</strong>")+(r.settings.list?"<small>"+t[u].list+"</small>":"")+"</a></li>";var c,f=n(i).parent();f.append(o).find("ul").html(s),f.find("["+a.searchList+"] a").hover(function(){c=t[n(n(this).closest("["+a.searchList+"]").find("li")).index(n(this).parent())]||{},O(r.callback.onHover,[i,this,c])},function(){O(r.callback.onHoverOut,[i,this,c])}),f.find("["+a.searchList+"] a").on("click",function(e){e.preventDefault(),c=t[n(n(this).closest("["+a.searchList+"]").find("li")).index(n(this).parent())]||{},n(i).val(c.display),d(),O(r.callback.onClick,[i,this,c])})}function d(){n(i).parent().find("["+a.searchList+"]").remove()}function f(){var t,i,a=r.settings.jsonList;if(0===v)for(var o in a)a.hasOwnProperty(o)&&++v;for(var s in a)if(a.hasOwnProperty(s))if(h[s]&&h[s]!=={}||a[s].storage&&n.jStorage.get(a[s].storage))console.log(s+": already stored");else{if(h[s]=[],a[s].data&&a[s].data instanceof Array){for(var l in a[s].data){if(a[s].data[l]instanceof Object)break;a[s].data[l]={display:a[s].data[l]}}h[s]=h[s].concat(a[s].data),a[s].url||b++}a[s].url&&(t=a[s].url instanceof Array&&a[s].url[0]||a[s].url,i=a[s].url instanceof Array&&a[s].url[1]||null,/https?:\/\//.test(t)&&-1===t.indexOf(e.location.host)?j.fetch(t+"/"+encodeURIComponent(y)+"/",function(e){}):n.ajax({async:!0,url:t,ajaxList:s,ajaxPath:i}).done(function(e){m(e,this.ajaxList,this.ajaxPath),b++,length}).fail(function(e){b++}))}b===v&&(p=!0,console.log("ALL LIST FETCHED"))}var g="",p=!1,h={},y="window.Typeahead.jsonList['#search_v1-game'].populate",b=0,v=0,m=function(e,t,n){var i=!0;if(n)for(var a=n.split("."),o=0;o<a.length;){if(void 0===e){i=!1;break}e=e[a[o++]]}if(i){for(var s in e){if(e[s]instanceof Object)break;e[s]={display:e[s]}}h[t]=h[t].concat(e)}},O=function(t,a){if(!t)return!1;var o;if("function"==typeof t)o=t;else if("string"==typeof t||t instanceof Array){o=e,"string"==typeof t&&(t=[t,[]]);for(var s=t[0].split("."),l=t[1],u=!0,c=0;c<s.length;){if(void 0===o){u=!1;break}o=o[s[c++]]}if(!u||"function"!=typeof o)return r.debug&&e.Debug.log({node:i,function:"_executeCallback()",arguments:JSON.stringify(t),message:'WARNING - Invalid callback function"'}),!1}return o.apply(this,n.merge(l||[],a||[])),!0},j={fetch:function(n,i){var a=encodeURIComponent(y);e[a]=this.evalJSONP(i),n=n.replace("="+y,"="+a);var o=t.createElement("SCRIPT");o.src=n,t.getElementsByTagName("HEAD")[0].appendChild(o)},evalJSONP:function(e){return function(t){var n=!1;if("string"==typeof t)try{n=JSON.parse(t)}catch(e){}else n=JSON.parse(JSON.stringify(t));if(!n)throw"JSONP call returned invalid or empty JSON";e(n)}}};return this.__construct=(l(),u(),void(e.Debug&&e.Debug.print())),{populate:function(e){var t=e.list||"list",n=r.settings.jsonList[t].url instanceof Array?r.settings.jsonList[t].url[1]:null;m(e,t,n),++b===v&&(p=!0,console.log("ALL LIST FETCHED"))}}};n.fn.typeahead=n.typeahead=function(e){return l.typeahead(this,e)};var l={typeahead:function(t,i){if("function"==typeof t){if(!i.settings.input)return e.Debug.log({node:t,function:"$.typeahead()",arguments:"",message:'Undefined property "options.settings.input - Typeahead dropped'}),void e.Debug.print();if(!(t=n(i.settings.input))[0]||t.length>1)return e.Debug.log({node:t,function:"$.typeahead()",arguments:JSON.stringify(i.settings.input),message:"Unable to find jQuery input element OR more than 1 input is found - Typeahead dropped"}),void e.Debug.print()}else if(void 0===t[0]||t.length>1)return e.Debug.log({node:t,function:"$.typeahead()",arguments:'$("'+t.selector+'").typeahead()',message:"Unable to find jQuery input element OR more than 1 input is found - Typeahead dropped"}),void e.Debug.print();return t.each(function(){e.Typeahead.jsonList[t.selector]=new r(this,i)})}};e.Debug={table:{},log:function(e){if(!e.message||"string"!=typeof e.message)return!1;this.table[e.message]=n.extend(Object.preventExtensions({node:"",function:"",arguments:""}),e)},print:function(){if(n.isEmptyObject(this.table))return!1;void 0!==console.group||void 0!==console.table?(console.groupCollapsed("--- jQuery Typeahead Debug ---"),console.table?console.table(this.table):n.each(this.table,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()):console.log("Debug is not available on your current browser, try the most recent version of Chrome or Firefox."),this.table={}}}}(window,document,window.jQuery);