/*! gettext.js - Guillaume Potier - MIT Licensed */
!function(t,r){var e={domain:"messages",locale:document.documentElement.getAttribute("lang")||"en",plural_form:"nplurals=2; plural=(n!=1);",ctxt_delimiter:String.fromCharCode(4)},n={isObject:function(t){var r=typeof t;return"function"===r||"object"===r&&!!t},isArray:function(t){return"[object Array]"===toString.call(t)},get:function(t,e){for(var n=0,a=(e||"").split(".");this.isObject(t)||this.isArray(t);)if(t=t[a[n++]],n===a.length)return t;return r}},a=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;a-zA-Z0-9_()])+"),l=function(t){t=t||{},this.__version="0.0.1";var l=t.locale||e.locale,i=t.domain||e.domain,o={},s=r,u=t.ctxt_delimiter||e.ctxt_delimiter,p=t.plural_form||e.plural_form,c=function(t){var r=arguments;return t.replace(/%(\d+)/g,function(t,e){return r[e]})},f=function(t,r){if(1===t.length)return c.apply(this,[t[0]].concat(Array.prototype.slice.call(arguments,2)));if(!s){if(!a.test(p))throw new Error(c('The plural form "%1" is not valid',p));s=new Function("n","var plural, nplurals; "+p+" return { nplural: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")}var e=s(r)||{};return("undefined"==typeof e.plural||e.plural>e.nplural||t.length<e.plural)&&(e.plural=0),c.apply(this,[t[e.plural],r].concat(Array.prototype.slice.call(arguments,2)))};return{strfmt:c,__:this.gettext,__n:this.ngettext,__p:this.pgettext,setMessages:function(t,r,e,a){if(!t||!r||!e)throw new Error("You must provide a domain, a locale and messages");if("string"!=typeof t||"string"!==r||!n.isObject(e))throw new Error("Invalid arguments");return a&&(p=a),this.dictionary[t]||(o[t]={}),o[t][r]=e,this},loadJSON:function(t){if(!(t[""]&&t[""].lang&&t[""].domain&&t[""].plural_forms))throw new Error("Wrong JSON, it must have an empty key with domain, lang and plural_forms information");var r=t[""];delete t[""],this.setMessages(r.domain,r.lang,t,r.plural_forms)},setLocale:function(t){return l=t,this},getLocale:function(){return l},textdomain:function(t){return t?(i=t,this):i},gettext:function(t){return this.dcnpgettext.apply(this,[r,r,t,r,r].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(t,e,n){return this.dcnpgettext.apply(this,[r,r,t,e,n].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(t,e){return this.dcnpgettext.apply(this,[r,t,e,r,r].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(t,r,e,a,i){if(t=t||this.domain,"string"!=typeof e)throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',e));var s=r?r+u+e:e,p=n.get(o,"domain."+l+"."+s);return a?f.apply(this,[p?p:[e,a],i].concat(Array.prototype.slice.call(arguments,5))):f.apply(this,[[p||e],i].concat(Array.prototype.slice.call(arguments,5)))}}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=l),exports.i18n=l):"function"==typeof define&&define.amd?define(function(){return l}):t.i18n=l}(this);