gj.timepicker={plugins:{},messages:{"en-us":{am:"AM",pm:"PM"}}},gj.timepicker.config={base:{width:void 0,format:"MM:HH",uiLibrary:"materialdesign",value:void 0,locale:"en-us",icons:{rightIcon:'<i class="gj-icon clock" />'},style:{wrapper:"gj-timepicker gj-timepicker-md gj-unselectable",input:"gj-textbox-md",clock:"gj-clock gj-clock-md"}},bootstrap:{style:{wrapper:"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-calendar gj-calendar-bootstrap"},iconsLibrary:"glyphicons",showOtherMonths:!0},bootstrap4:{style:{wrapper:"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-calendar gj-calendar-bootstrap"},showOtherMonths:!0}},gj.timepicker.methods={init:function(a){return gj.widget.prototype.init.call(this,a,"timepicker"),this.attr("data-timepicker","true"),gj.timepicker.methods.initialize(this),this},initialize:function(a){var b,c=a.data(),d=a.parent('div[role="wrapper"]'),e="materialdesign"!==c.uiLibrary&&"materialicons"===c.iconsLibrary?$('<span class="input-group-addon">'+c.icons.rightIcon+"</span>"):$(c.icons.rightIcon);e.attr("role","right-icon"),0===d.length?(d=$('<div role="wrapper" />').addClass(c.style.wrapper),a.wrap(d)):d.addClass(c.style.wrapper),d=a.parent('div[role="wrapper"]'),c.width&&d.css("width",c.width),a.val(c.value).addClass(c.style.input).attr("role","input"),e.on("click",function(b){$("body").children('[role="clock"][guid="'+a.attr("data-guid")+'"]').is(":visible")?gj.timepicker.methods.hide(a):gj.timepicker.methods.show(a)}),a.on("blur",function(){console.log("blur"),a.timeout=setTimeout(function(){a.mouseMove||(gj.timepicker.methods.hide(a),console.log("blur-aftertimeout"))},500)}),d.append(e),b=gj.timepicker.methods.createClock(a),c.keyboardNavigation&&a.on("keydown",gj.timepicker.methods.createKeyDownHandler(a,b))},createClock:function(a){var b,c=a.data(),d=$('<div role="clock" />').addClass(c.style.clock).attr("guid",a.attr("data-guid")),e=$('<div role="body" />');return $dial=$('<div role="dial"></div>'),b=gj.core.parseDate(c.value,c.format,c.locale),!b||isNaN(b.getTime())?b=new Date:a.attr("hours",b.getHours()),$dial.on("mousedown",gj.timepicker.methods.mouseDownHandler(a,d)),$dial.on("mousemove",gj.timepicker.methods.mouseMoveHandler(a,d)),$dial.on("mouseup",gj.timepicker.methods.mouseUpHandler(a)),e.append($dial),d.append(e),d.hide(),$("body").append(d),d},mouseDownHandler:function(a,b){return function(c){var d=b.find('[role="arrow"]');a.mouseMove=!0,d.show(),console.log("mousedown")}},mouseMoveHandler:function(a,b){return function(c){var d,e,f,g,h,i;a.mouseMove&&(f=b.find('[role="dial"]'),g=b.find('[role="arrow"]'),h=f.offset(),i=f.height(),d=a.mouseX(c)-h.left,e=a.mouseY(c)-h.top,console.log("mousemove x="+d+" y="+(e/i*180-90)),g.css("transform","rotate("+(e/i*180-90)+"deg);"))}},mouseUpHandler:function(a){return function(b){a.mouseMove=!1,a.focus(),clearTimeout(a.timeout),console.log("mouseup")}},renderHours:function(a,b){var c=b.find('[role="dial"]');clearTimeout(a.timeout),c.empty(),c.append('<div role="arrow" style="transform: rotate(60deg); display: none;"><div class="c296"></div><div class="c297"></div></div>'),c.append('<span class="c291" style="transform: translate(54px, -93.5307px);">1</span>'),c.append('<span class="c291" style="transform: translate(93.5307px, -54px);">2</span>'),c.append('<span class="c291" style="transform: translate(108px, 0px);">3</span>'),c.append('<span class="c291" style="transform: translate(93.5307px, 54px);">4</span>'),c.append('<span class="c291" style="transform: translate(54px, 93.5307px);">5</span>'),c.append('<span class="c291" style="transform: translate(6.61309e-15px, 108px);">6</span>'),c.append('<span class="c291" style="transform: translate(-54px, 93.5307px);">7</span>'),c.append('<span class="c291" style="transform: translate(-93.5307px, 54px);">8</span>'),c.append('<span class="c291" style="transform: translate(-108px, 1.32262e-14px);">9</span>'),c.append('<span class="c291" style="transform: translate(-93.5307px, -54px);">10</span>'),c.append('<span class="c291" style="transform: translate(-54px, -93.5307px);">11</span>'),c.append('<span class="c291" style="transform: translate(-1.98393e-14px, -108px);">12</span>'),c.append('<span class="c291 c292" style="transform: translate(38px, -65.8179px);">13</span>'),c.append('<span class="c291 c292" style="transform: translate(65.8179px, -38px);">14</span>'),c.append('<span class="c291 c292" style="transform: translate(76px, 0px);">15</span>'),c.append('<span class="c291 c292" style="transform: translate(65.8179px, 38px);">16</span>'),c.append('<span class="c291 c292 selected" style="transform: translate(38px, 65.8179px);">17</span>'),c.append('<span class="c291 c292" style="transform: translate(4.65366e-15px, 76px);">18</span>'),c.append('<span class="c291 c292" style="transform: translate(-38px, 65.8179px);">19</span>'),c.append('<span class="c291 c292" style="transform: translate(-65.8179px, 38px);">20</span>'),c.append('<span class="c291 c292" style="transform: translate(-76px, 9.30732e-15px);">21</span>'),c.append('<span class="c291 c292" style="transform: translate(-65.8179px, -38px);">22</span>'),c.append('<span class="c291 c292" style="transform: translate(-38px, -65.8179px);">23</span>'),c.append('<span class="c291 c292" style="transform: translate(-1.3961e-14px, -76px);">00</span>')},select:function(a,b,c){return function(b){return a}},show:function(a){var b=(a.data(),a.offset()),c=$("body").children('[role="clock"][guid="'+a.attr("data-guid")+'"]');gj.timepicker.methods.renderHours(a,c),c.css("left",b.left).css("top",b.top+a.outerHeight(!0)+3),c.show(),a.focus(),gj.timepicker.events.show(a)},hide:function(a){$("body").children('[role="clock"][guid="'+a.attr("data-guid")+'"]').hide(),gj.timepicker.events.hide(a)},value:function(a,b){var c,d,e=a.data();return void 0===b?a.val():(d=gj.core.parseDate(b,e.format,e.locale),d?(c=$("body").children('[role="clock"][guid="'+a.attr("data-guid")+'"]'),gj.timepicker.methods.select(a,c,d)()):a.val(""),a)},destroy:function(a){var b=a.data(),c=a.parent();return b&&(a.off(),$("body").children('[role="clock"][guid="'+a.attr("data-guid")+'"]').remove(),a.removeData(),a.removeAttr("data-type").removeAttr("data-guid").removeAttr("data-timepicker"),a.removeClass(),c.children('[role="right-icon"]').remove(),a.unwrap()),a}},gj.timepicker.events={change:function(a){return a.triggerHandler("change")},show:function(a){return a.triggerHandler("show")},hide:function(a){return a.triggerHandler("hide")}},gj.timepicker.widget=function(a,b){var c=this,d=gj.timepicker.methods;return c.value=function(a){return d.value(this,a)},c.destroy=function(){return d.destroy(this)},c.show=function(){gj.timepicker.methods.show(this)},c.hide=function(){gj.timepicker.methods.hide(this)},$.extend(a,c),"true"!==a.attr("data-timepicker")&&d.init.call(a,b),a},gj.timepicker.widget.prototype=new gj.widget,gj.timepicker.widget.constructor=gj.timepicker.widget,function(a){a.fn.timepicker=function(a){var b;if(this&&this.length){if("object"!=typeof a&&a){if(b=new gj.timepicker.widget(this,null),b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return new gj.timepicker.widget(this,a)}}}(jQuery);