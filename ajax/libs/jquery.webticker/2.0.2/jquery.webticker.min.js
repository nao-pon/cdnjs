!function(t){var i=new Array;function e(t,r){var n=i[r.attr("id")],s=r.children().first().hasClass("webticker-init"),h=1e3*t/n.speed,a={};a[n.direction]=r.css(n.direction).replace("px","").replace("auto","0")-t,r.animate(a,h,"linear",function(){s?r.children().first().remove():r.children().last().after(r.children().first());var t=r.children().first().outerWidth(!0);r.css(n.direction,"0"),e(t,r)})}function r(i,e,r){var n;t.get(i,function(i){t(i).find("item").each(function(){var i=t(this),e=i.find("title").text(),r=i.find("link").text();listItem="<li><a href='"+r+"'>"+e+"</a></li>",n+=listItem}),r.webTicker("update",n,e)})}function n(e){var r=i[e.attr("id")];e.width("auto");var n=e.width();if(n<e.parent().width()||1==e.children().length)if(r.duplicate)for(itemWidth=Math.max.apply(Math,e.children().map(function(){return t(this).width()}).get());n-itemWidth<e.parent().width()||1==e.children().length;){var s=e.children().clone();e.append(s),n=0,e.children("li").each(function(){n+=t(this).outerWidth(!0)}),itemWidth=Math.max.apply(Math,e.children().map(function(){return t(this).width()}).get())}else{var h=e.parent().width()-n;h+=e.find("li:first").width();var a=e.find("li:first").height();e.append('<li class="ticker-spacer" style="width:'+h+"px;height:"+a+'px;"></li>')}if(r.startEmpty){a=e.find("li:first").height();e.prepend('<li class="webticker-init" style="width:'+e.parent().width()+"px;height:"+a+'px;"></li>')}for(n=0,e.children("li").each(function(){n+=t(this).outerWidth(!0)}),e.width(n+200),widthCompare=0,e.children("li").each(function(){widthCompare+=t(this).outerWidth(!0)});widthCompare>=e.width();)e.width(e.width()+200),widthCompare=0,e.children("li").each(function(){widthCompare+=t(this).outerWidth(!0)})}var s={init:function(t){return t=jQuery.extend({speed:50,direction:"left",moving:!0,startEmpty:!0,duplicate:!1,rssurl:!1,hoverpause:!0,rssfrequency:0,updatetype:"reset"},t),i[jQuery(this).attr("id")]=t,this.each(function(){var s=jQuery(this);s.addClass("newsticker"),s.wrap("<div class='mask'></div>").after("<span class='tickeroverlay-left'>&nbsp;</span><span class='tickeroverlay-right'>&nbsp;</span>");s.parent().wrap("<div class='tickercontainer'></div>");n(s),t.rssurl&&(r(t.rssurl,t.type,s),t.rssfrequency>0&&window.setInterval(function(){r(t.rssurl,t.type,s)},1e3*t.rssfrequency*60)),e(s.children().first().outerWidth(!0),s),t.hoverpause&&s.hover(function(){jQuery(this).stop()},function(){if(i[jQuery(this).attr("id")].moving){jQuery(this).offset();var r=s.children().first().outerWidth(!0);e("left"==t.direction?parseInt(jQuery(this).css("left").replace("px",""))+r:parseInt(jQuery(this).css("right").replace("px",""))+r,s)}})})},stop:function(){if(i[jQuery(this).attr("id")].moving)return i[jQuery(this).attr("id")].moving=!1,this.each(function(){jQuery(this).stop()})},cont:function(){if(!i[jQuery(this).attr("id")].moving){i[jQuery(this).attr("id")].moving=!0;var t=i[jQuery(this).attr("id")];return this.each(function(){var i=jQuery(this),r=(jQuery(this).offset(),i.children().first().outerWidth(!0));e("left"==t.direction?parseInt(jQuery(this).css("left").replace("px",""))+r:parseInt(jQuery(this).css("right").replace("px",""))+r,i)})}},update:function(e,r){r=r||"reset","string"==typeof e&&(e=t(e));var s=jQuery(this);s.webTicker("stop");var h=i[jQuery(this).attr("id")];if("reset"==r)s.html(e),s.css(h.direction,"0"),n(s);else if("swap"==r){s.children("li").addClass("old");for(var a=0;a<e.length;a++)match=s.find(e[a]),match.length<1?0==s.find(".ticker-spacer:first-child").length&&s.find(".ticker-spacer").length>0?s.children("li.ticker-spacer").before(e[a]):s.append(e[a]):match.removeClass("old");s.children("li.webticker-init, li.ticker-spacer").removeClass("old"),s.children("li").remove(".old"),stripWidth=0,s.children("li").each(function(){stripWidth+=t(this).outerWidth(!0)}),s.width(stripWidth+200)}s.webTicker("cont")}};t.fn.webTicker=function(i){return s[i]?s[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.webTicker"):s.init.apply(this,arguments)}}(jQuery);