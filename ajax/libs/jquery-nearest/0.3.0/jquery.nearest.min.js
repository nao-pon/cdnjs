!function(t,e){function h(e,h,n){e||(e="div");var r=t(e),i=[],u=!!h.furthest,c=!!h.checkHoriz,s=!!h.checkVert,a=u?0:1/0,f=parseInt(h.x,10)||0,o=parseInt(h.y,10)||0,d=parseInt(f+h.w,10)||f,p=parseInt(o+h.h,10)||o,v=!!t.fn.each2,x=Math.min,l=Math.max;return!h.includeSelf&&n&&(r=r.not(n)),r[v?"each2":"each"](function(e,h){var n=v?h:t(this),r=n.offset(),k=r.left,g=r.top,y=k+n.outerWidth(),H=g+n.outerHeight(),I=l(k,f),S=x(y,d),w=l(g,o),M=x(H,p),j=S>=I,m=M>=w,z=j?0:I-S,V=m?0:w-M,W=j||m?l(z,V):Math.sqrt(z*z+V*V),b=u?W>a:W<a;(c&&s||!c&&!s&&j&&m||c&&m||s&&j)&&(b&&(i=[],a=W),W==a&&i.push(this))}),i}t.each(["nearest","furthest","touching"],function(e,n){var r={x:0,y:0,w:0,h:0,furthest:"furthest"==n,includeSelf:!1,checkHoriz:"touching"!=n,checkVert:"touching"!=n};t[n]=function(e,n,i){if(!e||void 0===e.x||void 0===e.y)return t([]);var u=t.extend({},r,e,i||{});return t(h(n,u))},t.fn[n]=function(e,n){var i;if(e&&t.isPlainObject(e))return i=t.extend({},r,e,n||{}),this.pushStack(h(this,i));var u=this.offset(),c={x:u.left,y:u.top,w:this.outerWidth(),h:this.outerHeight()};return i=t.extend({},r,c,n||{}),this.pushStack(h(e,i,this))}})}(jQuery);