/*
 * Peppermint touch slider
 * v. 1.0.1 | https://github.com/wilddeer/Peppermint
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * MIT License
 */
function Peppermint(a,b){function c(a,b){if(x.slides[a]){if(a!==r){for(var c=x.dots.length-1;c>=0;c--)x.dots[c].className=(" "+x.dots[c].className+" ").replace(" active ","").replace(/^\s+|\s+$/g,"");x.dots[a].className=(x.dots[a].className+" active").replace(/^\s+|\s+$/g,""),r=a}}else a=r;return d(-a*x.width,void 0===b?p.speed:b),i(),p.onSlideChange&&p.onSlideChange(a),a}function d(a,b){var c=b?b+"ms":"";u.style.webkitTransitionDuration=u.style.MozTransitionDuration=u.style.msTransitionDuration=u.style.OTransitionDuration=u.style.transitionDuration=c,u.style.webkitTransform="translate("+a+"px,0) translateZ(0)",u.style.msTransform=u.style.MozTransform=u.style.OTransform=u.style.transform="translateX("+a+"px)"}function e(a,b){var c=b?b+"ms":"";u.style.webkitTransitionDuration=u.style.MozTransitionDuration=u.style.msTransitionDuration=u.style.OTransitionDuration=u.style.transitionDuration=c,u.style.left=a+"px"}function f(){var a=r+1;return a>q-1&&(a=0),c(a)}function g(){var a=r-1;return 0>a&&(a=q-1),c(a)}function h(){w=!0,i()}function i(){w&&(v&&clearTimeout(v),v=setTimeout(function(){f()},p.slideshowInterval))}function j(){v&&clearTimeout(v)}function k(){w=!1,v&&clearTimeout(v)}function l(){function a(a){s(a)||(g={x:l?a.clientX:a.touches[0].clientX,y:l?a.clientY:a.touches[0].clientY,time:+new Date},f=void 0,h={},l&&(i=!0,o(a.pointerId)))}function b(a){f||s(a)||(h.x=(l?a.clientX:a.touches[0].clientX)-g.x,void 0===f&&(h.y=(l?a.clientY:a.touches[0].clientY)-g.y,f=Math.abs(h.x)<Math.abs(h.y))||(a.preventDefault(),j(),h.x=h.x/(!r&&h.x>0||r==q-1&&h.x<0?Math.abs(h.x)/x.width*2+1:1),d(h.x-x.width*r)))}function e(a){if(a.target&&a.target.blur(),!f&&!s(a)){var b=Number(+new Date-g.time),d=y>b&&Math.abs(h.x)>20;d||Math.abs(h.x)>x.width/4?h.x<0?c(r+1,p.touchSpeed):c(r-1,p.touchSpeed):c(r),p.stopSlideshowAfterInteraction&&k(),l&&(void 0===h.x?i=!1:setTimeout(function(){i=!1},10))}}var f,g={},h={},i=!1;if(z.pointerEvents)var l=2,m={start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"},o=function(a){u.setPointerCapture(a)},s=function(a){return!a.isPrimary||"touch"!==a.pointerType};else if(z.msPointerEvents)var l=1,m={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",cancel:"MSPointerCancel"},o=function(a){u.msSetPointerCapture(a)},s=function(a){return!a.isPrimary||a.pointerType!==a.MSPOINTER_TYPE_TOUCH};else var l=!1,m={start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},s=function(a){return a.touches&&a.touches.length>1||a.scale&&1!==a.scale};n(u,m.start,a,!1),n(u,m.move,b,!1),n(u,m.end,e,!1),n(u,m.cancel,e,!1),l&&n(u,"click",function(a){i&&a.preventDefault()},!1)}function m(){x.width=a.offsetWidth,u.style.width=x.width*q+"px";for(var b=0;q>b;b++)x.slides[b].style.width=x.width+"px";d(-r*x.width)}function n(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function o(){z.transform||(d=e),u=document.createElement("div"),u.className="slides";for(var b=0,f=a.children.length;f>b;b++){var g=a.children[b],i=document.createElement("li"),j=g.getElementsByTagName("a");x.slides.push(g),i.setAttribute("tabindex","0"),i.setAttribute("role","button"),i.innerHTML="<span></span>",n(i,"click",function(a,b){return function(){b.blur(),c(a),p.stopSlideshowAfterInteraction&&k()}}(b,i),!1),n(i,"keyup",function(a){return function(b){13==b.keyCode&&(c(a),p.stopSlideshowAfterInteraction&&k())}}(b),!1);for(var l=j.length-1;l>=0;l--)n(j[l],"focus",function(b){return function(){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),c(b)}}(b),!1);x.dots.push(i)}q=x.slides.length,s=100/q,a.className+=" active",x.width=a.offsetWidth,u.style.width=x.width*q+"px";for(var b=0;q>b;b++)x.slides[b].style.width=x.width+"px",u.appendChild(x.slides[b]);if(a.appendChild(u),p.dots){t=document.createElement("ul"),t.className="dots";for(var b=0,f=x.dots.length;f>b;b++)t.appendChild(x.dots[b]);p.dotsFirst?a.insertBefore(t,a.firstChild):a.appendChild(t)}n(window,"resize",m,!1),n(window,"orientationchange",m,!1),c(p.startSlide,0),p.slideshow&&h(),p.onSetup&&p.onSetup(q)}var p=b||{};p.speed=p.speed||300,p.touchSpeed=p.touchSpeed||300,p.slideshow=p.slideshow||!1,p.slideshowInterval=p.slideshowInterval||4e3,p.stopSlideshowAfterInteraction=p.stopSlideshowAfterInteraction||!1,p.startSlide=p.startSlide||0,p.dots=p.dots||!1,p.dotsFirst=p.dotsFirst||!1;var q,r,s,t,u,v,w,x={slides:[],dots:[]},y=250,z={pointerEvents:!!window.navigator.pointerEnabled,msPointerEvents:!!window.navigator.msPointerEnabled,transform:function(){var a=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],b=document.createElement("div");for(var c in a)if(void 0!==b.style[a[c]])return!0;return!1}()};return setTimeout(function(){o(),l()},0),{slideTo:function(a){return c(parseInt(a,10))},next:function(){return f()},prev:function(){return g()},start:function(){h()},stop:function(){k()},pause:function(){j()},getCurrentPos:function(){return r},getSlidesNumber:function(){return q},recalcWidth:function(){m()}}}window.jQuery&&!function($){$.fn.Peppermint=function(a){this.each(function(){$(this).data("Peppermint",Peppermint($(this)[0],a))})}}(window.jQuery);