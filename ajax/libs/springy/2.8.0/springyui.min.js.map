{"version":3,"sources":["springyui.js"],"names":["jQuery","fn","springy","params","graph","this","Springy","Graph","nodeFont","stiffness","repulsion","damping","minEnergyThreshold","nodeSelected","nodeImages","canvas","ctx","getContext","layout","Layout","ForceDirected","currentBB","getBoundingBox","targetBB","bottomleft","Vector","topright","requestAnimationFrame","adjust","add","subtract","divide","toScreen","p","size","sx","x","width","sy","y","height","fromScreen","s","px","py","selected","nearest","dragged","mousedown","e","pos","offset","pageX","left","pageY","top","node","point","m","renderer","start","dblclick","data","ondoubleclick","mousemove","window","bind","Node","prototype","getHeight","undefined","image","src","loaded","object","getWidth","text","label","id","_width","save","font","measureText","restore","getTextWidth","Renderer","clearRect","edge","p1","p2","x1","y1","x2","y2","direction","normal","normalise","from","getEdges","source","target","to","total","length","n","i","p3","w","h","result","tl","tr","bl","br","multiply","s1","s2","boxWidth","boxHeight","intersection","intersect_line_line","arrowWidth","stroke","color","weight","lineWidth","Math","max","lineEnd","directional","arrowLength","strokeStyle","beginPath","moveTo","lineTo","fillStyle","translate","rotate","atan2","closePath","fill","textAlign","textBaseline","angle","displacement","PI","textPos","fillText","contentWidth","contentHeight","fillRect","drawImage","img","Image","addEventListener","p4","denom","ua","ub"],"mappings":"AA2BAA,OAAOC,GAAGC,QAAU,SAASC,GAC5B,IAAIC,EAAQC,KAAKD,MAAQD,EAAOC,OAAS,IAAIE,QAAQC,MACjDC,EAAW,2BAEXC,EAAYN,EAAOM,WAAa,IAChCC,EAAYP,EAAOO,WAAa,IAChCC,EAAUR,EAAOQ,SAAW,GAC5BC,EAAqBT,EAAOS,oBAAsB,KAClDC,EAAeV,EAAOU,cAAgB,KACtCC,KAGAC,EAASV,KAAK,GACdW,EAAMD,EAAOE,WAAW,MAExBC,EAASb,KAAKa,OAAS,IAAIZ,QAAQa,OAAOC,cAAchB,EAAOK,EAAWC,EAAWC,EAASC,GAG9FS,EAAYH,EAAOI,iBACnBC,GAAYC,WAAY,IAAIlB,QAAQmB,QAAQ,GAAI,GAAIC,SAAU,IAAIpB,QAAQmB,OAAO,EAAG,IAGxFnB,QAAQqB,sBAAsB,SAASC,IACtCL,EAAWL,EAAOI,iBAElBD,GACCG,WAAYH,EAAUG,WAAWK,IAAKN,EAASC,WAAWM,SAAST,EAAUG,YAC3EO,OAAO,KACTL,SAAUL,EAAUK,SAASG,IAAKN,EAASG,SAASI,SAAST,EAAUK,UACrEK,OAAO,MAGVzB,QAAQqB,sBAAsBC,KAI/B,IAAII,EAAW,SAASC,GACvB,IAAIC,EAAOb,EAAUK,SAASI,SAAST,EAAUG,YAC7CW,EAAKF,EAAEH,SAAST,EAAUG,YAAYO,OAAOG,EAAKE,GAAGA,EAAIrB,EAAOsB,MAChEC,EAAKL,EAAEH,SAAST,EAAUG,YAAYO,OAAOG,EAAKK,GAAGA,EAAIxB,EAAOyB,OACpE,OAAO,IAAIlC,QAAQmB,OAAOU,EAAIG,IAG3BG,EAAa,SAASC,GACzB,IAAIR,EAAOb,EAAUK,SAASI,SAAST,EAAUG,YAC7CmB,EAAMD,EAAEN,EAAIrB,EAAOsB,MAASH,EAAKE,EAAIf,EAAUG,WAAWY,EAC1DQ,EAAMF,EAAEH,EAAIxB,EAAOyB,OAAUN,EAAKK,EAAIlB,EAAUG,WAAWe,EAC/D,OAAO,IAAIjC,QAAQmB,OAAOkB,EAAIC,IAI3BC,EAAW,KACXC,EAAU,KACVC,EAAU,KAEd/C,OAAOe,GAAQiC,UAAU,SAASC,GACjC,IAAIC,EAAMlD,OAAOK,MAAM8C,SACnBlB,EAAIQ,GAAYL,EAAGa,EAAEG,MAAQF,EAAIG,KAAMd,EAAGU,EAAEK,MAAQJ,EAAIK,MAGtC,QAFtBV,EAAWC,EAAUC,EAAU7B,EAAO4B,QAAQb,IAEjCuB,OACZT,EAAQU,MAAMC,EAAI,IAEd7C,GACHA,EAAagC,EAASW,OAIxBG,EAASC,UAIV5D,OAAOe,GAAQ8C,SAAS,SAASZ,GAChC,IAAIC,EAAMlD,OAAOK,MAAM8C,SACnBlB,EAAIQ,GAAYL,EAAGa,EAAEG,MAAQF,EAAIG,KAAMd,EAAGU,EAAEK,MAAQJ,EAAIK,MAC5DV,EAAW3B,EAAO4B,QAAQb,GAC1BuB,KAAOX,EAASW,KACZA,MAAQA,KAAKM,MAAQN,KAAKM,KAAKC,eAClCP,KAAKM,KAAKC,kBAIZ/D,OAAOe,GAAQiD,UAAU,SAASf,GACjC,IAAIC,EAAMlD,OAAOK,MAAM8C,SACnBlB,EAAIQ,GAAYL,EAAGa,EAAEG,MAAQF,EAAIG,KAAMd,EAAGU,EAAEK,MAAQJ,EAAIK,MAC5DT,EAAU5B,EAAO4B,QAAQb,GAET,OAAZc,GAAqC,OAAjBA,EAAQS,OAC/BT,EAAQU,MAAMxB,EAAEG,EAAIH,EAAEG,EACtBW,EAAQU,MAAMxB,EAAEM,EAAIN,EAAEM,GAGvBoB,EAASC,UAGV5D,OAAOiE,QAAQC,KAAK,UAAU,SAASjB,GACtCF,EAAU,OAmCXzC,QAAQ6D,KAAKC,UAAUC,UAAY,WAClC,IAN6Bb,EAc7B,OAPuBc,MAAnBjE,KAAKyD,KAAKS,MAjBP,GAoBFlE,KAAKyD,KAAKS,MAAMC,OAAO1D,GAAcA,EAAWT,KAAKyD,KAAKS,MAAMC,KAAKC,YATjCH,KADZd,EAWHnD,MAVPyD,KAAKS,MAAM/B,OAAwBgB,EAAKM,KAAKS,MAAM/B,OAAS1B,EAAW0C,EAAKM,KAAKS,MAAMC,KAAKE,OAAOlC,OAWpG,IAKnBlC,QAAQ6D,KAAKC,UAAUO,SAAW,WACjC,IAvB4BnB,EA+B5B,OAPuBc,MAAnBjE,KAAKyD,KAAKS,MA9CI,SAASf,GAC3B,IAAIoB,OAA4BN,IAApBd,EAAKM,KAAKe,MAAuBrB,EAAKM,KAAKe,MAAQrB,EAAKsB,GACpE,GAAItB,EAAKuB,QAAUvB,EAAKuB,OAAOH,GAC9B,OAAOpB,EAAKuB,OAAOH,GAEpB5D,EAAIgE,OACJhE,EAAIiE,UAA2BX,IAAnBd,EAAKM,KAAKmB,KAAsBzB,EAAKM,KAAKmB,KAAOzE,EAC7D,IAAI6B,EAAQrB,EAAIkE,YAAYN,GAAMvC,MAMlC,OALArB,EAAImE,UAEJ3B,EAAKuB,SAAWvB,EAAKuB,WACrBvB,EAAKuB,OAAOH,GAAQvC,EAEbA,EAkCE+C,CAAa/E,MAEjBA,KAAKyD,KAAKS,MAAMC,OAAO1D,GAAcA,EAAWT,KAAKyD,KAAKS,MAAMC,KAAKC,YA1BnCH,KADXd,EA4BJnD,MA3BNyD,KAAKS,MAAMlC,MAAuBmB,EAAKM,KAAKS,MAAMlC,MAAQvB,EAAW0C,EAAKM,KAAKS,MAAMC,KAAKE,OAAOrC,MA4BlG,IAKlB,IAAIsB,EAAWtD,KAAKsD,SAAW,IAAIrD,QAAQ+E,SAASnE,EACnD,WACCF,EAAIsE,UAAU,EAAE,EAAEvE,EAAOsB,MAAMtB,EAAOyB,SAEvC,SAAkB+C,EAAMC,EAAIC,GAgB3B,IAfA,IAAIC,EAAK1D,EAASwD,GAAIpD,EAClBuD,EAAK3D,EAASwD,GAAIjD,EAClBqD,EAAK5D,EAASyD,GAAIrD,EAClByD,EAAK7D,EAASyD,GAAIlD,EAElBuD,EAAY,IAAIxF,QAAQmB,OAAOmE,EAAGF,EAAIG,EAAGF,GACzCI,EAASD,EAAUC,SAASC,YAE5BC,EAAO7F,EAAM8F,SAASX,EAAKY,OAAQZ,EAAKa,QACxCC,EAAKjG,EAAM8F,SAASX,EAAKa,OAAQb,EAAKY,QAEtCG,EAAQL,EAAKM,OAASF,EAAGE,OAGzBC,EAAI,EACCC,EAAE,EAAGA,EAAER,EAAKM,OAAQE,IACxBR,EAAKQ,GAAG3B,KAAOS,EAAKT,KACvB0B,EAAIC,GAKN,IAsK0BjB,EAAIC,EAAIiB,EAAIC,EAAGC,EAMtCC,EALAC,EACAC,EACAC,EACAC,EAvKC9D,EAAS4C,EAAOmB,UAHN,IAGkBZ,EAAQ,GAAc,EAHxC,GAG+CE,GAKzDW,EAAKnF,EAASwD,GAAI3D,IAAIsB,GACtBiE,EAAKpF,EAASyD,GAAI5D,IAAIsB,GAEtBkE,EAAW9B,EAAKa,OAAOzB,WANZ,EAOX2C,EAAY/B,EAAKa,OAAO/B,YANb,EAQXkD,GAwJsB/B,EAxJY2B,EAwJR1B,EAxJY2B,EAwJJT,EAxJmDU,EAwJhDT,EAxJ0DU,EAyJhGR,GAAM1E,GADyBsE,GAxJatE,EAAGwD,EAAGyB,EAAS,EAAK9E,EAAGsD,EAAGyB,EAAU,IAyJpElF,EAAGG,EAAGmE,EAAGnE,GACrBwE,GAAM3E,EAAGsE,EAAGtE,EAAIuE,EAAGpE,EAAGmE,EAAGnE,GACzByE,GAAM5E,EAAGsE,EAAGtE,EAAGG,EAAGmE,EAAGnE,EAAIqE,GACzBK,GAAM7E,EAAGsE,EAAGtE,EAAIuE,EAAGpE,EAAGmE,EAAGnE,EAAIqE,IAG7BC,EAASW,EAAoBhC,EAAIC,EAAIqB,EAAIC,IAAcF,GACvDA,EAASW,EAAoBhC,EAAIC,EAAIsB,EAAIE,IAAcJ,GACvDA,EAASW,EAAoBhC,EAAIC,EAAIwB,EAAID,IAAcH,KACvDA,EAASW,EAAoBhC,EAAIC,EAAIuB,EAAIF,KAAcD,GAhKrDU,IACJA,EAAeH,GAGhB,IAEIK,EAFAC,OAA8BpD,IAApBiB,EAAKzB,KAAK6D,MAAuBpC,EAAKzB,KAAK6D,MAAQ,UAK7DC,OAA+BtD,IAArBiB,EAAKzB,KAAK8D,OAAwBrC,EAAKzB,KAAK8D,OAAS,EAEnE5G,EAAI6G,UAAYC,KAAKC,IAAc,EAAVH,EAAa,IACtCH,EAAa,EAAIzG,EAAI6G,UAGrB,IAGIG,EAHAC,OAAyC3D,IAA1BiB,EAAKzB,KAAKmE,aAA6B1C,EAAKzB,KAAKmE,YAiCpE,GA5BCD,EADGC,EACOV,EAAazF,SAASgE,EAAUE,YAAYkB,SAASgB,IAErDd,EAGXpG,EAAImH,YAAcT,EAClB1G,EAAIoH,YACJpH,EAAIqH,OAAOlB,EAAG/E,EAAG+E,EAAG5E,GACpBvB,EAAIsH,OAAON,EAAQ5F,EAAG4F,EAAQzF,GAC9BvB,EAAI0G,SAGAO,IACHjH,EAAIgE,OACJhE,EAAIuH,UAAYb,EAChB1G,EAAIwH,UAAUjB,EAAanF,EAAGmF,EAAahF,GAC3CvB,EAAIyH,OAAOX,KAAKY,MAAM7C,EAAKF,EAAIC,EAAKF,IACpC1E,EAAIoH,YACJpH,EAAIqH,QAzBS,EAyBYZ,GACzBzG,EAAIsH,OAAO,EAAG,GACdtH,EAAIsH,QA3BS,GA2Bab,GAC1BzG,EAAIsH,QAAO,KAAqB,GAChCtH,EAAI2H,YACJ3H,EAAI4H,OACJ5H,EAAImE,gBAImBb,IAApBiB,EAAKzB,KAAKe,MAAqB,CAClCD,KAAOW,EAAKzB,KAAKe,MACjB7D,EAAIgE,OACJhE,EAAI6H,UAAY,SAChB7H,EAAI8H,aAAe,MACnB9H,EAAIiE,UAA2BX,IAAnBiB,EAAKzB,KAAKmB,KAAsBM,EAAKzB,KAAKmB,KAxP1C,0BAyPZjE,EAAIuH,UAAYb,EAChB,IAAIqB,EAAQjB,KAAKY,MAAMtB,EAAG7E,EAAI4E,EAAG5E,EAAG6E,EAAGhF,EAAI+E,EAAG/E,GAC1C4G,GAAgB,GACMD,EAAQjB,KAAKmB,GAAG,GAAKF,GAASjB,KAAKmB,GAAG,KAC/DD,EAAe,EACfD,GAASjB,KAAKmB,IAEf,IAAIC,EAAU/B,EAAGtF,IAAIuF,GAAIrF,OAAO,GAAGF,IAAIkE,EAAOmB,SAAS8B,IACvDhI,EAAIwH,UAAUU,EAAQ9G,EAAG8G,EAAQ3G,GACjCvB,EAAIyH,OAAOM,GACX/H,EAAImI,SAASvE,KAAM,GAAG,GACtB5D,EAAImE,YAIN,SAAkB3B,EAAMvB,GACvB,IAAIS,EAAIV,EAASC,GAEjBjB,EAAIgE,OAIJ,IAGIoE,EAAe5F,EAAKmB,WACpB0E,EAAgB7F,EAAKa,YACrBgD,EAAW+B,EALA,EAMX9B,EAAY+B,EALD,EAoBf,GAZArI,EAAIsE,UAAU5C,EAAEN,EAAIiF,EAAS,EAAG3E,EAAEH,EAAI+E,EAAU,EAAGD,EAAUC,GAG5C,OAAbzE,GAAuC,OAAlBA,EAASW,MAAiBX,EAASW,KAAKsB,KAAOtB,EAAKsB,GAC5E9D,EAAIuH,UAAY,UACM,OAAZzF,GAAqC,OAAjBA,EAAQU,MAAiBV,EAAQU,KAAKsB,KAAOtB,EAAKsB,GAChF9D,EAAIuH,UAAY,UAEhBvH,EAAIuH,UAAY,UAEjBvH,EAAIsI,SAAS5G,EAAEN,EAAIiF,EAAS,EAAG3E,EAAEH,EAAI+E,EAAU,EAAGD,EAAUC,GAErChD,MAAnBd,EAAKM,KAAKS,MAAoB,CACjCvD,EAAI6H,UAAY,OAChB7H,EAAI8H,aAAe,MACnB9H,EAAIiE,UAA2BX,IAAnBd,EAAKM,KAAKmB,KAAsBzB,EAAKM,KAAKmB,KAAOzE,EAC7DQ,EAAIuH,eAAiCjE,IAApBd,EAAKM,KAAK6D,MAAuBnE,EAAKM,KAAK6D,MAAQ,UACpE,IAAI/C,OAA4BN,IAApBd,EAAKM,KAAKe,MAAuBrB,EAAKM,KAAKe,MAAQrB,EAAKsB,GACpE9D,EAAImI,SAASvE,EAAMlC,EAAEN,EAAIgH,EAAa,EAAG1G,EAAEH,EAAI8G,EAAc,OACvD,CAEN,IAAI7E,EAAMhB,EAAKM,KAAKS,MAAMC,IAC1B,GAAIA,KAAO1D,EACNA,EAAW0D,GAAKC,QAEnBzD,EAAIuI,UAAUzI,EAAW0D,GAAKE,OAAQhC,EAAEN,EAAIgH,EAAa,EAAG1G,EAAEH,EAAI8G,EAAc,EAAGD,EAAcC,OAE9F,CAGJvI,EAAW0D,MACX,IAAIgF,EAAM,IAAIC,MACd3I,EAAW0D,GAAKE,OAAS8E,EACzBA,EAAIE,iBAAiB,OAAQ,WAE5B5I,EAAW0D,GAAKC,QAAS,IAE1B+E,EAAIhF,IAAMA,GAGZxD,EAAImE,YAON,SAASqC,EAAoBhC,EAAIC,EAAIiB,EAAIiD,GACxC,IAAIC,GAAUD,EAAGpH,EAAImE,EAAGnE,IAAIkD,EAAGrD,EAAIoD,EAAGpD,IAAMuH,EAAGvH,EAAIsE,EAAGtE,IAAIqD,EAAGlD,EAAIiD,EAAGjD,GAGpE,GAAc,IAAVqH,EACH,OAAO,EAGR,IAAIC,IAAOF,EAAGvH,EAAIsE,EAAGtE,IAAIoD,EAAGjD,EAAImE,EAAGnE,IAAMoH,EAAGpH,EAAImE,EAAGnE,IAAIiD,EAAGpD,EAAIsE,EAAGtE,IAAMwH,EACnEE,IAAOrE,EAAGrD,EAAIoD,EAAGpD,IAAIoD,EAAGjD,EAAImE,EAAGnE,IAAMkD,EAAGlD,EAAIiD,EAAGjD,IAAIiD,EAAGpD,EAAIsE,EAAGtE,IAAMwH,EAEvE,QAAIC,EAAK,GAAKA,EAAK,GAAKC,EAAK,GAAKA,EAAK,IAIhC,IAAIxJ,QAAQmB,OAAO+D,EAAGpD,EAAIyH,GAAMpE,EAAGrD,EAAIoD,EAAGpD,GAAIoD,EAAGjD,EAAIsH,GAAMpE,EAAGlD,EAAIiD,EAAGjD,IAkB7E,OApCAoB,EAASC,QAoCFvD"}