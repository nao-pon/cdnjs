!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VeeValidate=e()}(this,function(){"use strict";var t=function(t,e){return t.getAttribute("data-vv-"+e)},e=function(t){return null===t||void 0===t},i=function(t,e){if(t instanceof RegExp&&e instanceof RegExp)return i(t.source,e.source)&&i(t.flags,e.flags);if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1;return!0}return o(t)&&o(e)?Object.keys(t).every(function(n){return i(t[n],e[n])})&&Object.keys(e).every(function(n){return i(t[n],e[n])}):t===e},n=function(t,e,i){if(void 0===i&&(i=void 0),!t||!e)return i;var n=e;return t.split(".").every(function(t){return Object.prototype.hasOwnProperty.call(n,t)||void 0!==n[t]?(n=n[t],!0):(n=i,!1)}),n},r=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=!1),0===e)return t;var n;return function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];var a=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||t.apply(void 0,r)},e),a&&t.apply(void 0,r)}},s=function(t){console.warn("[vee-validate] "+t)},a=function(t){return new Error("[vee-validate] "+t)},o=function(t){return null!==t&&t&&"object"==typeof t&&!Array.isArray(t)},l=function(t){return"function"==typeof t},u=function(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},c=function(t,e,i){if(t&&e)return i?function(t,e){t.classList?t.classList.add(e):u(t,e)||(t.className+=" "+e)}(t,e):void function(t,e){if(t.classList)t.classList.remove(e);else if(u(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ")}}(t,e)},d=function(t){if(l(Array.from))return Array.from(t);for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e},f=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(l(Object.assign))return Object.assign.apply(Object,[t].concat(e));if(null==t)throw new TypeError("Cannot convert undefined or null to object");var n=Object(t);return e.forEach(function(t){null!=t&&Object.keys(t).forEach(function(e){n[e]=t[e]})}),n},h=0,v=function(t,e){var i=d(t);if(l(i.find))return i.find(e);var n;return i.some(function(t){return!!e(t)&&(n=t,!0)}),n},p=function(t){return t&&("SELECT"===t.tagName||~["radio","checkbox","file"].indexOf(t.type))?"change":"input"},m=function(t){if(!t)return!1;var e=t.componentOptions.tag;return/keep-alive|transition|transition-group/.test(e)},g=function(t,e){var i={};if("object"==typeof e&&!("global"in e)&&!("local"in e)&&Object.keys(e).length)return e;var n="object"==typeof e&&"global"in e?e.global:e||0,r="object"==typeof e&&"local"in e?e.local:{};return t.forEach(function(t){i[t]="object"==typeof n?r[t]||n[t]||0:r[t]||n}),i},y=function(t){if("number"==typeof t)return t;if("string"==typeof t)return parseInt(t);var e={};for(var i in t)e[i]=parseInt(t[i]);return e},$=function(){this.items=[]};$.prototype.add=function(t){arguments.length>1&&(t={field:arguments[0],msg:arguments[1],rule:arguments[2],scope:e(arguments[3])?null:arguments[3]}),t.scope=e(t.scope)?null:t.scope,this.items.push(t)},$.prototype.update=function(t,e){var i=v(this.items,function(e){return e.id===t});if(i){var n=this.items.indexOf(i);this.items.splice(n,1),i.scope=e.scope,this.items.push(i)}},$.prototype.all=function(t){return e(t)?this.items.map(function(t){return t.msg}):this.items.filter(function(e){return e.scope===t}).map(function(t){return t.msg})},$.prototype.any=function(t){return e(t)?!!this.items.length:!!this.items.filter(function(e){return e.scope===t}).length},$.prototype.clear=function(t){e(t)&&(t=null);for(var i=0;i<this.items.length;++i)this.items[i].scope===t&&(this.items.splice(i,1),--i)},$.prototype.collect=function(t,i,n){if(void 0===n&&(n=!0),!t){var r={};return this.items.forEach(function(t){r[t.field]||(r[t.field]=[]),r[t.field].push(n?t.msg:t)}),r}return t=e(t)?t:String(t),e(i)?this.items.filter(function(e){return e.field===t}).map(function(t){return n?t.msg:t}):this.items.filter(function(e){return e.field===t&&e.scope===i}).map(function(t){return n?t.msg:t})},$.prototype.count=function(){return this.items.length},$.prototype.firstById=function(t){var e=v(this.items,function(e){return e.id===t});return e?e.msg:null},$.prototype.first=function(t,i){void 0===i&&(i=null),t=e(t)?t:String(t);var n=this._selector(t),r=this._scope(t);if(r){var s=this.first(r.name,r.scope);if(s)return s}if(n)return this.firstByRule(n.name,n.rule,i);for(var a=0;a<this.items.length;++a)if(this.items[a].field===t&&this.items[a].scope===i)return this.items[a].msg;return null},$.prototype.firstRule=function(t,e){var i=this.collect(t,e,!1);return i.length&&i[0].rule||null},$.prototype.has=function(t,e){return void 0===e&&(e=null),!!this.first(t,e)},$.prototype.firstByRule=function(t,e,i){void 0===i&&(i=null);var n=this.collect(t,i,!1).filter(function(t){return t.rule===e})[0];return n&&n.msg||null},$.prototype.firstNot=function(t,e,i){void 0===e&&(e="required"),void 0===i&&(i=null);var n=this.collect(t,i,!1).filter(function(t){return t.rule!==e})[0];return n&&n.msg||null},$.prototype.removeById=function(t){for(var e=0;e<this.items.length;++e)this.items[e].id===t&&(this.items.splice(e,1),--e)},$.prototype.remove=function(t,i,n){t=e(t)?t:String(t);for(var r=function(r){return r.id&&n?r.id===n:e(i)?r.field===t&&null===r.scope:r.field===t&&r.scope===i},s=0;s<this.items.length;++s)r(this.items[s])&&(this.items.splice(s,1),--s)},$.prototype._selector=function(t){if(t.indexOf(":")>-1){var e=t.split(":");return{name:e[0],rule:e[1]}}return null},$.prototype._scope=function(t){if(t.indexOf(".")>-1){var e=t.split("."),i=e[0];return{name:e.slice(1).join("."),scope:i}}return null};var b=function(t){void 0===t&&(t={}),this.container={},this.merge(t)};b.prototype.hasLocale=function(t){return!!this.container[t]},b.prototype.setDateFormat=function(t,e){this.container[t]||(this.container[t]={}),this.container[t].dateFormat=e},b.prototype.getDateFormat=function(t){if(this.container[t])return this.container[t].dateFormat},b.prototype.getMessage=function(t,e,i){return this.hasMessage(t,e)?this.container[t].messages[e]:i||this._getDefaultMessage(t)},b.prototype.getFieldMessage=function(t,e,i){if(!this.hasLocale(t))return this.getMessage(t,i);var n=this.container[t].custom&&this.container[t].custom[e];return n&&n[i]?n[i]:this.getMessage(t,i)},b.prototype._getDefaultMessage=function(t){return this.hasMessage(t,"_default")?this.container[t].messages._default:this.container.en.messages._default},b.prototype.getAttribute=function(t,e,i){return void 0===i&&(i=""),this.hasAttribute(t,e)?this.container[t].attributes[e]:i},b.prototype.hasMessage=function(t,e){return!!(this.hasLocale(t)&&this.container[t].messages&&this.container[t].messages[e])},b.prototype.hasAttribute=function(t,e){return!!(this.hasLocale(t)&&this.container[t].attributes&&this.container[t].attributes[e])},b.prototype.merge=function(t){this._merge(this.container,t)},b.prototype.setMessage=function(t,e,i){this.hasLocale(t)||(this.container[t]={messages:{},attributes:{}}),this.container[t].messages[e]=i},b.prototype.setAttribute=function(t,e,i){this.hasLocale(t)||(this.container[t]={messages:{},attributes:{}}),this.container[t].attributes[e]=i},b.prototype._merge=function(t,e){var i=this;return o(t)&&o(e)?(Object.keys(e).forEach(function(n){if(o(e[n])){if(!t[n]){f(t,(r={},r[n]={},r));var r}i._merge(t[n],e[n])}else{f(t,(s={},s[n]=e[n],s));var s}}),t):t};var _={locale:"en",delay:0,errorBagName:"errors",dictionary:null,strict:!0,fieldsBagName:"fields",classes:!1,classNames:null,events:"input|blur",inject:!0,fastExit:!0,aria:!0,validity:!1},w=f({},_),x=function(){},E={default:{},current:{}};E.default.get=function(){return _},E.current.get=function(){return w},x.merge=function(t){w=f({},w,t)},x.resolve=function(t){var e=n("$options.$_veeValidate",t,{});return f({},x.current,e)},Object.defineProperties(x,E);var O=function(){};O.generate=function(t,e,i){var n=O.resolveModel(e,i),r=x.resolve(i.context);return{name:O.resolveName(t,i),el:t,listen:!e.modifiers.disable,scope:O.resolveScope(t,e,i),vm:O.makeVM(i.context),expression:e.value,component:i.child,classes:r.classes,classNames:r.classNames,getter:O.resolveGetter(t,i,n),events:O.resolveEvents(t,i)||r.events,model:n,delay:O.resolveDelay(t,i,r),rules:O.resolveRules(t,e),initial:!!e.modifiers.initial,validity:r.validity,aria:r.aria,initialValue:O.resolveInitialValue(i)}},O.getCtorConfig=function(t){if(!t.child)return null;return n("child.$options.$_veeValidate",t)},O.resolveRules=function(e,i){return i&&i.expression?"string"==typeof i.value?i.value:~["string","object"].indexOf(typeof i.value.rules)?i.value.rules:i.value:t(e,"rules")},O.resolveInitialValue=function(t){var e=t.data.model||v(t.data.directives,function(t){return"model"===t.name});return e&&e.value},O.makeVM=function(t){return{get $el(){return t.$el},get $refs(){return t.$refs},$watch:t.$watch?t.$watch.bind(t):function(){},$validator:t.$validator?{errors:t.$validator.errors,validate:t.$validator.validate.bind(t.$validator),update:t.$validator.update.bind(t.$validator)}:null}},O.resolveDelay=function(e,i,n){var r=t(e,"delay"),s=n&&"delay"in n?n.delay:0;return!r&&i.child&&i.child.$attrs&&(r=i.child.$attrs["data-vv-delay"]),r?{local:{input:parseInt(r)},global:y(s)}:{global:y(s)}},O.resolveEvents=function(e,i){var n=t(e,"validate-on");if(!n&&i.child&&i.child.$attrs&&(n=i.child.$attrs["data-vv-validate-on"]),!n&&i.child){var r=O.getCtorConfig(i);n=r&&r.events}return n},O.resolveScope=function(i,n,r){void 0===r&&(r={});var s=null;return o(n.value)&&(s=n.value.scope),r.child&&e(s)&&(s=r.child.$attrs&&r.child.$attrs["data-vv-scope"]),e(s)?function(i){var n=t(i,"scope");return e(n)&&i.form&&(n=t(i.form,"scope")),e(n)?null:n}(i):s},O.resolveModel=function(t,e){if(t.arg)return t.arg;if(o(t.value)&&t.value.arg)return t.value.arg;var i=e.data.model||v(e.data.directives,function(t){return"model"===t.name});if(!i)return null;return/^[a-z_]+[0-9]*(\w*\.[a-z_]\w*)*$/i.test(i.expression)&&function(t,e){var i=e;return t.split(".").every(function(t){return!!Object.prototype.hasOwnProperty.call(i,t)&&(i=i[t],!0)})}(i.expression,e.context)?i.expression:null},O.resolveName=function(e,i){var n=t(e,"name");if(!n&&!i.child)return e.name;if(!n&&i.child&&i.child.$attrs&&(n=i.child.$attrs["data-vv-name"]||i.child.$attrs.name),!n&&i.child){var r=O.getCtorConfig(i);if(r&&l(r.name)){return r.name.bind(i.child)()}return i.child.name}return n},O.resolveGetter=function(e,i,r){if(r)return function(){return n(r,i.context)};if(i.child){var s=t(e,"value-path")||i.child.$attrs&&i.child.$attrs["data-vv-value-path"];if(s)return function(){return n(s,i.child)};var a=O.getCtorConfig(i);if(a&&l(a.value)){var o=a.value.bind(i.child);return function(){return o()}}return function(){return i.child.value}}switch(e.type){case"checkbox":return function(){var t=document.querySelectorAll('input[name="'+e.name+'"]');if((t=d(t).filter(function(t){return t.checked})).length)return t.map(function(t){return t.value})};case"radio":return function(){var t=document.querySelectorAll('input[name="'+e.name+'"]'),i=v(t,function(t){return t.checked});return i&&i.value};case"file":return function(t){return d(e.files)};case"select-multiple":return function(){return d(e.options).filter(function(t){return t.selected}).map(function(t){return t.value})};default:return function(){return e&&e.value}}};var A={targetOf:null,initial:!1,scope:null,listen:!0,name:null,active:!0,required:!1,rules:{},vm:null,classes:!1,validity:!0,aria:!0,events:"input|blur",delay:0,classNames:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"}},j=function(t,e){void 0===e&&(e={}),this.id=function(){h>=9999&&(h=0,"{id}".replace("{id}","_{id}")),h++;return"{id}".replace("{id}",String(h))}(),this.el=t,this.updated=!1,this.dependencies=[],this.watchers=[],this.events=[],this.delay=0,this.rules={},this.el&&!e.targetOf&&function(t,e,i){t.setAttribute("data-vv-"+e,i)}(this.el,"id",this.id),e=f({},A,e),this.validity=e.validity,this.aria=e.aria,this.flags={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1},this.vm=e.vm,this.component=e.component,this.ctorConfig=this.component?n("$options.$_veeValidate",this.component):void 0,this.update(e),this.updated=!1},N={validator:{},isRequired:{},isDisabled:{},alias:{},value:{},rejectsFalse:{}};N.validator.get=function(){return this.vm&&this.vm.$validator?this.vm.$validator:(s("No validator instance detected."),{validate:function(){}})},N.isRequired.get=function(){return!!this.rules.required},N.isDisabled.get=function(){return!(!this.component||!this.component.disabled)||!(!this.el||!this.el.disabled)},N.alias.get=function(){if(this._alias)return this._alias;var e=null;return this.el&&(e=t(this.el,"as")),!e&&this.component?this.component.$attrs&&this.component.$attrs["data-vv-as"]:e},N.value.get=function(){if(l(this.getter))return this.getter()},N.rejectsFalse.get=function(){return this.component&&this.ctorConfig?!!this.ctorConfig.rejectsFalse:!!this.el&&"checkbox"===this.el.type},j.prototype.matches=function(t){return t.id?this.id===t.id:void 0===t.name&&void 0===t.scope||(void 0===t.scope?this.name===t.name:void 0===t.name?this.scope===t.scope:t.name===this.name&&t.scope===this.scope)},j.prototype.update=function(t){this.targetOf=t.targetOf||null,this.initial=t.initial||this.initial||!1,!e(t.scope)&&t.scope!==this.scope&&l(this.validator.update)&&this.validator.update(this.id,{scope:t.scope}),this.scope=e(t.scope)?e(this.scope)?null:this.scope:t.scope,this.name=(e(t.name)?t.name:String(t.name))||this.name||null,this.rules=void 0!==t.rules?function(t){return t?o(t)?Object.keys(t).reduce(function(e,i){var n=[];return n=!0===t[i]?[]:Array.isArray(t[i])?t[i]:[t[i]],!1!==t[i]&&(e[i]=n),e},{}):"string"!=typeof t?(s("rules must be either a string or an object."),{}):t.split("|").reduce(function(t,e){var i=function(t){var e=[],i=t.split(":")[0];return~t.indexOf(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:i,params:e}}(e);return i.name?(t[i.name]=i.params,t):t},{}):{}}(t.rules):this.rules,this.model=t.model||this.model,this.listen=void 0!==t.listen?t.listen:this.listen,this.classes=t.classes||this.classes||!1,this.classNames=t.classNames||this.classNames||A.classNames,this.getter=l(t.getter)?t.getter:this.getter,this._alias=t.alias||this._alias,this.events=t.events?function(t){return"string"==typeof t&&t.length?t.split("|"):[]}(t.events):this.events,this.delay=t.delay?g(this.events,t.delay):g(this.events,this.delay),this.updateDependencies(),this.addActionListeners(),void 0!==t.rules&&(this.flags.required=this.isRequired),this.flags.validated&&void 0!==t.rules&&this.updated&&this.validator.validate("#"+this.id),this.updated=!0,this.el&&(this.updateClasses(),this.addValueListeners(),this.updateAriaAttrs())},j.prototype.reset=function(){var t=this,e={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1};Object.keys(this.flags).forEach(function(i){t.flags[i]=e[i]}),this.addActionListeners(),this.updateClasses(),this.updateAriaAttrs(),this.updateCustomValidity()},j.prototype.setFlags=function(t){var e=this,i={pristine:"dirty",dirty:"pristine",valid:"invalid",invalid:"valid",touched:"untouched",untouched:"touched"};Object.keys(t).forEach(function(n){e.flags[n]=t[n],i[n]&&void 0===t[i[n]]&&(e.flags[i[n]]=!t[n])}),void 0===t.untouched&&void 0===t.touched&&void 0===t.dirty&&void 0===t.pristine||this.addActionListeners(),this.updateClasses(),this.updateAriaAttrs(),this.updateCustomValidity()},j.prototype.updateDependencies=function(){var t=this;this.dependencies.forEach(function(t){return t.field.destroy()}),this.dependencies=[];var e=Object.keys(this.rules).reduce(function(e,i){return"confirmed"===i?e.push({selector:t.rules[i][0]||t.name+"_confirmation",name:i}):/after|before/.test(i)&&e.push({selector:t.rules[i][0],name:i}),e},[]);e.length&&this.vm&&this.vm.$el&&e.forEach(function(e){var i=e.selector,n=e.name,r=null;if("$"===i[0])r=t.vm.$refs[i.slice(1)];else try{r=t.vm.$el.querySelector(i)}catch(t){r=null}if(!r)try{r=t.vm.$el.querySelector('input[name="'+i+'"]')}catch(t){r=null}if(r){var s={vm:t.vm,classes:t.classes,classNames:t.classNames,delay:t.delay,scope:t.scope,events:t.events.join("|"),initial:t.initial,targetOf:t.id};l(r.$watch)?(s.component=r,s.el=r.$el,s.getter=O.resolveGetter(r.$el,{child:r})):(s.el=r,s.getter=O.resolveGetter(r,{})),t.dependencies.push({name:n,field:new j(s.el,s)})}})},j.prototype.unwatch=function(t){if(void 0===t&&(t=null),!t)return this.watchers.forEach(function(t){return t.unwatch()}),void(this.watchers=[]);this.watchers.filter(function(e){return t.test(e.tag)}).forEach(function(t){return t.unwatch()}),this.watchers=this.watchers.filter(function(e){return!t.test(e.tag)})},j.prototype.updateClasses=function(){this.classes&&(c(this.el,this.classNames.dirty,this.flags.dirty),c(this.el,this.classNames.pristine,this.flags.pristine),c(this.el,this.classNames.valid,!!this.flags.valid),c(this.el,this.classNames.invalid,!!this.flags.invalid),c(this.el,this.classNames.touched,this.flags.touched),c(this.el,this.classNames.untouched,this.flags.untouched))},j.prototype.addActionListeners=function(){var t=this;this.unwatch(/class/);var e=function(){t.flags.touched=!0,t.flags.untouched=!1,t.classes&&(c(t.el,t.classNames.touched,!0),c(t.el,t.classNames.untouched,!1)),t.unwatch(/^class_blur$/)},i=p(this.el),n=function(){t.flags.dirty=!0,t.flags.pristine=!1,t.classes&&(c(t.el,t.classNames.pristine,!1),c(t.el,t.classNames.dirty,!0)),t.unwatch(/^class_input$/)};if(this.component&&l(this.component.$once))return this.component.$once("input",n),this.component.$once("blur",e),this.watchers.push({tag:"class_input",unwatch:function(){t.component.$off("input",n)}}),void this.watchers.push({tag:"class_blur",unwatch:function(){t.component.$off("blur",e)}});if(this.el){this.el.addEventListener(i,n);var r=-1===["radio","checkbox"].indexOf(this.el.type)?"blur":"click";this.el.addEventListener(r,e),this.watchers.push({tag:"class_input",unwatch:function(){t.el.removeEventListener(i,n)}}),this.watchers.push({tag:"class_blur",unwatch:function(){t.el.removeEventListener(r,e)}})}},j.prototype.addValueListeners=function(){var t=this;if(this.unwatch(/^input_.+/),this.listen){var e=this.targetOf?function(){t.validator.validate("#"+t.targetOf)}:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];(0===e.length||l(Event)&&e[0]instanceof Event||e[0]&&e[0].srcElement)&&(e[0]=t.value),t.validator.validate("#"+t.id,e[0])},i=p(this.el),n=this.events.map(function(t){return"input"===t?i:t});if(this.model&&-1!==n.indexOf(i)){var s=r(e,this.delay[i]),a=this.vm.$watch(this.model,function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];t.flags.pending=!0,s.apply(void 0,e)});this.watchers.push({tag:"input_model",unwatch:a}),n=n.filter(function(t){return t!==i})}n.forEach(function(i){var n=r(e,t.delay[i]),s=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];t.flags.pending=!0,n.apply(void 0,e)};if(t.component)return t.component.$on(i,s),void t.watchers.push({tag:"input_vue",unwatch:function(){t.component.$off(i,s)}});if(~["radio","checkbox"].indexOf(t.el.type)){var a=document.querySelectorAll('input[name="'+t.el.name+'"]');d(a).forEach(function(e){e.addEventListener(i,s),t.watchers.push({tag:"input_native",unwatch:function(){e.removeEventListener(i,s)}})})}else t.el.addEventListener(i,s),t.watchers.push({tag:"input_native",unwatch:function(){t.el.removeEventListener(i,s)}})})}},j.prototype.updateAriaAttrs=function(){this.aria&&this.el&&l(this.el.setAttribute)&&(this.el.setAttribute("aria-required",this.isRequired?"true":"false"),this.el.setAttribute("aria-invalid",this.flags.invalid?"true":"false"))},j.prototype.updateCustomValidity=function(){this.validity&&this.el&&l(this.el.setCustomValidity)&&this.el.setCustomValidity(this.flags.valid?"":this.validator.errors.firstById(this.id)||"")},j.prototype.destroy=function(){this.watchers.forEach(function(t){return t.unwatch()}),this.watchers=[],this.dependencies.forEach(function(t){return t.field.destroy()}),this.dependencies=[]},Object.defineProperties(j.prototype,N);var F=function(){this.items=[]},L={length:{}};L.length.get=function(){return this.items.length},F.prototype.find=function(t){return v(this.items,function(e){return e.matches(t)})},F.prototype.filter=function(t){return Array.isArray(t)?this.items.filter(function(e){return t.some(function(t){return e.matches(t)})}):this.items.filter(function(e){return e.matches(t)})},F.prototype.map=function(t){return this.items.map(t)},F.prototype.remove=function(t){var e=null;if(!(e=t instanceof j?t:this.find(t)))return null;var i=this.items.indexOf(e);return this.items.splice(i,1),e},F.prototype.push=function(t){if(!(t instanceof j))throw a("FieldBag only accepts instances of Field that has an id defined.");if(!t.id)throw a("Field id must be defined.");if(this.find({id:t.id}))throw a("Field with id "+t.id+" is already added.");this.items.push(t)},Object.defineProperties(F.prototype,L);var k={},V="en",D=!0,M=new b({en:{messages:{},attributes:{},custom:{}}}),P=function(t,e){var i=this;void 0===e&&(e={vm:null,fastExit:!0}),this.strict=D,this.errors=new $,this.fields=new F,this.flags={},this._createFields(t),this.paused=!1,this.fastExit=e.fastExit||!1,this.ownerId=e.vm&&e.vm._uid,this.reset=e.vm&&l(e.vm.$nextTick)?function(){return new Promise(function(t,n){e.vm.$nextTick(function(){i.fields.items.forEach(function(t){return t.reset()}),i.errors.clear(),t()})})}:function(){return new Promise(function(t,e){i.fields.items.forEach(function(t){return t.reset()}),i.errors.clear(),t()})},this.clean=function(){s("validator.clean is marked for deprecation, please use validator.reset instead."),i.reset()}},C={dictionary:{},locale:{},rules:{}},q={dictionary:{},locale:{},rules:{}};C.dictionary.get=function(){return M},q.dictionary.get=function(){return M},C.locale.get=function(){return V},C.locale.set=function(t){P.locale=t},q.locale.get=function(){return V},q.locale.set=function(t){M.hasLocale(t)||s("You are setting the validator locale to a locale that is not defined in the dictionary. English messages may still be generated."),V=t},C.rules.get=function(){return k},q.rules.get=function(){return k},P.create=function(t,e){return new P(t,e)},P.extend=function(t,e){P._guardExtend(t,e),P._merge(t,e)},P.remove=function(t){delete k[t]},P.setLocale=function(t){void 0===t&&(t="en"),P.locale=t},P.installDateTimeValidators=function(){s("Date validations are now installed by default, you no longer need to install it.")},P.prototype.installDateTimeValidators=function(){s("Date validations are now installed by default, you no longer need to install it.")},P.setStrictMode=function(t){void 0===t&&(t=!0),D=t},P.updateDictionary=function(t){M.merge(t)},P.addLocale=function(t){if(t.name){this.updateDictionary((e={},e[t.name]=t,e));var e}else s("Your locale must have a name property")},P.prototype.addLocale=function(t){P.addLocale(t)},P.prototype.localize=function(t,e){P.localize(t,e)},P.localize=function(t,e){e&&(e=f({},e,{name:t}),P.addLocale(e)),P.locale=t},P.prototype.attach=function(t){arguments.length>1&&(t=f({},{name:arguments[0],rules:arguments[1]},arguments[2]||{vm:{$validator:this}}));var e=t.initialValue;return t instanceof j||(t=new j(t.el||null,t)),this.fields.push(t),t.initial?this.validate("#"+t.id,e||t.value):this._validate(t,e||t.value,!0).then(function(e){t.flags.valid=e.valid,t.flags.invalid=!e.valid}),this._addFlag(t,t.scope),t},P.prototype.flag=function(t,e){var i=this._resolveField(t);i&&e&&i.setFlags(e)},P.prototype.detach=function(t,i){var n=t instanceof j?t:this._resolveField(t,i);if(n){n.destroy(),this.errors.remove(n.name,n.scope,n.id),this.fields.remove(n);var r=this.flags;!e(n.scope)&&r["$"+n.scope]?delete r["$"+n.scope][n.name]:e(n.scope)&&delete r[n.name],this.flags=f({},r)}},P.prototype.extend=function(t,e){P.extend(t,e)},P.prototype.update=function(t,i){var n=i.scope,r=this._resolveField("#"+t);r&&(this.errors.update(t,{scope:n}),!e(r.scope)&&this.flags["$"+r.scope]?delete this.flags["$"+r.scope][r.name]:e(r.scope)&&delete this.flags[r.name],this._addFlag(r,n))},P.prototype.remove=function(t){P.remove(t)},P.prototype.setLocale=function(t){this.locale=t},P.prototype.updateDictionary=function(t){P.updateDictionary(t)},P.prototype.validate=function(t,e,i){var n=this;if(void 0===i&&(i=null),this.paused)return Promise.resolve(!0);if(0===arguments.length)return this.validateScopes();if(1===arguments.length&&"*"===arguments[0])return this.validateAll();if(1===arguments.length&&"string"==typeof arguments[0]&&/^(.+)\.\*$/.test(arguments[0])){var r=arguments[0].match(/^(.+)\.\*$/)[1];return this.validateAll(r)}var s=this._resolveField(t,i);if(!s)return this._handleFieldNotFound(t,i);s.flags.pending=!0,1===arguments.length&&(e=s.value);var a=s.isDisabled;return this._validate(s,e,a).then(function(t){return s.setFlags({pending:!1,valid:t.valid,validated:!0}),n.errors.remove(s.name,s.scope,s.id),a?Promise.resolve(!0):(t.errors&&t.errors.forEach(function(t){return n.errors.add(t)}),t.valid)})},P.prototype.pause=function(){return this.paused=!0,this},P.prototype.resume=function(){return this.paused=!1,this},P.prototype.validateAll=function(t){var e=arguments,i=this;if(this.paused)return Promise.resolve(!0);var n=null,r=!1;"string"==typeof t?n={scope:t}:o(t)?(n=Object.keys(t).map(function(t){return{name:t,scope:e[1]||null}}),r=!0):0===arguments.length?n={scope:null}:Array.isArray(t)&&(n=t.map(function(t){return{name:t,scope:e[1]||null}}));var s=this.fields.filter(n).map(function(e){return i.validate("#"+e.id,r?t[e.name]:e.value)});return Promise.all(s).then(function(t){return t.every(function(t){return t})})},P.prototype.validateScopes=function(){var t=this;if(this.paused)return Promise.resolve(!0);var e=this.fields.map(function(e){return t.validate("#"+e.id,e.value)});return Promise.all(e).then(function(t){return t.every(function(t){return t})})},P.prototype._createFields=function(t){var e=this;t&&Object.keys(t).forEach(function(i){var n=f({},{name:i,rules:t[i]});e.attach(n)})},P.prototype._getDateFormat=function(t){var e=null;return t.date_format&&Array.isArray(t.date_format)&&(e=t.date_format[0]),e||this.dictionary.getDateFormat(this.locale)},P.prototype._isADateRule=function(t){return!!~["after","before","date_between","date_format"].indexOf(t)},P.prototype._formatErrorMessage=function(t,e,i,n){void 0===i&&(i={}),void 0===n&&(n=null);var r=this._getFieldDisplayName(t),s=this._getLocalizedParams(e,n);if(!this.dictionary.hasLocale(V)){var a=this.dictionary.getFieldMessage("en",t.name,e.name);return l(a)?a(r,s,i):a}var o=this.dictionary.getFieldMessage(V,t.name,e.name);return l(o)?o(r,s,i):o},P.prototype._getLocalizedParams=function(t,e){if(void 0===e&&(e=null),~["after","before","confirmed"].indexOf(t.name)&&t.params&&t.params[0]){return[e||this.dictionary.getAttribute(V,t.params[0],t.params[0])].concat(t.params.slice(1))}return t.params},P.prototype._getFieldDisplayName=function(t){return t.alias||this.dictionary.getAttribute(V,t.name,t.name)},P.prototype._addFlag=function(t,i){if(void 0===i&&(i=null),e(i)){this.flags=f({},this.flags,(n={},n[""+t.name]=t.flags,n));var n}else{var r,s=f({},this.flags["$"+i]||{},(r={},r[""+t.name]=t.flags,r));this.flags=f({},this.flags,(a={},a["$"+i]=s,a));var a}},P.prototype._test=function(t,e,i){var n=this,r=k[i.name],s=Array.isArray(i.params)?d(i.params):[],u=null;if(!r||"function"!=typeof r)throw a("No such validator '"+i.name+"' exists.");if(/(confirmed|after|before)/.test(i.name)){var c=v(t.dependencies,function(t){return t.name===i.name});c&&(u=c.field.alias,s=[c.field.value].concat(s.slice(1)))}else"required"===i.name&&t.rejectsFalse&&(s=s.length?s:[!0]);if(this._isADateRule(i.name)){var f=this._getDateFormat(t.rules);"date_format"!==i.name&&s.push(f)}var h=r(e,s);return l(h.then)?h.then(function(e){var r=!0,s={};return Array.isArray(e)?r=e.every(function(t){return o(t)?t.valid:t}):(r=o(e)?e.valid:e,s=e.data),{valid:r,error:r?void 0:{id:t.id,field:t.name,msg:n._formatErrorMessage(t,i,s,u),rule:i.name,scope:t.scope}}}):(o(h)||(h={valid:h,data:{}}),{valid:h.valid,error:h.valid?void 0:{id:t.id,field:t.name,msg:this._formatErrorMessage(t,i,h.data,u),rule:i.name,scope:t.scope}})},P._merge=function(t,e){l(e)?k[t]=e:(k[t]=e.validate,l(e.getMessage)&&M.setMessage(V,t,e.getMessage),e.messages&&M.merge(Object.keys(e.messages).reduce(function(i,n){var r=i;r[n]={messages:(s={},s[t]=e.messages[n],s)};var s;return r},{})))},P._guardExtend=function(t,e){if(!l(e)){if(!l(e.validate))throw a("Extension Error: The validator '"+t+"' must be a function or have a 'validate' method.");if(!l(e.getMessage)&&!o(e.messages))throw a("Extension Error: The validator '"+t+"' must have a 'getMessage' method or have a 'messages' object.")}},P.prototype._resolveField=function(t,i){if(!e(i))return this.fields.find({name:t,scope:i});if("#"===t[0])return this.fields.find({id:t.slice(1)});if(t.indexOf(".")>-1){var n=t.split("."),r=n[0],s=n.slice(1),a=this.fields.find({name:s.join("."),scope:r});if(a)return a}return this.fields.find({name:t,scope:null})},P.prototype._handleFieldNotFound=function(t,i){if(!this.strict)return Promise.resolve(!0);var n=e(i)?t:(e(i)?"":i+".")+t;throw a('Validating a non-existent field: "'+n+'". Use "attach()" first.')},P.prototype._validate=function(t,i,n){var r=this;if(void 0===n&&(n=!1),!t.isRequired&&(e(i)||""===i))return Promise.resolve({valid:!0});var s=[],a=[],o=!1;return Object.keys(t.rules).some(function(e){var n=r._test(t,i,{name:e,params:t.rules[e]});return l(n.then)?s.push(n):r.fastExit&&!n.valid?(a.push(n.error),o=!0):s.push(new Promise(function(t){t(n)})),o}),o?Promise.resolve({valid:!1,errors:a}):Promise.all(s).then(function(t){return t.map(function(t){return t.valid||a.push(t.error),t.valid}).every(function(t){return t})}).then(function(t){return{valid:t,errors:a}})},Object.defineProperties(P.prototype,C),Object.defineProperties(P,q);var R,S=function(t,e){return"undefined"==typeof Proxy?t:new Proxy(t,e)}({},{get:function(t,e){return 0===String(e).indexOf("$")?S:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1}}}),B=function(t,e){return new P(null,{vm:t,fastExit:e.fastExit})},T={provide:function(){return this.$validator&&!m(this.$vnode)?{$validator:this.$validator}:{}},beforeCreate:function(){if(!m(this.$vnode)){this.$parent||x.merge(this.$options.$_veeValidate||{});var t=x.resolve(this),e=this.$options._base;this.$options.$validates&&(s('The ctor $validates option has been deprecated please set the $_veeValidate.validator option to "new" instead'),this.$validator=B(this,t)),(!this.$parent||this.$options.$_veeValidate&&/new/.test(this.$options.$_veeValidate.validator))&&(this.$validator=B(this,t));var i=function(t){return!!(t&&(Array.isArray(t)&&~t.indexOf("$validator")||o(t)&&t.$validator))}(this.$options.inject);this.$validator||!t.inject||i||(this.$validator=B(this,t)),(i||this.$validator)&&(!i&&this.$validator&&(e.util.defineReactive(this.$validator,"errors",this.$validator.errors),e.util.defineReactive(this.$validator,"flags",this.$validator.flags)),this.$options.computed||(this.$options.computed={}),this.$options.computed[t.errorBagName||"errors"]=function(){return this.$validator.errors},this.$options.computed[t.fieldsBagName||"fields"]=function(){return Object.keys(this.$validator.flags).length?this.$validator.flags:S})}},beforeDestroy:function(){m(this.$vnode)||this.$validator&&this.$validator.ownerId===this._uid&&l(this.$validator.pause)&&this.$validator.pause()}},I=function(e,i){return i&&i.$validator?i.$validator.fields.find({id:t(e,"id")}):null},z={bind:function(t,e,i){var n=i.context.$validator;if(n){var r=O.generate(t,e,i);n.attach(r)}else s("No validator instance is present on vm, did you forget to inject '$validator'?")},inserted:function(t,e,i){var n=I(t,i.context),r=O.resolveScope(t,e,i);n&&r!==n.scope&&(n.update({scope:r}),n.updated=!1)},update:function(t,e,n){var r=I(t,n.context);if(!(!r||r.updated&&i(e.value,e.oldValue))){var s=O.resolveScope(t,e,n),a=O.resolveRules(t,e);r.update({scope:s,rules:a})}},unbind:function(t,e,i){var n=i.context,r=I(t,n);r&&n.$validator.detach(r)}},G=function(t,e){return void 0===e&&(e=!0),Object.keys(t).reduce(function(i,n){if(!i)return i=f({},t[n]);var r=0===n.indexOf("$");return e&&r?i=G(t[n]):!e&&r?i:i=function(t,e){var i={pristine:function(t,e){return t&&e},dirty:function(t,e){return t||e},touched:function(t,e){return t||e},untouched:function(t,e){return t&&e},valid:function(t,e){return t&&e},invalid:function(t,e){return t||e},pending:function(t,e){return t||e},required:function(t,e){return t||e},validated:function(t,e){return t&&e}};return Object.keys(i).reduce(function(n,r){return n[r]=i[r](t[r],e[r]),n},{})}(i,t[n])},null)};return{install:function(t,e){void 0===e&&(e={}),R?s("already installed, Vue.use(VeeValidate) should only be called once."):(R=t,x.merge(e),x.current.dictionary&&P.updateDictionary(x.current.dictionary),e&&(e.locale&&(P.locale=e.locale),e.strict&&P.setStrictMode(x.current.strict)),R.mixin(T),R.directive("validate",z))},use:function(t,e){if(void 0===e&&(e={}),!l(t))return s("The plugin must be a callable function");t({Validator:P,ErrorBag:$,Rules:P.rules},e)},directive:z,mixin:T,mapFields:function(t){if(!t)return function(){return G(this.$validator.flags)};var e=function(t){return Array.isArray(t)?t.reduce(function(t,e){return~e.indexOf(".")?t[e.split(".")[1]]=e:t[e]=e,t},{}):t}(t);return Object.keys(e).reduce(function(t,i){var n=e[i];return t[i]=function(){if(this.$validator.flags[n])return this.$validator.flags[n];if("*"===e[i])return G(this.$validator.flags,!1);if(n.indexOf(".")<=0)return{};var t=n.split("."),r=t[0],s=t.slice(1);return r=this.$validator.flags["$"+r],"*"===(s=s.join("."))&&r?G(r):r&&r[s]?r[s]:{}},t},{})},Validator:P,ErrorBag:$,version:"2.0.0-rc.24"}});