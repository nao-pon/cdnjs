!function(){var e,r,t,a={};function n(){"undefined"!=typeof process&&"development"!=process.env.NODE_ENV||console.log.apply(console,arguments)}"object"==typeof module?module.exports=a:window.UPNG=a,e="function"==typeof require?require("pako"):window.pako,t=e,(r=a).toRGBA8=function(e){var t=e.width,a=e.height;if(null==e.tabs.acTL)return[r.toRGBA8.decodeImage(e.data,t,a,e).buffer];var n=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var f,i=new Uint8Array(t*a*4),o=0;o<e.frames.length;o++){var c=e.frames[o],l=c.rect.x,s=c.rect.y,d=c.rect.width,u=c.rect.height,h=r.toRGBA8.decodeImage(c.data,d,u,e);if(0==o?f=h:0==c.blend?r._copyTile(h,d,u,f,t,a,l,s,0):1==c.blend&&r._copyTile(h,d,u,f,t,a,l,s,1),n.push(f.buffer),f=f.slice(0),0==c.dispose);else if(1==c.dispose)r._copyTile(i,d,u,f,t,a,l,s,0);else if(2==c.dispose){for(var v=o-1;2==e.frames[v].dispose;)v--;f=new Uint8Array(n[v]).slice(0)}}return n},r.toRGBA8.decodeImage=function(e,t,a,n){var f=t*a,i=r.decode._getBPP(n),o=Math.ceil(t*i/8),c=new Uint8Array(4*f),l=new Uint32Array(c.buffer),s=n.ctype,d=n.depth,u=r._bin.readUshort;if(6==s){var h=f<<2;if(8==d)for(var v=0;v<h;v++)c[v]=e[v];if(16==d)for(v=0;v<h;v++)c[v]=e[v<<1]}else if(2==s){var p=n.tabs.tRNS,y=-1,g=-1,b=-1;if(p&&(y=p[0],g=p[1],b=p[2]),8==d)for(v=0;v<f;v++){var w=3*v;c[T=v<<2]=e[w],c[T+1]=e[w+1],c[T+2]=e[w+2],c[T+3]=255,-1!=y&&e[w]==y&&e[w+1]==g&&e[w+2]==b&&(c[T+3]=0)}if(16==d)for(v=0;v<f;v++)w=6*v,c[T=v<<2]=e[w],c[T+1]=e[w+2],c[T+2]=e[w+4],c[T+3]=255,-1!=y&&u(e,w)==y&&u(e,w+2)==g&&u(e,w+4)==b&&(c[T+3]=0)}else if(3==s){var A=n.tabs.PLTE,U=n.tabs.tRNS,m=U?U.length:0;if(1==d)for(var _=0;_<a;_++){var I=_*o,M=_*t;for(v=0;v<t;v++){var T=M+v<<2,P=3*(R=e[I+(v>>3)]>>7-((7&v)<<0)&1);c[T]=A[P],c[T+1]=A[P+1],c[T+2]=A[P+2],c[T+3]=R<m?U[R]:255}}if(2==d)for(_=0;_<a;_++)for(I=_*o,M=_*t,v=0;v<t;v++)T=M+v<<2,P=3*(R=e[I+(v>>2)]>>6-((3&v)<<1)&3),c[T]=A[P],c[T+1]=A[P+1],c[T+2]=A[P+2],c[T+3]=R<m?U[R]:255;if(4==d)for(_=0;_<a;_++)for(I=_*o,M=_*t,v=0;v<t;v++)T=M+v<<2,P=3*(R=e[I+(v>>1)]>>4-((1&v)<<2)&15),c[T]=A[P],c[T+1]=A[P+1],c[T+2]=A[P+2],c[T+3]=R<m?U[R]:255;if(8==d)for(v=0;v<f;v++){var R;T=v<<2,P=3*(R=e[v]),c[T]=A[P],c[T+1]=A[P+1],c[T+2]=A[P+2],c[T+3]=R<m?U[R]:255}}else if(4==s){if(8==d)for(v=0;v<f;v++){T=v<<2;var S=e[q=v<<1];c[T]=S,c[T+1]=S,c[T+2]=S,c[T+3]=e[q+1]}if(16==d)for(v=0;v<f;v++){var q;T=v<<2,S=e[q=v<<2],c[T]=S,c[T+1]=S,c[T+2]=S,c[T+3]=e[q+2]}}else if(0==s){if(y=n.tabs.tRNS?n.tabs.tRNS:-1,1==d)for(v=0;v<f;v++){var z=(S=255*(e[v>>3]>>7-(7&v)&1))==255*y?0:255;l[v]=z<<24|S<<16|S<<8|S}if(2==d)for(v=0;v<f;v++)z=(S=85*(e[v>>2]>>6-((3&v)<<1)&3))==85*y?0:255,l[v]=z<<24|S<<16|S<<8|S;if(4==d)for(v=0;v<f;v++)z=(S=17*(e[v>>1]>>4-((1&v)<<2)&15))==17*y?0:255,l[v]=z<<24|S<<16|S<<8|S;if(8==d)for(v=0;v<f;v++)z=(S=e[v])==y?0:255,l[v]=z<<24|S<<16|S<<8|S;if(16==d)for(v=0;v<f;v++)S=e[v<<1],z=u(e,v<<1)==y?0:255,l[v]=z<<24|S<<16|S<<8|S}return c},r.encode=function(e,t,a,n,f){null==n&&(n=0);for(var i=new Uint8Array(e[0].byteLength*e.length+100),o=[137,80,78,71,13,10,26,10],c=0;c<8;c++)i[c]=o[c];var l=8,s=r._bin,d=r.crc.crc,u=s.writeUint,h=s.writeUshort,v=s.writeASCII,p=r.encode.compressPNG(e,t,a,n);u(i,l,13),v(i,l+=4,"IHDR"),u(i,l+=4,t),u(i,l+=4,a),i[l+=4]=p.depth,i[++l]=p.ctype,i[++l]=0,i[++l]=0,i[++l]=0,u(i,++l,d(i,l-17,17)),u(i,l+=4,1),v(i,l+=4,"sRGB"),i[l+=4]=1,u(i,++l,d(i,l-5,5)),l+=4;var y=e.length>1;if(y&&(u(i,l,8),v(i,l+=4,"acTL"),u(i,l+=4,e.length),u(i,l+=4,0),u(i,l+=4,d(i,l-12,12)),l+=4),3==p.ctype){for(u(i,l,3*(M=p.plte.length)),v(i,l+=4,"PLTE"),l+=4,c=0;c<M;c++){var g=3*c,b=p.plte[c],w=255&b,A=b>>8&255,U=b>>16&255;i[l+g+0]=w,i[l+g+1]=A,i[l+g+2]=U}if(u(i,l+=3*M,d(i,l-3*M-4,3*M+4)),l+=4,p.gotAlpha){for(u(i,l,M),v(i,l+=4,"tRNS"),l+=4,c=0;c<M;c++)i[l+c]=p.plte[c]>>24&255;u(i,l+=M,d(i,l-M-4,M+4)),l+=4}}for(var m=0,_=0;_<p.frames.length;_++){var I=p.frames[_];y&&(u(i,l,26),v(i,l+=4,"fcTL"),u(i,l+=4,m++),u(i,l+=4,I.rect.width),u(i,l+=4,I.rect.height),u(i,l+=4,I.rect.x),u(i,l+=4,I.rect.y),h(i,l+=4,f[_]),h(i,l+=2,1e3),i[l+=2]=I.dispose,i[++l]=I.blend,u(i,++l,d(i,l-30,30)),l+=4);var M,T=I.cimg;u(i,l,(M=T.length)+(0==_?0:4));var P=l+=4;for(v(i,l,0==_?"IDAT":"fdAT"),l+=4,0!=_&&(u(i,l,m++),l+=4),c=0;c<M;c++)i[l+c]=T[c];u(i,l+=M,d(i,P,l-P)),l+=4}return u(i,l,0),v(i,l+=4,"IEND"),u(i,l+=4,d(i,l-4,4)),l+=4,i.buffer.slice(0,l)},r.encode.compressPNG=function(e,t,a,n){for(var f=r.encode.compress(e,t,a,n,!1),i=0;i<e.length;i++){var o=f.frames[i],c=(o.rect.width,o.rect.height),l=o.bpl,s=o.bpp,d=new Uint8Array(c*l+c);o.cimg=r.encode._filterZero(o.img,c,s,l,d)}return f},r.encode.compress=function(e,t,a,n,f){0!=n&&(e=r.quantize(e,n-1,f));for(var i=6,o=8,c=[0],l=4,s=!1,d={0:0},u=0;u<e.length;u++)for(var h=new Uint8Array(e[u]),v=new Uint32Array(h.buffer),p=0==u?null:new Uint32Array(e[u-1]),y=0;y<h.length;y+=4){var g=v[y>>2];(0==u||g!=p[y>>2])&&c.length<600&&null==d[g]&&(d[g]=c.length,c.push(g)),s=s||255!=h[y+3]}var b=f;s||(b=!1);var w=c.length;w<=256&&(o=w<=2?1:w<=4?2:w<=16?4:8,f&&(o=8),s=!0);var A=[];for(u=0;u<e.length;u++){var U=new Uint8Array(e[u]),m=new Uint32Array(U.buffer),_=0,I=0,M=t,T=a,P=0;if(0!=u&&!b){for(var R=f||1==u||2==A[A.length-2].dispose?1:2,S=0,q=1e9,z=0;z<R;z++){for(var k=new Uint8Array(e[u-1-z]),x=new Uint32Array(e[u-1-z]),B=t,C=a,N=-1,L=-1,D=0;D<a;D++)for(var G=0;G<t;G++)m[y=D*t+G]!=x[y]&&(G<B&&(B=G),G>N&&(N=G),D<C&&(C=D),D>L&&(L=D));var Z=-1==N?1:(N-B+1)*(L-C+1);Z<q&&(q=Z,S=z,-1==N?(_=I=0,M=T=1):(_=B,I=C,M=N-B+1,T=L-C+1))}k=new Uint8Array(e[u-1-S]),1==S&&(A[A.length-1].dispose=2);var E=new Uint8Array(M*T*4);new Uint32Array(E.buffer),r._copyTile(k,t,a,E,M,T,-_,-I,0),r._copyTile(U,t,a,E,M,T,-_,-I,3)?(r._copyTile(U,t,a,E,M,T,-_,-I,2),P=1):(r._copyTile(U,t,a,E,M,T,-_,-I,0),P=0),U=E,m=new Uint32Array(U.buffer)}var H=4*M;if(w<=256){for(H=Math.ceil(o*M/8),E=new Uint8Array(H*T),D=0;D<T;D++){y=D*H;var F=D*M;if(1==o)for(G=0;G<M;G++)E[y+(G>>3)]|=d[m[F+G]]<<7-(7&G);if(2==o)for(G=0;G<M;G++)E[y+(G>>2)]|=d[m[F+G]]<<6-2*(3&G);if(4==o)for(G=0;G<M;G++)E[y+(G>>1)]|=d[m[F+G]]<<4-4*(1&G);if(8==o)for(G=0;G<M;G++)E[y+G]=d[m[F+G]]}U=E,i=3,l=1}else if(0==s&&1==e.length){E=new Uint8Array(M*T*3);var X=M*T;for(y=0;y<X;y++){var j=3*y,K=4*y;E[j]=U[K],E[j+1]=U[K+1],E[j+2]=U[K+2]}U=E,i=2,l=3,H=3*M}A.push({rect:{x:_,y:I,width:M,height:T},img:U,bpl:H,bpp:l,blend:P,dispose:b?1:0})}return{ctype:i,depth:o,plte:c,gotAlpha:s,frames:A}},r.encode._filterZero=function(e,a,n,f,i){for(var o=[],c=0;c<5;c++)if(!(a*f>5e5)||2!=c&&3!=c&&4!=c){for(var l=0;l<a;l++)r.encode._filterLine(i,e,l,f,n,c);if(o.push(t.deflate(i)),1==n)break}for(var s,d=1e9,u=0;u<o.length;u++)o[u].length<d&&(s=u,d=o[u].length);return o[s]},r.encode._filterLine=function(e,t,a,n,f,i){var o=a*n,c=o+a,l=r.decode._paeth;if(e[c]=i,c++,0==i)for(var s=0;s<n;s++)e[c+s]=t[o+s];else if(1==i){for(s=0;s<f;s++)e[c+s]=t[o+s];for(s=f;s<n;s++)e[c+s]=t[o+s]-t[o+s-f]+256&255}else if(0==a){for(s=0;s<f;s++)e[c+s]=t[o+s];if(2==i)for(s=f;s<n;s++)e[c+s]=t[o+s];if(3==i)for(s=f;s<n;s++)e[c+s]=t[o+s]-(t[o+s-f]>>1)+256&255;if(4==i)for(s=f;s<n;s++)e[c+s]=t[o+s]-l(t[o+s-f],0,0)+256&255}else{if(2==i)for(s=0;s<n;s++)e[c+s]=t[o+s]+256-t[o+s-n]&255;if(3==i){for(s=0;s<f;s++)e[c+s]=t[o+s]+256-(t[o+s-n]>>1)&255;for(s=f;s<n;s++)e[c+s]=t[o+s]+256-(t[o+s-n]+t[o+s-f]>>1)&255}if(4==i){for(s=0;s<f;s++)e[c+s]=t[o+s]+256-l(0,t[o+s-n],0)&255;for(s=f;s<n;s++)e[c+s]=t[o+s]+256-l(t[o+s-f],t[o+s-n],t[o+s-f-n])&255}}},r.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var t=r,a=0;a<8;a++)1&t?t=3988292384^t>>>1:t>>>=1;e[r]=t}return e}(),update:function(e,t,a,n){for(var f=0;f<n;f++)e=r.crc.table[255&(e^t[a+f])]^e>>>8;return e},crc:function(e,t,a){return 4294967295^r.crc.update(4294967295,e,t,a)}},r.quantize=function(e,t,a){for(var n=[],f=0;f<e.length;f++)n.push(r.quantize.alphaMul(new Uint8Array(e[f]),a));for(var i=n[0],o=i.length>>2,c=[],l=[],s=0,d=Math.max(100,10*t);;){l=[],c=[];var u=255-((1<<s)-1),h=1<<s>>1;for(f=0;f<o;f++){var v=(i[A=f<<2]&u)+h,p=(i[A+1]&u)+h,y=(i[A+2]&u)+h,g=(i[A+3]&u)+h,b=g<<24|y<<16|p<<8|v;if(l[b]?c[l[b]].occ++:(l[b]=c.length,c.push({occ:1,r:v,g:p,b:y,a:g})),c.length>d)break}if(!(c.length>d))break;s++}if(0==s&&c.length<=t)return e;c.sort(function(e,r){return r.occ-e.occ}),t=Math.min(t,c.length);var w=new Uint8Array(4*t);for(f=0;f<t;f++){var A=f<<2,U=c[f];w[A]=U.r,w[A+1]=U.g,w[A+2]=U.b,w[A+3]=U.a}c=w;for(var m=Math.max(1,Math.min(10,Math.floor(1024/t))),_=new Uint16Array(o),I=0;I<m;I++)r.quantize.kMeans(i,c,_,t,!0);for(r.quantize.applyPalette(i,c,_),f=1;f<n.length;f++)r.quantize.kMeans(n[f],c,_,t,!1),r.quantize.applyPalette(n[f],c,_);for(f=0;f<e.length;f++)n[f]=n[f].buffer;return n},r.quantize.alphaMul=function(e,r){for(var t=new Uint8Array(e.length),a=e.length>>2,n=0;n<a;n++){var f=n<<2,i=e[f+3];r&&(i=i<128?0:255);var o=i*(1/255);t[f+0]=e[f+0]*o,t[f+1]=e[f+1]*o,t[f+2]=e[f+2]*o,t[f+3]=i}return t},r.quantize.applyPalette=function(e,r,t){for(var a=t.length,n=Math.round,f=0;f<a;f++){var i=f<<2,o=t[f]<<2,c=0==r[o+3]?0:255/r[o+3];e[i+0]=n(r[o+0]*c),e[i+1]=n(r[o+1]*c),e[i+2]=n(r[o+2]*c),e[i+3]=r[o+3]}},r.quantize.kMeans=function(e,t,a,n,f){for(var i=a.length,o=Math.round,c=r.quantize.dist,l=new Uint32Array(n),s=new Uint32Array(n),d=0;d<n;d++){var u=t[_=d<<2],h=t[_+1],v=t[_+2],p=t[_+3],y=0;A=1e9;for(var g=0;g<n;g++)g!=d&&(U=c(u,h,v,p,t,g<<2))<A&&(y=g,A=U);l[d]=A,s[d]=y}var b=new Uint32Array(n),w=new Uint32Array(4*n);for(d=0;d<i;d++){y=0;var A=1e9;if((A=c(u=e[_=d<<2],h=e[_+1],v=e[_+2],p=e[_+3],t,(y=a[d])<<2))<=l[y]>>1);else for(g=0;g<n;g++)if((U=c(u,h,v,p,t,g<<2))<A){if(A=U,U<=l[y=g]>>1)break;var U;if((U=c(u,h,v,p,t,s[g]<<2))<=l[y]>>1){y=s[g];break}}a[d]=y,b[y]++;var m=y<<2;w[m]+=u,w[m+1]+=h,w[m+2]+=v,w[m+3]+=p}if(f)for(d=0;d<n;d++){var _=d<<2,I=1/b[d];t[_]=o(w[_]*I),t[_+1]=o(w[_+1]*I),t[_+2]=o(w[_+2]*I),t[_+3]=o(w[_+3]*I)}},r.quantize.dist=function(e,r,t,a,n,f){var i=n[f],o=n[f+1],c=n[f+2],l=n[f+3];return(i-e)*(i-e)+(o-r)*(o-r)+(c-t)*(c-t)+(l-a)*(l-a)},r.quantize.dither=function(e,t,a,n,f,i){for(var o=new Float32Array(t*a*4),c=1/16,l=r.quantize.dist,s=Math.round,d=t<<2,u=0;u<a;u++)for(var h=0;h<t;h++){for(var v=u*t+h,p=v<<2,y=0;y<4;y++)o[p+y]=Math.max(-8,Math.min(8,o[p+y]));var g=s(e[p]+o[p]),b=s(e[p+1]+o[p+1]),w=s(e[p+2]+o[p+2]),A=s(e[p+3]+o[p+3]),U=0,m=1e9;for(y=0;y<i;y++){var _=l(g,b,w,A,f,y<<2);_<m&&(U=y,m=_)}n[v]=U;var I=U<<2,M=g-f[I],T=b-f[I+1],P=w-f[I+2],R=A-f[I+3];o[p+4+0]+=7*M*c,o[p+4+1]+=7*T*c,o[p+4+2]+=7*P*c,o[p+4+3]+=7*R*c,o[p+d-4+0]+=3*M*c,o[p+d-4+1]+=3*T*c,o[p+d-4+2]+=3*P*c,o[p+d-4+3]+=3*R*c,o[p+d+0]+=5*M*c,o[p+d+1]+=5*T*c,o[p+d+2]+=5*P*c,o[p+d+3]+=5*R*c,o[p+d+4+0]+=1*M*c,o[p+d+4+1]+=1*T*c,o[p+d+4+2]+=1*P*c,o[p+d+4+3]+=1*R*c}},r.decode=function(e){for(var t,a=new Uint8Array(e),f=8,i=r._bin,o=i.readUshort,c=i.readUint,l={tabs:{},frames:[]},s=new Uint8Array(a.length),d=0,u=0;;){var h=i.readUint(a,f);f+=4;var v=i.readASCII(a,f,4);if(f+=4,"IHDR"==v)r.decode._IHDR(a,f,l);else if("IDAT"==v){for(var p=0;p<h;p++)s[d+p]=a[f+p];d+=h}else if("acTL"==v)l.tabs[v]={num_frames:c(a,f),num_plays:c(a,f+4)},t=new Uint8Array(a.length);else if("fcTL"==v){0!=u&&((I=l.frames[l.frames.length-1]).data=r.decode._decompress(l,t.slice(0,u),I.rect.width,I.rect.height),u=0);var y={x:c(a,f+12),y:c(a,f+16),width:c(a,f+4),height:c(a,f+8)},g=o(a,f+22);g=o(a,f+20)/(0==g?100:g);var b={rect:y,delay:Math.round(1e3*g),dispose:a[f+24],blend:a[f+25]};l.frames.push(b)}else if("fdAT"==v){for(p=0;p<h-4;p++)t[u+p]=a[f+p+4];u+=h-4}else if("pHYs"==v)l.tabs[v]=[i.readUint(a,f),i.readUint(a,f+4),a[f+8]];else if("cHRM"==v)for(l.tabs[v]=[],p=0;p<8;p++)l.tabs[v].push(i.readUint(a,f+4*p));else if("tEXt"==v){null==l.tabs[v]&&(l.tabs[v]={});var w=i.nextZero(a,f),A=i.readASCII(a,f,w-f),U=i.readASCII(a,w+1,f+h-w-1);l.tabs[v][A]=U}else if("iTXt"==v){null==l.tabs[v]&&(l.tabs[v]={}),w=0;var m=f;w=i.nextZero(a,m),A=i.readASCII(a,m,w-m),a[m=w+1],a[m+1],m+=2,w=i.nextZero(a,m),i.readASCII(a,m,w-m),m=w+1,w=i.nextZero(a,m),i.readUTF8(a,m,w-m),m=w+1,U=i.readUTF8(a,m,h-(m-f)),l.tabs[v][A]=U}else if("PLTE"==v)l.tabs[v]=i.readBytes(a,f,h);else if("hIST"==v){var _=l.tabs.PLTE.length/3;for(l.tabs[v]=[],p=0;p<_;p++)l.tabs[v].push(o(a,f+2*p))}else if("tRNS"==v)3==l.ctype?l.tabs[v]=i.readBytes(a,f,h):0==l.ctype?l.tabs[v]=o(a,f):2==l.ctype&&(l.tabs[v]=[o(a,f),o(a,f+2),o(a,f+4)]);else if("gAMA"==v)l.tabs[v]=i.readUint(a,f)/1e5;else if("sRGB"==v)l.tabs[v]=a[f];else if("bKGD"==v)0==l.ctype||4==l.ctype?l.tabs[v]=[o(a,f)]:2==l.ctype||6==l.ctype?l.tabs[v]=[o(a,f),o(a,f+2),o(a,f+4)]:3==l.ctype&&(l.tabs[v]=a[f]);else{if("IEND"==v){var I;0!=u&&((I=l.frames[l.frames.length-1]).data=r.decode._decompress(l,t.slice(0,u),I.rect.width,I.rect.height),u=0),l.data=r.decode._decompress(l,s,l.width,l.height);break}n("unknown chunk type",v,h)}f+=h,i.readUint(a,f),f+=4}return delete l.compress,delete l.interlace,delete l.filter,l},r.decode._decompress=function(e,t,a,n){return 0==e.compress&&(t=r.decode._inflate(t)),0==e.interlace?t=r.decode._filterZero(t,e,0,a,n):1==e.interlace&&(t=r.decode._readInterlace(t,e)),t},r.decode._inflate=function(e){return t.inflate(e)},r.decode._readInterlace=function(e,t){for(var a=t.width,n=t.height,f=r.decode._getBPP(t),i=f>>3,o=Math.ceil(a*f/8),c=new Uint8Array(n*o),l=0,s=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],v=0;v<7;){for(var p=u[v],y=h[v],g=0,b=0,w=s[v];w<n;)w+=p,b++;for(var A=d[v];A<a;)A+=y,g++;var U=Math.ceil(g*f/8);r.decode._filterZero(e,t,l,g,b);for(var m=0,_=s[v];_<n;){for(var I=d[v],M=l+m*U<<3;I<a;){var T;if(1==f&&(T=(T=e[M>>3])>>7-(7&M)&1,c[_*o+(I>>3)]|=T<<7-((3&I)<<0)),2==f&&(T=(T=e[M>>3])>>6-(7&M)&3,c[_*o+(I>>2)]|=T<<6-((3&I)<<1)),4==f&&(T=(T=e[M>>3])>>4-(7&M)&15,c[_*o+(I>>1)]|=T<<4-((1&I)<<2)),f>=8)for(var P=_*o+I*i,R=0;R<i;R++)c[P+R]=e[(M>>3)+R];M+=f,I+=y}m++,_+=p}g*b!=0&&(l+=b*(1+U)),v+=1}return c},r.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},r.decode._filterZero=function(e,t,a,n,f){var i=r.decode._getBPP(t),o=Math.ceil(n*i/8),c=r.decode._paeth;i=Math.ceil(i/8);for(var l=0;l<f;l++){var s=a+l*o,d=s+l+1,u=e[d-1];if(0==u)for(var h=0;h<o;h++)e[s+h]=e[d+h];else if(1==u){for(h=0;h<i;h++)e[s+h]=e[d+h];for(h=i;h<o;h++)e[s+h]=e[d+h]+e[s+h-i]&255}else if(0==l){for(h=0;h<i;h++)e[s+h]=e[d+h];if(2==u)for(h=i;h<o;h++)e[s+h]=255&e[d+h];if(3==u)for(h=i;h<o;h++)e[s+h]=e[d+h]+(e[s+h-i]>>1)&255;if(4==u)for(h=i;h<o;h++)e[s+h]=e[d+h]+c(e[s+h-i],0,0)&255}else{if(2==u)for(h=0;h<o;h++)e[s+h]=e[d+h]+e[s+h-o]&255;if(3==u){for(h=0;h<i;h++)e[s+h]=e[d+h]+(e[s+h-o]>>1)&255;for(h=i;h<o;h++)e[s+h]=e[d+h]+(e[s+h-o]+e[s+h-i]>>1)&255}if(4==u){for(h=0;h<i;h++)e[s+h]=e[d+h]+c(0,e[s+h-o],0)&255;for(h=i;h<o;h++)e[s+h]=e[d+h]+c(e[s+h-i],e[s+h-o],e[s+h-i-o])&255}}}return e},r.decode._paeth=function(e,r,t){var a=e+r-t,n=Math.abs(a-e),f=Math.abs(a-r),i=Math.abs(a-t);return n<=f&&n<=i?e:f<=i?r:t},r.decode._IHDR=function(e,t,a){var n=r._bin;a.width=n.readUint(e,t),t+=4,a.height=n.readUint(e,t),t+=4,a.depth=e[t],t++,a.ctype=e[t],t++,a.compress=e[t],t++,a.filter=e[t],t++,a.interlace=e[t],t++},r._bin={nextZero:function(e,r){for(;0!=e[r];)r++;return r},readUshort:function(e,r){return e[r]<<8|e[r+1]},writeUshort:function(e,r,t){e[r]=t>>8&255,e[r+1]=255&t},readUint:function(e,r){return 16777216*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3])},writeUint:function(e,r,t){e[r]=t>>24&255,e[r+1]=t>>16&255,e[r+2]=t>>8&255,e[r+3]=255&t},readASCII:function(e,r,t){for(var a="",n=0;n<t;n++)a+=String.fromCharCode(e[r+n]);return a},writeASCII:function(e,r,t){for(var a=0;a<t.length;a++)e[r+a]=t.charCodeAt(a)},readBytes:function(e,r,t){for(var a=[],n=0;n<t;n++)a.push(e[r+n]);return a},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,a){for(var n,f="",i=0;i<a;i++)f+="%"+r._bin.pad(e[t+i].toString(16));try{n=decodeURIComponent(f)}catch(n){return r._bin.readASCII(e,t,a)}return n}},r._copyTile=function(e,r,t,a,n,f,i,o,c){for(var l=Math.min(r,n),s=Math.min(t,f),d=0,u=0,h=0;h<s;h++)for(var v=0;v<l;v++)if(i>=0&&o>=0?(d=h*r+v<<2,u=(o+h)*n+i+v<<2):(d=(-o+h)*r-i+v<<2,u=h*n+v<<2),0==c)a[u]=e[d],a[u+1]=e[d+1],a[u+2]=e[d+2],a[u+3]=e[d+3];else if(1==c){var p=e[d+3]*(1/255),y=e[d]*p,g=e[d+1]*p,b=e[d+2]*p,w=a[u+3]*(1/255),A=a[u]*w,U=a[u+1]*w,m=a[u+2]*w,_=1-p,I=p+w*_,M=0==I?0:1/I;a[u+3]=255*I,a[u+0]=(y+A*_)*M,a[u+1]=(g+U*_)*M,a[u+2]=(b+m*_)*M}else if(2==c)p=e[d+3],y=e[d],g=e[d+1],b=e[d+2],w=a[u+3],A=a[u],U=a[u+1],m=a[u+2],p==w&&y==A&&g==U&&b==m?(a[u]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0):(a[u]=y,a[u+1]=g,a[u+2]=b,a[u+3]=p);else if(3==c){if(p=e[d+3],y=e[d],g=e[d+1],b=e[d+2],w=a[u+3],A=a[u],U=a[u+1],m=a[u+2],p==w&&y==A&&g==U&&b==m)continue;if(p<220&&w>20)return!1}return!0}}();