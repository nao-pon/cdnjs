!function(e){"use strict";function t(e,n,r){var o,c=document.createElement("img");return c.onerror=function(o){return t.onerror(c,o,e,n,r)},c.onload=function(o){return t.onload(c,o,e,n,r)},"string"==typeof e?(t.fetchBlob(e,function(n){n?(e=n,o=t.createObjectURL(e)):(o=e,r&&r.crossOrigin&&(c.crossOrigin=r.crossOrigin)),c.src=o},r),c):t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e)?(o=c._objectURL=t.createObjectURL(e))?(c.src=o,c):t.readFile(e,function(e){var t=e.target;t&&t.result?c.src=t.result:n&&n(e)}):void 0}var n=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL&&webkitURL;function r(e,n){!e._objectURL||n&&n.noRevoke||(t.revokeObjectURL(e._objectURL),delete e._objectURL)}t.fetchBlob=function(e,t,n){t()},t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transform=function(e,t,n,r,o){n(e,o)},t.onerror=function(e,t,n,o,c){r(e,c),o&&o.call(e,t)},t.onload=function(e,n,o,c,i){r(e,i),c&&t.transform(e,i,c,o,{})},t.createObjectURL=function(e){return!!n&&n.createObjectURL(e)},t.revokeObjectURL=function(e){return!!n&&n.revokeObjectURL(e)},t.readFile=function(t,n,r){if(e.FileReader){var o=new FileReader;if(o.onload=o.onerror=n,o[r=r||"readAsDataURL"])return o[r](t),o}return!1},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.loadImage=t}("undefined"!=typeof window&&window||this);