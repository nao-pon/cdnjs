"use strict";!function(e){"object"==typeof module&&"object"==typeof module.exports?e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,s,n,t){function i(s){var n={name:s.contents().eq(0).text().trim(),relationship:(s.parent().parent().is("li")?"1":"0")+(s.siblings("li").length?1:0)+(s.children("ul").length?1:0)};return s[0].id&&(n.id=s[0].id),s.children("ul").children().each(function(){n.children||(n.children=[]),n.children.push(i(e(this)))}),n}function a(e,s){return e.relationship=s+(e.children&&e.children.length>0?1:0),e.children&&e.children.forEach(function(s){a(s,"1"+(e.children.length>1?1:0))}),e}function l(s){var n=s.find("tr:first"),t={id:n.find(".node")[0].id};return n.siblings(":last").children().each(function(){t.children||(t.children=[]),t.children.push(l(e(this)))}),t}function d(s){return(s=s||e(this).find(".orgchart")).find(".node:first")[0].id?l(s):"Error: Nodes of orghcart to be exported must have id attribute!"}function r(e,s){var n={};return(n="parent"===s?e.closest("table").closest("tr").siblings(":first").find(".node"):"children"===s?e.closest("tr").siblings():e.closest("table").parent().siblings()).length?n.is(":visible")?{exist:!0,visible:!0}:{exist:!0,visible:!1}:{exist:!1,visible:!1}}function o(e){var s=e.closest("table").closest("tr").siblings();s.eq(0).find(".spinner").length&&e.closest(".orgchart").data("inAjax",!1),r(e,"siblings").visible&&f(e);var n=s.slice(1);n.css("visibility","hidden");var t=s.eq(0).find(".node"),i=r(t,"parent").visible;t.length&&t.is(":visible")&&t.addClass("slide slide-down").one("transitionend",function(){t.removeClass("slide"),n.removeAttr("style"),s.addClass("hidden")}),t.length&&i&&o(t)}function c(s){var n=s.closest("table").closest("tr").siblings().removeClass("hidden");n.eq(2).children().slice(1,-1).addClass("hidden");var t=n.eq(0).find(".node")[0];C(t),e(t).addClass("slide").removeClass("slide-down").one("transitionend",function(){e(t).removeClass("slide"),u(s)&&b(s.children(".topEdge"))})}function h(e){var s=e.closest("tr").siblings(),n=!!s.is(".verticalNodes")?s.removeClass("hidden").find(".node:visible"):s.removeClass("hidden").eq(2).children().find("tr:first").find(".node:visible");C(n.get(0)),n.addClass("slide").removeClass("slide-up").eq(0).one("transitionend",function(){n.removeClass("slide"),u(e)&&b(e.children(".bottomEdge"))})}function f(e,s){var n=e.closest("table").parent();n.siblings().find(".spinner").length&&e.closest(".orgchart").data("inAjax",!1),s?"left"===s?n.prevAll().find(".node:visible").addClass("slide slide-right"):n.nextAll().find(".node:visible").addClass("slide slide-left"):(n.prevAll().find(".node:visible").addClass("slide slide-right"),n.nextAll().find(".node:visible").addClass("slide slide-left"));var t=n.siblings().find(".slide"),i=t.closest(".nodes").prevAll(".lines").css("visibility","hidden");t.eq(0).one("transitionend",function(){i.removeAttr("style");var a=s?"left"===s?n.prevAll(":not(.hidden)"):n.nextAll(":not(.hidden)"):n.siblings();n.closest(".nodes").prev().children(":not(.hidden)").slice(1,s?2*a.length+1:-1).addClass("hidden"),t.removeClass("slide"),a.find(".node:visible:gt(0)").removeClass("slide-left slide-right").addClass("slide-up").end().find(".lines, .nodes, .verticalNodes").addClass("hidden").end().addClass("hidden"),u(e)&&m(e)})}function p(s,n){var t=e();t=n?"left"===n?s.closest("table").parent().prevAll().removeClass("hidden"):s.closest("table").parent().nextAll().removeClass("hidden"):s.closest("table").parent().siblings().removeClass("hidden");var i=s.closest("table").closest("tr").siblings();if(n?i.eq(2).children(".hidden").slice(0,2*t.length).removeClass("hidden"):i.eq(2).children(".hidden").removeClass("hidden"),!r(s,"parent").visible){i.removeClass("hidden");var a=i.find(".node")[0];C(a),e(a).addClass("slide").removeClass("slide-down").one("transitionend",function(){e(this).removeClass("slide")})}t.find(".node:visible").addClass("slide").removeClass("slide-left slide-right").eq(-1).one("transitionend",function(){t.find(".node:visible").removeClass("slide"),u(s)&&(m(s),s.children(".topEdge").removeClass("fa-chevron-up").addClass("fa-chevron-down"))})}function g(s,n,t){var i=n.closest(".orgchart");return(void 0===i.data("inAjax")||!0!==i.data("inAjax"))&&(s.addClass("hidden"),n.append('<i class="fa fa-circle-o-notch fa-spin spinner"></i>'),n.children().not(".spinner").css("opacity",.2),i.data("inAjax",!0),e(".oc-export-btn"+(""!==t.chartClass?"."+t.chartClass:"")).prop("disabled",!0),!0)}function v(s,n,t){var i=n.closest("div.orgchart");s.removeClass("hidden"),n.find(".spinner").remove(),n.children().removeAttr("style"),i.data("inAjax",!1),e(".oc-export-btn"+(""!==t.chartClass?"."+t.chartClass:"")).prop("disabled",!1)}function u(e){return e.children(".edge").attr("class").indexOf("fa-")>-1}function b(e){e.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down")}function m(e){var s=e.closest(".orgchart").data("options");if(s.toggleSiblingsResp&&(void 0===s.ajaxURL||e.closest(".nodes").data("siblingsLoaded"))){var n=e.closest("table").parent().prev();n.length&&(n.is(".hidden")?e.children(".leftEdge").addClass("fa-chevron-left").removeClass("fa-chevron-right"):e.children(".leftEdge").addClass("fa-chevron-right").removeClass("fa-chevron-left"));var t=e.closest("table").parent().next();t.length&&(t.is(".hidden")?e.children(".rightEdge").addClass("fa-chevron-right").removeClass("fa-chevron-left"):e.children(".rightEdge").addClass("fa-chevron-left").removeClass("fa-chevron-right"))}else{var i=e.closest("table").parent().siblings(),a=!!i.length&&!i.is(".hidden");e.children(".leftEdge").toggleClass("fa-chevron-right",a).toggleClass("fa-chevron-left",!a),e.children(".rightEdge").toggleClass("fa-chevron-left",a).toggleClass("fa-chevron-right",!a)}}function C(e){e.style.offsetWidth=e.offsetWidth}function x(n,t,i){var a=e.Deferred(),l=e("<div"+(i.draggable?' draggable="true"':"")+(n[i.nodeId]?' id="'+n[i.nodeId]+'"':"")+">").addClass("node "+(n.className||"")+(t>=i.depth?" slide-up":"")).append('<div class="title">'+n[i.nodeTitle]+"</div>").append(void 0!==i.nodeContent?'<div class="content">'+(n[i.nodeContent]||"")+"</div>":""),d=n.relationship||"";return i.verticalDepth&&t+2>i.verticalDepth?t+1>=i.verticalDepth&&Number(d.substr(2,1))&&l.append('<i class="toggleBtn fa fa-minus-square"></i>'):(Number(d.substr(0,1))&&l.append('<i class="edge verticalEdge topEdge fa"></i>'),Number(d.substr(1,1))&&l.append('<i class="edge horizontalEdge rightEdge fa"></i><i class="edge horizontalEdge leftEdge fa"></i>'),Number(d.substr(2,1))&&l.append('<i class="edge verticalEdge bottomEdge fa"></i>').children(".title").prepend('<i class="fa '+i.parentNodeSymbol+' symbol"></i>')),l.on("mouseenter mouseleave",function(s){var n=e(this),t=!1,i=n.children(".topEdge"),a=(n.children(".rightEdge"),n.children(".bottomEdge")),l=n.children(".leftEdge");"mouseenter"===s.type?(i.length&&(t=r(n,"parent").visible,i.toggleClass("fa-chevron-up",!t).toggleClass("fa-chevron-down",t)),a.length&&(t=r(n,"children").visible,a.toggleClass("fa-chevron-down",!t).toggleClass("fa-chevron-up",t)),l.length&&m(n)):n.children(".edge").removeClass("fa-chevron-up fa-chevron-down fa-chevron-right fa-chevron-left")}),l.on("click",function(s){e(this).closest(".orgchart").find(".focused").removeClass("focused"),e(this).addClass("focused")}),l.on("click",".topEdge",function(s){var n=e(this),t=n.parent(),a=r(t,"parent");if(a.exist){var l=t.closest("table").closest("tr").siblings(":first").find(".node");if(l.is(".slide"))return;a.visible?(o(t),l.one("transitionend",function(){u(t)&&(b(n),m(t))})):c(t)}else{var d=n.parent()[0].id;g(n,t,i)&&e.ajax({url:i.ajaxURL.parent+d+"/",dataType:"json"}).done(function(s){t.closest(".orgchart").data("inAjax")&&(e.isEmptyObject(s)||A.call(t.closest(".orgchart").parent(),t,s,i))}).fail(function(){console.log("Failed to get parent node data")}).always(function(){v(n,t,i)})}}),l.on("click",".bottomEdge",function(s){var n=e(this),t=n.parent(),a=r(t,"children");if(a.exist){if(t.closest("tr").siblings(":last").find(".node:visible").is(".slide"))return;a.visible?function(e){var s=e.closest("tr").siblings();s.last().find(".spinner").length&&e.closest(".orgchart").data("inAjax",!1);var n=s.last().find(".node:visible"),t=!!s.last().is(".verticalNodes");if(!t)var i=n.closest("table").closest("tr").prevAll(".lines").css("visibility","hidden");n.addClass("slide slide-up").eq(0).one("transitionend",function(){n.removeClass("slide"),t?s.addClass("hidden"):(i.removeAttr("style").addClass("hidden").siblings(".nodes").addClass("hidden"),s.last().find(".verticalNodes").addClass("hidden")),u(e)&&b(e.children(".bottomEdge"))})}(t):h(t)}else{var l=n.parent()[0].id;g(n,t,i)&&e.ajax({url:i.ajaxURL.children+l+"/",dataType:"json"}).done(function(s,n,a){t.closest(".orgchart").data("inAjax")&&s.children.length&&w(t,s,e.extend({},i,{depth:0}))}).fail(function(e,s,n){console.log("Failed to get children nodes data")}).always(function(){v(n,t,i)})}}),l.on("click",".toggleBtn",function(s){var n=e(this),t=n.parent().next(),i=t.find(".node"),a=t.children().children(".node");a.is(".slide")||(n.toggleClass("fa-plus-square fa-minus-square"),i.eq(0).is(".slide-up")?(t.removeClass("hidden"),C(a.get(0)),a.addClass("slide").removeClass("slide-up").eq(0).one("transitionend",function(){a.removeClass("slide")})):i.addClass("slide slide-up").eq(0).one("transitionend",function(){i.removeClass("slide"),i.closest("ul").addClass("hidden")}).find(".toggleBtn").removeClass("fa-minus-square").addClass("fa-plus-square"))}),l.on("click",".leftEdge, .rightEdge",function(s){var n=e(this),t=n.parent(),a=r(t,"siblings");if(a.exist){if(t.closest("table").parent().siblings().find(".node:visible").is(".slide"))return;if(i.toggleSiblingsResp){var l=t.closest("table").parent().prev(),d=t.closest("table").parent().next();n.is(".leftEdge")?l.is(".hidden")?p(t,"left"):f(t,"left"):d.is(".hidden")?p(t,"right"):f(t,"right")}else a.visible?f(t):p(t)}else{var o=n.parent()[0].id,c=r(t,"parent").exist?i.ajaxURL.siblings:i.ajaxURL.families;g(n,t,i)&&e.ajax({url:c+o+"/",dataType:"json"}).done(function(e,s,n){t.closest(".orgchart").data("inAjax")&&(e.siblings||e.children)&&j(t,e,i)}).fail(function(e,s,n){console.log("Failed to get sibling nodes data")}).always(function(){v(n,t,i)})}}),i.draggable&&l.on("dragstart",function(n){/firefox/.test(s.navigator.userAgent.toLowerCase())&&n.originalEvent.dataTransfer.setData("text/html","hack for firefox");var t=e(this),a=t.closest(".nodes").siblings().eq(0).find(".node:first"),l=t.closest("table").find(".node");t.closest(".orgchart").data("dragged",t).find(".node").each(function(s,n){-1===l.index(n)&&(i.dropCriteria?i.dropCriteria(t,a,e(n))&&e(n).addClass("allowedDrop"):e(n).addClass("allowedDrop"))})}).on("dragover",function(s){s.preventDefault();var n=e(this),t=n.closest(".orgchart").data("dragged"),a=t.closest(".nodes").siblings().eq(0).find(".node:first");(t.closest("table").find(".node").index(n)>-1||i.dropCriteria&&!i.dropCriteria(t,a,n))&&(s.originalEvent.dataTransfer.dropEffect="none")}).on("dragend",function(s){e(this).closest(".orgchart").find(".allowedDrop").removeClass("allowedDrop")}).on("drop",function(s){var n=e(this),t=n.closest(".orgchart"),i=t.data("dragged");t.find(".allowedDrop").removeClass("allowedDrop");var a=i.closest(".nodes").siblings().eq(0).children();if(n.closest("tr").siblings().length){var l=parseInt(n.parent().attr("colspan"))+2,d='<i class="edge horizontalEdge rightEdge fa"></i><i class="edge horizontalEdge leftEdge fa"></i>';n.closest("tr").next().addBack().children().attr("colspan",l),i.find(".horizontalEdge").length||i.append(d),n.closest("tr").siblings().eq(1).children(":last").before('<td class="left top">&nbsp;</td><td class="right top">&nbsp;</td>').end().next().append(i.closest("table").parent());var r=i.closest("table").parent().siblings().find(".node:first");1===r.length&&r.append(d)}else n.append('<i class="edge verticalEdge bottomEdge fa"></i>').parent().attr("colspan",2).parent().after('<tr class="lines"><td colspan="2"><div class="down"></div></td></tr><tr class="lines"><td class="right">&nbsp;</td><td class="left">&nbsp;</td></tr><tr class="nodes"></tr>').siblings(":last").append(i.find(".horizontalEdge").remove().end().closest("table").parent());var o=parseInt(a.attr("colspan"));if(o>2){a.attr("colspan",o-2).parent().next().children().attr("colspan",o-2).end().next().children().slice(1,3).remove();var c=a.parent().siblings(".nodes").children().find(".node:first");1===c.length&&c.find(".horizontalEdge").remove()}else a.removeAttr("colspan").find(".bottomEdge").remove().end().end().siblings().remove();t.triggerHandler({type:"nodedropped.orgchart",draggedNode:i,dragZone:a.children(),dropZone:n})}),i.createNode&&i.createNode(l,n),a.resolve(l),a.promise()}function E(s,n,t,i,a){var l,d=n.children,r=!!d&&d.length,o=!!(i.verticalDepth&&t+1>=i.verticalDepth);if(Object.keys(n).length>1&&(l=o?s:e("<table>"),o||s.append(l),e.when(x(n,t,i)).done(function(e){o?l.append(e):l.append(e.wrap("<tr><td"+(r?' colspan="'+2*d.length+'"':"")+"></td></tr>").closest("tr")),a&&a()}).fail(function(){console.log("Failed to creat node")})),r){1===Object.keys(n).length&&(l=s);var c=t+1>=i.depth?" hidden":"",h=!!(i.verticalDepth&&t+2>=i.verticalDepth);h||l.append('<tr class="lines'+c+'"><td colspan="'+2*d.length+'"><div class="down"></div></td></tr>');for(var f='<tr class="lines'+c+'"><td class="right">&nbsp;</td>',p=1;p<d.length;p++)f+='<td class="left top">&nbsp;</td><td class="right top">&nbsp;</td>';f+='<td class="left">&nbsp;</td></tr>';var g;h?(g=e("<ul>"),t+2===i.verticalDepth?l.append('<tr class="verticalNodes"><td></td></tr>').find(".verticalNodes").children().append(g):l.append(g)):(g=e('<tr class="nodes'+c+'">'),l.append(f).append(g)),e.each(d,function(){var s=e(h?"<li>":'<td colspan="2">');g.append(s),E(s,this,t+1,i,a)})}}function y(e,s,n,t){var n=n||e.closest(".orgchart").data("options"),i=s.children||s.siblings;e.find("td:first").attr("colspan",2*i.length),E(e,{children:i},0,n,t)}function w(e,s,n){var t=0;y.call(e.closest(".orgchart").parent(),e.closest("table"),s,n,function(){++t===s.children.length&&(e.children(".bottomEdge").length||e.append('<i class="edge verticalEdge bottomEdge fa"></i>'),e.find(".symbol").length||e.children(".title").prepend('<i class="fa '+n.parentNodeSymbol+' symbol"></i>'),h(e))})}function A(s,n,t){(function(s,n,t,i){var a=this,l=e("<table>");n.relationship="001",e.when(x(n,0,t||s.closest(".orgchart").data("options"))).done(function(e){l.append(e.removeClass("slide-up").addClass("slide-down").wrap('<tr class="hidden"><td colspan="2"></td></tr>').closest("tr")),l.append('<tr class="lines hidden"><td colspan="2"><div class="down"></div></td></tr>'),l.append('<tr class="lines hidden"><td class="right">&nbsp;</td><td class="left">&nbsp;</td></tr>');var s=a.children(".orgchart");s.prepend(l).children("table:first").append('<tr class="nodes"><td colspan="2"></td></tr>').children("tr:last").children().append(s.children("table").last()),i()}).fail(function(){console.log("Failed to create parent node")})}).call(this,s,n,t,function(){s.children(".topEdge").length||s.children(".title").after('<i class="edge verticalEdge topEdge fa"></i>'),c(s)})}function q(e,s,n){for(var t="",i=0;i<n;i++)t+='<td class="left top">&nbsp;</td><td class="right top">&nbsp;</td>';e.parent().prevAll("tr:gt(0)").children().attr("colspan",2*s).end().next().children(":first").after(t)}function j(s,n,t){(function(s,n,t,i){var t=t||s.closest(".orgchart").data("options"),a=n.siblings?n.siblings.length:n.children.length,l=s.parent().is("td")?s.closest("tr").children().length:1,d=l+a,r=d>1?Math.floor(d/2-1):0;if(s.parent().is("td")){s.closest("tr").prevAll("tr:last"),s.closest("tr").prevAll("tr:lt(2)").remove();var o=0;y.call(s.closest(".orgchart").parent(),s.parent().closest("table"),n,t,function(){if(++o===a){var e=s.parent().closest("table").children("tr:last").children("td");l>1?(q(e.eq(0).before(s.closest("td").siblings().addBack().unwrap()),d,l),e.addClass("hidden").find(".node").addClass("slide-left")):(q(e.eq(r).after(s.closest("td").unwrap()),d,1),e.not(":eq("+r+"1)").addClass("hidden").slice(0,r).find(".node").addClass("slide-right").end().end().slice(r).find(".node").addClass("slide-left")),i()}})}else{var c=0;E(s.closest(".orgchart"),n,0,t,function(){++c===d&&(q(s.next().children("tr:last").children().eq(r).after(e('<td colspan="2">').append(s)),d,1),s.closest("tr").siblings().eq(0).addClass("hidden").find(".node").addClass("slide-down"),s.parent().siblings().addClass("hidden").slice(0,r).find(".node").addClass("slide-right").end().end().slice(r).find(".node").addClass("slide-left"),i())})}}).call(s.closest(".orgchart").parent(),s.closest("table"),n,t,function(){s.closest(".nodes").data("siblingsLoaded",!0),s.children(".leftEdge").length||s.children(".topEdge").after('<i class="edge horizontalEdge rightEdge fa"></i><i class="edge horizontalEdge leftEdge fa"></i>'),p(s)})}e.fn.orgchart=function(s){switch(s){case"buildHierarchy":return E.apply(this,Array.prototype.splice.call(arguments,1));case"addChildren":return w.apply(this,Array.prototype.splice.call(arguments,1));case"addParent":return A.apply(this,Array.prototype.splice.call(arguments,1));case"addSiblings":return j.apply(this,Array.prototype.splice.call(arguments,1));case"removeNodes":return function(e){var s=e.closest("table").parent(),n=s.parent().siblings();s.is("td")?r(e,"siblings").exist?(n.eq(2).children(".top:lt(2)").remove(),n.eq(":lt(2)").children().attr("colspan",n.eq(2).children().length),s.remove()):n.eq(0).children().removeAttr("colspan").find(".bottomEdge").remove().end().end().siblings().remove():s.add(s.siblings()).remove()}.apply(this,Array.prototype.splice.call(arguments,1));case"getHierarchy":return d.apply(this,Array.prototype.splice.call(arguments,1));default:var t=e.extend({nodeTitle:"name",nodeId:"id",toggleSiblingsResp:!1,depth:999,chartClass:"",exportButton:!1,exportFilename:"OrgChart",parentNodeSymbol:"fa-users",draggable:!1,direction:"t2b",pan:!1,zoom:!1},s)}var l=this,o=t.data,c=e("<div>",{data:{options:t},class:"orgchart"+(""!==t.chartClass?" "+t.chartClass:"")+("t2b"!==t.direction?" "+t.direction:""),click:function(s){e(s.target).closest(".node").length||c.find(".node.focused").removeClass("focused")}});if("object"===e.type(o)?o instanceof e?E(c,i(o.children()),0,t):E(c,t.ajaxURL?o:a(o,"00"),0,t):e.ajax({url:o,dataType:"json",beforeSend:function(){c.append('<i class="fa fa-circle-o-notch fa-spin spinner"></i>')}}).done(function(e,s,n){E(c,t.ajaxURL?e:a(e,"00"),0,t)}).fail(function(e,s,n){console.log(n)}).always(function(){c.children(".spinner").remove()}),l.append(c),t.exportButton&&!l.find(".oc-export-btn").length){var h=e("<button>",{class:"oc-export-btn"+(""!==t.chartClass?" "+t.chartClass:""),text:"Export",click:function(){if(e(this).children(".spinner").length)return!1;var s=l.find(".mask");s.length?s.removeClass("hidden"):l.append('<div class="mask"><i class="fa fa-circle-o-notch fa-spin spinner"></i></div>');var n=l.addClass("canvasContainer").find(".orgchart:visible").get(0),i="l2r"===t.direction||"r2l"===t.direction;html2canvas(n,{width:i?n.clientHeight:n.clientWidth,height:i?n.clientWidth:n.clientHeight,onclone:function(s){e(s).find(".canvasContainer").css("overflow","visible").find(".orgchart:visible:first").css("transform","")},onrendered:function(e){l.find(".mask").addClass("hidden").end().find(".oc-download-btn").attr("href",e.toDataURL())[0].click()}}).then(function(){l.removeClass("canvasContainer")},function(){l.removeClass("canvasContainer")})}}),f='<a class="oc-download-btn'+(""!==t.chartClass?" "+t.chartClass:"")+'" download="'+t.exportFilename+'.png"></a>';l.append(h).append(f)}return t.pan&&(l.css("overflow","hidden"),c.on("mousedown",function(s){var t=e(this);if(e(s.target).closest(".node").length)t.data("panning",!1);else{t.css("cursor","move").data("panning",!0);var i=0,a=0,l=t.css("transform");if("none"!==l){var d=l.split(",");-1===l.indexOf("3d")?(i=parseInt(d[4]),a=parseInt(d[5])):(i=parseInt(d[12]),a=parseInt(d[13]))}var r=s.pageX-i,o=s.pageY-a;e(n).on("mousemove",function(e){var s=e.pageX-r,n=e.pageY-o,i=t.css("transform");if("none"===i)-1===i.indexOf("3d")?t.css("transform","matrix(1, 0, 0, 1, "+s+", "+n+")"):t.css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+s+", "+n+", 0, 1)");else{var a=i.split(",");-1===i.indexOf("3d")?(a[4]=" "+s,a[5]=" "+n+")"):(a[12]=" "+s,a[13]=" "+n),t.css("transform",a.join(","))}})}}),e(n).on("mouseup",function(){c.data("panning")&&(c.css("cursor","default"),e(this).off("mousemove"))})),t.zoom&&l.on("wheel",function(e){e.preventDefault();var s=c.css("transform"),n=1+(e.originalEvent.deltaY>0?-.2:.2);"none"===s?c.css("transform","scale("+n+","+n+")"):-1===s.indexOf("3d")?c.css("transform",s+" scale("+n+","+n+")"):c.css("transform",s+" scale3d("+n+","+n+", 1)")}),l}});