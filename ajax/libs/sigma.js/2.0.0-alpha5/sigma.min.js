!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Sigma=e():t.Sigma=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=25)}([function(t,e,n){"use strict";function r(t){e.ARRAY_TYPE=s=t}function a(t){return t*u}function i(t,e){return Math.abs(t-e)<=o*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=r,e.toRadian=a,e.equals=i;var o=e.EPSILON=1e-6,s=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(o.EventEmitter);e.default=s},function(t,e,n){"use strict";function r(t){if(void 0!==s[t])return s[t];var e=0,n=0,r=0;if("#"===t[0])4===t.length?(e=parseInt(t.charAt(1)+t.charAt(1),16),n=parseInt(t.charAt(2)+t.charAt(2),16),r=parseInt(t.charAt(3)+t.charAt(3),16)):(e=parseInt(t.charAt(1)+t.charAt(2),16),n=parseInt(t.charAt(3)+t.charAt(4),16),r=parseInt(t.charAt(5)+t.charAt(6),16));else if(u.test(t)){var a=t.match(c);e=+a[1],n=+a[2],r=+a[3]}var i=256*e*256+256*n+r;return s[t]=i,i}function a(t){var e=t.angle,n=t.ratio,r=t.x,a=t.y,i=o.mat3.create(),s=o.mat3.fromScaling(o.mat3.create(),[1/n,1/n]),u=o.mat3.fromRotation(o.mat3.create(),-e),c=o.mat3.fromTranslation(o.mat3.create(),[-r,-a]);return o.mat3.multiply(i,s,u),o.mat3.multiply(i,i,c),i}function i(t,e,n,r){var a=r||new Uint8Array(4);return t.readPixels(e,n,1,1,t.RGBA,t.UNSIGNED_BYTE,a),a}Object.defineProperty(e,"__esModule",{value:!0}),e.floatColor=r,e.matrixFromCamera=a,e.extractPixel=i;var o=n(7),s={},u=/^\s*rgba?\s*\(/,c=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)\s*(,.*)?\)\s*$/},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function a(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!a(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(n=this._events[t],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),a=c.length,u=0;u<a;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),a||(a=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var a=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,a,o,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,a=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){a=s;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(3),u=n(24),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),h=n(14),l={easing:"quadraticInOut",duration:150},f=function(t){function e(t){r(this,e),t=t||{};var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.x=0,n.y=0,n.angle=0,n.ratio=1,n.width=t.width||0,n.height=t.height||0,n.nextFrame=null,n.enabled=!0,n}return i(e,t),o(e,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"abstractDisplayToGraph",value:function(t,e){var n=Math.cos(this.angle),r=Math.sin(this.angle);return{x:(t*n-e*r)*this.ratio,y:(e*n+t*r)*this.ratio}}},{key:"displayToGraph",value:function(t,e){var n=Math.cos(this.angle),r=Math.sin(this.angle),a=this.width/2-(this.x*n+this.y*r)/this.ratio,i=this.height/2-(this.y*n-this.x*r)/this.ratio,o=t-a,s=e-i;return{x:(o*n-s*r)*this.ratio,y:(s*n+o*r)*this.ratio}}},{key:"graphToDisplay",value:function(t,e){var n=Math.cos(this.angle)/this.ratio,r=Math.sin(this.angle)/this.ratio;return{x:t*n+e*r+(this.width/2-this.x*n-this.y*r),y:e*n-t*r+(this.height/2-this.y*n+this.x*r)}}},{key:"setState",value:function(t){return this.enabled?("x"in t&&(this.x=t.x),"y"in t&&(this.y=t.y),"angle"in t&&(this.angle=t.angle),"ratio"in t&&(this.ratio=t.ratio),this.emit("updated",this.getState()),this):this}},{key:"resize",value:function(t){return this.enabled?("width"in t&&(this.width=t.width),"height"in t&&(this.height=t.height),this.emit("resized",this.getDimensions()),this):this}},{key:"animate",value:function(t,e){var n=this;if(!this.enabled)return this;e=(0,h.assign)({},l,e);var r="function"==typeof e.easing?e.easing:c[e.easing];this.nextFrame&&cancelAnimationFrame(this.nextFrame);var a=Date.now(),i=this.getState(),o=function o(){var s=(Date.now()-a)/e.duration;if(s>=1)return n.nextFrame=null,void n.setState(t);var u=r(s),c={};"x"in t&&(c.x=i.x+(t.x-i.x)*u),"y"in t&&(c.y=i.y+(t.y-i.y)*u),"angle"in t&&(c.angle=i.angle+(t.angle-i.angle)*u),"ratio"in t&&(c.ratio=i.ratio+(t.ratio-i.ratio)*u),n.setState(c),n.nextFrame=requestAnimationFrame(o)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.nextFrame=requestAnimationFrame(o)):o()}},{key:"animatedZoom",value:function(t){return t?"number"==typeof t?this.animate({ratio:this.ratio/t}):this.animate({ratio:this.ratio/(t.factor||1.5)},t):this.animate({ratio:this.ratio/1.5})}},{key:"animatedUnzoom",value:function(t){return t?"number"==typeof t?this.animate({ratio:this.ratio*t}):this.animate({ratio:this.ratio*(t.factor||1.5)},t):this.animate({ratio:1.5*this.ratio})}},{key:"animatedReset",value:function(t){return this.animate({x:0,y:0,ratio:1,angle:0},t)}}]),e}(s.EventEmitter);e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(22),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=n(23),h=function(t){function e(t,n){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.container=t,i.camera=n,i.enabled=!0,i.hasDragged=!1,i.downStartTime=null,i.startMouseX=null,i.startMouseY=null,i.isMouseDown=!1,i.isMoving=!0,i.movingTimeout=null,i.startCameraState=null,i.lastCameraState=null,i.clicks=0,i.doubleClickTimeout=null,i.wheelLock=!1,i.handleClick=i.handleClick.bind(i),i.handleDown=i.handleDown.bind(i),i.handleUp=i.handleUp.bind(i),i.handleMove=i.handleMove.bind(i),i.handleWheel=i.handleWheel.bind(i),i.handleOut=i.handleOut.bind(i),t.addEventListener("click",i.handleClick,!1),t.addEventListener("mousedown",i.handleDown,!1),t.addEventListener("mousemove",i.handleMove,!1),t.addEventListener("DOMMouseScroll",i.handleWheel,!1),t.addEventListener("mousewheel",i.handleWheel,!1),t.addEventListener("mouseout",i.handleOut,!1),document.addEventListener("mouseup",i.handleUp,!1),i}return i(e,t),o(e,[{key:"handleClick",value:function(t){var e=this;if(this.enabled){if(2===++this.clicks)return this.clicks=0,clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null,this.handleDoubleClick(t);setTimeout(function(){e.clicks=0,e.doubleClickTimeout=null},300),this.emit("click",(0,c.getMouseCoords)(t))}}},{key:"handleDoubleClick",value:function(t){if(this.enabled){var e=(0,c.getCenter)(t),n=this.camera.getState(),r=this.camera.abstractDisplayToGraph((0,c.getX)(t)-e.x,(0,c.getY)(t)-e.y);return this.camera.animate({x:r.x*(1-1/2.2)+n.x,y:r.y*(1-1/2.2)+n.y,ratio:1/2.2*n.ratio},{easing:"quadraticInOut",duration:200}),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}}},{key:"handleDown",value:function(t){this.enabled&&(this.startCameraState=this.camera.getState(),this.lastCameraState=this.startCameraState,this.startMouseX=(0,c.getX)(t),this.startMouseY=(0,c.getY)(t),this.hasDragged=!1,this.downStartTime=Date.now(),t.which,this.isMouseDown=!0,this.emit("mousedown",(0,c.getMouseCoords)(t)))}},{key:"handleUp",value:function(t){if(this.enabled&&this.isMouseDown){this.isMouseDown=!1,this.movingTimeout&&(this.movingTimeout=null,clearTimeout(this.movingTimeout));var e=(0,c.getX)(t),n=(0,c.getY)(t),r=this.camera.getState();this.isMoving?this.camera.animate({x:r.x+3*(r.x-this.lastCameraState.x),y:r.y+3*(r.y-this.lastCameraState.y)},{duration:200,easing:"quadraticOut"}):this.startMouseX===e&&this.startMouseY===n||this.camera.setState({x:r.x,y:r.y}),this.emit("mouseup",(0,c.getMouseCoords)(t)),this.isMoving=!1}}},{key:"handleMove",value:function(t){var e=this;if(this.enabled){if(this.emit("mousemove",(0,c.getMouseCoords)(t)),this.isMouseDown){this.isMoving=!0,this.hasDragged=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=setTimeout(function(){e.movingTimeout=null,e.isMoving=!1},200);var n=this.camera.abstractDisplayToGraph((0,c.getX)(t)-this.startMouseX,(0,c.getY)(t)-this.startMouseY),r=this.startCameraState.x-n.x,a=this.startCameraState.y-n.y,i=this.camera.getState();i.x===r&&i.y===a||(this.lastCameraState=i,this.camera.setState({x:r,y:a}))}return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}}},{key:"handleWheel",value:function(t){var e=this;if(!this.enabled)return!1;var n=(0,c.getWheelDelta)(t);if(!n)return!1;if(this.wheelLock)return!1;this.wheelLock=!0,setTimeout(function(){return e.wheelLock=!1},30);var r=n>0?1/1.7:1.7,a=this.camera.getState(),i=r*a.ratio,o=(0,c.getCenter)(t),s=this.camera.abstractDisplayToGraph((0,c.getX)(t)-o.x,(0,c.getY)(t)-o.y);return this.camera.animate({x:s.x*(1-r)+a.x,y:s.y*(1-r)+a.y,ratio:i},{easing:this.camera.isAnimated()?"quadraticOut":"quadraticInOut",duration:200}),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}},{key:"handleOut",value:function(){}}]),e}(u.default);e.default=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e,n,r,a,i,o){return t<r+i&&t+n>r&&e<a+o&&e+n>a}function i(t,e,n,r,a,i){var o=n+a/2,s=r+i/2,u=e<s,c=t<o;return u?c?m:p:c?M:g}function o(t,e){for(var n=[0,0];n.length;){var r=n.pop(),a=n.pop(),i=4*a+c,o=4*a+2*c,s=4*a+3*c,u=4*a+4*c,h=e[a+l],m=e[a+f],p=e[a+d],M=e[a+v],g=p/2,y=M/2;e[i+l]=h,e[i+f]=m,e[i+d]=g,e[i+v]=y,e[o+l]=h+g,e[o+f]=m,e[o+d]=g,e[o+v]=y,e[s+l]=h,e[s+f]=m+y,e[s+d]=g,e[s+v]=y,e[u+l]=h+g,e[u+f]=m+y,e[u+d]=g,e[u+v]=y,r<t-1&&(n.push(u,r+1),n.push(s,r+1),n.push(o,r+1),n.push(i,r+1))}}function s(t,e,n,r,i,o,s){for(var u=i-s,h=o-s,m=2*s,p=[0,0];p.length;){var M=p.pop(),g=p.pop();if(M>=t)return n[g]=n[g]||[],void n[g].push(r);var y=4*g+c,b=4*g+2*c,_=4*g+3*c,x=4*g+4*c,w=a(u,h,m,e[y+l],e[y+f],e[y+d],e[y+v]),E=a(u,h,m,e[b+l],e[b+f],e[b+d],e[b+v]),P=a(u,h,m,e[_+l],e[_+f],e[_+d],e[_+v]),A=a(u,h,m,e[x+l],e[x+f],e[x+d],e[x+v]),T=w+E+P+A;if(0===T)throw new Error("sigma/quadtree.insertNode: no collision (level: "+M+", key: "+r+", x: "+i+", y: "+o+", size: "+s+").");if(3===T)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: "+M+", key: "+r+", x: "+i+", y: "+o+", size: "+s+").");if(T>1)return n[g]=n[g]||[],void n[g].push(r);M++,w&&p.push(y,M),E&&p.push(b,M),P&&p.push(_,M),A&&p.push(x,M)}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=4,h=5,l=0,f=1,d=2,v=3,m=1,p=2,M=3,g=4,y=function(){function t(e){r(this,t);var n=Math.pow(4,h);this.data=new Float32Array(c*((4*n-1)/3)),this.containers={},e&&this.resize(e)}return u(t,[{key:"add",value:function(t,e,n,r){return s(h,this.data,this.containers,t,e,n,r),this}},{key:"resize",value:function(t){this.clear(),this.data[l]=t.x,this.data[f]=t.y,this.data[d]=t.width,this.data[v]=t.height,o(h,this.data)}},{key:"clear",value:function(){return this.containers={},this}},{key:"point",value:function(t,e){var n=[],r=0,a=0;do{this.containers[r]&&n.push.apply(n,this.containers[r]);r=4*r+i(t,e,this.data[r+l],this.data[r+f],this.data[r+d],this.data[r+v])*c,a++}while(a<=h);return n}}]),t}();e.default=y},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var a=n(0),i=r(a),o=n(17),s=r(o),u=n(18),c=r(u),h=n(8),l=r(h),f=n(19),d=r(f),v=n(20),m=r(v),p=n(21),M=r(p),g=n(9),y=r(g),b=n(10),_=r(b);e.glMatrix=i,e.mat2=s,e.mat2d=c,e.mat3=l,e.mat4=d,e.quat=m,e.vec2=M,e.vec3=y,e.vec4=_},function(t,e,n){"use strict";function r(){var t=new D.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function i(t){var e=new D.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(t,e,n,r,a,i,o,s,u){var c=new D.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=u,c}function u(t,e,n,r,a,i,o,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function h(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function l(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*o-s*c,f=-h*i+s*u,d=c*i-o*u,v=n*l+r*f+a*d;return v?(v=1/v,t[0]=l*v,t[1]=(-h*r+a*c)*v,t[2]=(s*r-a*o)*v,t[3]=f*v,t[4]=(h*n-a*u)*v,t[5]=(-s*n+a*i)*v,t[6]=d*v,t[7]=(-c*n+r*u)*v,t[8]=(o*n-r*i)*v,t):null}function f(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=o*h-s*c,t[1]=a*c-r*h,t[2]=r*s-a*o,t[3]=s*u-i*h,t[4]=n*h-a*u,t[5]=a*i-n*s,t[6]=i*c-o*u,t[7]=r*u-n*c,t[8]=n*o-r*i,t}function d(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8];return e*(c*i-o*u)+n*(-c*a+o*s)+r*(u*a-i*s)}function v(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],v=n[2],m=n[3],p=n[4],M=n[5],g=n[6],y=n[7],b=n[8];return t[0]=f*r+d*o+v*c,t[1]=f*a+d*s+v*h,t[2]=f*i+d*u+v*l,t[3]=m*r+p*o+M*c,t[4]=m*a+p*s+M*h,t[5]=m*i+p*u+M*l,t[6]=g*r+y*o+b*c,t[7]=g*a+y*s+b*h,t[8]=g*i+y*u+b*l,t}function m(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=f*r+d*o+c,t[7]=f*a+d*s+h,t[8]=f*i+d*u+l,t}function p(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*a+f*s,t[2]=d*i+f*u,t[3]=d*o-f*r,t[4]=d*s-f*a,t[5]=d*u-f*i,t[6]=c,t[7]=h,t[8]=l,t}function M(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function g(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function y(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function b(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function x(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,u=a+a,c=n*o,h=r*o,l=r*s,f=a*o,d=a*s,v=a*u,m=i*o,p=i*s,M=i*u;return t[0]=1-l-v,t[3]=h-M,t[6]=f+p,t[1]=h+M,t[4]=1-c-v,t[7]=d-m,t[2]=f-p,t[5]=d+m,t[8]=1-c-l,t}function w(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],v=e[12],m=e[13],p=e[14],M=e[15],g=n*s-r*o,y=n*u-a*o,b=n*c-i*o,_=r*u-a*s,x=r*c-i*s,w=a*c-i*u,E=h*m-l*v,P=h*p-f*v,A=h*M-d*v,T=l*p-f*m,O=l*M-d*m,S=f*M-d*p,L=g*S-y*O+b*T+_*A-x*P+w*E;return L?(L=1/L,t[0]=(s*S-u*O+c*T)*L,t[1]=(u*A-o*S-c*P)*L,t[2]=(o*O-s*A+c*E)*L,t[3]=(a*O-r*S-i*T)*L,t[4]=(n*S-a*A+i*P)*L,t[5]=(r*A-n*O-i*E)*L,t[6]=(m*w-p*x+M*_)*L,t[7]=(p*b-v*w-M*y)*L,t[8]=(v*x-m*b+M*g)*L,t):null}function E(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function P(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function A(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function T(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function O(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function S(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function L(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function R(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function N(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=e[0],f=e[1],d=e[2],v=e[3],m=e[4],p=e[5],M=e[6],g=e[7],y=e[8];return Math.abs(n-l)<=D.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=D.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-d)<=D.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-v)<=D.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(o-m)<=D.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-p)<=D.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-M)<=D.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-g)<=D.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(h-y)<=D.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=r,e.fromMat4=a,e.clone=i,e.copy=o,e.fromValues=s,e.set=u,e.identity=c,e.transpose=h,e.invert=l,e.adjoint=f,e.determinant=d,e.multiply=v,e.translate=m,e.rotate=p,e.scale=M,e.fromTranslation=g,e.fromRotation=y,e.fromScaling=b,e.fromMat2d=_,e.fromQuat=x,e.normalFromMat4=w,e.projection=E,e.str=P,e.frob=A,e.add=T,e.subtract=O,e.multiplyScalar=S,e.multiplyScalarAndAdd=L,e.exactEquals=R,e.equals=N;var I=n(0),D=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(I);e.mul=v,e.sub=O},function(t,e,n){"use strict";function r(){var t=new B.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function a(t){var e=new B.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function i(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function o(t,e,n){var r=new B.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function v(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function p(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function M(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function y(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+r*r+a*a)}function _(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function x(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function P(t,e){var n=e[0],r=e[1],a=e[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function A(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],s=n[1],u=n[2];return t[0]=a*u-i*s,t[1]=i*o-r*u,t[2]=r*s-a*o,t}function O(t,e,n,r){var a=e[0],i=e[1],o=e[2];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=o+r*(n[2]-o),t}function S(t,e,n,r,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,c=o*(i-1),h=o*(3-2*i);return t[0]=e[0]*s+n[0]*u+r[0]*c+a[0]*h,t[1]=e[1]*s+n[1]*u+r[1]*c+a[1]*h,t[2]=e[2]*s+n[2]*u+r[2]*c+a[2]*h,t}function L(t,e,n,r,a,i){var o=1-i,s=o*o,u=i*i,c=s*o,h=3*i*s,l=3*u*o,f=u*i;return t[0]=e[0]*c+n[0]*h+r[0]*l+a[0]*f,t[1]=e[1]*c+n[1]*h+r[1]*l+a[1]*f,t[2]=e[2]*c+n[2]*h+r[2]*l+a[2]*f,t}function R(t,e){e=e||1;var n=2*B.RANDOM()*Math.PI,r=2*B.RANDOM()-1,a=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=r*e,t}function N(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,t[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,t[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,t}function I(t,e,n){var r=e[0],a=e[1],i=e[2];return t[0]=r*n[0]+a*n[3]+i*n[6],t[1]=r*n[1]+a*n[4]+i*n[7],t[2]=r*n[2]+a*n[5]+i*n[8],t}function D(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],s=n[1],u=n[2],c=n[3],h=c*r+s*i-u*a,l=c*a+u*r-o*i,f=c*i+o*a-s*r,d=-o*r-s*a-u*i;return t[0]=h*c+d*-o+l*-u-f*-s,t[1]=l*c+d*-s+f*-o-h*-u,t[2]=f*c+d*-u+h*-s-l*-o,t}function k(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function q(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Y(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function j(t,e){var n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);P(n,n),P(r,r);var a=A(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)}function F(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function C(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function U(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],o=e[1],s=e[2];return Math.abs(n-i)<=B.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=B.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=B.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=a,e.length=i,e.fromValues=o,e.copy=s,e.set=u,e.add=c,e.subtract=h,e.multiply=l,e.divide=f,e.ceil=d,e.floor=v,e.min=m,e.max=p,e.round=M,e.scale=g,e.scaleAndAdd=y,e.distance=b,e.squaredDistance=_,e.squaredLength=x,e.negate=w,e.inverse=E,e.normalize=P,e.dot=A,e.cross=T,e.lerp=O,e.hermite=S,e.bezier=L,e.random=R,e.transformMat4=N,e.transformMat3=I,e.transformQuat=D,e.rotateX=k,e.rotateY=q,e.rotateZ=Y,e.angle=j,e.str=F,e.exactEquals=C,e.equals=U;var z=n(0),B=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(z);e.sub=h,e.mul=l,e.div=f,e.dist=b,e.sqrDist=_,e.len=i,e.sqrLen=x,e.forEach=function(){var t=r();return function(e,n,r,a,i,o){var s=void 0,u=void 0;for(n||(n=3),r||(r=0),u=a?Math.min(a*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){"use strict";function r(){var t=new k.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function a(t){var e=new k.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function i(t,e,n,r){var a=new k.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function p(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function M(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function g(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function y(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(n*n+r*r+a*a+i*i)}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+a*a+i*i}function _(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.sqrt(e*e+n*n+r*r+a*a)}function x(t){var e=t[0],n=t[1],r=t[2],a=t[3];return e*e+n*n+r*r+a*a}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function P(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=r*o,t[2]=a*o,t[3]=i*o),t}function A(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function T(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=e[3];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t}function O(t,e){return e=e||1,t[0]=k.RANDOM(),t[1]=k.RANDOM(),t[2]=k.RANDOM(),t[3]=k.RANDOM(),P(t,t),M(t,t,e),t}function S(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,t[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,t[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,t[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,t}function L(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],s=n[1],u=n[2],c=n[3],h=c*r+s*i-u*a,l=c*a+u*r-o*i,f=c*i+o*a-s*r,d=-o*r-s*a-u*i;return t[0]=h*c+d*-o+l*-u-f*-s,t[1]=l*c+d*-s+f*-o-h*-u,t[2]=f*c+d*-u+h*-s-l*-o,t[3]=e[3],t}function R(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function N(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function I(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-o)<=k.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=k.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=k.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=k.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=a,e.fromValues=i,e.copy=o,e.set=s,e.add=u,e.subtract=c,e.multiply=h,e.divide=l,e.ceil=f,e.floor=d,e.min=v,e.max=m,e.round=p,e.scale=M,e.scaleAndAdd=g,e.distance=y,e.squaredDistance=b,e.length=_,e.squaredLength=x,e.negate=w,e.inverse=E,e.normalize=P,e.dot=A,e.lerp=T,e.random=O,e.transformMat4=S,e.transformQuat=L,e.str=R,e.exactEquals=N,e.equals=I;var D=n(0),k=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(D);e.sub=c,e.mul=h,e.div=l,e.dist=y,e.sqrDist=b,e.len=_,e.sqrLen=x,e.forEach=function(){var t=r();return function(e,n,r,a,i,o){var s=void 0,u=void 0;for(n||(n=4),r||(r=0),u=a?Math.min(a*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}()},function(t,e,n){"use strict";function r(t,e){t.fillStyle="#000",t.font="14px arial",t.fillText(e.label,e.x+e.size+3,e.y+14/3)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t,e){var n=document.createElement(t);if(!e)return n;for(var r in e)if("style"===r)for(var a in e[r])n.style[a]=e[r][a];else n.setAttribute(r,e[r]);return n}function a(){var t=window.screen;return void 0!==t.deviceXDPI&&void 0!==t.logicalXDPI&&t.deviceXDPI>t.logicalXDPI?t.systemXDPI/t.logicalXDPI:void 0!==window.devicePixelRatio?window.devicePixelRatio:1}function i(t,e){t=t||{};var n=t.mode||o.mode,r=t.height||1,a=t.width||1,i=e.maxX,s=e.maxY,u=e.minX,c=e.minY,h=(i+u)/2,l=(s+c)/2,f="outside"===n?Math.max(a/Math.max(i-u,1),r/Math.max(s-c,1)):Math.min(a/Math.max(i-u,1),r/Math.max(s-c,1)),d=function(t){return{x:(t.x-h)*f,y:(t.y-l)*f}};return d.inverse=function(t){return{x:t.x/f+h,y:t.y/f+l}},d}Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=r,e.getPixelRatio=a,e.createNodeRescalingFunction=i;var o={mode:"inside",margin:0,minSize:1,maxSize:8}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(30),o=function(){function t(e,n,a){r(this,t),this.vertexShaderSource=n,this.fragmentShaderSource=a,this.load(e)}return a(t,[{key:"load",value:function(t){return this.vertexShader=(0,i.loadVertexShader)(t,this.vertexShaderSource),this.fragmentShader=(0,i.loadFragmentShader)(t,this.fragmentShaderSource),this.program=(0,i.loadProgram)(t,[this.vertexShader,this.fragmentShader]),this.program}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t){t=t||{};for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var a=0,i=n.length;a<i;a++)if(n[a])for(var o in n[a])t[o]=n[a][o];return t}Object.defineProperty(e,"__esModule",{value:!0}),e.assign=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(7),c=n(1),h=r(c),l=n(4),f=r(l),d=n(5),v=r(d),m=n(6),p=r(m),M=n(29),g=r(M),y=n(28),b=r(y),_=n(11),x=r(_),w=n(26),E=r(w),P=n(14),A=n(12),T=n(2),O=(0,A.getPixelRatio)(),S=(0,A.getPixelRatio)(),L=function(t){function e(t){a(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!(t instanceof HTMLElement))throw new Error("sigma/renderers/webgl: container should be an html element.");n.sigma=null,n.captors={},n.container=t,n.elements={},n.contexts={},n.listeners={},n.quadtree=new p.default,n.nodeArray=null,n.nodeIndicesArray=null,n.nodeOrder={},n.nodeDataCache={},n.edgeArray=null,n.edgeIndicesArray=null,n.edgeOrder={},n.nodeRescalingFunction=null,n.width=0,n.height=0,n.highlightedNodes=new Set,n.hoveredNode=null,n.wasRenderedInThisFrame=!1,n.renderFrame=null,n.renderHighlightedNodesFrame=null,n.needToProcess=!1,n.needToSoftProcess=!1,n.pixel=new Uint8Array(4),n.createContext("edges"),n.createContext("nodes"),n.createContext("labels",!1),n.createContext("hovers",!1),n.createContext("mouse",!1);var r=n.contexts.nodes;return r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.enable(r.BLEND),r=n.contexts.edges,r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.enable(r.BLEND),n.nodePrograms={def:new g.default(n.contexts.nodes)},n.edgePrograms={def:new b.default(n.contexts.edges)},n.resize(),n.camera=new f.default({width:n.width,height:n.height}),n.bindCameraHandlers(),n.captors={mouse:new v.default(n.elements.mouse,n.camera)},n.bindEventHandlers(),n}return o(e,t),s(e,[{key:"testPixel",value:function(t,e,n){return(0,T.extractPixel)(t,e*S,(this.height-n)*S,this.pixel),0!==this.pixel[3]}},{key:"createContext",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,A.createElement)("canvas",{class:"sigma-"+t,style:{position:"absolute"}});this.elements[t]=n,this.container.appendChild(n);var r={preserveDrawingBuffer:!0,antialias:!1},a=n.getContext(e?"webgl":"2d",r);return this.contexts[t]=a,this}},{key:"bindCameraHandlers",value:function(){var t=this;return this.listeners.camera=function(){t.scheduleRender()},this.camera.on("updated",this.listeners.camera),this}},{key:"bindEventHandlers",value:function(){var t=this;this.listeners.handleResize=function(){t.needToSoftProcess=!0,t.scheduleRender()},window.addEventListener("resize",this.listeners.handleResize);var e=function(t,e,n,r,a){return t>n-a&&t<n+a&&e>r-a&&e<r+a&&Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))<a},n=function(e,n){var r=t.camera.displayToGraph(e,n);return t.quadtree.point(r.x,r.y)};return this.listeners.handleMove=function(r){for(var a=Math.pow(t.camera.getState().ratio,.5),i=n(r.x,r.y),o=0,s=i.length;o<s;o++){var u=i[o],c=t.nodeDataCache[u],h=t.camera.graphToDisplay(c.x,c.y),l=c.size/a;if(e(r.x,r.y,h.x,h.y,l))return t.hoveredNode=u,t.emit("overNode",{node:u}),t.scheduleHighlightedNodesRender()}if(t.hoveredNode){var f=t.nodeDataCache[t.hoveredNode],d=t.camera.graphToDisplay(f.x,f.y),v=f.size/a;if(!e(r.x,r.y,d.x,d.y,v))return t.hoveredNode=null,t.emit("outNode",{node:t.hoveredNode}),t.scheduleHighlightedNodesRender()}},this.listeners.handleDown=function(r){for(var a=Math.pow(t.camera.getState().ratio,.5),i=n(r.x,r.y),o=0,s=i.length;o<s;o++){var u=i[o],c=t.nodeDataCache[u],h=t.camera.graphToDisplay(c.x,c.y),l=c.size/a;if(e(r.x,r.y,h.x,h.y,l))return t.emit("downNode",{node:u})}},this.listeners.handleClick=function(r){for(var a=Math.pow(t.camera.getState().ratio,.5),i=n(r.x,r.y),o=0,s=i.length;o<s;o++){var u=i[o],c=t.nodeDataCache[u],h=t.camera.graphToDisplay(c.x,c.y),l=c.size/a;if(e(r.x,r.y,h.x,h.y,l))return t.emit("clickNode",{node:u})}return t.emit("clickStage")},this.captors.mouse.on("mousemove",this.listeners.handleMove),this.captors.mouse.on("mousedown",this.listeners.handleDown),this.captors.mouse.on("click",this.listeners.handleClick),this}},{key:"bindGraphHandlers",value:function(){var t=this,e=this.sigma.getGraph();return this.listeners.graphUpdate=function(){t.needToProcess=!0,t.scheduleRender()},this.listeners.softGraphUpdate=function(){t.needToSoftProcess=!0,t.scheduleRender()},e.on("nodeAdded",this.listeners.graphUpdate),e.on("nodeDropped",this.listeners.graphUpdate),e.on("nodeAttributesUpdated",this.listeners.softGraphUpdate),e.on("edgeAdded",this.listeners.graphUpdate),e.on("nodeDropped",this.listeners.graphUpdate),e.on("edgeAttributesUpdated",this.listeners.softGraphUpdate),e.on("cleared",this.listeners.graphUpdate),this}},{key:"process",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.sigma.getGraph(),n=this.sigma.getGraphExtent();this.nodeRescalingFunction=(0,A.createNodeRescalingFunction)({width:this.width,height:this.height},n);var r=this.nodeRescalingFunction({x:n.minX,y:n.minY}),a=this.nodeRescalingFunction({x:n.maxX,y:n.maxY});this.quadtree.resize({x:r.x,y:r.y,width:a.x-r.x,height:a.y-r.y}),this.nodeRescaleCache={};var i=this.nodePrograms.def;t||(this.nodeArray=new Float32Array(g.default.POINTS*g.default.ATTRIBUTES*e.order),this.nodeOrder={});for(var o=e.nodes(),s=0,u=o.length;s<u;s++){var c=o[s];this.nodeOrder[c]=s;var h=this.sigma.getNodeData(c),l=this.nodeRescalingFunction(h),f=(0,P.assign)({},h,l);this.quadtree.add(c,f.x,f.y,f.size),this.nodeDataCache[c]=f,i.process(this.nodeArray,f,s*g.default.POINTS*g.default.ATTRIBUTES)}var d=this.edgePrograms.def;t||(this.edgeArray=new Float32Array(b.default.POINTS*b.default.ATTRIBUTES*e.size),this.edgeOrder={});for(var v=e.edges(),m=0,p=v.length;m<p;m++){var M=v[m];this.edgeOrder[M]=m;var y=this.sigma.getEdgeData(M),_=e.extremities(M),x=this.nodeDataCache[_[0]],w=this.nodeDataCache[_[1]];d.process(this.edgeArray,x,w,y,m*b.default.POINTS*b.default.ATTRIBUTES)}return t||"function"!=typeof d.computeIndices||(this.edgeIndicesArray=d.computeIndices(this.edgeArray)),this}},{key:"processNode",value:function(t){var e=this.nodePrograms.def,n=this.sigma.getNodeData(t);return e.process(this.nodeArray,n,this.nodeOrder[t]*g.default.POINTS*g.default.ATTRIBUTES),this}},{key:"processEdge",value:function(t){var e=this.sigma.getGraph(),n=this.edgePrograms.def,r=this.sigma.getEdgeData(t),a=e.extremities(t),i=this.sigma.getNodeData(a[0]),o=this.sigma.getNodeData(a[1]);return n.process(this.edgeArray,i,o,r,this.edgeOrder[t]*b.default.POINTS*b.default.ATTRIBUTES),this}},{key:"bind",value:function(t){return this.sigma=t,this.bindGraphHandlers(),this.process(),this}},{key:"getCamera",value:function(){return this.camera}},{key:"getMouseCaptor",value:function(){return this.captors.mouse}},{key:"resize",value:function(t,e){var n=this.width,r=this.height;if(arguments.length>1?(this.width=t,this.height=e):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight),n===this.width&&r===this.height)return this;this.camera&&this.camera.resize({width:this.width,height:this.height});for(var a in this.elements){var i=this.elements[a];i.style.width=this.width+"px",i.style.height=this.height+"px"}for(var o in this.contexts){var s=this.contexts[o];s.scale?(this.elements[o].setAttribute("width",this.width*O+"px"),this.elements[o].setAttribute("height",this.height*O+"px"),1!==O&&s.scale(O,O)):(this.elements[o].setAttribute("width",this.width*S+"px"),this.elements[o].setAttribute("height",this.height*S+"px")),s.viewport&&s.viewport(0,0,this.width*S,this.height*S)}return this}},{key:"clear",value:function(){var t=this.contexts.nodes;return t.clear(t.COLOR_BUFFER_BIT),t=this.contexts.edges,t.clear(t.COLOR_BUFFER_BIT),t=this.contexts.labels,t.clearRect(0,0,this.width,this.height),t=this.contexts.hovers,t.clearRect(0,0,this.width,this.height),this}},{key:"render",value:function(){this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),this.resize(),this.clear();var t=this.camera.getState(),e=(0,T.matrixFromCamera)(t),n=u.mat3.fromTranslation(u.mat3.create(),[this.width/2,this.height/2]);u.mat3.multiply(e,n,e);var r=void 0,a=void 0;a=this.contexts.nodes,r=this.nodePrograms.def,r.render(a,this.nodeArray,{matrix:e,width:this.width,height:this.height,ratio:t.ratio,nodesPowRatio:.5,scalingRatio:S}),a=this.contexts.edges,r=this.edgePrograms.def,r.render(a,this.edgeArray,{matrix:e,width:this.width,height:this.height,ratio:t.ratio,edgesPowRatio:.5,scalingRatio:S,indices:this.edgeIndicesArray});for(var i=this.sigma.getGraph().nodes(),o=this.contexts.labels,s=Math.pow(t.ratio,.5),c=0,h=i.length;c<h;c++){var l=this.nodeDataCache[i[c]],f=this.camera.graphToDisplay(l.x,l.y),d=f.x,v=f.y,m=l.size/s;m<8||(0,x.default)(o,{label:l.label,size:m,x:d,y:v})}return this.renderHighlightedNodes(),this}},{key:"renderHighlightedNodes",value:function(){var t=this,e=this.camera,n=Math.pow(e.getState().ratio,.5),r=this.contexts.hovers;r.clearRect(0,0,this.width,this.height);var a=function(a){var i=t.nodeDataCache[a],o=e.graphToDisplay(i.x,i.y),s=o.x,u=o.y,c=i.size/n;(0,E.default)(r,{label:i.label,color:i.color,size:c,x:s,y:u})};this.hoveredNode&&a(this.hoveredNode),this.highlightedNodes.forEach(a)}},{key:"scheduleRender",value:function(){var t=this;if(this.renderFrame)return this;this.renderFrame=requestAnimationFrame(function(){(t.needToProcess||t.needToSoftProcess)&&t.process(t.needToSoftProcess),t.renderFrame=null,t.needToProcess=!1,t.needToSoftProcess=!1,t.render()})}},{key:"scheduleHighlightedNodesRender",value:function(){var t=this;if(this.renderHighlightedNodesFrame||this.renderFrame)return this;this.renderHighlightedNodesFrame=requestAnimationFrame(function(){t.renderHighlightedNodesFrame=null,t.renderHighlightedNodes()})}},{key:"highlightNode",value:function(t){return this.highlightedNodes.add(t),this.scheduleHighlightedNodesRender(),this}},{key:"unhighlightNode",value:function(t){return this.highlightedNodes.delete(t),this.scheduleHighlightedNodesRender(),this}}]),e}(h.default);e.default=L},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(31),s=r(o),u=n(1),c=r(u),h=function(){function t(e,n){if(a(this,t),!(0,s.default)(e))throw new Error("Sigma.constructor: given graph is not an instance of a graphology implementation.");if(!(n instanceof c.default))throw new Error("Sigma.constructor: given renderer is not an instance of a sigma Renderer.");this.graph=e,this.renderer=n,this.renderer.bind(this),this.state={},this.nodeStates=null,this.edgeStates=null,this.renderer.render()}return i(t,[{key:"getGraph",value:function(){return this.graph}},{key:"getNodeData",value:function(t){return this.graph.getNodeAttributes(t)}},{key:"getEdgeData",value:function(t){return this.graph.getEdgeAttributes(t)}},{key:"getGraphExtent",value:function(){for(var t=this.graph,e=t.nodes(),n=t.edges(),r=-1/0,a=-1/0,i=1/0,o=1/0,s=-1/0,u=-1/0,c=0,h=e.length;c<h;c++){var l=e[c],f=this.getNodeData(l);f.x>r&&(r=f.x),f.y>a&&(a=f.y),f.x<i&&(i=f.x),f.y<o&&(o=f.y);var d=f.size||1;d>s&&(s=d)}for(var v=0,m=n.length;v<m;v++){var p=n[v],M=this.getEdgeData(p),g=M.size||1;g>u&&(u=g)}return{maxX:r,maxY:a,minX:i,minY:o,maxNodeSize:s,maxEdgeSize:u}}}]),t}();e.default=h},function(t,e,n){"use strict";function r(){var t=new O.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t){var e=new O.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,e,n,r){var a=new O.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a}function u(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t}function c(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function h(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*i-a*r;return o?(o=1/o,t[0]=i*o,t[1]=-r*o,t[2]=-a*o,t[3]=n*o,t):null}function l(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function f(t){return t[0]*t[3]-t[2]*t[1]}function d(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[0],u=n[1],c=n[2],h=n[3];return t[0]=r*s+i*u,t[1]=a*s+o*u,t[2]=r*c+i*h,t[3]=a*c+o*h,t}function v(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=a*u+o*s,t[2]=r*-s+i*u,t[3]=a*-s+o*u,t}function m(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=a*s,t[2]=i*u,t[3]=o*u,t}function p(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function g(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function y(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function b(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function _(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function x(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function w(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function E(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-o)<=O.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=O.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=O.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=O.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))}function P(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function A(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=r,e.clone=a,e.copy=i,e.identity=o,e.fromValues=s,e.set=u,e.transpose=c,e.invert=h,e.adjoint=l,e.determinant=f,e.multiply=d,e.rotate=v,e.scale=m,e.fromRotation=p,e.fromScaling=M,e.str=g,e.frob=y,e.LDU=b,e.add=_,e.subtract=x,e.exactEquals=w,e.equals=E,e.multiplyScalar=P,e.multiplyScalarAndAdd=A;var T=n(0),O=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(T);e.mul=d,e.sub=x},function(t,e,n){"use strict";function r(){var t=new T.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t){var e=new T.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(t,e,n,r,a,i){var o=new T.ARRAY_TYPE(6);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=a,o[5]=i,o}function u(t,e,n,r,a,i,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t}function c(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=n*i-r*a;return u?(u=1/u,t[0]=i*u,t[1]=-r*u,t[2]=-a*u,t[3]=n*u,t[4]=(a*s-i*o)*u,t[5]=(r*o-n*s)*u,t):null}function h(t){return t[0]*t[3]-t[1]*t[2]}function l(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=n[0],h=n[1],l=n[2],f=n[3],d=n[4],v=n[5];return t[0]=r*c+i*h,t[1]=a*c+o*h,t[2]=r*l+i*f,t[3]=a*l+o*f,t[4]=r*d+i*v+s,t[5]=a*d+o*v+u,t}function f(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=Math.sin(n),h=Math.cos(n);return t[0]=r*h+i*c,t[1]=a*h+o*c,t[2]=r*-c+i*h,t[3]=a*-c+o*h,t[4]=s,t[5]=u,t}function d(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=n[0],h=n[1];return t[0]=r*c,t[1]=a*c,t[2]=i*h,t[3]=o*h,t[4]=s,t[5]=u,t}function v(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=n[0],h=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=r*c+i*h+s,t[5]=a*c+o*h+u,t}function m(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function p(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function M(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function g(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function y(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function b(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function _(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function x(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function w(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function E(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function P(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=e[0],c=e[1],h=e[2],l=e[3],f=e[4],d=e[5];return Math.abs(n-u)<=T.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=T.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(a-h)<=T.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-l)<=T.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-f)<=T.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-d)<=T.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=r,e.clone=a,e.copy=i,e.identity=o,e.fromValues=s,e.set=u,e.invert=c,e.determinant=h,e.multiply=l,e.rotate=f,e.scale=d,e.translate=v,e.fromRotation=m,e.fromScaling=p,e.fromTranslation=M,e.str=g,e.frob=y,e.add=b,e.subtract=_,e.multiplyScalar=x,e.multiplyScalarAndAdd=w,e.exactEquals=E,e.equals=P;var A=n(0),T=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(A);e.mul=l,e.sub=_},function(t,e,n){"use strict";function r(){var t=new W.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t){var e=new W.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t,e,n,r,a,i,o,s,u,c,h,l,f,d,v,m){var p=new W.ARRAY_TYPE(16);return p[0]=t,p[1]=e,p[2]=n,p[3]=r,p[4]=a,p[5]=i,p[6]=o,p[7]=s,p[8]=u,p[9]=c,p[10]=h,p[11]=l,p[12]=f,p[13]=d,p[14]=v,p[15]=m,p}function s(t,e,n,r,a,i,o,s,u,c,h,l,f,d,v,m,p){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t[9]=h,t[10]=l,t[11]=f,t[12]=d,t[13]=v,t[14]=m,t[15]=p,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function h(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],v=e[12],m=e[13],p=e[14],M=e[15],g=n*s-r*o,y=n*u-a*o,b=n*c-i*o,_=r*u-a*s,x=r*c-i*s,w=a*c-i*u,E=h*m-l*v,P=h*p-f*v,A=h*M-d*v,T=l*p-f*m,O=l*M-d*m,S=f*M-d*p,L=g*S-y*O+b*T+_*A-x*P+w*E;return L?(L=1/L,t[0]=(s*S-u*O+c*T)*L,t[1]=(a*O-r*S-i*T)*L,t[2]=(m*w-p*x+M*_)*L,t[3]=(f*x-l*w-d*_)*L,t[4]=(u*A-o*S-c*P)*L,t[5]=(n*S-a*A+i*P)*L,t[6]=(p*b-v*w-M*y)*L,t[7]=(h*w-f*b+d*y)*L,t[8]=(o*O-s*A+c*E)*L,t[9]=(r*A-n*O-i*E)*L,t[10]=(v*x-m*b+M*g)*L,t[11]=(l*b-h*x-d*g)*L,t[12]=(s*P-o*T-u*E)*L,t[13]=(n*T-r*P+a*E)*L,t[14]=(m*y-v*_-p*g)*L,t[15]=(h*_-l*y+f*g)*L,t):null}function l(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],v=e[12],m=e[13],p=e[14],M=e[15];return t[0]=s*(f*M-d*p)-l*(u*M-c*p)+m*(u*d-c*f),t[1]=-(r*(f*M-d*p)-l*(a*M-i*p)+m*(a*d-i*f)),t[2]=r*(u*M-c*p)-s*(a*M-i*p)+m*(a*c-i*u),t[3]=-(r*(u*d-c*f)-s*(a*d-i*f)+l*(a*c-i*u)),t[4]=-(o*(f*M-d*p)-h*(u*M-c*p)+v*(u*d-c*f)),t[5]=n*(f*M-d*p)-h*(a*M-i*p)+v*(a*d-i*f),t[6]=-(n*(u*M-c*p)-o*(a*M-i*p)+v*(a*c-i*u)),t[7]=n*(u*d-c*f)-o*(a*d-i*f)+h*(a*c-i*u),t[8]=o*(l*M-d*m)-h*(s*M-c*m)+v*(s*d-c*l),t[9]=-(n*(l*M-d*m)-h*(r*M-i*m)+v*(r*d-i*l)),t[10]=n*(s*M-c*m)-o*(r*M-i*m)+v*(r*c-i*s),t[11]=-(n*(s*d-c*l)-o*(r*d-i*l)+h*(r*c-i*s)),t[12]=-(o*(l*p-f*m)-h*(s*p-u*m)+v*(s*f-u*l)),t[13]=n*(l*p-f*m)-h*(r*p-a*m)+v*(r*f-a*l),t[14]=-(n*(s*p-u*m)-o*(r*p-a*m)+v*(r*u-a*s)),t[15]=n*(s*f-u*l)-o*(r*f-a*l)+h*(r*u-a*s),t}function f(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],h=t[9],l=t[10],f=t[11],d=t[12],v=t[13],m=t[14],p=t[15];return(e*o-n*i)*(l*p-f*m)-(e*s-r*i)*(h*p-f*v)+(e*u-a*i)*(h*m-l*v)+(n*s-r*o)*(c*p-f*d)-(n*u-a*o)*(c*m-l*d)+(r*u-a*s)*(c*v-h*d)}function d(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=e[9],d=e[10],v=e[11],m=e[12],p=e[13],M=e[14],g=e[15],y=n[0],b=n[1],_=n[2],x=n[3];return t[0]=y*r+b*s+_*l+x*m,t[1]=y*a+b*u+_*f+x*p,t[2]=y*i+b*c+_*d+x*M,t[3]=y*o+b*h+_*v+x*g,y=n[4],b=n[5],_=n[6],x=n[7],t[4]=y*r+b*s+_*l+x*m,t[5]=y*a+b*u+_*f+x*p,t[6]=y*i+b*c+_*d+x*M,t[7]=y*o+b*h+_*v+x*g,y=n[8],b=n[9],_=n[10],x=n[11],t[8]=y*r+b*s+_*l+x*m,t[9]=y*a+b*u+_*f+x*p,t[10]=y*i+b*c+_*d+x*M,t[11]=y*o+b*h+_*v+x*g,y=n[12],b=n[13],_=n[14],x=n[15],t[12]=y*r+b*s+_*l+x*m,t[13]=y*a+b*u+_*f+x*p,t[14]=y*i+b*c+_*d+x*M,t[15]=y*o+b*h+_*v+x*g,t}function v(t,e,n){var r=n[0],a=n[1],i=n[2],o=void 0,s=void 0,u=void 0,c=void 0,h=void 0,l=void 0,f=void 0,d=void 0,v=void 0,m=void 0,p=void 0,M=void 0;return e===t?(t[12]=e[0]*r+e[4]*a+e[8]*i+e[12],t[13]=e[1]*r+e[5]*a+e[9]*i+e[13],t[14]=e[2]*r+e[6]*a+e[10]*i+e[14],t[15]=e[3]*r+e[7]*a+e[11]*i+e[15]):(o=e[0],s=e[1],u=e[2],c=e[3],h=e[4],l=e[5],f=e[6],d=e[7],v=e[8],m=e[9],p=e[10],M=e[11],t[0]=o,t[1]=s,t[2]=u,t[3]=c,t[4]=h,t[5]=l,t[6]=f,t[7]=d,t[8]=v,t[9]=m,t[10]=p,t[11]=M,t[12]=o*r+h*a+v*i+e[12],t[13]=s*r+l*a+m*i+e[13],t[14]=u*r+f*a+p*i+e[14],t[15]=c*r+d*a+M*i+e[15]),t}function m(t,e,n){var r=n[0],a=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function p(t,e,n,r){var a=r[0],i=r[1],o=r[2],s=Math.sqrt(a*a+i*i+o*o),u=void 0,c=void 0,h=void 0,l=void 0,f=void 0,d=void 0,v=void 0,m=void 0,p=void 0,M=void 0,g=void 0,y=void 0,b=void 0,_=void 0,x=void 0,w=void 0,E=void 0,P=void 0,A=void 0,T=void 0,O=void 0,S=void 0,L=void 0,R=void 0;return Math.abs(s)<W.EPSILON?null:(s=1/s,a*=s,i*=s,o*=s,u=Math.sin(n),c=Math.cos(n),h=1-c,l=e[0],f=e[1],d=e[2],v=e[3],m=e[4],p=e[5],M=e[6],g=e[7],y=e[8],b=e[9],_=e[10],x=e[11],w=a*a*h+c,E=i*a*h+o*u,P=o*a*h-i*u,A=a*i*h-o*u,T=i*i*h+c,O=o*i*h+a*u,S=a*o*h+i*u,L=i*o*h-a*u,R=o*o*h+c,t[0]=l*w+m*E+y*P,t[1]=f*w+p*E+b*P,t[2]=d*w+M*E+_*P,t[3]=v*w+g*E+x*P,t[4]=l*A+m*T+y*O,t[5]=f*A+p*T+b*O,t[6]=d*A+M*T+_*O,t[7]=v*A+g*T+x*O,t[8]=l*S+m*L+y*R,t[9]=f*S+p*L+b*R,t[10]=d*S+M*L+_*R,t[11]=v*S+g*L+x*R,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function M(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],h=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*r,t[5]=o*a+h*r,t[6]=s*a+l*r,t[7]=u*a+f*r,t[8]=c*a-i*r,t[9]=h*a-o*r,t[10]=l*a-s*r,t[11]=f*a-u*r,t}function g(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],u=e[3],c=e[8],h=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*r,t[1]=o*a-h*r,t[2]=s*a-l*r,t[3]=u*a-f*r,t[8]=i*r+c*a,t[9]=o*r+h*a,t[10]=s*r+l*a,t[11]=u*r+f*a,t}function y(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],u=e[3],c=e[4],h=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*r,t[1]=o*a+h*r,t[2]=s*a+l*r,t[3]=u*a+f*r,t[4]=c*a-i*r,t[5]=h*a-o*r,t[6]=l*a-s*r,t[7]=f*a-u*r,t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function _(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,e,n){var r=n[0],a=n[1],i=n[2],o=Math.sqrt(r*r+a*a+i*i),s=void 0,u=void 0,c=void 0;return Math.abs(o)<W.EPSILON?null:(o=1/o,r*=o,a*=o,i*=o,s=Math.sin(e),u=Math.cos(e),c=1-u,t[0]=r*r*c+u,t[1]=a*r*c+i*s,t[2]=i*r*c-a*s,t[3]=0,t[4]=r*a*c-i*s,t[5]=a*a*c+u,t[6]=i*a*c+r*s,t[7]=0,t[8]=r*i*c+a*s,t[9]=a*i*c-r*s,t[10]=i*i*c+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function w(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=r+r,u=a+a,c=i+i,h=r*s,l=r*u,f=r*c,d=a*u,v=a*c,m=i*c,p=o*s,M=o*u,g=o*c;return t[0]=1-(d+m),t[1]=l+g,t[2]=f-M,t[3]=0,t[4]=l-g,t[5]=1-(h+m),t[6]=v+p,t[7]=0,t[8]=f+M,t[9]=v-p,t[10]=1-(h+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function T(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function O(t,e){var n=e[0],r=e[1],a=e[2],i=e[4],o=e[5],s=e[6],u=e[8],c=e[9],h=e[10];return t[0]=Math.sqrt(n*n+r*r+a*a),t[1]=Math.sqrt(i*i+o*o+s*s),t[2]=Math.sqrt(u*u+c*c+h*h),t}function S(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function L(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=e[3],u=a+a,c=i+i,h=o+o,l=a*u,f=a*c,d=a*h,v=i*c,m=i*h,p=o*h,M=s*u,g=s*c,y=s*h,b=r[0],_=r[1],x=r[2];return t[0]=(1-(v+p))*b,t[1]=(f+y)*b,t[2]=(d-g)*b,t[3]=0,t[4]=(f-y)*_,t[5]=(1-(l+p))*_,t[6]=(m+M)*_,t[7]=0,t[8]=(d+g)*x,t[9]=(m-M)*x,t[10]=(1-(l+v))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function R(t,e,n,r,a){var i=e[0],o=e[1],s=e[2],u=e[3],c=i+i,h=o+o,l=s+s,f=i*c,d=i*h,v=i*l,m=o*h,p=o*l,M=s*l,g=u*c,y=u*h,b=u*l,_=r[0],x=r[1],w=r[2],E=a[0],P=a[1],A=a[2];return t[0]=(1-(m+M))*_,t[1]=(d+b)*_,t[2]=(v-y)*_,t[3]=0,t[4]=(d-b)*x,t[5]=(1-(f+M))*x,t[6]=(p+g)*x,t[7]=0,t[8]=(v+y)*w,t[9]=(p-g)*w,t[10]=(1-(f+m))*w,t[11]=0,t[12]=n[0]+E-(t[0]*E+t[4]*P+t[8]*A),t[13]=n[1]+P-(t[1]*E+t[5]*P+t[9]*A),t[14]=n[2]+A-(t[2]*E+t[6]*P+t[10]*A),t[15]=1,t}function N(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,u=a+a,c=n*o,h=r*o,l=r*s,f=a*o,d=a*s,v=a*u,m=i*o,p=i*s,M=i*u;return t[0]=1-l-v,t[1]=h+M,t[2]=f-p,t[3]=0,t[4]=h-M,t[5]=1-c-v,t[6]=d+m,t[7]=0,t[8]=f+p,t[9]=d-m,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e,n,r,a,i,o){var s=1/(n-e),u=1/(a-r),c=1/(i-o);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(a+r)*u,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t}function D(t,e,n,r,a){var i=1/Math.tan(e/2),o=1/(r-a);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*r*o,t[15]=0,t}function k(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(a-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function q(t,e,n,r,a,i,o){var s=1/(e-n),u=1/(r-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(a+r)*u,t[14]=(o+i)*c,t[15]=1,t}function Y(t,e,n,r){var a=void 0,i=void 0,o=void 0,s=void 0,u=void 0,c=void 0,h=void 0,l=void 0,f=void 0,d=void 0,v=e[0],m=e[1],p=e[2],M=r[0],g=r[1],y=r[2],b=n[0],_=n[1],x=n[2];return Math.abs(v-b)<W.EPSILON&&Math.abs(m-_)<W.EPSILON&&Math.abs(p-x)<W.EPSILON?mat4.identity(t):(h=v-b,l=m-_,f=p-x,d=1/Math.sqrt(h*h+l*l+f*f),h*=d,l*=d,f*=d,a=g*f-y*l,i=y*h-M*f,o=M*l-g*h,d=Math.sqrt(a*a+i*i+o*o),d?(d=1/d,a*=d,i*=d,o*=d):(a=0,i=0,o=0),s=l*o-f*i,u=f*a-h*o,c=h*i-l*a,d=Math.sqrt(s*s+u*u+c*c),d?(d=1/d,s*=d,u*=d,c*=d):(s=0,u=0,c=0),t[0]=a,t[1]=s,t[2]=h,t[3]=0,t[4]=i,t[5]=u,t[6]=l,t[7]=0,t[8]=o,t[9]=c,t[10]=f,t[11]=0,t[12]=-(a*v+i*m+o*p),t[13]=-(s*v+u*m+c*p),t[14]=-(h*v+l*m+f*p),t[15]=1,t)}function j(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=r[0],u=r[1],c=r[2],h=a-n[0],l=i-n[1],f=o-n[2],d=h*h+l*l+f*f;d>0&&(d=1/Math.sqrt(d),h*=d,l*=d,f*=d);var v=u*f-c*l,m=c*h-s*f,p=s*l-u*h;return t[0]=v,t[1]=m,t[2]=p,t[3]=0,t[4]=l*p-f*m,t[5]=f*v-h*p,t[6]=h*m-l*v,t[7]=0,t[8]=h,t[9]=l,t[10]=f,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t}function F(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function C(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function U(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function z(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function B(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function X(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function V(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function G(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=t[9],f=t[10],d=t[11],v=t[12],m=t[13],p=t[14],M=t[15],g=e[0],y=e[1],b=e[2],_=e[3],x=e[4],w=e[5],E=e[6],P=e[7],A=e[8],T=e[9],O=e[10],S=e[11],L=e[12],R=e[13],N=e[14],I=e[15];return Math.abs(n-g)<=W.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-y)<=W.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(a-b)<=W.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(i-_)<=W.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-x)<=W.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(s-w)<=W.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-E)<=W.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-P)<=W.EPSILON*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(h-A)<=W.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(l-T)<=W.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(f-O)<=W.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(d-S)<=W.EPSILON*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(v-L)<=W.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(m-R)<=W.EPSILON*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(p-N)<=W.EPSILON*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(M-I)<=W.EPSILON*Math.max(1,Math.abs(M),Math.abs(I))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=r,e.clone=a,e.copy=i,e.fromValues=o,e.set=s,e.identity=u,e.transpose=c,e.invert=h,e.adjoint=l,e.determinant=f,e.multiply=d,e.translate=v,e.scale=m,e.rotate=p,e.rotateX=M,e.rotateY=g,e.rotateZ=y,e.fromTranslation=b,e.fromScaling=_,e.fromRotation=x,e.fromXRotation=w,e.fromYRotation=E,e.fromZRotation=P,e.fromRotationTranslation=A,e.getTranslation=T,e.getScaling=O,e.getRotation=S,e.fromRotationTranslationScale=L,e.fromRotationTranslationScaleOrigin=R,e.fromQuat=N,e.frustum=I,e.perspective=D,e.perspectiveFromFieldOfView=k,e.ortho=q,e.lookAt=Y,e.targetTo=j,e.str=F,e.frob=C,e.add=U,e.subtract=z,e.multiplyScalar=B,e.multiplyScalarAndAdd=X,e.exactEquals=V,e.equals=G;var H=n(0),W=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(H);e.mul=d,e.sub=z},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(){var t=new b.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function i(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function o(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function s(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function u(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[0],u=n[1],c=n[2],h=n[3];return t[0]=r*h+o*s+a*c-i*u,t[1]=a*h+o*u+i*s-r*c,t[2]=i*h+o*c+r*u-a*s,t[3]=o*h-r*s-a*u-i*c,t}function c(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=a*u+i*s,t[2]=i*u-a*s,t[3]=o*u-r*s,t}function h(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-i*s,t[1]=a*u+o*s,t[2]=i*u+r*s,t[3]=o*u-a*s,t}function l(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=a*u-r*s,t[2]=i*u+o*s,t[3]=o*u-i*s,t}function f(t,e){var n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t}function d(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=e[3],u=n[0],c=n[1],h=n[2],l=n[3],f=void 0,d=void 0,v=void 0,m=void 0,p=void 0;return d=a*u+i*c+o*h+s*l,d<0&&(d=-d,u=-u,c=-c,h=-h,l=-l),1-d>1e-6?(f=Math.acos(d),v=Math.sin(f),m=Math.sin((1-r)*f)/v,p=Math.sin(r*f)/v):(m=1-r,p=r),t[0]=m*a+p*u,t[1]=m*i+p*c,t[2]=m*o+p*h,t[3]=m*s+p*l,t}function v(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*n+r*r+a*a+i*i,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-a*s,t[3]=i*s,t}function m(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function p(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*o+o]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*i+o]-e[3*o+i])*r,t[i]=(e[3*i+a]+e[3*a+i])*r,t[o]=(e[3*o+a]+e[3*a+o])*r}return t}function M(t,e,n,r){var a=.5*Math.PI/180;e*=a,n*=a,r*=a;var i=Math.sin(e),o=Math.cos(e),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),h=Math.cos(r);return t[0]=i*u*h-o*s*c,t[1]=o*s*h+i*u*c,t[2]=o*u*c-i*s*h,t[3]=o*u*h+i*s*c,t}function g(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=a,e.identity=i,e.setAxisAngle=o,e.getAxisAngle=s,e.multiply=u,e.rotateX=c,e.rotateY=h,e.rotateZ=l,e.calculateW=f,e.slerp=d,e.invert=v,e.conjugate=m,e.fromMat3=p,e.fromEuler=M,e.str=g;var y=n(0),b=r(y),_=n(8),x=r(_),w=n(9),E=r(w),P=n(10),A=r(P),T=(e.clone=A.clone,e.fromValues=A.fromValues,e.copy=A.copy,e.set=A.set,e.add=A.add,e.mul=u,e.scale=A.scale,e.dot=A.dot,e.lerp=A.lerp,e.length=A.length),O=(e.len=T,e.squaredLength=A.squaredLength),S=(e.sqrLen=O,e.normalize=A.normalize);e.exactEquals=A.exactEquals,e.equals=A.equals,e.rotationTo=function(){var t=E.create(),e=E.fromValues(1,0,0),n=E.fromValues(0,1,0);return function(r,a,i){var s=E.dot(a,i);return s<-.999999?(E.cross(t,e,a),E.len(t)<1e-6&&E.cross(t,n,a),E.normalize(t,t),o(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(E.cross(t,a,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,S(r,r))}}(),e.sqlerp=function(){var t=a(),e=a();return function(n,r,a,i,o,s){return d(t,r,o,s),d(e,a,i,s),d(n,t,e,2*s*(1-s)),n}}(),e.setAxes=function(){var t=x.create();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],S(e,p(e,t))}}()},function(t,e,n){"use strict";function r(){var t=new j.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function a(t){var e=new j.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function i(t,e){var n=new j.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function o(t,e){return t[0]=e[0],t[1]=e[1],t}function s(t,e,n){return t[0]=e,t[1]=n,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function p(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function M(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function g(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function y(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function _(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function x(t){var e=t[0],n=t[1];return e*e+n*n}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function P(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t}function A(t,e){return t[0]*e[0]+t[1]*e[1]}function T(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function O(t,e,n,r){var a=e[0],i=e[1];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t}function S(t,e){e=e||1;var n=2*j.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function L(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t}function R(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t}function N(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t}function I(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t}function D(t){return"vec2("+t[0]+", "+t[1]+")"}function k(t,e){return t[0]===e[0]&&t[1]===e[1]}function q(t,e){var n=t[0],r=t[1],a=e[0],i=e[1];return Math.abs(n-a)<=j.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-i)<=j.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=a,e.fromValues=i,e.copy=o,e.set=s,e.add=u,e.subtract=c,e.multiply=h,e.divide=l,e.ceil=f,e.floor=d,e.min=v,e.max=m,e.round=p,e.scale=M,e.scaleAndAdd=g,e.distance=y,e.squaredDistance=b,e.length=_,e.squaredLength=x,e.negate=w,e.inverse=E,e.normalize=P,e.dot=A,e.cross=T,e.lerp=O,e.random=S,e.transformMat2=L,e.transformMat2d=R,e.transformMat3=N,e.transformMat4=I,e.str=D,e.exactEquals=k,e.equals=q;var Y=n(0),j=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(Y);e.len=_,e.sub=c,e.mul=h,e.div=l,e.dist=y,e.sqrDist=b,e.sqrLen=x,e.forEach=function(){var t=r();return function(e,n,r,a,i,o){var s=void 0,u=void 0;for(n||(n=2),r||(r=0),u=a?Math.min(a*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],i(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=function(t){function e(t,n){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.container=t,i.camera=n,i}return i(e,t),e}(o.EventEmitter);e.default=s},function(t,e,n){"use strict";function r(t){if(void 0!==t.offsetX)return t.offsetX;if(void 0!==t.layerX)return t.layerX;if(void 0!==t.clientX)return t.clientX;throw new Error("sigma/captors/utils.getX: could not extract x from event.")}function a(t){if(void 0!==t.offsetY)return t.offsetY;if(void 0!==t.layerY)return t.layerY;if(void 0!==t.clientY)return t.clientY;throw new Error("sigma/captors/utils.getY: could not extract y from event.")}function i(t){var e=t.target.ownerSVGElement?t.target.ownerSVGElement.width:t.target.width;if("number"==typeof e)return e;if(void 0!==e&&void 0!==e.baseVal)return e.baseVal.value;throw new Error("sigma/captors/utils.getWidth: could not extract width from event.")}function o(t){var e=t.target.ownerSVGElement?t.target.ownerSVGElement.height:t.target.height;if("number"==typeof e)return e;if(void 0!==e&&void 0!==e.baseVal)return e.baseVal.value;throw new Error("sigma/captors/utils.getHeight: could not extract height from event.")}function s(t){var e=-1!==t.target.namespaceURI.indexOf("svg")?1:(0,l.getPixelRatio)();return{x:i(t)/(2*e),y:o(t)/(2*e)}}function u(t){return{x:r(t),y:a(t),clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,shiftKey:t.shiftKey}}function c(t){if(void 0!==h(t.wheelDelta))return t.wheelDelta;if(void 0!==h(t.detail))return-t.detail;throw new Error("sigma/captors/utils.getDelta: could not extract delta from event.")}Object.defineProperty(e,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getX=r,e.getY=a,e.getWidth=i,e.getHeight=o,e.getCenter=s,e.getMouseCoords=u,e.getWheelDelta=c;var l=n(12)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.linear=function(t){return t},e.quadraticIn=function(t){return t*t},e.quadraticOut=function(t){return t*(2-t)},e.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},e.cubicIn=function(t){return t*t*t},e.cubicOut=function(t){return--t*t*t+1},e.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var a=n(16),i=r(a),o=n(1),s=r(o),u=n(4),c=r(u),h=n(6),l=r(h),f=n(5),d=r(f),v=n(15),m=r(v),p={Sigma:i.default,Renderer:s.default,Camera:c.default,QuadTree:l.default,MouseCaptor:d.default,WebGLRenderer:m.default};for(var M in p)i.default[M]=p[M];t.exports=i.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){t.font="14px arial",t.beginPath(),t.fillStyle="#fff",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=8,t.shadowColor="#000";var n=t.measureText(e.label).width,r=Math.round(e.x-7-2),a=Math.round(e.y-7-2),i=Math.round(n+7+e.size+9),s=Math.round(18),c=Math.round(9);t.moveTo(r,a+c),t.moveTo(r,a+c),t.arcTo(r,a,r+c,a,c),t.lineTo(r+i,a),t.lineTo(r+i,a+s),t.lineTo(r+c,a+s),t.arcTo(r,a+s,r,a+s-c,c),t.lineTo(r,a+c),t.closePath(),t.fill(),t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,(0,o.default)(t,e),(0,u.default)(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=n(27),o=r(i),s=n(11),u=r(s)},function(t,e,n){"use strict";function r(t,e){t.fillStyle=e.color,t.beginPath(),t.arc(e.x,e.y,e.size,0,a,!0),t.closePath(),t.fill()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=2*Math.PI},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(13),c=r(u),h=n(2),l=n(33),f=r(l),d=n(32),v=r(d),m=function(t){function e(t){a(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,f.default,v.default));return n.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n.buffer),n.indicesBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indicesBuffer),n.positionLocation=t.getAttribLocation(n.program,"a_position"),n.normalLocation=t.getAttribLocation(n.program,"a_normal"),n.thicknessLocation=t.getAttribLocation(n.program,"a_thickness"),n.colorLocation=t.getAttribLocation(n.program,"a_color"),n.resolutionLocation=t.getUniformLocation(n.program,"u_resolution"),n.ratioLocation=t.getUniformLocation(n.program,"u_ratio"),n.matrixLocation=t.getUniformLocation(n.program,"u_matrix"),t.enableVertexAttribArray(n.positionLocation),t.enableVertexAttribArray(n.normalLocation),t.enableVertexAttribArray(n.thicknessLocation),t.enableVertexAttribArray(n.colorLocation),t.vertexAttribPointer(n.positionLocation,2,t.FLOAT,!1,e.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(n.normalLocation,2,t.FLOAT,!1,e.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(n.thicknessLocation,1,t.FLOAT,!1,e.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(n.colorLocation,1,t.FLOAT,!1,e.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),n}return o(e,t),s(e,[{key:"process",value:function(t,n,r,a,i){if(n.hidden||r.hidden||a.hidden)for(var o=i+e.POINTS*e.ATTRIBUTES;i<o;i++)t[i]=0;var s=a.size||1,u=n.x,c=n.y,l=r.x,f=r.y,d=(0,h.floatColor)(a.color),v=l-u,m=f-c,p=v*v+m*m,M=0,g=0;p&&(p=1/Math.sqrt(p),M=-m*p,g=v*p),t[i++]=u,t[i++]=c,t[i++]=M,t[i++]=g,t[i++]=s,t[i++]=d,t[i++]=u,t[i++]=c,t[i++]=-M,t[i++]=-g,t[i++]=s,t[i++]=d,t[i++]=l,t[i++]=f,t[i++]=M,t[i++]=g,t[i++]=s,t[i++]=d,t[i++]=l,t[i++]=f,t[i++]=-M,t[i++]=-g,t[i++]=s,t[i++]=d}},{key:"computeIndices",value:function(t){for(var n=t.length/e.ATTRIBUTES,r=n+n/2,a=new Uint16Array(r),i=0,o=0;i<r;i+=4)a[o++]=i,a[o++]=i+1,a[o++]=i+2,a[o++]=i+2,a[o++]=i+1,a[o++]=i+3;return a}},{key:"render",value:function(t,e,n){var r=this.program;t.useProgram(r),t.bufferData(t.ARRAY_BUFFER,e,t.DYNAMIC_DRAW),t.uniform2f(this.resolutionLocation,n.width,n.height),t.uniform1f(this.ratioLocation,n.ratio/Math.pow(n.ratio,n.edgesPowRatio)),t.uniformMatrix3fv(this.matrixLocation,!1,n.matrix),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n.indices,t.STATIC_DRAW),t.drawElements(t.TRIANGLES,n.indices.length,t.UNSIGNED_SHORT,0)}}]),e}(c.default);e.default=m,m.POINTS=4,m.ATTRIBUTES=6},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(13),c=r(u),h=n(2),l=n(35),f=r(l),d=n(34),v=r(d),m=2*Math.PI/3,p=4*Math.PI/3,M=function(t){function e(t){a(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,f.default,v.default));return n.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n.buffer),n.positionLocation=t.getAttribLocation(n.program,"a_position"),n.sizeLocation=t.getAttribLocation(n.program,"a_size"),n.colorLocation=t.getAttribLocation(n.program,"a_color"),n.angleLocation=t.getAttribLocation(n.program,"a_angle"),n.resolutionLocation=t.getUniformLocation(n.program,"u_resolution"),n.matrixLocation=t.getUniformLocation(n.program,"u_matrix"),n.ratioLocation=t.getUniformLocation(n.program,"u_ratio"),n.scaleLocation=t.getUniformLocation(n.program,"u_scale"),t.enableVertexAttribArray(n.positionLocation),t.enableVertexAttribArray(n.sizeLocation),t.enableVertexAttribArray(n.colorLocation),t.enableVertexAttribArray(n.angleLocation),t.vertexAttribPointer(n.positionLocation,2,t.FLOAT,!1,e.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(n.sizeLocation,1,t.FLOAT,!1,e.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(n.colorLocation,1,t.FLOAT,!1,e.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.vertexAttribPointer(n.angleLocation,1,t.FLOAT,!1,e.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),n}return o(e,t),s(e,[{key:"process",value:function(t,e,n){var r=(0,h.floatColor)(e.color);t[n++]=e.x,t[n++]=e.y,t[n++]=e.size,t[n++]=r,t[n++]=0,t[n++]=e.x,t[n++]=e.y,t[n++]=e.size,t[n++]=r,t[n++]=m,t[n++]=e.x,t[n++]=e.y,t[n++]=e.size,t[n++]=r,t[n++]=p}},{key:"render",value:function(t,n,r){var a=this.program;t.useProgram(a),t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),t.uniform2f(this.resolutionLocation,r.width,r.height),t.uniform1f(this.ratioLocation,1/Math.pow(r.ratio,r.nodesPowRatio)),t.uniform1f(this.scaleLocation,r.scalingRatio),t.uniformMatrix3fv(this.matrixLocation,!1,r.matrix),t.drawArrays(t.TRIANGLES,0,n.length/e.ATTRIBUTES)}}]),e}(c.default);e.default=M,M.POINTS=3,M.ATTRIBUTES=5},function(t,e,n){"use strict";function r(t,e,n){var r="VERTEX"===t?e.VERTEX_SHADER:e.FRAGMENT_SHADER,a=e.createShader(r);if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(a);throw e.deleteShader(a),new Error("sigma/renderers/weblg/shaders/utils.loadShader: error while compiling the shader:\n"+i+"\n"+n)}return a}function a(t,e){var n=t.createProgram(),r=void 0,a=void 0;for(r=0,a=e.length;r<a;r++)t.attachShader(n,e[r]);if(t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw t.deleteProgram(n),new Error("sigma/renderers/weblg/shaders/utils.loadProgram: error while linking the program.");return n}Object.defineProperty(e,"__esModule",{value:!0}),e.loadProgram=a;var i=r.bind(null,"VERTEX"),o=r.bind(null,"FRAGMENT");e.loadVertexShader=i,e.loadFragmentShader=o},function(t,e){t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNodes&&"boolean"==typeof t.multi}},function(t,e){t.exports="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nvoid main(void) {\n  float feather = 0.5;\n  vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\n\n  float radius = v_thickness;\n\n  float dist = length(v_normal) * (radius + feather);\n\n  float t = smoothstep(\n    radius + feather,\n    radius - feather,\n    dist\n  );\n\n  gl_FragColor = mix(color0, v_color, t);\n}\n"},function(t,e){t.exports="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_thickness;\nattribute float a_color;\n\nuniform vec2 u_resolution;\nuniform float u_ratio;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nvoid main() {\n\n  float feather = 0.5 * 2.0;\n\n  // Scale from [[-1 1] [-1 1]] to the container:\n  vec2 delta = vec2(a_normal * (a_thickness + feather) / 2.0);\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n  position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);\n\n  // Applying\n  gl_Position = vec4(position, 0, 1);\n\n  v_normal = a_normal;\n  v_thickness = (a_thickness / 2.0) * (1.0 / u_ratio);\n\n  // Extract the color:\n  float c = a_color;\n  v_color.b = mod(c, 256.0); c = floor(c / 256.0);\n  v_color.g = mod(c, 256.0); c = floor(c / 256.0);\n  v_color.r = mod(c, 256.0); c = floor(c / 256.0); v_color /= 255.0;\n  v_color.a = 1.0;\n}\n"},function(t,e){t.exports="precision mediump float;\n\nvarying vec4 color;\nvarying vec2 center;\nvarying float radius;\n\nvoid main(void) {\n  float border_size = 0.8;\n  vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\n\n  vec2 m = gl_FragCoord.xy - center;\n  float dist = sqrt(m.x * m.x + m.y * m.y);\n  float t = smoothstep(\n    radius + border_size,\n    radius - border_size,\n    dist\n  );\n\n  // Here is how we draw a disc instead of a square:\n  gl_FragColor = mix(color0, color, t);\n}\n"},function(t,e){t.exports="attribute vec2 a_position;\nattribute float a_size;\nattribute float a_color;\nattribute float a_angle;\n\nuniform vec2 u_resolution;\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 color;\nvarying vec2 center;\nvarying float radius;\n\nvoid main() {\n  // Multiply the point size twice:\n  radius = a_size * u_ratio;\n\n  // Scale from [[-1 1] [-1 1]] to the container:\n  vec2 position = (u_matrix * vec3(a_position, 1)).xy;\n  // center = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);\n  center = position * u_scale;\n  center = vec2(center.x, u_scale * u_resolution.y - center.y);\n\n  position = position +\n    2.0 * radius * vec2(cos(a_angle), sin(a_angle));\n  position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);\n\n  radius = radius * u_scale;\n\n  gl_Position = vec4(position, 0, 1);\n\n  // Extract the color:\n  float c = a_color;\n  color.b = mod(c, 256.0); c = floor(c / 256.0);\n  color.g = mod(c, 256.0); c = floor(c / 256.0);\n  color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;\n  color.a = 1.0;\n}\n"}])});