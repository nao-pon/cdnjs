"undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=require("opal-runtime").Opal),"undefined"==typeof Opal&&(function(t){var e,n,r,i,s,$,a=this;if("undefined"!=typeof global&&(a=global),"undefined"!=typeof window&&(a=window),"log"in(e="object"==typeof a.console?a.console:null==a.console?a.console={}:{})||(e.log=function(){}),"warn"in e||(e.warn=e.log),void 0!==this.Opal)return e.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;function o(){}function l(){}function c(){}function _(){}function u(){}var d=this.Opal={},h={};d.global=a,a.Opal=d,d.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var f=Object.hasOwnProperty,p=(d.slice=Array.prototype.slice,4);function g(t,e){if(t)return t.$$const[e]}function v(t,e){var n,r,i;if(null!=t)for(n=0,r=(i=d.ancestors(t)).length;n<r;n++)if(i[n].$$const&&f.call(i[n].$$const,e))return i[n].$$const[e]}function m(t,e,n){if(!n)return(t||i).$const_missing(e)}function y(t,e){var n,r,i=e.$instance_methods();for(n=i.length-1;n>=0;n--)r="$"+i[n],d.bridge_method(t,e,r,e.$$proto[r])}d.uid=function(){return p+=2},d.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=d.uid())},d.gvars={},d.exit=function(t){d.gvars.DEBUG&&e.log("Exited with status "+t)},d.exceptions=[],d.pop_exception=function(){d.gvars["!"]=d.exceptions.pop()||n},d.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},d.truthy=function(t){return t!==n&&null!=t&&(!t.$$is_boolean||1==t)},d.falsy=function(t){return t===n||null==t||t.$$is_boolean&&0==t},d.const_get_local=function(t,e,n){var r;if(null!=t){if("::"===t&&(t=i),!t.$$is_a_module)throw new d.TypeError(t.toString()+" is not a class/module");return null!=(r=g(t,e))?r:null!=(r=m(t,e,n))?r:void 0}},d.const_get_qualified=function(t,e,n){var r,s,$,a=d.const_cache_version;if(null!=t){if("::"===t&&(t=i),!t.$$is_a_module)throw new d.TypeError(t.toString()+" is not a class/module");return null==(s=t.$$const_cache)&&(s=t.$$const_cache=Object.create(null)),null==($=s[e])||$[0]!==a?(null!=(r=g(t,e))||(r=v(t,e)),s[e]=[a,r]):r=$[1],null!=r?r:m(t,e,n)}},d.const_cache_version=1,d.const_get_relative=function(t,e,n){var r,s,$,a=t[0],o=d.const_cache_version;return null==(s=t.$$const_cache)&&(s=t.$$const_cache=Object.create(null)),null==($=s[e])||$[0]!==o?(null!=(r=g(a,e))||null!=(r=function(t,e){var n,r,i;if(0!==t.length)for(n=0,r=t.length;n<r;n++)if(null!=(i=t[n].$$const[e]))return i}(t,e))||null!=(r=v(a,e))||(r=function(t,e){if(null==t||t.$$is_module)return v(i,e)}(a,e)),s[e]=[o,r]):r=$[1],null!=r?r:m(a,e,n)},d.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=i),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==n||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,d.const_cache_version++,t===i&&(d[e]=r),r},d.constants=function(t,e){null==e&&(e=!0);var n,r,s,$,a=[t],o={};for(e&&(a=a.concat(d.ancestors(t))),e&&t.$$is_module&&(a=a.concat([d.Object]).concat(d.ancestors(d.Object))),r=0,s=a.length;r<s&&(n=a[r],t===i||n!=i);r++)for($ in n.$$const)o[$]=!0;return Object.keys(o)},d.const_remove=function(t,e){if(d.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],n;throw d.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},d.klass=function(t,e,n,r){var s,$,a;if(null==t&&(t=i),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&($=e,e=i),s=g(t,n)){if(!s.$$is_class)throw d.TypeError.$new(n+" is not a class");if(e&&s.$$super!==e)throw d.TypeError.$new("superclass mismatch for class "+n);return s}return null==e&&(e=i),a=$||d.boot_class_alloc(n,r,e),(s=d.setup_class_object(n,a,e.$$name,e.constructor)).$$super=e,s.$$parent=e,d.const_set(t,n,s),t[n]=s,$?d.bridge(s,a):e.$inherited&&e.$inherited(s),s},d.boot_class_alloc=function(t,e,n){if(n){var r=function(){};r.prototype=n.$$proto||n.prototype,e.prototype=new r}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e,e},d.setup_module_or_class=function(t){t.$$id=d.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=n,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},d.setup_class_object=function(t,e,r,i){var s=function(){};s.prototype=i.prototype,s.displayName=r;var a=function(){};a.prototype=new s;var o=new a;return d.setup_module_or_class(o),o.$$alloc=e,o.$$name=t||n,a.displayName="#<Class:"+(t||"#<Class:"+o.$$id+">")+">",o.$$proto=e.prototype,o.$$proto.$$class=o,o.constructor=a,o.$$is_class=!0,o.$$class=$,o},d.module=function(t,e){var n;if(null==t&&(t=i),t.$$is_class||t.$$is_module||(t=t.$$class),null==(n=g(t,e))&&t===i&&(n=v(i,e)),n){if(!n.$$is_module&&n!==i)throw d.TypeError.$new(e+" is not a module")}else n=d.module_allocate(s),d.const_set(t,e,n);return n},d.module_initialize=function(t,e){if(e!==n){var r=e.$$s;e.$$s=null,e.call(t),e.$$s=r}return n},d.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var n=function(){};n.prototype=new e;var r=new n;return d.setup_module_or_class(r),r.$$included_in=[],n.displayName="#<Class:#<Module:"+r.$$id+">>",r.$$proto={},r.constructor=n,r.$$is_module=!0,r.$$class=s,r.$$super=t,r.$$parent=t,r},d.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?d.build_class_singleton_class(t):d.build_object_singleton_class(t)},d.build_class_singleton_class=function(t){var e,n,i;return t.$$meta?t.$$meta:(e=t.constructor,n=t===r?$:d.build_class_singleton_class(t.$$super),(i=d.setup_class_object(null,e,n.$$name,n.constructor)).$$super=n,i.$$parent=n,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i)},d.build_object_singleton_class=function(t){var e=t.$$class,n="#<Class:#<"+e.$$name+":"+e.$$id+">>",r=d.boot_class_alloc(n,function(){},e),i=d.setup_class_object(n,r,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i},d.class_variables=function(t){var e,n=d.ancestors(t),r={};for(e=n.length-1;e>=0;e--){var i=n[e];for(var s in i.$$cvars)r[s]=i.$$cvars[s]}return r},d.class_variable_set=function(t,e,n){var r,i=d.ancestors(t);for(r=i.length-2;r>=0;r--){var s=i[r];if(f.call(s.$$cvars,e))return s.$$cvars[e]=n,n}return t.$$cvars[e]=n,n},d.bridge_method=function(t,e,n,r){var i,s,$,a;for(s=0,a=(i=t.$$bridge.$ancestors()).length;s<a&&($=i[s],!f.call($.$$proto,n)||!$.$$proto[n]||$.$$proto[n].$$donated||$.$$proto[n].$$stub||$===e);s++)if($===e){t.prototype[n]=r;break}},d.bridge_methods=function(t,e){var n,r=h[t.$__id__()],i=e.$__id__();if(r)for(h[i]=r.slice(),n=r.length-1;n>=0;n--)y(r[n],e)},d.has_cyclic_dep=function t(e,n,r,i){var s,$,a;for(s=n.length-1;s>=0;s--)if(!i[$=(a=n[s]).$$id]){if(i[$]=!0,$===e)return!0;if(t(e,a[r],r,i))return!0}return!1},d.append_features=function(t,e){var n,r,i;for(i=e.$$inc.length-1;i>=0;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&d.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw d.ArgumentError.$new("cyclic include detected");for(d.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),d.bridge_methods(e,t),n={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=n,i=(r=t.$instance_methods()).length-1;i>=0;i--)d.update_includer(t,e,"$"+r[i])},d.stubs={},d.bridge=function(t,e){if(e.$$bridge)throw d.ArgumentError.$new("already bridged");d.stub_subscribers.push(e.prototype);for(var n in d.stubs)n in e.prototype||(e.prototype[n]=d.stub_for(n));e.prototype.$$class=t,e.$$bridge=t;for(var r,i,s,$=t.$ancestors(),a=$.length-1;a>=0;a--)r=e,i=$[a],void 0,s=i.$__id__(),h[s]||(h[s]=[]),h[s].push(r),y(e,$[a]);for(var l in o.prototype){var c=o.prototype[c];!c||!c.$$stub||l in e.prototype||(e.prototype[l]=c)}return t},d.update_includer=function(t,e,n){var r,i,s,$,a,o,l,c;if(s=t.$$proto[n],i=(r=e.$$proto)[n],!r.hasOwnProperty(n)||i.$$donated||i.$$stub)if(r.hasOwnProperty(n)&&!i.$$stub){for(a=0,o=($=e.$$inc).length;a<o;a++)$[a]===i.$$donated&&(l=a),$[a]===t&&(c=a);l<=c&&(r[n]=s,r[n].$$donated=t)}else r[n]=s,r[n].$$donated=t;else;e.$$included_in&&d.update_includers(e,n)},d.update_includers=function(t,e){var n,r,i,s;if(s=t.$$included_in)for(n=0,r=s.length;n<r;n++)i=s[n],d.update_includer(t,i,e)},d.ancestors=function(t){for(var e,n,r,i,s=t,$=[];s;){for($.push(s),n=s.$$inc.length-1;n>=0;n--)for(r=0,i=(e=d.ancestors(s.$$inc[n])).length;r<i;r++)$.push(e[r]);s=s.$$is_singleton&&s.$$singleton_of.$$is_module?s.$$singleton_of.$$super:s.$$is_class?s.$$super:null}return $},d.add_stubs=function(t){var e,n,r,i,s,$=d.stub_subscribers,a=t.length,o=$.length,l=d.stubs;for(n=0;n<a;n++)if(i=t[n],!l.hasOwnProperty(i))for(l[i]=!0,s=d.stub_for(i),r=0;r<o;r++)i in(e=$[r])||(e[i]=s)},d.stub_subscribers=[o.prototype],d.add_stub_for=function(t,e){var n=d.stub_for(e);t[e]=n},d.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var n=new Array(arguments.length),r=0,i=n.length;r<i;r++)n[r]=arguments[r];return this.$method_missing.apply(this,[t.slice(1)].concat(n))}return e.$$stub=!0,e},d.ac=function(t,e,n,r){var i="";throw n.$$is_class||n.$$is_module?i+=n.$$name+".":i+=n.$$class.$$name+"#",i+=r,d.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},d.block_ac=function(t,e,n){var r="`block in "+n+"'";throw d.ArgumentError.$new(r+": wrong number of arguments ("+t+" for "+e+")")},d.find_super_dispatcher=function(t,e,n,r,i){var s;if(s=(i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:d.find_obj_super_dispatcher(t,e,n))["$"+e],!r&&s.$$stub&&d.Kernel.$method_missing===t.$method_missing)throw d.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return s},d.find_iter_super_dispatcher=function(t,e,n,r,i){var s=e;if(!n)throw d.RuntimeError.$new("super called outside of method");if(i&&n.$$define_meth)throw d.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return n.$$def&&(s=n.$$jsid),d.find_super_dispatcher(t,s,n,r)},d.find_obj_super_dispatcher=function(t,e,n){var r=t.$$meta||t.$$class;if(!(r=d.find_owning_class(r,n)))throw new Error("could not find current class for super()");return d.find_super_func(r,"$"+e,n)},d.find_owning_class=function(t,e){for(var n=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==n)&&(!n.$$is_singleton||t!==n.$$singleton_of.$$class)&&t!==n;)t=t.$$parent;return t},d.find_super_func=function(t,e,n){for(var r=t.$$parent;r;){var i=r.$$proto[e];if(i&&i!==n)break;r=r.$$parent}return r.$$proto},d.ret=function(t){throw d.returner.$v=t,d.returner},d.brk=function(t,e){throw e.$v=t,e},d.new_brk=function(){return new Error("unexpected break")},d.yield1=function(t,e){if("function"!=typeof t)throw d.LocalJumpError.$new("no block given");var n=t.$$has_top_level_mlhs_arg,r=t.$$has_trailing_comma_in_args;return(t.length>1||(n||r)&&1===t.length)&&(e=d.to_ary(e)),(t.length>1||r&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},d.yieldX=function(t,e){if("function"!=typeof t)throw d.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var n=new Array(e.length),r=0,i=n.length;r<i;r++)n[r]=e[r];return t.apply(null,n)}return t.apply(null,e)},d.rescue=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.$$is_array){var i=d.rescue(t,r);if(i)return i}else{if(r===d.JS.Error)return r;if(r["$==="](t))return r}}return null},d.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var n,r,i=d.ancestors(t.$$is_class?d.get_singleton_class(t):t.$$meta||t.$$class);for(n=0,r=i.length;n<r;n++)if(i[n]===e)return!0;return!1},d.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw d.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},d.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===n)return[t];if(e.$$is_array)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},d.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===n)return[t];if(e.$$is_array)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},d.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):d.hash2([],{})},d.kwrestargs=function(t,e){var n=[],r={},i=null,s=t.$$smap;for(i in s)e[i]||(n.push(i),r[i]=s[i]);return d.hash2(n,r)},d.send=function(t,e,n,r){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=r,i.apply(t,n)):t.$method_missing.apply(t,[e].concat(n))},d.def=function(t,e,n){t.$$eval||!t.$$is_class&&!t.$$is_module?d.defs(t,e,n):d.defn(t,e,n)},d.defn=function(t,e,r){t.$$proto[e]=r,r.$$owner=t,t.$$is_module&&(d.update_includers(t,e),t.$$module_function&&d.defs(t,e,r));var i=t.$__id__&&!t.$__id__.$$stub&&h[t.$__id__()];if(i)for(var s=i.length-1;s>=0;s--)d.bridge_method(i[s],t,e,r);var $=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||$?$&&$.$singleton_method_added&&!$.$singleton_method_added.$$stub&&$.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),n},d.defs=function(t,e,n){d.defn(d.get_singleton_class(t),e,n)},d.rdef=function(t,e){if(!f.call(t.$$proto,e))throw d.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},d.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw d.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());d.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},d.alias=function(t,e,n){var r,i="$"+e,s="$"+n,$=t.$$proto["$"+n];if(t.$$eval)return d.alias(d.get_singleton_class(t),e,n);if("function"!=typeof $||$.$$stub){for(var a=t.$$super;"function"!=typeof $&&a;)$=a[s],a=a.$$super;if("function"!=typeof $||$.$$stub)throw d.NameError.$new("undefined method `"+n+"' for class `"+t.$name()+"'")}return $.$$alias_of&&($=$.$$alias_of),(r=function(){var t,e,n,i=r.$$p;for(t=new Array(arguments.length),e=0,n=arguments.length;e<n;e++)t[e]=arguments[e];return null!=i&&(r.$$p=null),d.send(this,$,t,i)}).displayName=e,r.length=$.length,r.$$arity=$.$$arity,r.$$parameters=$.$$parameters,r.$$source_location=$.$$source_location,r.$$alias_of=$,r.$$alias_name=e,d.defn(t,i,r),t},d.alias_native=function(t,e,n){var r="$"+e,i=t.$$proto[n];if("function"!=typeof i||i.$$stub)throw d.NameError.$new("undefined native method `"+n+"' for class `"+t.$name()+"'");return d.defn(t,r,i),t},d.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},d.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var n,r,i=0,s=t.$$keys,$=t.$$smap,a=s.length;i<a;i++)(n=s[i]).$$is_string?r=$[n]:(r=n.value,n=n.key),d.hash_put(e,n,r)},d.hash_put=function(e,n,r){if(n.$$is_string)return f.call(e.$$smap,n)||e.$$keys.push(n),void(e.$$smap[n]=r);var i,s,$;if(i=e.$$by_identity?d.id(n):n.$hash(),!f.call(e.$$map,i))return s={key:n,key_hash:i,value:r},e.$$keys.push(s),void(e.$$map[i]=s);for(s=e.$$map[i];s;){if(n===s.key||n["$eql?"](s.key)){$=t,s.value=r;break}$=s,s=s.next}$&&(s={key:n,key_hash:i,value:r},e.$$keys.push(s),$.next=s)},d.hash_get=function(t,e){if(e.$$is_string)return f.call(t.$$smap,e)?t.$$smap[e]:void 0;var n,r;if(n=t.$$by_identity?d.id(e):e.$hash(),f.call(t.$$map,n))for(r=t.$$map[n];r;){if(e===r.key||e["$eql?"](r.key))return r.value;r=r.next}},d.hash_delete=function(t,e){var n,r,i=t.$$keys,s=i.length;if(e.$$is_string){if(!f.call(t.$$smap,e))return;for(n=0;n<s;n++)if(i[n]===e){i.splice(n,1);break}return r=t.$$smap[e],delete t.$$smap[e],r}var $=e.$hash();if(f.call(t.$$map,$))for(var a,o=t.$$map[$];o;){if(e===o.key||e["$eql?"](o.key)){for(r=o.value,n=0;n<s;n++)if(i[n]===o){i.splice(n,1);break}return a&&o.next?a.next=o.next:a?delete a.next:o.next?t.$$map[$]=o.next:delete t.$$map[$],r}a=o,o=o.next}},d.hash_rehash=function(e){for(var n,r,i,s=0,$=e.$$keys.length;s<$;s++)if(!e.$$keys[s].$$is_string&&(n=e.$$keys[s].key.$hash())!==e.$$keys[s].key_hash){for(r=e.$$map[e.$$keys[s].key_hash],i=t;r;){if(r===e.$$keys[s]){i&&r.next?i.next=r.next:i?delete i.next:r.next?e.$$map[e.$$keys[s].key_hash]=r.next:delete e.$$map[e.$$keys[s].key_hash];break}i=r,r=r.next}if(e.$$keys[s].key_hash=n,f.call(e.$$map,n)){for(r=e.$$map[n],i=t;r;){if(r===e.$$keys[s]){i=t;break}i=r,r=r.next}i&&(i.next=e.$$keys[s])}else e.$$map[n]=e.$$keys[s]}},d.hash=function(){var t,e,n,r,i,s,$=arguments.length;if(1===$&&arguments[0].$$is_hash)return arguments[0];if(e=new d.Hash.$$alloc,d.hash_init(e),1===$&&arguments[0].$$is_array){for(r=(t=arguments[0]).length,n=0;n<r;n++){if(2!==t[n].length)throw d.ArgumentError.$new("value not of length 2: "+t[n].$inspect());i=t[n][0],s=t[n][1],d.hash_put(e,i,s)}return e}if(1===$){t=arguments[0];for(i in t)f.call(t,i)&&(s=t[i],d.hash_put(e,i,s));return e}if($%2!=0)throw d.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<$;n+=2)i=arguments[n],s=arguments[n+1],d.hash_put(e,i,s);return e},d.hash2=function(t,e){var n=new d.Hash.$$alloc;return n.$$smap=e,n.$$map=Object.create(null),n.$$keys=t,n},d.range=function(t,e,n){var r=new d.Range.$$alloc;return r.begin=t,r.end=e,r.excl=n,r},d.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},d.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},d.modules={},d.loaded_features=["corelib/runtime"],d.current_dir=".",d.require_table={"corelib/runtime":!0},d.normalize=function(t){var e,n,r=[];"."!==d.current_dir&&(t=d.current_dir.replace(/\/*$/,"/")+t);for(var i=0,s=(e=(t=t.replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<s;i++)""!==(n=e[i])&&(".."===n?r.pop():r.push(n));return r.join("/")},d.loaded=function(t){var e,n,r;for(e=0,n=t.length;e<n;e++){if(r=d.normalize(t[e]),d.require_table[r])return;d.loaded_features.push(r),d.require_table[r]=!0}},d.load=function(t){t=d.normalize(t),d.loaded([t]);var n=d.modules[t];if(n)n(d);else{var r=d.config.missing_require_severity,i="cannot load such file -- "+t;"error"===r?d.LoadError?d.LoadError.$new(i):function(){throw i}():"warning"===r&&e.warn("WARNING: LoadError: "+i)}return!0},d.require=function(t){return t=d.normalize(t),!d.require_table[t]&&d.load(t)},d.boot_class_alloc("BasicObject",o),d.boot_class_alloc("Object",l,o),d.boot_class_alloc("Module",_,l),d.boot_class_alloc("Class",c,_),d.BasicObject=r=d.setup_class_object("BasicObject",o,"Class",c),d.Object=i=d.setup_class_object("Object",l,"BasicObject",r.constructor),d.Module=s=d.setup_class_object("Module",_,"Object",i.constructor),d.Class=$=d.setup_class_object("Class",c,"Module",s.constructor),r.$$const.BasicObject=r,d.const_set(i,"BasicObject",r),d.const_set(i,"Object",i),d.const_set(i,"Module",s),d.const_set(i,"Class",$),r.$$class=$,i.$$class=$,s.$$class=$,$.$$class=$,r.$$super=null,i.$$super=r,s.$$super=i,$.$$super=s,r.$$parent=null,i.$$parent=r,s.$$parent=i,$.$$parent=s,i.$$proto.toString=function(){return this.$to_s()},i.$$proto.$require=d.require,d.top=new i.$$alloc,d.klass(i,i,"NilClass",u),(n=d.nil=new u).$$id=4,n.call=n.apply=function(){throw d.LocalJumpError.$new("no block given")},d.breaker=new Error("unexpected break (old)"),d.returner=new Error("unexpected return"),TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){t.top;var e,n,r,i,s,$,a,o,l,c,_,u,d,h,f,p,g,v=[],m=t.nil,y=(t.breaker,t.slice,t.module),b=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),e=v,(p=y(v[0],"Opal")).$$proto,g=[p].concat(e),t.defs(p,"$bridge",n=function(e,n){return t.bridge(e,n)},n.$$arity=2),t.defs(p,"$type_error",r=function(e,n,r,i){var s;return null==r&&(r=m),null==i&&(i=m),b(b(s=r)?i:s)?t.const_get_relative(g,"TypeError").$new("can't convert "+e.$class()+" into "+n+" ("+e.$class()+"#"+r+" gives "+i.$class()):t.const_get_relative(g,"TypeError").$new("no implicit conversion of "+e.$class()+" into "+n)},r.$$arity=-3),t.defs(p,"$coerce_to",i=function(t,e,n){return b(e["$==="](t))?t:(b(t["$respond_to?"](n))||this.$raise(this.$type_error(t,e)),t.$__send__(n))},i.$$arity=3),t.defs(p,"$coerce_to!",s=function(t,e,n){var r;return r=this.$coerce_to(t,e,n),b(e["$==="](r))||this.$raise(this.$type_error(t,e,n,r)),r},s.$$arity=3),t.defs(p,"$coerce_to?",$=function(t,e,n){var r=m;return b(t["$respond_to?"](n))?(r=this.$coerce_to(t,e,n),b(r["$nil?"]())?m:(b(e["$==="](r))||this.$raise(this.$type_error(t,e,n,r)),r)):m},$.$$arity=3),t.defs(p,"$try_convert",a=function(t,e,n){return b(e["$==="](t))?t:b(t["$respond_to?"](n))?t.$__send__(n):m},a.$$arity=3),t.defs(p,"$compare",o=function(e,n){var r;return r=e["$<=>"](n),b(r===m)&&this.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+e.$class()+" with "+n.$class()+" failed"),r},o.$$arity=2),t.defs(p,"$destructure",l=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),n=0,r=e.length;n<r;n++)e[n]=t[n];return e},l.$$arity=1),t.defs(p,"$respond_to?",c=function(t,e){return!(null==t||!t.$$class)&&t["$respond_to?"](e)},c.$$arity=2),t.defs(p,"$inspect_obj",_=function(e){return t.inspect(e)},_.$$arity=1),t.defs(p,"$instance_variable_name!",u=function(e){return e=t.const_get_relative(g,"Opal")["$coerce_to!"](e,t.const_get_relative(g,"String"),"to_str"),b(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(e))||this.$raise(t.const_get_relative(g,"NameError").$new("'"+e+"' is not allowed as an instance variable name",e)),e},u.$$arity=1),t.defs(p,"$class_variable_name!",d=function(e){return e=t.const_get_relative(g,"Opal")["$coerce_to!"](e,t.const_get_relative(g,"String"),"to_str"),b(e.length<3||"@@"!==e.slice(0,2))&&this.$raise(t.const_get_relative(g,"NameError").$new("`"+e+"' is not allowed as a class variable name",e)),e},d.$$arity=1),t.defs(p,"$const_name!",h=function(e){return e=t.const_get_relative(g,"Opal")["$coerce_to!"](e,t.const_get_relative(g,"String"),"to_str"),b(e["$[]"](0)["$!="](e["$[]"](0).$upcase()))&&this.$raise(t.const_get_relative(g,"NameError"),"wrong constant name "+e),e},h.$$arity=1),void t.defs(p,"$pristine",f=function(t,e){var n,r,i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var $=1;$<i;$++)n[$-1]=arguments[$];for(var a=n.length-1;a>=0;a--)r=n[a],t.$$proto["$"+r].$$pristine=!0;return m},f.$$arity=-2)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $rb_plus(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$+","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_method_added_42,TMP_Module_method_removed_43,TMP_Module_method_undefined_44,TMP_Module_module_eval_45,TMP_Module_module_exec_47,TMP_Module_method_defined$q_48,TMP_Module_module_function_49,TMP_Module_name_50,TMP_Module_remove_const_51,TMP_Module_to_s_52,TMP_Module_undef_method_53,TMP_Module_instance_variables_54,TMP_Module_dup_55,TMP_Module_copy_class_variables_56,TMP_Module_copy_constants_57;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){return Opal.module_allocate(this)},TMP_Module_allocate_1.$$arity=0),Opal.defn(self,"$initialize",TMP_Module_initialize_2=function(){var t=TMP_Module_initialize_2.$$p,e=t||nil;return t&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(this,e)},TMP_Module_initialize_2.$$arity=0),Opal.defn(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){return!$truthy(null==t)&&Opal.is_a(t,this)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.defn(self,"$<",TMP_Module_$lt_4=function(t){$truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module");var e,n,r;if(this===t)return!1;for(n=0,r=(e=Opal.ancestors(this)).length;n<r;n++)if(e[n]===t)return!0;for(n=0,r=(e=Opal.ancestors(t)).length;n<r;n++)if(e[n]===this)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.defn(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_lt(this,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.defn(self,"$>",TMP_Module_$gt_6=function(t){return $truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,this)},TMP_Module_$gt_6.$$arity=1),Opal.defn(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_gt(this,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=nil;return this===t?0:$truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))?(e=$rb_lt(this,t),$truthy(e["$nil?"]())?nil:$truthy(e)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){return Opal.alias(this,t,e),this},TMP_Module_alias_method_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},TMP_Module_alias_native_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_Module_ancestors_11=function(){return Opal.ancestors(this)},TMP_Module_ancestors_11.$$arity=0),Opal.defn(self,"$append_features",TMP_Module_append_features_12=function(t){return Opal.append_features(this,t),this},TMP_Module_append_features_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return $send(this,"attr_reader",Opal.to_a(e)),$send(this,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(var s=this.$$proto,$=e.length-1;$>=0;$--){var a=e[$],o="$"+a,l=Opal.ivar(a),c=function(t){return function(){return null==this[t]?nil:this[t]}}(l);s[l]=nil,c.$$parameters=[],c.$$arity=0,this.$$is_singleton?s.constructor.prototype[o]=c:Opal.defn(this,o,c)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(var s=this.$$proto,$=e.length-1;$>=0;$--){var a=e[$],o="$"+a+"=",l=Opal.ivar(a),c=function(t){return function(e){return this[t]=e}}(l);c.$$parameters=[["req"]],c.$$arity=1,s[l]=nil,this.$$is_singleton?s.constructor.prototype[o]=c:Opal.defn(this,o,c)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_Module_autoload_16=function(t,e){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.defn(self,"$class_variables",TMP_Module_class_variables_17=function(){return Object.keys(Opal.class_variables(this))},TMP_Module_class_variables_17.$$arity=0),Opal.defn(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t);var e=Opal.class_variables(this)[t];return null==e&&this.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized class variable "+t+" in "+this,t)),e},TMP_Module_class_variable_get_18.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){return t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.defn(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){return t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.defn(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){if(t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(this.$$cvars,t)){var e=this.$$cvars[t];return delete this.$$cvars[t],e}this.$raise(Opal.const_get_relative($nesting,"NameError").$new("cannot remove "+t+" for "+this))},TMP_Module_remove_class_variable_21.$$arity=1),Opal.defn(self,"$constants",TMP_Module_constants_22=function(t){return null==t&&(t=!0),Opal.constants(this,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){if(null==t){var e,n,r,i=(this.$$nesting||[]).concat(Opal.Object),s={};for(n=0,r=i.length;n<r;n++)for(e in i[n].$$const)s[e]=!0;return Object.keys(s)}return Opal.constants(this,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){return this.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.defn(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){null==e&&(e=!0),t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t));var n,r,i=[this];for(e&&(i=i.concat(Opal.ancestors(this)),this.$$is_module&&(i=i.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),n=0,r=i.length;n<r;n++)if(null!=i[n].$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.defn(self,"$const_get",TMP_Module_const_get_27=function(t,e){var n;return null==e&&(e=!0),0===(t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[this],((n=function(t,e){n.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=this,n.$$arity=2,n)):($truthy(t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t)),e?Opal.const_get_relative([this],t):Opal.const_get_local(this,t))},TMP_Module_const_get_27.$$arity=-2),Opal.defn(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e,n=this;if(n.$$autoload){var r=n.$$autoload[t];if(r)return n.$require(r),n.$const_get(t)}return e=n["$=="](Opal.const_get_relative($nesting,"Object"))?t:n+"::"+t,n.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized constant "+e,t))},TMP_Module_const_missing_28.$$arity=1),Opal.defn(self,"$const_set",TMP_Module_const_set_29=function(t,e){var n;return t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),$truthy($truthy(n=t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP"))["$!"]())?n:t["$start_with?"]("::"))&&this.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(this,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.defn(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.defn(self,"$define_method",TMP_Module_define_method_31=function(t,e){var n,r,i=this,s=TMP_Module_define_method_31.$$p,$=s||nil,a=nil;s&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===e&&$===nil)&&i.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to create a Proc object without a block");var o="$"+t;return($=$truthy(n=$)?n:(a=e,Opal.const_get_relative($nesting,"Proc")["$==="](a)?e:Opal.const_get_relative($nesting,"Method")["$==="](a)?e.$to_proc().$$unbound:Opal.const_get_relative($nesting,"UnboundMethod")["$==="](a)?$send(i,"lambda",[],((r=function(t){var n,i,s=r.$$s||this,$=arguments.length,a=$-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<$;o++)n[o-0]=arguments[o];return i=e.$bind(s),$send(i,"call",Opal.to_a(n))}).$$s=i,r.$$arity=-1,r)):i.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Proc/Method)"))).$$jsid=t,$.$$s=null,$.$$def=$,$.$$define_meth=!0,Opal.defn(i,o,$),t},TMP_Module_define_method_31.$$arity=-2),Opal.defn(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(var s=0,$=e.length;s<$;s++)Opal.rdef(this,"$"+e[s]);return this},TMP_Module_remove_method_33.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.defn(self,"$include",TMP_Module_include_35=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(var s=e.length-1;s>=0;s--){var $=e[s];$.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Module)"),$.$append_features(this),$.$included(this)}return this},TMP_Module_include_35.$$arity=-1),Opal.defn(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,e=function(t){for(var n=[],r=0,i=t.$$inc.length;r<i;r++){var s=t.$$inc[r];n.push(s),n=n.concat(e(s))}return n};if(t=e(this),this.$$is_class)for(var n=this;n;n=n.$$super)t=t.concat(e(n));return t},TMP_Module_included_modules_36.$$arity=0),Opal.defn(self,"$include?",TMP_Module_include$q_37=function(t){t.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var e,n,r,i=Opal.ancestors(this);for(e=0,n=i.length;e<n;e++)if((r=i[e])===t&&r!==this)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.defn(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this.$$proto["$"+t];return e&&!e.$$stub||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("undefined method `"+t+"' for class `"+this.$name()+"'",t)),Opal.const_get_relative($nesting,"UnboundMethod").$new(this,e.$$owner||this,e,t)},TMP_Module_instance_method_38.$$arity=1),Opal.defn(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){null==t&&(t=!0);var e,n=[],r=this.$$proto;for(var i in r)if("$"===i.charAt(0)&&"$"!==i.charAt(1)&&"function"==typeof(e=r[i])&&!e.$$stub){if(!this.$$is_module){if(this!==Opal.BasicObject&&e===Opal.BasicObject.$$proto[i])continue;if(!t&&!r.hasOwnProperty(i))continue;if(!t&&e.$$donated)continue}n.push(i.substr(1))}return n},TMP_Module_instance_methods_39.$$arity=-1),Opal.defn(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.defn(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.defn(self,"$method_added",TMP_Module_method_added_42=function(t){return nil},TMP_Module_method_added_42.$$arity=-1),Opal.defn(self,"$method_removed",TMP_Module_method_removed_43=function(t){return nil},TMP_Module_method_removed_43.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_Module_method_undefined_44=function(t){return nil},TMP_Module_method_undefined_44.$$arity=-1),Opal.defn(self,"$module_eval",TMP_Module_module_eval_45=function $$module_eval($a_rest){var $b,TMP_46,self=this,args,$iter=TMP_Module_module_eval_45.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_45.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_relative($nesting,"Opal").$compile(string,compiling_options),block=$send(Opal.const_get_relative($nesting,"Kernel"),"proc",[],(TMP_46=function(){var self=TMP_46.$$s||this;return function(self){return eval(compiled)}(self)},TMP_46.$$s=self,TMP_46.$$arity=0,TMP_46))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),$rb_plus("wrong number of arguments ("+args.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n"));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_45.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_Module_module_exec_47=function(t){var e,n=TMP_Module_module_exec_47.$$p,r=n||nil,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];n&&(TMP_Module_module_exec_47.$$p=null),r===nil&&this.$raise(Opal.const_get_relative($nesting,"LocalJumpError"),"no block given");var a,o=r.$$s;return r.$$s=null,a=r.apply(this,e),r.$$s=o,a},TMP_Module_module_exec_47.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_Module_method_defined$q_48=function(t){var e=this.$$proto["$"+t];return!!e&&!e.$$stub},TMP_Module_method_defined$q_48.$$arity=1),Opal.defn(self,"$module_function",TMP_Module_module_function_49=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];if(0===e.length)this.$$module_function=!0;else for(var s=0,$=e.length;s<$;s++){var a="$"+e[s],o=this.$$proto[a];Opal.defs(this,a,o)}return this},TMP_Module_module_function_49.$$arity=-1),Opal.defn(self,"$name",TMP_Module_name_50=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===nil||null==e.$$name)return nil;if(t.unshift(e.$$name),(e=e.$$base_module)===Opal.Object)break}return 0===t.length?nil:this.$$full_name=t.join("::")},TMP_Module_name_50.$$arity=0),Opal.defn(self,"$remove_const",TMP_Module_remove_const_51=function(t){return Opal.const_remove(this,t)},TMP_Module_remove_const_51.$$arity=1),Opal.defn(self,"$to_s",TMP_Module_to_s_52=function(){var t;return $truthy(t=Opal.Module.$name.call(this))?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},TMP_Module_to_s_52.$$arity=0),Opal.defn(self,"$undef_method",TMP_Module_undef_method_53=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(var s=0,$=e.length;s<$;s++)Opal.udef(this,"$"+e[s]);return this},TMP_Module_undef_method_53.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_Module_instance_variables_54=function(){var t=nil;Opal.Module.$$nesting=$nesting,t=this.$constants();var e=[];for(var n in this)this.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!t["$include?"](n)&&e.push("@"+n);return e},TMP_Module_instance_variables_54.$$arity=0),Opal.defn(self,"$dup",TMP_Module_dup_55=function(){var t,e=TMP_Module_dup_55.$$p,n=nil,r=nil,i=nil;for(e&&(TMP_Module_dup_55.$$p=null),i=0,t=arguments.length,r=new Array(t);i<t;i++)r[i]=arguments[i];return(n=$send(this,Opal.find_super_dispatcher(this,"dup",TMP_Module_dup_55,!1),r,e)).$copy_class_variables(this),n.$copy_constants(this),n},TMP_Module_dup_55.$$arity=0),Opal.defn(self,"$copy_class_variables",TMP_Module_copy_class_variables_56=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},TMP_Module_copy_class_variables_56.$$arity=1),Opal.defn(self,"$copy_constants",TMP_Module_copy_constants_57=function(t){var e,n=t.$$const;for(e in n)Opal.const_set(this,e,n[e])},TMP_Module_copy_constants_57.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),s=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,$,a){function o(){}var l,c,_,u,d,h,f,p=o=i(n[0],null,"Class",o),g=(p.$$proto,[p].concat(a));return t.defs(p,"$new",l=function(e){var n=l.$$p,i=n||r;if(null==e&&(e=t.const_get_relative(g,"Object")),n&&(l.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var s=t.boot_class_alloc(null,function(){},e),$=t.setup_class_object(null,s,e.$$name,e.constructor);return $.$$super=e,$.$$parent=e,e.$inherited($),t.module_initialize($,i),$},l.$$arity=-1),t.defn(p,"$allocate",c=function(){var e=new this.$$alloc;return e.$$id=t.uid(),e},c.$$arity=0),t.defn(p,"$inherited",_=function(t){return r},_.$$arity=1),t.defn(p,"$initialize_dup",u=function(t){this.$initialize_copy(t),this.$$name=null,this.$$full_name=null},u.$$arity=1),t.defn(p,"$new",d=function(e){var n,i=d.$$p,s=i||r,$=arguments.length,a=$-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<$;o++)n[o-0]=arguments[o];i&&(d.$$p=null);var l=this.$allocate();return t.send(l,l.$initialize,n,s),l},d.$$arity=-1),t.defn(p,"$superclass",h=function(){return this.$$super||r},h.$$arity=0),t.defn(p,"$to_s",f=function(){var e=f.$$p;e&&(f.$$p=null);var n=this.$$singleton_of;return n&&(n.$$is_class||n.$$is_module)?"#<Class:"+n.$name()+">":n?"#<Class:#<"+n.$$class.$name()+":0x"+t.id(n).$to_s(16)+">>":s(this,t.find_super_dispatcher(this,"to_s",f,!1),[],null)},f.$$arity=0),r&&"to_s"}(0,0,n)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.defn(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.defn(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){return this===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.defn(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){return this["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_BasicObject___id___4=function(){return this.$$id||(this.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.defn(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var n,r=TMP_BasicObject___send___5.$$p,i=r||nil,s=arguments.length,$=s-1;$<0&&($=0),n=new Array($);for(var a=1;a<s;a++)n[a-1]=arguments[a];r&&(TMP_BasicObject___send___5.$$p=null);var o=this["$"+t];return o?(i!==nil&&(o.$$p=i),o.apply(this,n)):(i!==nil&&(this.$method_missing.$$p=i),this.$method_missing.apply(this,[t].concat(n)))},TMP_BasicObject___send___5.$$arity=-2),Opal.defn(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.defn(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){return this["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_qualified("::","Opal").$compile(string,compiling_options),block=$send(Opal.const_get_qualified("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,n=TMP_BasicObject_instance_exec_10.$$p,r=n||nil,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];n&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(r)||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"no block given");var a,o=r.$$s;if(r.$$s=null,this.$$is_class||this.$$is_module){this.$$eval=!0;try{a=r.apply(this,e)}finally{this.$$eval=!1}}else a=r.apply(this,e);return r.$$s=o,a},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var n,r=this,i=TMP_BasicObject_method_missing_14.$$p,s=arguments.length,$=s-1;$<0&&($=0),n=new Array($);for(var a=1;a<s;a++)n[a-1]=arguments[a];return i&&(TMP_BasicObject_method_missing_14.$$p=null),Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","NoMethodError").$new($truthy(r.$inspect&&!r.$inspect.$$stub)?"undefined method `"+t+"' for "+r.$inspect()+":"+r.$$class:"undefined method `"+t+"' for "+r.$$class,t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var n,r,i,s,$,a,o,l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt,it,st,$t,at,ot,lt,ct,_t,ut,dt,ht,ft=[],pt=t.nil,gt=(t.breaker,t.slice,t.module),vt=t.truthy,mt=t.gvars,yt=t.send,bt=t.hash2,xt=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),n=ft,(dt=gt(ft[0],"Kernel")).$$proto,ht=[dt].concat(n),t.defn(dt,"$method_missing",r=function(e,n){var i,s=r.$$p,$=arguments.length,a=$-1;a<0&&(a=0),i=new Array(a);for(var o=1;o<$;o++)i[o-1]=arguments[o];return s&&(r.$$p=null),this.$raise(t.const_get_relative(ht,"NoMethodError").$new("undefined method `"+e+"' for "+this.$inspect(),e,i))},r.$$arity=-2),t.defn(dt,"$=~",i=function(t){return!1},i.$$arity=1),t.defn(dt,"$!~",s=function(t){return this["$=~"](t)["$!"]()},s.$$arity=1),t.defn(dt,"$===",$=function(t){var e;return vt(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},$.$$arity=1),t.defn(dt,"$<=>",a=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==pt?0:pt},a.$$arity=1),t.defn(dt,"$method",o=function(e){var n=this["$"+e];return n&&!n.$$stub||this.$raise(t.const_get_relative(ht,"NameError").$new("undefined method `"+e+"' for class `"+this.$class()+"'",e)),t.const_get_relative(ht,"Method").$new(this,n.$$owner||this.$class(),n,e)},o.$$arity=1),t.defn(dt,"$methods",l=function(e){null==e&&(e=!0);var n=[];for(var r in this)if("$"==r[0]&&"function"==typeof this[r]){if((0==e||e===pt)&&!t.hasOwnProperty.call(this,r))continue;void 0===this[r].$$stub&&n.push(r.substr(1))}return n},l.$$arity=-1),t.alias(dt,"public_methods","methods"),t.defn(dt,"$Array",c=function(e){var n;return e===pt?[]:e.$$is_array?e:(n=t.const_get_relative(ht,"Opal")["$coerce_to?"](e,t.const_get_relative(ht,"Array"),"to_ary"))!==pt?n:(n=t.const_get_relative(ht,"Opal")["$coerce_to?"](e,t.const_get_relative(ht,"Array"),"to_a"))!==pt?n:[e]},c.$$arity=1),t.defn(dt,"$at_exit",_=function(){var t,e=_.$$p,n=e||pt;return null==mt.__at_exit__&&(mt.__at_exit__=pt),e&&(_.$$p=null),mt.__at_exit__=vt(t=mt.__at_exit__)?t:[],mt.__at_exit__["$<<"](n)},_.$$arity=0),t.defn(dt,"$caller",u=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return[]},u.$$arity=-1),t.defn(dt,"$class",d=function(){return this.$$class},d.$$arity=0),t.defn(dt,"$copy_instance_variables",h=function(t){var e,n,r,i=Object.keys(t);for(e=0,n=i.length;e<n;e++)"$"!==(r=i[e]).charAt(0)&&t.hasOwnProperty(r)&&(this[r]=t[r])},h.$$arity=1),t.defn(dt,"$copy_singleton_methods",f=function(e){var n;if(e.hasOwnProperty("$$meta")){var r=t.get_singleton_class(e).$$proto,i=t.get_singleton_class(this).$$proto;for(n in r)"$"===n.charAt(0)&&r.hasOwnProperty(n)&&(i[n]=r[n])}for(n in e)"$"===n.charAt(0)&&"$"!==n.charAt(1)&&e.hasOwnProperty(n)&&(this[n]=e[n])},f.$$arity=1),t.defn(dt,"$clone",p=function(){var t=pt;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$copy_singleton_methods(this),t.$initialize_clone(this),t},p.$$arity=0),t.defn(dt,"$initialize_clone",g=function(t){return this.$initialize_copy(t)},g.$$arity=1),t.defn(dt,"$define_singleton_method",v=function(t,e){var n=v.$$p,r=n||pt;return n&&(v.$$p=null),yt(this.$singleton_class(),"define_method",[t,e],r.$to_proc())},v.$$arity=-2),t.defn(dt,"$dup",m=function(){var t=pt;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t},m.$$arity=0),t.defn(dt,"$initialize_dup",y=function(t){return this.$initialize_copy(t)},y.$$arity=1),t.defn(dt,"$enum_for",b=function(e,n){var r,i=this,s=b.$$p,$=s||pt;null==e&&(e="each");var a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var l=1;l<a;l++)r[l-1]=arguments[l];return s&&(b.$$p=null),yt(t.const_get_relative(ht,"Enumerator"),"for",[i,e].concat(t.to_a(r)),$.$to_proc())},b.$$arity=-1),t.alias(dt,"to_enum","enum_for"),t.defn(dt,"$equal?",x=function(t){return this===t},x.$$arity=1),t.defn(dt,"$exit",k=function(n){var r;for(null==mt.__at_exit__&&(mt.__at_exit__=pt),null==n&&(n=!0),mt.__at_exit__=vt(r=mt.__at_exit__)?r:[];vt(e(mt.__at_exit__.$size(),0));)mt.__at_exit__.$pop().$call();return vt(!0===n)&&(n=0),t.exit(n),pt},k.$$arity=-1),t.defn(dt,"$extend",w=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];for(var $=this.$singleton_class(),a=n.length-1;a>=0;a--){var o=n[a];o.$$is_module||this.$raise(t.const_get_relative(ht,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features($),o.$extended(this)}return this},w.$$arity=-1),t.defn(dt,"$format",E=function(e,n){var r,i=this,s=pt;null==mt.DEBUG&&(mt.DEBUG=pt);var $=arguments.length,a=$-1;a<0&&(a=0),r=new Array(a);for(var o=1;o<$;o++)r[o-1]=arguments[o];vt(r.$length()["$=="](1)?r["$[]"](0)["$respond_to?"]("to_ary"):r.$length()["$=="](1))&&(s=t.const_get_relative(ht,"Opal")["$coerce_to?"](r["$[]"](0),t.const_get_relative(ht,"Array"),"to_ary"),vt(s["$nil?"]())||(r=s.$to_a()));var l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E="",A=0,O=e.length,S=1,R=0,T=32,M=128;function I(){w&T&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"flag after width"),w&M&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"flag after precision")}function q(){w&T&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"width given twice"),w&M&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"width after precision")}function C(e){return e>=r.length&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"too few arguments"),r[e]}function N(){switch(R){case-1:i.$raise(t.const_get_relative(ht,"ArgumentError"),"unnumbered("+S+") mixed with numbered");case-2:i.$raise(t.const_get_relative(ht,"ArgumentError"),"unnumbered("+S+") mixed with named")}return C((R=S++)-1)}function z(e){return R>0&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"numbered("+e+") after unnumbered("+R+")"),-2===R&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"numbered("+e+") after named"),e<1&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"invalid index - "+e+"$"),R=-1,C(e-1)}function P(){return void 0===k?N():k}function L(n){for(var r,s="";;c++){if(c===O&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(c)<48||e.charCodeAt(c)>57)return c--,(r=parseInt(s,10)||0)>2147483647&&i.$raise(t.const_get_relative(ht,"ArgumentError"),n+" too big"),r;s+=e.charAt(c)}}function D(t){var n,r=L(t);return"$"===e.charAt(c+1)?(c++,n=z(r)):n=N(),n.$to_int()}for(c=e.indexOf("%");-1!==c;c=e.indexOf("%",c)){switch(u=void 0,w=0,h=-1,f=-1,k=void 0,l=c,c++,e.charAt(c)){case"%":A=c;case"":case"\n":case"\0":c++;continue}t:for(;c<O;c++)switch(e.charAt(c)){case" ":I(),w|=16;continue t;case"#":I(),w|=1;continue t;case"+":I(),w|=4;continue t;case"-":I(),w|=2;continue t;case"0":I(),w|=8;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(p=L("width"),"$"===e.charAt(c+1)){if(c+2===O){u="%",c++;break t}void 0!==k&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"value given twice - %"+p+"$"),k=z(p),c++}else q(),w|=T,h=p;continue t;case"<":case"{":for(v="<"===e.charAt(c)?">":"}",g="",c++;;c++){if(c===O&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(c)===v){if(R>0&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"named "+g+" after unnumbered("+R+")"),-1===R&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"named "+g+" after numbered"),R=-2,void 0!==r[0]&&r[0].$$is_hash||i.$raise(t.const_get_relative(ht,"ArgumentError"),"one hash required"),k=r[0].$fetch(g),">"===v)continue t;if(u=k.toString(),-1!==f&&(u=u.slice(0,f)),2&w)for(;u.length<h;)u+=" ";else for(;u.length<h;)u=" "+u;break t}g+=e.charAt(c)}case"*":c++,q(),w|=T,(h=D("width"))<0&&(w|=2,h=-h);continue t;case".":if(w&M&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"precision given twice"),w|=64|M,f=0,c++,"*"===e.charAt(c)){c++,(f=D("precision"))<0&&(w&=-65);continue t}f=L("precision");continue t;case"d":case"i":case"u":if((_=i.$Integer(P()))>=0){for(u=_.toString();u.length<f;)u="0"+u;if(2&w)for((4&w||16&w)&&(u=(4&w?"+":" ")+u);u.length<h;)u+=" ";else if(8&w&&-1===f){for(;u.length<h-(4&w||16&w?1:0);)u="0"+u;(4&w||16&w)&&(u=(4&w?"+":" ")+u)}else for((4&w||16&w)&&(u=(4&w?"+":" ")+u);u.length<h;)u=" "+u}else{for(u=(-_).toString();u.length<f;)u="0"+u;if(2&w)for(u="-"+u;u.length<h;)u+=" ";else if(8&w&&-1===f){for(;u.length<h-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<h;)u=" "+u}break t;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(c)){case"b":case"B":m=2,y="0b",b=/^1+/,x="1";break;case"o":m=8,y="0",b=/^3?7+/,x="7";break;case"x":case"X":m=16,y="0x",b=/^f+/,x="f"}if((_=i.$Integer(P()))>=0){for(u=_.toString(m);u.length<f;)u="0"+u;if(2&w)for((4&w||16&w)&&(u=(4&w?"+":" ")+u),1&w&&0!==_&&(u=y+u);u.length<h;)u+=" ";else if(8&w&&-1===f){for(;u.length<h-(4&w||16&w?1:0)-(1&w&&0!==_?y.length:0);)u="0"+u;1&w&&0!==_&&(u=y+u),(4&w||16&w)&&(u=(4&w?"+":" ")+u)}else for(1&w&&0!==_&&(u=y+u),(4&w||16&w)&&(u=(4&w?"+":" ")+u);u.length<h;)u=" "+u}else if(4&w||16&w){for(u=(-_).toString(m);u.length<f;)u="0"+u;if(2&w)for(1&w&&(u=y+u),u="-"+u;u.length<h;)u+=" ";else if(8&w&&-1===f){for(;u.length<h-1-(1&w?2:0);)u="0"+u;1&w&&(u=y+u),u="-"+u}else for(1&w&&(u=y+u),u="-"+u;u.length<h;)u=" "+u}else{for(u=(_>>>0).toString(m).replace(b,x);u.length<f-2;)u=x+u;if(2&w)for(u=".."+u,1&w&&(u=y+u);u.length<h;)u+=" ";else if(8&w&&-1===f){for(;u.length<h-2-(1&w?y.length:0);)u=x+u;u=".."+u,1&w&&(u=y+u)}else for(u=".."+u,1&w&&(u=y+u);u.length<h;)u=" "+u}e.charAt(c)===e.charAt(c).toUpperCase()&&(u=u.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if((_=i.$Float(P()))>=0||isNaN(_)){if(_===1/0)u="Inf";else switch(e.charAt(c)){case"f":u=_.toFixed(-1===f?6:f);break;case"e":case"E":u=_.toExponential(-1===f?6:f);break;case"g":case"G":u=_.toExponential(),(d=parseInt(u.split("e")[1],10))<-4||d>=(-1===f?6:f)||(u=_.toPrecision(-1===f?1&w?6:void 0:f))}if(2&w)for((4&w||16&w)&&(u=(4&w?"+":" ")+u);u.length<h;)u+=" ";else if(8&w&&_!==1/0&&!isNaN(_)){for(;u.length<h-(4&w||16&w?1:0);)u="0"+u;(4&w||16&w)&&(u=(4&w?"+":" ")+u)}else for((4&w||16&w)&&(u=(4&w?"+":" ")+u);u.length<h;)u=" "+u}else{if(_===-1/0)u="Inf";else switch(e.charAt(c)){case"f":u=(-_).toFixed(-1===f?6:f);break;case"e":case"E":u=(-_).toExponential(-1===f?6:f);break;case"g":case"G":u=(-_).toExponential(),(d=parseInt(u.split("e")[1],10))<-4||d>=(-1===f?6:f)||(u=(-_).toPrecision(-1===f?1&w?6:void 0:f))}if(2&w)for(u="-"+u;u.length<h;)u+=" ";else if(8&w&&_!==-1/0){for(;u.length<h-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<h;)u=" "+u}e.charAt(c)!==e.charAt(c).toUpperCase()||_===1/0||_===-1/0||isNaN(_)||(u=u.toUpperCase()),u=u.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":i.$raise(t.const_get_relative(ht,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((_=P())["$respond_to?"]("to_ary")&&(_=_.$to_ary()[0]),1!==(u=_["$respond_to?"]("to_str")?_.$to_str():String.fromCharCode(t.const_get_relative(ht,"Opal").$coerce_to(_,t.const_get_relative(ht,"Integer"),"to_int"))).length&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"%c requires a character"),2&w)for(;u.length<h;)u+=" ";else for(;u.length<h;)u=" "+u;break t;case"p":if(u=P().$inspect(),-1!==f&&(u=u.slice(0,f)),2&w)for(;u.length<h;)u+=" ";else for(;u.length<h;)u=" "+u;break t;case"s":if(u=P().$to_s(),-1!==f&&(u=u.slice(0,f)),2&w)for(;u.length<h;)u+=" ";else for(;u.length<h;)u=" "+u;break t;default:i.$raise(t.const_get_relative(ht,"ArgumentError"),"malformed format string - %"+e.charAt(c))}void 0===u&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"malformed format string - %"),E+=e.slice(A,l)+u,A=c+1}return mt.DEBUG&&R>=0&&S<r.length&&i.$raise(t.const_get_relative(ht,"ArgumentError"),"too many arguments for format string"),E+e.slice(A)},E.$$arity=-2),t.defn(dt,"$hash",A=function(){return this.$__id__()},A.$$arity=0),t.defn(dt,"$initialize_copy",O=function(t){return pt},O.$$arity=1),t.defn(dt,"$inspect",S=function(){return this.$to_s()},S.$$arity=0),t.defn(dt,"$instance_of?",R=function(e){return e.$$is_class||e.$$is_module||this.$raise(t.const_get_relative(ht,"TypeError"),"class or module required"),this.$$class===e},R.$$arity=1),t.defn(dt,"$instance_variable_defined?",T=function(e){return e=t.const_get_relative(ht,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(this,e.substr(1))},T.$$arity=1),t.defn(dt,"$instance_variable_get",M=function(e){e=t.const_get_relative(ht,"Opal")["$instance_variable_name!"](e);var n=this[t.ivar(e.substr(1))];return null==n?pt:n},M.$$arity=1),t.defn(dt,"$instance_variable_set",I=function(e,n){return e=t.const_get_relative(ht,"Opal")["$instance_variable_name!"](e),this[t.ivar(e.substr(1))]=n},I.$$arity=2),t.defn(dt,"$remove_instance_variable",q=function(e){e=t.const_get_relative(ht,"Opal")["$instance_variable_name!"](e);var n,r=t.ivar(e.substr(1));return this.hasOwnProperty(r)?(n=this[r],delete this[r],n):this.$raise(t.const_get_relative(ht,"NameError"),"instance variable "+e+" not defined")},q.$$arity=1),t.defn(dt,"$instance_variables",C=function(){var t,e=[];for(var n in this)this.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t="$"===n.substr(-1)?n.slice(0,n.length-1):n,e.push("@"+t));return e},C.$$arity=0),t.defn(dt,"$Integer",N=function(e,n){var r,i,s,$=this;return e.$$is_string?"0"===e?0:(void 0===n?n=0:(1===(n=t.const_get_relative(ht,"Opal").$coerce_to(n,t.const_get_relative(ht,"Integer"),"to_int"))||n<0||n>36)&&$.$raise(t.const_get_relative(ht,"ArgumentError"),"invalid radix "+n),i=(i=(i=e.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,i,s){switch(s){case"0b":if(0===n||2===n)return n=2,i;case"0":case"0o":if(0===n||8===n)return n=8,i;case"0d":if(0===n||10===n)return n=10,i;case"0x":if(0===n||16===n)return n=16,i}$.$raise(t.const_get_relative(ht,"ArgumentError"),'invalid value for Integer(): "'+e+'"')}),s="0-"+((n=0===n?10:n)<=10?n-1:"9a-"+String.fromCharCode(n-11+97)),new RegExp("^\\s*[+-]?["+s+"]+\\s*$").test(i)||$.$raise(t.const_get_relative(ht,"ArgumentError"),'invalid value for Integer(): "'+e+'"'),r=parseInt(i,n),isNaN(r)&&$.$raise(t.const_get_relative(ht,"ArgumentError"),'invalid value for Integer(): "'+e+'"'),r):(void 0!==n&&$.$raise(t.const_get_relative(ht,"ArgumentError"),"base specified for non string value"),e===pt&&$.$raise(t.const_get_relative(ht,"TypeError"),"can't convert nil into Integer"),e.$$is_number?((e===1/0||e===-1/0||isNaN(e))&&$.$raise(t.const_get_relative(ht,"FloatDomainError"),e),Math.floor(e)):e["$respond_to?"]("to_int")&&(r=e.$to_int())!==pt?r:t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Integer"),"to_i"))},N.$$arity=-2),t.defn(dt,"$Float",z=function(e){var n;return e===pt&&this.$raise(t.const_get_relative(ht,"TypeError"),"can't convert nil into Float"),e.$$is_string?(n=(n=e.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(n)?this.$Integer(n):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(n)||this.$raise(t.const_get_relative(ht,"ArgumentError"),'invalid value for Float(): "'+e+'"'),parseFloat(n))):t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Float"),"to_f")},z.$$arity=1),t.defn(dt,"$Hash",P=function(e){var n;return vt(vt(n=e["$nil?"]())?n:e["$=="]([]))?bt([],{}):vt(t.const_get_relative(ht,"Hash")["$==="](e))?e:t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash")},P.$$arity=1),t.defn(dt,"$is_a?",L=function(e){return e.$$is_class||e.$$is_module||this.$raise(t.const_get_relative(ht,"TypeError"),"class or module required"),t.is_a(this,e)},L.$$arity=1),t.defn(dt,"$itself",D=function(){return this},D.$$arity=0),t.alias(dt,"kind_of?","is_a?"),t.defn(dt,"$lambda",B=function(){var t=B.$$p,e=t||pt;return t&&(B.$$p=null),e.$$is_lambda=!0,e},B.$$arity=0),t.defn(dt,"$load",j=function(e){return e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"String"),"to_str"),t.load(e)},j.$$arity=1),t.defn(dt,"$loop",F=function(){var e,n=F.$$p,r=n||pt,i=pt;if(n&&(F.$$p=null),r===pt)return yt(this,"enum_for",["loop"],((e=function(){return e.$$s,t.const_get_qualified(t.const_get_relative(ht,"Float"),"INFINITY")}).$$s=this,e.$$arity=0,e));for(;vt(!0);)try{t.yieldX(r,[])}catch(e){if(!t.rescue(e,[t.const_get_relative(ht,"StopIteration")]))throw e;i=e;try{return i.$result()}finally{t.pop_exception()}}return this},F.$$arity=0),t.defn(dt,"$nil?",U=function(){return!1},U.$$arity=0),t.alias(dt,"object_id","__id__"),t.defn(dt,"$printf",H=function(n){var r,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var $=0;$<i;$++)r[$-0]=arguments[$];return vt(e(r.$length(),0))&&this.$print(yt(this,"format",t.to_a(r))),pt},H.$$arity=-1),t.defn(dt,"$proc",G=function(){var e=G.$$p,n=e||pt;return e&&(G.$$p=null),vt(n)||this.$raise(t.const_get_relative(ht,"ArgumentError"),"tried to create Proc object without a block"),n.$$is_lambda=!1,n},G.$$arity=0),t.defn(dt,"$puts",Y=function(e){var n;null==mt.stdout&&(mt.stdout=pt);var r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];return yt(mt.stdout,"puts",t.to_a(n))},Y.$$arity=-1),t.defn(dt,"$p",W=function(t){var e,n,r,i,s=arguments.length,$=s-0;$<0&&($=0),n=new Array($);for(var a=0;a<s;a++)n[a-0]=arguments[a];return yt(n,"each",[],((e=function(t){return e.$$s,null==mt.stdout&&(mt.stdout=pt),null==t&&(t=pt),mt.stdout.$puts(t.$inspect())}).$$s=this,e.$$arity=1,e)),vt((r=n.$length(),i=1,"number"==typeof r&&"number"==typeof i?r<=i:r["$<="](i)))?n["$[]"](0):n},W.$$arity=-1),t.defn(dt,"$print",X=function(e){var n;null==mt.stdout&&(mt.stdout=pt);var r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];return yt(mt.stdout,"print",t.to_a(n))},X.$$arity=-1),t.defn(dt,"$warn",K=function(e){var n,r;null==mt.VERBOSE&&(mt.VERBOSE=pt),null==mt.stderr&&(mt.stderr=pt);var i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var $=0;$<i;$++)r[$-0]=arguments[$];return vt(vt(n=mt.VERBOSE["$nil?"]())?n:r["$empty?"]())?pt:yt(mt.stderr,"puts",t.to_a(r))},K.$$arity=-1),t.defn(dt,"$raise",V=function(e,n,r){if(null==mt["!"]&&(mt["!"]=pt),null==n&&(n=pt),null==r&&(r=pt),null==e&&mt["!"]!==pt)throw mt["!"];throw null==e?e=t.const_get_relative(ht,"RuntimeError").$new():e.$$is_string?e=t.const_get_relative(ht,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(n):e["$kind_of?"](t.const_get_relative(ht,"Exception"))||(e=t.const_get_relative(ht,"TypeError").$new("exception class/object expected")),mt["!"]!==pt&&t.exceptions.push(mt["!"]),mt["!"]=e,e},V.$$arity=-1),t.alias(dt,"fail","raise"),t.defn(dt,"$rand",J=function(e){return void 0===e?t.const_get_qualified(t.const_get_relative(ht,"Random"),"DEFAULT").$rand():(e.$$is_number&&(e<0&&(e=Math.abs(e)),e%1!=0&&(e=e.$to_i()),0===e&&(e=void 0)),t.const_get_qualified(t.const_get_relative(ht,"Random"),"DEFAULT").$rand(e))},J.$$arity=-1),t.defn(dt,"$respond_to?",Z=function(t,e){if(null==e&&(e=!1),vt(this["$respond_to_missing?"](t,e)))return!0;var n=this["$"+t];return"function"==typeof n&&!n.$$stub},Z.$$arity=-2),t.defn(dt,"$respond_to_missing?",Q=function(t,e){return null==e&&(e=!1),!1},Q.$$arity=-2),t.defn(dt,"$require",tt=function(e){return e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"String"),"to_str"),t.require(e)},tt.$$arity=1),t.defn(dt,"$require_relative",et=function(e){return t.const_get_relative(ht,"Opal")["$try_convert!"](e,t.const_get_relative(ht,"String"),"to_str"),e=t.const_get_relative(ht,"File").$expand_path(t.const_get_relative(ht,"File").$join(t.current_file,"..",e)),t.require(e)},et.$$arity=1),t.defn(dt,"$require_tree",nt=function(e){(e=t.const_get_relative(ht,"File").$expand_path(e))["$=="](".")&&(e="");for(var n in t.modules)n["$start_with?"](e)&&t.require(n);return pt},nt.$$arity=1),t.alias(dt,"send","__send__"),t.alias(dt,"public_send","__send__"),t.defn(dt,"$singleton_class",rt=function(){return t.get_singleton_class(this)},rt.$$arity=0),t.defn(dt,"$sleep",it=function(e){null==e&&(e=pt),e===pt&&this.$raise(t.const_get_relative(ht,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||this.$raise(t.const_get_relative(ht,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&this.$raise(t.const_get_relative(ht,"ArgumentError"),"time interval must be positive");for(var n=new Date;new Date-n<=1e3*e;);return e},it.$$arity=-1),t.alias(dt,"sprintf","format"),t.defn(dt,"$srand",st=function(e){return null==e&&(e=t.const_get_relative(ht,"Random").$new_seed()),t.const_get_relative(ht,"Random").$srand(e)},st.$$arity=-1),t.defn(dt,"$String",$t=function(e){var n;return vt(n=t.const_get_relative(ht,"Opal")["$coerce_to?"](e,t.const_get_relative(ht,"String"),"to_str"))?n:t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"String"),"to_s")},$t.$$arity=1),t.defn(dt,"$tap",at=function(){var e=at.$$p,n=e||pt;return e&&(at.$$p=null),t.yield1(n,this),this},at.$$arity=0),t.defn(dt,"$to_proc",ot=function(){return this},ot.$$arity=0),t.defn(dt,"$to_s",lt=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},lt.$$arity=0),t.defn(dt,"$catch",ct=function(e){var n=this,r=ct.$$p,i=r||pt,s=pt;r&&(ct.$$p=null);try{return t.yieldX(i,[])}catch(r){if(!t.rescue(r,[t.const_get_relative(ht,"UncaughtThrowError")]))throw r;s=r;try{return s.$sym()["$=="](e)?s.$arg():n.$raise()}finally{t.pop_exception()}}},ct.$$arity=1),t.defn(dt,"$throw",_t=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];return this.$raise(t.const_get_relative(ht,"UncaughtThrowError").$new(n))},_t.$$arity=-1),t.defn(dt,"$open",ut=function(e){var n,r=ut.$$p,i=r||pt,s=arguments.length,$=s-0;$<0&&($=0),n=new Array($);for(var a=0;a<s;a++)n[a-0]=arguments[a];return r&&(ut.$$p=null),yt(t.const_get_relative(ht,"File"),"open",t.to_a(n),i.$to_proc())},ut.$$arity=-1),function(e,n,r){function i(){}var s=i=xt(ft[0],null,"Object",i),$=(s.$$proto,[s].concat(r));return s.$include(t.const_get_relative($,"Kernel"))}(0,0,ft)},Opal.modules["corelib/error"]=function(t){t.top;var e,n,r,i,s,$,a=[],o=t.nil,l=(t.breaker,t.slice,t.klass),c=t.send,_=t.truthy,u=t.module;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(e,n,r){function i(){}var s,$,u,d,h,f,p,g,v=i=l(a[0],n,"Exception",i),m=v.$$proto,y=[v].concat(r);m.message=o;var b=t.const_get_relative(y,"Kernel").$raise;t.defs(v,"$new",s=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];var $=n.length>0?n[0]:o,a=new this.$$alloc($);return a.name=this.$$name,a.message=$,t.send(a,a.$initialize,n),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(a,b),a},s.$$arity=-1),t.defs(v,"$exception",$=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];return c(this,"new",t.to_a(n))},$.$$arity=-1),t.defn(v,"$initialize",u=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return this.message=e.length>0?e[0]:o},u.$$arity=-1),t.defn(v,"$backtrace",d=function(){var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},d.$$arity=0),t.defn(v,"$exception",h=function(t){if(null==t&&(t=o),t===o||this===t)return this;var e=this.$clone();return e.message=t,e},h.$$arity=-1),t.defn(v,"$message",f=function(){return this.$to_s()},f.$$arity=0),t.defn(v,"$inspect",p=function(){var t=o;return t=this.$to_s(),_(t["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},p.$$arity=0),t.defn(v,"$to_s",g=function(){var t,e;return _(t=_(e=this.message)?this.message.$to_s():e)?t:this.$class().$to_s()},g.$$arity=0)}(0,Error,a),function(t,e,n){function r(){}var i=r=l(t,e,"ScriptError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"Exception"),a),function(t,e,n){function r(){}var i=r=l(t,e,"SyntaxError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"ScriptError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"LoadError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"ScriptError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"NotImplementedError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"ScriptError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"SystemExit",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"Exception"),a),function(t,e,n){function r(){}var i=r=l(t,e,"NoMemoryError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"Exception"),a),function(t,e,n){function r(){}var i=r=l(t,e,"SignalException",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"Exception"),a),function(t,e,n){function r(){}var i=r=l(t,e,"Interrupt",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"Exception"),a),function(t,e,n){function r(){}var i=r=l(t,e,"SecurityError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"Exception"),a),function(t,e,n){function r(){}var i=r=l(t,e,"StandardError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"Exception"),a),function(t,e,n){function r(){}var i=r=l(t,e,"ZeroDivisionError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"NameError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"NoMethodError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"NameError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"RuntimeError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"LocalJumpError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"TypeError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"ArgumentError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"IndexError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"StopIteration",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"IndexError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"KeyError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"IndexError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"RangeError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"FloatDomainError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"RangeError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"IOError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),function(t,e,n){function r(){}var i=r=l(t,e,"SystemCallError",r);i.$$proto,[i].concat(n)}(a[0],t.const_get_relative(a,"StandardError"),a),e=a,(n=u(a[0],"Errno")).$$proto,function(e,n,r){function i(){}var s,$=i=l(e,n,"EINVAL",i);$.$$proto,[$].concat(r),t.defs($,"$new",s=function(e){var n,r,$=s.$$p,a=o;return null==e&&(e=o),$&&(s.$$p=null),a="Invalid argument",_(e)&&(r=" - "+e,a="number"==typeof(n=a)&&"number"==typeof r?n+r:n["$+"](r)),c(this,t.find_super_dispatcher(this,"new",s,!1,i),[a],null)},s.$$arity=-1)}((r=[n].concat(e))[0],t.const_get_relative(r,"SystemCallError"),r),function(e,n,r){function i(){}var s,$=i=l(e,n,"UncaughtThrowError",i),a=$.$$proto;[$].concat(r);a.sym=o,$.$attr_reader("sym","arg"),t.defn($,"$initialize",s=function(e){var n,r,i=s.$$p;return i&&(s.$$p=null),this.sym=e["$[]"](0),_((n=e.$length(),r=1,"number"==typeof n&&"number"==typeof r?n>r:n["$>"](r)))&&(this.arg=e["$[]"](1)),c(this,t.find_super_dispatcher(this,"initialize",s,!1),["uncaught throw "+this.sym.$inspect()],null)},s.$$arity=1)}(a[0],t.const_get_relative(a,"ArgumentError"),a),function(e,n,r){function i(){}var s,$=i=l(a[0],null,"NameError",i);$.$$proto,[$].concat(r);$.$attr_reader("name"),t.defn($,"$initialize",s=function(e,n){var r=s.$$p;return null==n&&(n=o),r&&(s.$$p=null),c(this,t.find_super_dispatcher(this,"initialize",s,!1),[e],null),this.name=n},s.$$arity=-2)}(0,0,a),function(e,n,r){function i(){}var s,$=i=l(a[0],null,"NoMethodError",i);$.$$proto,[$].concat(r);$.$attr_reader("args"),t.defn($,"$initialize",s=function(e,n,r){var i=s.$$p;return null==n&&(n=o),null==r&&(r=[]),i&&(s.$$p=null),c(this,t.find_super_dispatcher(this,"initialize",s,!1),[e,n],null),this.args=r},s.$$arity=-2)}(0,0,a),function(t,e,n){function r(){}var i=r=l(a[0],null,"StopIteration",r);i.$$proto,[i].concat(n);i.$attr_reader("result")}(0,0,a),i=a,(s=u(a[0],"JS")).$$proto,void function(t,e,n){function r(){}var i=r=l(t,null,"Error",r);i.$$proto,[i].concat(n)}(($=[s].concat(i))[0],0,$)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[];t.nil,t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.3.4"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.0.rc1"),t.const_set(e[0],"RUBY_RELEASE_DATE","2017-05-01"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+t.const_get_relative(e,"RUBY_ENGINE_VERSION")+" ("+t.const_get_relative(e,"RUBY_RELEASE_DATE")+" revision "+t.const_get_relative(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(s,$,a){function o(){}var l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O=o=r(e[0],null,"NilClass",o),S=O.$$proto,R=[O].concat(a);S.$$meta=O,t.defn(O,"$!",l=function(){return!0},l.$$arity=0),t.defn(O,"$&",c=function(t){return!1},c.$$arity=1),t.defn(O,"$|",_=function(t){return!1!==t&&t!==n},_.$$arity=1),t.defn(O,"$^",u=function(t){return!1!==t&&t!==n},u.$$arity=1),t.defn(O,"$==",d=function(t){return t===n},d.$$arity=1),t.defn(O,"$dup",h=function(){return this.$raise(t.const_get_relative(R,"TypeError"),"can't dup "+this.$class())},h.$$arity=0),t.defn(O,"$clone",f=function(){return this.$raise(t.const_get_relative(R,"TypeError"),"can't clone "+this.$class())},f.$$arity=0),t.defn(O,"$inspect",p=function(){return"nil"},p.$$arity=0),t.defn(O,"$nil?",g=function(){return!0},g.$$arity=0),t.defn(O,"$singleton_class",v=function(){return t.const_get_relative(R,"NilClass")},v.$$arity=0),t.defn(O,"$to_a",m=function(){return[]},m.$$arity=0),t.defn(O,"$to_h",y=function(){return t.hash()},y.$$arity=0),t.defn(O,"$to_i",b=function(){return 0},b.$$arity=0),t.alias(O,"to_f","to_i"),t.defn(O,"$to_s",x=function(){return""},x.$$arity=0),t.defn(O,"$to_c",k=function(){return t.const_get_relative(R,"Complex").$new(0,0)},k.$$arity=0),t.defn(O,"$rationalize",w=function(e){var n,r,s,$=arguments.length,a=$-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<$;o++)n[o-0]=arguments[o];return i((r=n.$length(),s=1,"number"==typeof r&&"number"==typeof s?r>s:r["$>"](s)))&&this.$raise(t.const_get_relative(R,"ArgumentError")),this.$Rational(0,1)},w.$$arity=-1),t.defn(O,"$to_r",E=function(){return this.$Rational(0,1)},E.$$arity=0),t.defn(O,"$instance_variables",A=function(){return[]},A.$$arity=0)}(0,0,e),t.const_set(e[0],"NIL",n)},Opal.modules["corelib/boolean"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass);return t.add_stubs(["$raise","$class"]),function(i,s,$){function a(){}var o,l,c,_,u,d,h,f,p,g,v=a=r(e[0],s,"Boolean",a),m=v.$$proto,y=[v].concat($);m.$$is_boolean=!0,m.$$meta=v,t.defn(v,"$__id__",o=function(){return this.valueOf()?2:0},o.$$arity=0),t.alias(v,"object_id","__id__"),t.defn(v,"$!",l=function(){return 1!=this},l.$$arity=0),t.defn(v,"$&",c=function(t){return 1==this&&(!1!==t&&t!==n)},c.$$arity=1),t.defn(v,"$|",_=function(t){return 1==this||!1!==t&&t!==n},_.$$arity=1),t.defn(v,"$^",u=function(t){return 1==this?!1===t||t===n:!1!==t&&t!==n},u.$$arity=1),t.defn(v,"$==",d=function(t){return 1==this===t.valueOf()},d.$$arity=1),t.alias(v,"equal?","=="),t.alias(v,"eql?","=="),t.defn(v,"$singleton_class",h=function(){return t.const_get_relative(y,"Boolean")},h.$$arity=0),t.defn(v,"$to_s",f=function(){return 1==this?"true":"false"},f.$$arity=0),t.defn(v,"$dup",p=function(){return this.$raise(t.const_get_relative(y,"TypeError"),"can't dup "+this.$class())},p.$$arity=0),t.defn(v,"$clone",g=function(){return this.$raise(t.const_get_relative(y,"TypeError"),"can't clone "+this.$class())},g.$$arity=0)}(0,Boolean,e),t.const_set(e[0],"TrueClass",t.const_get_relative(e,"Boolean")),t.const_set(e[0],"FalseClass",t.const_get_relative(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var r,i,s,$,a,o,l,c,_,u,d=[],h=t.nil,f=(t.breaker,t.slice,t.module),p=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),r=d,(_=f(d[0],"Comparable")).$$proto,u=[_].concat(r),t.defs(_,"$normalize",i=function(r){return p(t.const_get_relative(u,"Integer")["$==="](r))?r:p(e(r,0))?1:p(n(r,0))?-1:0},i.$$arity=1),t.defn(_,"$==",s=function(e){var n=h;try{return!!p(this["$equal?"](e))||this["$<=>"]!=t.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!p(n=this["$<=>"](e))&&0==t.const_get_relative(u,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[t.const_get_relative(u,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},s.$$arity=1),t.defn(_,"$>",$=function(e){var n;return p(n=this["$<=>"](e))||this.$raise(t.const_get_relative(u,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed"),t.const_get_relative(u,"Comparable").$normalize(n)>0},$.$$arity=1),t.defn(_,"$>=",a=function(e){var n;return p(n=this["$<=>"](e))||this.$raise(t.const_get_relative(u,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed"),t.const_get_relative(u,"Comparable").$normalize(n)>=0},a.$$arity=1),t.defn(_,"$<",o=function(e){var n;return p(n=this["$<=>"](e))||this.$raise(t.const_get_relative(u,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed"),t.const_get_relative(u,"Comparable").$normalize(n)<0},o.$$arity=1),t.defn(_,"$<=",l=function(e){var n;return p(n=this["$<=>"](e))||this.$raise(t.const_get_relative(u,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed"),t.const_get_relative(u,"Comparable").$normalize(n)<=0},l.$$arity=1),void t.defn(_,"$between?",c=function(t,r){return!n(this,t)&&!e(this,r)},c.$$arity=2)},Opal.modules["corelib/regexp"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.send,s=t.truthy,$=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,n){function i(){}var s=i=r(t,e,"RegexpError",i);s.$$proto,[s].concat(n)}(e[0],t.const_get_relative(e,"StandardError"),e),function(a,o,l){function c(){}var _,u,d,h,f,p,g,v,m,y=c=r(e[0],o,"Regexp",c),b=y.$$proto,x=[y].concat(l);t.const_set(x[0],"IGNORECASE",1),t.const_set(x[0],"MULTILINE",4),b.$$is_regexp=!0,function(e,r){e.$$proto;var a,o,l,c,_,u=[e].concat(r);t.defn(e,"$allocate",a=function(){var e,r=a.$$p,s=n,$=n,o=n;for(r&&(a.$$p=null),o=0,e=arguments.length,$=new Array(e);o<e;o++)$[o]=arguments[o];return(s=i(this,t.find_super_dispatcher(this,"allocate",a,!1),$,r)).uninitialized=!0,s},a.$$arity=0),t.defn(e,"$escape",o=function(e){return t.escape_regexp(e)},o.$$arity=1),t.defn(e,"$last_match",l=function(t){return null==$["~"]&&($["~"]=n),null==t&&(t=n),s(t["$nil?"]())?$["~"]:$["~"]["$[]"](t)},l.$$arity=-1),t.alias(e,"quote","escape"),t.defn(e,"$union",c=function(e){var n,r,i,s,$,a,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];if(0==n.length)return/(?!)/;r=n[0].$$is_array,n.length>1&&r&&this.$raise(t.const_get_relative(u,"TypeError"),"no implicit conversion of Array into String"),r&&(n=n[0]),$=void 0,i=[];for(var _=0;_<n.length;_++)(s=n[_]).$$is_string?i.push(this.$escape(s)):s.$$is_regexp?(a=s.$options(),void 0!=$&&$!=a&&this.$raise(t.const_get_relative(u,"TypeError"),"All expressions must use the same options"),$=a,i.push("("+s.source+")")):i.push(this.$escape(s.$to_str()));return this.$new(i.$join("|"),$)},c.$$arity=-1),t.defn(e,"$new",_=function(e,n){if(e.$$is_regexp)return new RegExp(e);if("\\"===(e=t.const_get_relative(u,"Opal")["$coerce_to!"](e,t.const_get_relative(u,"String"),"to_str")).charAt(e.length-1)&&"\\"!==e.charAt(e.length-2)&&this.$raise(t.const_get_relative(u,"RegexpError"),"too short escape sequence: /"+e+"/"),void 0===n||n["$!"]())return new RegExp(e);if(n.$$is_number){var r="";t.const_get_relative(u,"IGNORECASE")&n&&(r+="i"),t.const_get_relative(u,"MULTILINE")&n&&(r+="m"),n=r}else n="i";return new RegExp(e,n)},_.$$arity=-2)}(t.get_singleton_class(y),x),t.defn(y,"$==",_=function(t){return t.constructor==RegExp&&this.toString()===t.toString()},_.$$arity=1),t.defn(y,"$===",u=function(e){return this.$match(t.const_get_relative(x,"Opal")["$coerce_to?"](e,t.const_get_relative(x,"String"),"to_str"))!==n},u.$$arity=1),t.defn(y,"$=~",d=function(t){var e;return null==$["~"]&&($["~"]=n),s(e=this.$match(t))?$["~"].$begin(0):e},d.$$arity=1),t.alias(y,"eql?","=="),t.defn(y,"$inspect",h=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var n=e[1],r=e[2],i=n.split(""),s=i.length,$=!1,a="",o=0;o<s;o++){var l=i[o];$||"/"!=l||(a=a.concat("\\")),a=a.concat(l),$="\\"==l&&!$}return"/"+a+"/"+r}return t},h.$$arity=0),t.defn(y,"$match",f=function(e,r){var i=f.$$p,s=i||n;if(null==$["~"]&&($["~"]=n),i&&(f.$$p=null),this.uninitialized&&this.$raise(t.const_get_relative(x,"TypeError"),"uninitialized Regexp"),r=void 0===r?0:t.const_get_relative(x,"Opal").$coerce_to(r,t.const_get_relative(x,"Integer"),"to_int"),e===n)return $["~"]=n;if(e=t.const_get_relative(x,"Opal").$coerce_to(e,t.const_get_relative(x,"String"),"to_str"),r<0&&(r+=e.length)<0)return $["~"]=n;var a=this.source,o="g";this.multiline&&(a=a.replace(".","[\\s\\S]"),o+="m");for(var l,c=new RegExp(a,o+(this.ignoreCase?"i":""));;){if(null===(l=c.exec(e)))return $["~"]=n;if(l.index>=r)return $["~"]=t.const_get_relative(x,"MatchData").$new(c,l),s===n?$["~"]:s.$call($["~"]);c.lastIndex=l.index+1}},f.$$arity=-2),t.defn(y,"$~",p=function(){return null==$._&&($._=n),this["$=~"]($._)},p.$$arity=0),t.defn(y,"$source",g=function(){return this.source},g.$$arity=0),t.defn(y,"$options",v=function(){this.uninitialized&&this.$raise(t.const_get_relative(x,"TypeError"),"uninitialized Regexp");var e=0;return this.multiline&&(e|=t.const_get_relative(x,"MULTILINE")),this.ignoreCase&&(e|=t.const_get_relative(x,"IGNORECASE")),e},v.$$arity=0),t.defn(y,"$casefold?",m=function(){return this.ignoreCase},m.$$arity=0),t.alias(y,"to_s","source")}(0,RegExp,e),function(a,o,l){function c(){}var _,u,d,h,f,p,g,v,m,y,b,x,k=c=r(e[0],null,"MatchData",c),w=k.$$proto,E=[k].concat(l);return w.matches=n,k.$attr_reader("post_match","pre_match","regexp","string"),t.defn(k,"$initialize",_=function(t,e){$["~"]=this,this.regexp=t,this.begin=e.index,this.string=e.input,this.pre_match=e.input.slice(0,e.index),this.post_match=e.input.slice(e.index+e[0].length),this.matches=[];for(var r=0,i=e.length;r<i;r++){var s=e[r];null==s?this.matches.push(n):this.matches.push(s)}},_.$$arity=2),t.defn(k,"$[]",u=function(e){var n,r=arguments.length,s=r-0;s<0&&(s=0),n=new Array(s);for(var $=0;$<r;$++)n[$-0]=arguments[$];return i(this.matches,"[]",t.to_a(n))},u.$$arity=-1),t.defn(k,"$offset",d=function(e){return 0!==e&&this.$raise(t.const_get_relative(E,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[e].length]},d.$$arity=1),t.defn(k,"$==",h=function(e){var n,r,i,$;return!!s(t.const_get_relative(E,"MatchData")["$==="](e))&&(s(n=s(r=s(i=s($=this.string==e.string)?this.regexp.toString()==e.regexp.toString():$)?this.pre_match==e.pre_match:i)?this.post_match==e.post_match:r)?this.begin==e.begin:n)},h.$$arity=1),t.alias(k,"eql?","=="),t.defn(k,"$begin",f=function(e){return 0!==e&&this.$raise(t.const_get_relative(E,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},f.$$arity=1),t.defn(k,"$end",p=function(e){return 0!==e&&this.$raise(t.const_get_relative(E,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[e].length},p.$$arity=1),t.defn(k,"$captures",g=function(){return this.matches.slice(1)},g.$$arity=0),t.defn(k,"$inspect",v=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,n=this.matches.length;e<n;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},v.$$arity=0),t.defn(k,"$length",m=function(){return this.matches.length},m.$$arity=0),t.alias(k,"size","length"),t.defn(k,"$to_a",y=function(){return this.matches},y.$$arity=0),t.defn(k,"$to_s",b=function(){return this.matches[0]},b.$$arity=0),t.defn(k,"$values_at",x=function(e){var r,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var $=0;$<i;$++)r[$-0]=arguments[$];var a,o,l,c=[];for(a=0;a<r.length;a++)r[a].$$is_range&&((o=r[a].$to_a()).unshift(a,1),Array.prototype.splice.apply(r,o)),(l=t.const_get_relative(E,"Opal")["$coerce_to!"](r[a],t.const_get_relative(E,"Integer"),"to_int"))<0&&(l+=this.matches.length)<0?c.push(n):c.push(this.matches[l]);return c},x.$$arity=-1),n&&"values_at"}(0,0,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,i=[],s=t.nil,$=(t.breaker,t.slice,t.klass),a=t.truthy,o=t.send,l=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),r.$require("corelib/comparable"),r.$require("corelib/regexp"),function(r,c,_){function u(){}var d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt,it,st,$t,at,ot,lt,ct,_t,ut,dt,ht,ft,pt,gt,vt,mt,yt,bt,xt,kt,wt,Et,At,Ot=u=$(i[0],c,"String",u),St=Ot.$$proto,Rt=[Ot].concat(_);function Tt(e){function n(e){var n,r,i,s,$,a,o="",l=e.length;for(n=0;n<l;n++)if("-"===(r=e.charAt(n))&&n>0&&n<l-1&&!i){for((s=e.charCodeAt(n-1))>($=e.charCodeAt(n+1))&&Ot.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+s+"-"+$+'" in string transliteration'),a=s+1;a<$+1;a++)o+=String.fromCharCode(a);i=!0,n++}else i="\\"===r,o+=r;return o}function r(t,e){if(0===t.length)return e;var n,r,i="",s=t.length;for(n=0;n<s;n++)r=t.charAt(n),-1!==e.indexOf(r)&&(i+=r);return i}var i,s,$,a,o,l,c="",_="";for(i=0,s=e.length;i<s;i++)$=n((a="^"===($=t.const_get_relative(Rt,"Opal").$coerce_to(e[i],t.const_get_relative(Rt,"String"),"to_str")).charAt(0)&&$.length>1)?$.slice(1):$),a?_=r(_,$):c=r(c,$);if(c.length>0&&_.length>0){for(l="",i=0,s=c.length;i<s;i++)o=c.charAt(i),-1===_.indexOf(o)&&(l+=o);c=l,_=""}return c.length>0?"["+t.const_get_relative(Rt,"Regexp").$escape(c)+"]":_.length>0?"[^"+t.const_get_relative(Rt,"Regexp").$escape(_)+"]":null}St.length=s,Ot.$include(t.const_get_relative(Rt,"Comparable")),St.$$is_string=!0,t.defn(Ot,"$__id__",d=function(){return this.toString()},d.$$arity=0),t.alias(Ot,"object_id","__id__"),t.defs(Ot,"$try_convert",h=function(e){return t.const_get_relative(Rt,"Opal")["$coerce_to?"](e,t.const_get_relative(Rt,"String"),"to_str")},h.$$arity=1),t.defs(Ot,"$new",f=function(e){return null==e&&(e=""),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),new String(e)},f.$$arity=-1),t.defn(Ot,"$initialize",p=function(e){return void 0===e?this:this.$raise(t.const_get_relative(Rt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},p.$$arity=-1),t.defn(Ot,"$%",g=function(e){var n=this;return a(t.const_get_relative(Rt,"Array")["$==="](e))?o(n,"format",[n].concat(t.to_a(e))):n.$format(n,e)},g.$$arity=1),t.defn(Ot,"$*",v=function(e){if((e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),"negative argument"),0===e)return"";var n="",r=this.toString();for(r.length*e>=1<<28&&this.$raise(t.const_get_relative(Rt,"RangeError"),"multiply count must not overflow maximum string size");1==(1&e)&&(n+=r),0!==(e>>>=1);)r+=r;return n},v.$$arity=1),t.defn(Ot,"$+",m=function(e){return this+(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str")).$to_s()},m.$$arity=1),t.defn(Ot,"$<=>",y=function(t){if(a(t["$respond_to?"]("to_str")))return this>(t=t.$to_str().$to_s())?1:this<t?-1:0;var e=t["$<=>"](this);return e===s?s:e>0?-1:e<0?1:0},y.$$arity=1),t.defn(Ot,"$==",b=function(e){return e.$$is_string?this.toString()===e.toString():!!t.const_get_relative(Rt,"Opal")["$respond_to?"](e,"to_str")&&e["$=="](this)},b.$$arity=1),t.alias(Ot,"eql?","=="),t.alias(Ot,"===","=="),t.defn(Ot,"$=~",x=function(e){return e.$$is_string&&this.$raise(t.const_get_relative(Rt,"TypeError"),"type mismatch: String given"),e["$=~"](this)},x.$$arity=1),t.defn(Ot,"$[]",k=function(e,n){var r,i=this.length;if(e.$$is_range)return r=e.excl,n=t.const_get_relative(Rt,"Opal").$coerce_to(e.end,t.const_get_relative(Rt,"Integer"),"to_int"),e=t.const_get_relative(Rt,"Opal").$coerce_to(e.begin,t.const_get_relative(Rt,"Integer"),"to_int"),Math.abs(e)>i?s:(e<0&&(e+=i),n<0&&(n+=i),r||(n+=1),(n-=e)<0&&(n=0),this.substr(e,n));if(e.$$is_string)return null!=n&&this.$raise(t.const_get_relative(Rt,"TypeError")),-1!==this.indexOf(e)?e:s;if(e.$$is_regexp){var $=this.match(e);return null===$?(l["~"]=s,s):(l["~"]=t.const_get_relative(Rt,"MatchData").$new(e,$),null==n?$[0]:(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&-n<$.length?$[n+=$.length]:n>=0&&n<$.length?$[n]:s)}return(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&(e+=i),null==n?e>=i||e<0?s:this.substr(e,1):(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"))<0?s:e>i||e<0?s:this.substr(e,n)},k.$$arity=-2),t.alias(Ot,"byteslice","[]"),t.defn(Ot,"$capitalize",w=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},w.$$arity=0),t.defn(Ot,"$casecmp",E=function(e){var n=this;e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(n)&&r.test(e)&&(n=n.toLowerCase(),e=e.toLowerCase()),n["$<=>"](e)},E.$$arity=1),t.defn(Ot,"$center",A=function(r,i){if(null==i&&(i=" "),r=t.const_get_relative(Rt,"Opal").$coerce_to(r,t.const_get_relative(Rt,"Integer"),"to_int"),i=t.const_get_relative(Rt,"Opal").$coerce_to(i,t.const_get_relative(Rt,"String"),"to_str").$to_s(),a(i["$empty?"]())&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),a(r<=this.length))return this;var s=this.$ljust(e(n(r,this.length),2).$ceil(),i);return this.$rjust(e(n(r,this.length),2).$floor(),i)+s.slice(this.length)},A.$$arity=-2),t.defn(Ot,"$chars",O=function(){var t=O.$$p,e=t||s;return t&&(O.$$p=null),a(e)?o(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},O.$$arity=0),t.defn(Ot,"$chomp",S=function(e){return null==l["/"]&&(l["/"]=s),null==e&&(e=l["/"]),a(e===s||0===this.length)?this:"\n"===(e=t.const_get_relative(Rt,"Opal")["$coerce_to!"](e,t.const_get_relative(Rt,"String"),"to_str").$to_s())?this.replace(/\r?\n?$/,""):""===e?this.replace(/(\r?\n)+$/,""):this.length>e.length&&this.substr(this.length-e.length,e.length)===e?this.substr(0,this.length-e.length):this},S.$$arity=-1),t.defn(Ot,"$chop",R=function(){var t=this.length;return t<=1?"":"\n"===this.charAt(t-1)&&"\r"===this.charAt(t-2)?this.substr(0,t-2):this.substr(0,t-1)},R.$$arity=0),t.defn(Ot,"$chr",T=function(){return this.charAt(0)},T.$$arity=0),t.defn(Ot,"$clone",M=function(){var t=s;return(t=this.slice()).$copy_singleton_methods(this),t.$initialize_clone(this),t},M.$$arity=0),t.defn(Ot,"$dup",I=function(){var t=s;return(t=this.slice()).$initialize_dup(this),t},I.$$arity=0),t.defn(Ot,"$count",q=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];0===n.length&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=Tt(n);return null===$?0:this.length-this.replace(new RegExp($,"g"),"").length},q.$$arity=-1),t.defn(Ot,"$delete",C=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];0===n.length&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=Tt(n);return null===$?this:this.replace(new RegExp($,"g"),"")},C.$$arity=-1),t.defn(Ot,"$downcase",N=function(){return this.toLowerCase()},N.$$arity=0),t.defn(Ot,"$each_char",z=function(){var e,n=z.$$p,r=n||s;if(n&&(z.$$p=null),r===s)return o(this,"enum_for",["each_char"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i=0,$=this.length;i<$;i++)t.yield1(r,this.charAt(i));return this},z.$$arity=0),t.defn(Ot,"$each_line",P=function(e){var n,r,i,$,a,o,c,_=P.$$p,u=_||s;if(null==l["/"]&&(l["/"]=s),null==e&&(e=l["/"]),_&&(P.$$p=null),u===s)return this.$enum_for("each_line",e);if(e===s)return t.yield1(u,this),this;if(0===(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str")).length){for(r=0,i=(n=this.split(/(\n{2,})/)).length;r<i;r+=2)(n[r]||n[r+1])&&t.yield1(u,(n[r]||"")+(n[r+1]||""));return this}for(a=this.$chomp(e),o=this.length!=a.length,r=0,$=(c=a.split(e)).length;r<$;r++)r<$-1||o?t.yield1(u,c[r]+e):t.yield1(u,c[r]);return this},P.$$arity=-1),t.defn(Ot,"$empty?",L=function(){return 0===this.length},L.$$arity=0),t.defn(Ot,"$end_with?",D=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];for(var $=0,a=n.length;$<a;$++){var o=t.const_get_relative(Rt,"Opal").$coerce_to(n[$],t.const_get_relative(Rt,"String"),"to_str").$to_s();if(this.length>=o.length&&this.substr(this.length-o.length,o.length)==o)return!0}return!1},D.$$arity=-1),t.alias(Ot,"eql?","=="),t.alias(Ot,"equal?","==="),t.defn(Ot,"$gsub",B=function(e,n){var r=this,i=B.$$p,$=i||s;if(i&&(B.$$p=null),void 0===n&&$===s)return r.$enum_for("gsub",e);var a,o,c="",_=s,u=0;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(a=e.exec(r))){l["~"]=s,c+=r.slice(u);break}_=t.const_get_relative(Rt,"MatchData").$new(e,a),void 0===n?o=$(a[0]):n.$$is_hash?o=n["$[]"](a[0]).$to_s():(n.$$is_string||(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str")),o=n.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var i=a.length-1;i>0;i--)if(void 0!==a[i])return e.slice(1)+a[i];return"";case"&":return e.slice(1)+a[0];case"`":return e.slice(1)+r.slice(0,a.index);case"'":return e.slice(1)+r.slice(a.index+a[0].length);default:return e.slice(1)+(a[n]||"")}}).replace(/\\\\/g,"\\")),e.lastIndex===a.index?(c+=o+r.slice(u,a.index+1),e.lastIndex+=1):c+=r.slice(u,a.index)+o,u=e.lastIndex}return l["~"]=_,c},B.$$arity=-2),t.defn(Ot,"$hash",j=function(){return this.toString()},j.$$arity=0),t.defn(Ot,"$hex",F=function(){return this.$to_i(16)},F.$$arity=0),t.defn(Ot,"$include?",U=function(e){return e.$$is_string||(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str")),-1!==this.indexOf(e)},U.$$arity=1),t.defn(Ot,"$index",H=function(e,n){var r,i,$;if(void 0===n)n=0;else if((n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&(n+=this.length)<0)return s;if(e.$$is_regexp)for($=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(null===(i=$.exec(this))){l["~"]=s,r=-1;break}if(i.index>=n){l["~"]=t.const_get_relative(Rt,"MatchData").$new($,i),r=i.index;break}$.lastIndex=i.index+1}else r=0===(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str")).length&&n>this.length?-1:this.indexOf(e,n);return-1===r?s:r},H.$$arity=-2),t.defn(Ot,"$inspect",G=function(){var t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},G.$$arity=0),t.defn(Ot,"$intern",Y=function(){return this},Y.$$arity=0),t.defn(Ot,"$lines",W=function(t){var e=W.$$p,n=e||s,r=s;return null==l["/"]&&(l["/"]=s),null==t&&(t=l["/"]),e&&(W.$$p=null),r=o(this,"each_line",[t],n.$to_proc()),a(n)?this:r.$to_a()},W.$$arity=-1),t.defn(Ot,"$length",X=function(){return this.length},X.$$arity=0),t.defn(Ot,"$ljust",K=function(e,n){if(null==n&&(n=" "),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),a(n["$empty?"]())&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),a(e<=this.length))return this;var r=-1,i="";for(e-=this.length;++r<e;)i+=n;return this+i.slice(0,e)},K.$$arity=-2),t.defn(Ot,"$lstrip",V=function(){return this.replace(/^\s*/,"")},V.$$arity=0),t.defn(Ot,"$ascii_only?",J=function(){return this.match(/[ -~\n]*/)[0]===this},J.$$arity=0),t.defn(Ot,"$match",Z=function(e,n){var r,i=Z.$$p,$=i||s;return i&&(Z.$$p=null),a(a(r=t.const_get_relative(Rt,"String")["$==="](e))?r:e["$respond_to?"]("to_str"))&&(e=t.const_get_relative(Rt,"Regexp").$new(e.$to_str())),a(t.const_get_relative(Rt,"Regexp")["$==="](e))||this.$raise(t.const_get_relative(Rt,"TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),o(e,"match",[this,n],$.$to_proc())},Z.$$arity=-2),t.defn(Ot,"$next",Q=function(){var t=this.length;if(0===t)return"";for(var e,n=this,r=this.search(/[a-zA-Z0-9]/),i=!1;t--;){if((e=this.charCodeAt(t))>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)switch(e){case 57:i=!0,e=48;break;case 90:i=!0,e=65;break;case 122:i=!0,e=97;break;default:i=!1,e+=1}else-1===r?255===e?(i=!0,e=0):(i=!1,e+=1):i=!0;if(n=n.slice(0,t)+String.fromCharCode(e)+n.slice(t+1),i&&(0===t||t===r)){switch(e){case 65:case 97:break;default:e+=1}n=0===t?String.fromCharCode(e)+n:n.slice(0,t)+String.fromCharCode(e)+n.slice(t),i=!1}if(!i)break}return n},Q.$$arity=0),t.defn(Ot,"$oct",tt=function(){var t,e=this,n=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r)return t}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return e+i}),t=parseInt(e.replace(/_(?!_)/g,""),n),isNaN(t)?0:t)},tt.$$arity=0),t.defn(Ot,"$ord",et=function(){return this.charCodeAt(0)},et.$$arity=0),t.defn(Ot,"$partition",nt=function(e){var n,r;return e.$$is_regexp?null===(r=e.exec(this))?n=-1:(t.const_get_relative(Rt,"MatchData").$new(e,r),e=r[0],n=r.index):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),n=this.indexOf(e)),-1===n?[this,"",""]:[this.slice(0,n),this.slice(n,n+e.length),this.slice(n+e.length)]},nt.$$arity=1),t.defn(Ot,"$reverse",rt=function(){return this.split("").reverse().join("")},rt.$$arity=0),t.defn(Ot,"$rindex",it=function(e,n){var r,i,$,a;if(void 0===n)n=this.length;else if((n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&(n+=this.length)<0)return s;if(e.$$is_regexp){for(i=null,$=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));!(null===(a=$.exec(this))||a.index>n);)i=a,$.lastIndex=i.index+1;null===i?(l["~"]=s,r=-1):(t.const_get_relative(Rt,"MatchData").$new($,i),r=i.index)}else e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),r=this.lastIndexOf(e,n);return-1===r?s:r},it.$$arity=-2),t.defn(Ot,"$rjust",st=function(e,n){if(null==n&&(n=" "),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),a(n["$empty?"]())&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),a(e<=this.length))return this;var r=Math.floor(e-this.length),i=Math.floor(r/n.length),s=Array(i+1).join(n),$=r-s.length;return s+n.slice(0,$)+this},st.$$arity=-2),t.defn(Ot,"$rpartition",$t=function(e){var n,r,i,s;if(e.$$is_regexp){for(r=null,i=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));null!==(s=i.exec(this));)r=s,i.lastIndex=r.index+1;null===r?n=-1:(t.const_get_relative(Rt,"MatchData").$new(i,r),e=r[0],n=r.index)}else e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),n=this.lastIndexOf(e);return-1===n?["","",this]:[this.slice(0,n),this.slice(n,n+e.length),this.slice(n+e.length)]},$t.$$arity=1),t.defn(Ot,"$rstrip",at=function(){return this.replace(/[\s\u0000]*$/,"")},at.$$arity=0),t.defn(Ot,"$scan",ot=function(e){var n=ot.$$p,r=n||s;n&&(ot.$$p=null);var i,$=[],a=s;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(i=e.exec(this));)a=t.const_get_relative(Rt,"MatchData").$new(e,i),r===s?1==i.length?$.push(i[0]):$.push(a.$captures()):1==i.length?r(i[0]):r.call(this,a.$captures()),e.lastIndex===i.index&&(e.lastIndex+=1);return l["~"]=a,r!==s?this:$},ot.$$arity=1),t.alias(Ot,"size","length"),t.alias(Ot,"slice","[]"),t.defn(Ot,"$split",lt=function(e,n){var r;if(null==l[";"]&&(l[";"]=s),0===this.length)return[];if(void 0===n)n=0;else if(1===(n=t.const_get_relative(Rt,"Opal")["$coerce_to!"](n,t.const_get_relative(Rt,"Integer"),"to_int")))return[this];void 0!==e&&e!==s||(e=a(r=l[";"])?r:" ");var i,$,o,c=[],_=this.toString(),u=0;if(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):" "===(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s())?(e=/\s+/gm,_=_.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(c=_.split(e)).length&&c[0]===_)return c;for(;-1!==($=c.indexOf(void 0));)c.splice($,1);if(0===n){for(;""===c[c.length-1];)c.length-=1;return c}if(i=e.exec(_),n<0){if(null!==i&&""===i[0]&&-1===e.source.indexOf("(?="))for($=0,o=i.length;$<o;$++)c.push("");return c}if(null!==i&&""===i[0])return c.splice(n-1,c.length-1,c.slice(n-1).join("")),c;if(n>=c.length)return c;for($=0;null!==i&&($++,u=e.lastIndex,$+1!==n);)i=e.exec(_);return c.splice(n-1,c.length-1,_.slice(u)),c},lt.$$arity=-1),t.defn(Ot,"$squeeze",ct=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];if(0===e.length)return this.replace(/(.)\1+/g,"$1");var s=Tt(e);return null===s?this:this.replace(new RegExp("("+s+")\\1+","g"),"$1")},ct.$$arity=-1),t.defn(Ot,"$start_with?",_t=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];for(var $=0,a=n.length;$<a;$++){var o=t.const_get_relative(Rt,"Opal").$coerce_to(n[$],t.const_get_relative(Rt,"String"),"to_str").$to_s();if(0===this.indexOf(o))return!0}return!1},_t.$$arity=-1),t.defn(Ot,"$strip",ut=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ut.$$arity=0),t.defn(Ot,"$sub",dt=function(e,n){var r=this,i=dt.$$p,$=i||s;i&&(dt.$$p=null),e.$$is_regexp||(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var a=e.exec(r);return null===a?(l["~"]=s,r.toString()):(t.const_get_relative(Rt,"MatchData").$new(e,a),void 0===n?($===s&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,a.index)+$(a[0])+r.slice(a.index+a[0].length)):n.$$is_hash?r.slice(0,a.index)+n["$[]"](a[0]).$to_s()+r.slice(a.index+a[0].length):(n=(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var i=a.length-1;i>0;i--)if(void 0!==a[i])return e.slice(1)+a[i];return"";case"&":return e.slice(1)+a[0];case"`":return e.slice(1)+r.slice(0,a.index);case"'":return e.slice(1)+r.slice(a.index+a[0].length);default:return e.slice(1)+(a[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,a.index)+n+r.slice(a.index+a[0].length)))},dt.$$arity=-2),t.alias(Ot,"succ","next"),t.defn(Ot,"$sum",ht=function(e){null==e&&(e=16),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int");for(var n=0,r=this.length,i=0;i<r;i++)n+=this.charCodeAt(i);return e<=0?n:n&Math.pow(2,e)-1},ht.$$arity=-1),t.defn(Ot,"$swapcase",ft=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,n){return e?t.toUpperCase():t.toLowerCase()});return this.constructor===String?t:this.$class().$new(t)},ft.$$arity=0),t.defn(Ot,"$to_f",pt=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},pt.$$arity=0),t.defn(Ot,"$to_i",gt=function(e){null==e&&(e=10);var n,r=this.toLowerCase(),i=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int");return(1===i||i<0||i>36)&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),"invalid radix "+i),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,n,r){switch(r.charAt(0)){case"+":case"-":return t;case"0":if("x"===r.charAt(1)&&"0x"===n&&(0===i||16===i))return t}switch(n){case"0b":if(0===i||2===i)return i=2,e+r;break;case"0":case"0o":if(0===i||8===i)return i=8,e+r;break;case"0d":if(0===i||10===i)return i=10,e+r;break;case"0x":if(0===i||16===i)return i=16,e+r}return t}),n=parseInt(r.replace(/_(?!_)/g,""),i),isNaN(n)?0:n)},gt.$$arity=-1),t.defn(Ot,"$to_proc",vt=function(){var e,n;return n=this.valueOf(),o(this,"proc",[],((e=function(r){var i,$,a=e.$$s||this;(i=e.$$p||s)&&(e.$$p=null);var o=arguments.length,l=o-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<o;c++)$[c-0]=arguments[c];0===$.length&&a.$raise(t.const_get_relative(Rt,"ArgumentError"),"no receiver given");var _=$.shift();return null==_&&(_=s),t.send(_,n,$,i)}).$$s=this,e.$$arity=-1,e))},vt.$$arity=0),t.defn(Ot,"$to_s",mt=function(){return this.toString()},mt.$$arity=0),t.alias(Ot,"to_str","to_s"),t.alias(Ot,"to_sym","intern"),t.defn(Ot,"$tr",yt=function(e,n){var r,i,s,$,a,o,l;if(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s(),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),0==e.length||e===n)return this;var c={},_=e.split(""),u=_.length,d=n.split(""),h=d.length,f=!1,p=null;"^"===_[0]&&_.length>1&&(f=!0,_.shift(),p=d[h-1],u-=1);var g=[],v=null;for(i=!1,r=0;r<u;r++)if($=_[r],null==v)v=$,g.push($);else if("-"===$)"-"===v?(g.push("-"),g.push("-")):r==u-1?g.push("-"):i=!0;else if(i){for((a=v.charCodeAt(0))>(o=$.charCodeAt(0))&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(o)+'" in string transliteration'),s=a+1;s<o;s++)g.push(String.fromCharCode(s));g.push($),i=null,v=null}else g.push($);if(u=(_=g).length,f)for(r=0;r<u;r++)c[_[r]]=!0;else{if(h>0){var m=[],y=null;for(i=!1,r=0;r<h;r++)if($=d[r],null==y)y=$,m.push($);else if("-"===$)"-"===y?(m.push("-"),m.push("-")):r==h-1?m.push("-"):i=!0;else if(i){for((a=y.charCodeAt(0))>(o=$.charCodeAt(0))&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(o)+'" in string transliteration'),s=a+1;s<o;s++)m.push(String.fromCharCode(s));m.push($),i=null,y=null}else m.push($);h=(d=m).length}var b=u-h;if(b>0){var x=h>0?d[h-1]:"";for(r=0;r<b;r++)d.push(x)}for(r=0;r<u;r++)c[_[r]]=d[r]}var k="";for(r=0,l=this.length;r<l;r++){var w=c[$=this.charAt(r)];k+=f?null==w?p:$:null!=w?w:$}return k},yt.$$arity=2),t.defn(Ot,"$tr_s",bt=function(e,n){var r,i,s,$,a,o,l;if(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s(),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),0==e.length)return this;var c={},_=e.split(""),u=_.length,d=n.split(""),h=d.length,f=!1,p=null;"^"===_[0]&&_.length>1&&(f=!0,_.shift(),p=d[h-1],u-=1);var g=[],v=null;for(i=!1,r=0;r<u;r++)if($=_[r],null==v)v=$,g.push($);else if("-"===$)"-"===v?(g.push("-"),g.push("-")):r==u-1?g.push("-"):i=!0;else if(i){for((a=v.charCodeAt(0))>(o=$.charCodeAt(0))&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(o)+'" in string transliteration'),s=a+1;s<o;s++)g.push(String.fromCharCode(s));g.push($),i=null,v=null}else g.push($);if(u=(_=g).length,f)for(r=0;r<u;r++)c[_[r]]=!0;else{if(h>0){var m=[];for(i=!1,r=0;r<h;r++)if($=d[r],null==v)v=$,m.push($);else if("-"===$)r==h-1?m.push("-"):i=!0;else if(i){for((a=v.charCodeAt(0))>(o=$.charCodeAt(0))&&this.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(o)+'" in string transliteration'),s=a+1;s<o;s++)m.push(String.fromCharCode(s));m.push($),i=null,v=null}else m.push($);h=(d=m).length}var y=u-h;if(y>0){var b=h>0?d[h-1]:"";for(r=0;r<y;r++)d.push(b)}for(r=0;r<u;r++)c[_[r]]=d[r]}var x="",k=null;for(r=0,l=this.length;r<l;r++){var w=c[$=this.charAt(r)];f?null==w?null==k&&(x+=p,k=!0):(x+=$,k=null):null!=w?null!=k&&k===w||(x+=w,k=w):(x+=$,k=null)}return x},bt.$$arity=2),t.defn(Ot,"$upcase",xt=function(){return this.toUpperCase()},xt.$$arity=0),t.defn(Ot,"$upto",kt=function(e,n){var r=kt.$$p,i=r||s;if(null==n&&(n=!1),r&&(kt.$$p=null),i===s)return this.$enum_for("upto",e,n);e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str");var $,a,o=this.toString();if(1===o.length&&1===e.length)for($=o.charCodeAt(0),a=e.charCodeAt(0);$<=a&&(!n||$!==a);)i(String.fromCharCode($)),$+=1;else if(parseInt(o,10).toString()===o&&parseInt(e,10).toString()===e)for($=parseInt(o,10),a=parseInt(e,10);$<=a&&(!n||$!==a);)i($.toString()),$+=1;else for(;o.length<=e.length&&o<=e&&(!n||o!==e);)i(o),o=o.$succ();return this},kt.$$arity=-2),t.defn(Ot,"$instance_variables",wt=function(){return[]},wt.$$arity=0),t.defs(Ot,"$_load",Et=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];return o(this,"new",t.to_a(n))},Et.$$arity=-1),t.defn(Ot,"$unpack",At=function(e){var n=this,r=s;return"U*"["$==="](r=e)||"C*"["$==="](r)?function(t){var e,n,r=t.length,i=[];for(e=0;e<r;e++)n=t.charCodeAt(e),i.push(n);return i}(n):n.$raise(t.const_get_relative(Rt,"NotImplementedError"))},At.$$arity=1)}(0,String,i),t.const_set(i[0],"Symbol",t.const_get_relative(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var i,s,$,a,o,l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q=[],tt=t.nil,et=(t.breaker,t.slice,t.module),nt=t.send,rt=t.truthy,it=t.falsy;return t.add_stubs(["$each","$destructure","$raise","$new","$yield","$slice_when","$!","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$zip"]),i=Q,(J=et(Q[0],"Enumerable")).$$proto,Z=[J].concat(i),t.defn(J,"$all?",s=function(){try{var e,n,r=s.$$p,i=r||tt;return r&&(s.$$p=null),nt(this,"each",[],i!==tt?((e=function(n){e.$$s;var r,s=arguments.length,$=s-0;$<0&&($=0),r=new Array($);for(var a=0;a<s;a++)r[a-0]=arguments[a];if(rt(t.yieldX(i,t.to_a(r))))return tt;t.ret(!1)}).$$s=this,e.$$arity=-1,e):((n=function(e){n.$$s;var r,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var $=0;$<i;$++)r[$-0]=arguments[$];if(rt(t.const_get_relative(Z,"Opal").$destructure(r)))return tt;t.ret(!1)}).$$s=this,n.$$arity=-1,n)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},s.$$arity=0),t.defn(J,"$any?",$=function(){try{var e,n,r=$.$$p,i=r||tt;return r&&($.$$p=null),nt(this,"each",[],i!==tt?((e=function(n){e.$$s;var r,s=arguments.length,$=s-0;$<0&&($=0),r=new Array($);for(var a=0;a<s;a++)r[a-0]=arguments[a];if(!rt(t.yieldX(i,t.to_a(r))))return tt;t.ret(!0)}).$$s=this,e.$$arity=-1,e):((n=function(e){n.$$s;var r,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var $=0;$<i;$++)r[$-0]=arguments[$];if(!rt(t.const_get_relative(Z,"Opal").$destructure(r)))return tt;t.ret(!0)}).$$s=this,n.$$arity=-1,n)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},$.$$arity=0),t.defn(J,"$chunk",a=function(){var e,n=a.$$p,r=n||tt;return n&&(a.$$p=null),r!==tt||t.const_get_relative(Z,"Kernel").$raise(t.const_get_relative(Z,"ArgumentError"),"no block given"),nt(t.const_get_qualified("::","Enumerator"),"new",[],((e=function(n){var i=e.$$s||this;null==n&&(n=tt);var s=tt,$=[];function a(){$.length>0&&n.$yield(s,$)}i.$each.$$p=function(e){var n=t.yield1(r,e);n===tt?(a(),$=[],s=tt):(s===tt||s===n?$.push(e):(a(),$=[e]),s=n)},i.$each(),a()}).$$s=this,e.$$arity=1,e))},a.$$arity=0),t.defn(J,"$chunk_while",o=function(){var e,n=o.$$p,r=n||tt;return n&&(o.$$p=null),r!==tt||this.$raise(t.const_get_relative(Z,"ArgumentError"),"no block given"),nt(this,"slice_when",[],((e=function(n,i){return e.$$s,null==n&&(n=tt),null==i&&(i=tt),t.yieldX(r,[n,i])["$!"]()}).$$s=this,e.$$arity=2,e))},o.$$arity=0),t.defn(J,"$collect",l=function(){var e,n=l.$$p,r=n||tt;if(n&&(l.$$p=null),r===tt)return nt(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=t.yieldX(r,arguments);i.push(e)},this.$each(),i},l.$$arity=0),t.defn(J,"$collect_concat",c=function(){var e,n,r=c.$$p,i=r||tt;return r&&(c.$$p=null),i===tt?nt(this,"enum_for",["collect_concat"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):nt(this,"map",[],(n=function(e){return n.$$s,null==e&&(e=tt),t.yield1(i,e)},n.$$s=this,n.$$arity=1,n)).$flatten(1)},c.$$arity=0),t.defn(J,"$count",_=function(e){var n,r,i,s=_.$$p,$=s||tt,a=tt;return s&&(_.$$p=null),a=0,rt(null!=e)?$=nt(this,"proc",[],((n=function(r){n.$$s;var i,s=arguments.length,$=s-0;$<0&&($=0),i=new Array($);for(var a=0;a<s;a++)i[a-0]=arguments[a];return t.const_get_relative(Z,"Opal").$destructure(i)["$=="](e)}).$$s=this,n.$$arity=-1,n)):rt($["$nil?"]())&&($=nt(this,"proc",[],((r=function(){return r.$$s,!0}).$$s=this,r.$$arity=0,r))),nt(this,"each",[],((i=function(e){i.$$s;var n,r=arguments.length,s=r-0;s<0&&(s=0),n=new Array(s);for(var o=0;o<r;o++)n[o-0]=arguments[o];return rt(t.yieldX($,n))?a++:tt}).$$s=this,i.$$arity=-1,i)),a},_.$$arity=-1),t.defn(J,"$cycle",u=function(n){var r,i=u.$$p,s=i||tt;if(null==n&&(n=tt),i&&(u.$$p=null),s===tt)return nt(this,"enum_for",["cycle",n],((r=function(){var i,s,$=r.$$s||this;return n["$=="](tt)?rt($["$respond_to?"]("size"))?t.const_get_qualified(t.const_get_relative(Z,"Float"),"INFINITY"):tt:(n=t.const_get_relative(Z,"Opal")["$coerce_to!"](n,t.const_get_relative(Z,"Integer"),"to_int"),rt(e(n,0))?(i=$.$enumerator_size(),s=n,"number"==typeof i&&"number"==typeof s?i*s:i["$*"](s)):0)}).$$s=this,r.$$arity=0,r));if(rt(n["$nil?"]()));else if(n=t.const_get_relative(Z,"Opal")["$coerce_to!"](n,t.const_get_relative(Z,"Integer"),"to_int"),rt(n<=0))return tt;var $,a,o=[];if(this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments);t.yield1(s,e),o.push(e)},this.$each(),0===o.length)return tt;if(n===tt)for(;;)for($=0,a=o.length;$<a;$++)t.yield1(s,o[$]);else for(;n>1;){for($=0,a=o.length;$<a;$++)t.yield1(s,o[$]);n--}},u.$$arity=-1),t.defn(J,"$detect",d=function(e){try{var n,r=d.$$p,i=r||tt;return r&&(d.$$p=null),i===tt?this.$enum_for("detect",e):(nt(this,"each",[],((n=function(e){n.$$s;var r,s,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];if(s=t.const_get_relative(Z,"Opal").$destructure(r),!rt(t.yield1(i,s)))return tt;t.ret(s)}).$$s=this,n.$$arity=-1,n)),void 0!==e?"function"==typeof e?e():e:tt)}catch(e){if(e===t.returner)return e.$v;throw e}},d.$$arity=-1),t.defn(J,"$drop",h=function(e){e=t.const_get_relative(Z,"Opal").$coerce_to(e,t.const_get_relative(Z,"Integer"),"to_int"),rt(e<0)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"attempt to drop negative size");var n=[],r=0;return this.$each.$$p=function(){e<=r&&n.push(t.const_get_relative(Z,"Opal").$destructure(arguments)),r++},this.$each(),n},h.$$arity=1),t.defn(J,"$drop_while",f=function(){var e=f.$$p,n=e||tt;if(e&&(f.$$p=null),n===tt)return this.$enum_for("drop_while");var r=[],i=!0;return this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments);if(i){var s=t.yield1(n,e);it(s)&&(i=!1,r.push(e))}else r.push(e)},this.$each(),r},f.$$arity=0),t.defn(J,"$each_cons",p=function(e){var i,s=p.$$p,$=s||tt;if(s&&(p.$$p=null),rt(1!=arguments.length)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=t.const_get_relative(Z,"Opal").$try_convert(e,t.const_get_relative(Z,"Integer"),"to_int"),rt(e<=0)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"invalid size"),$===tt)return nt(this,"enum_for",["each_cons",e],((i=function(){var t,s,$,a=i.$$s||this,o=tt;return o=a.$enumerator_size(),rt(o["$nil?"]())?tt:rt(rt(t=o["$=="](0))?t:($=e,"number"==typeof(s=o)&&"number"==typeof $?s<$:s["$<"]($)))?0:n(r(o,e),1)}).$$s=this,i.$$arity=0,i));var a=[],o=tt;return this.$each.$$p=function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments);a.push(n),a.length>e&&a.shift(),a.length==e&&t.yield1($,a.slice(0,e))},this.$each(),o},p.$$arity=1),t.defn(J,"$each_entry",g=function(e){var n,r,i=g.$$p,s=i||tt,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i&&(g.$$p=null),s===tt?nt(this,"to_enum",["each_entry"].concat(t.to_a(r)),((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=this,n.$$arity=0,n)):(this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments);t.yield1(s,e)},this.$each.apply(this,r),this)},g.$$arity=-1),t.defn(J,"$each_slice",v=function(e){var n,r=v.$$p,i=r||tt;if(r&&(v.$$p=null),e=t.const_get_relative(Z,"Opal").$coerce_to(e,t.const_get_relative(Z,"Integer"),"to_int"),rt(e<=0)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"invalid slice size"),i===tt)return nt(this,"enum_for",["each_slice",e],((n=function(){var t,r,i=n.$$s||this;return rt(i["$respond_to?"]("size"))?(t=i.$size(),r=e,"number"==typeof t&&"number"==typeof r?t/r:t["$/"](r)).$ceil():tt}).$$s=this,n.$$arity=0,n));var s=[];return this.$each.$$p=function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments);s.push(n),s.length===e&&(t.yield1(i,s),s=[])},this.$each(),s.length>0&&t.yield1(i,s),tt},v.$$arity=1),t.defn(J,"$each_with_index",m=function(e){var n,r,i=m.$$p,s=i||tt,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];if(i&&(m.$$p=null),s===tt)return nt(this,"enum_for",["each_with_index"].concat(t.to_a(r)),((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=this,n.$$arity=0,n));var l=0;return this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments);s(e,l),l++},this.$each.apply(this,r),this},m.$$arity=-1),t.defn(J,"$each_with_object",y=function(e){var n,r=y.$$p,i=r||tt;return r&&(y.$$p=null),i===tt?nt(this,"enum_for",["each_with_object",e],((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=this,n.$$arity=0,n)):(this.$each.$$p=function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments);i(n,e)},this.$each(),e)},y.$$arity=1),t.defn(J,"$entries",b=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];var $=[];return this.$each.$$p=function(){$.push(t.const_get_relative(Z,"Opal").$destructure(arguments))},this.$each.apply(this,n),$},b.$$arity=-1),t.alias(J,"find","detect"),t.defn(J,"$find_all",x=function(){var e,n=x.$$p,r=n||tt;if(n&&(x.$$p=null),r===tt)return nt(this,"enum_for",["find_all"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments),n=t.yield1(r,e);rt(n)&&i.push(e)},this.$each(),i},x.$$arity=0),t.defn(J,"$find_index",k=function(e){try{var n,r,i=k.$$p,s=i||tt,$=tt;return i&&(k.$$p=null),rt(void 0===e&&s===tt)?this.$enum_for("find_index"):($=0,rt(null!=e)?nt(this,"each",[],((n=function(r){n.$$s;var i,s=arguments.length,a=s-0;a<0&&(a=0),i=new Array(a);for(var o=0;o<s;o++)i[o-0]=arguments[o];return t.const_get_relative(Z,"Opal").$destructure(i)["$=="](e)&&t.ret($),$+=1}).$$s=this,n.$$arity=-1,n)):nt(this,"each",[],((r=function(e){r.$$s;var n,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<i;o++)n[o-0]=arguments[o];return rt(t.yieldX(s,t.to_a(n)))&&t.ret($),$+=1}).$$s=this,r.$$arity=-1,r)),tt)}catch(e){if(e===t.returner)return e.$v;throw e}},k.$$arity=-1),t.defn(J,"$first",w=function(e){try{var n,r,i=tt,s=tt;return rt(void 0===e)?nt(this,"each",[],((n=function(e){n.$$s,null==e&&(e=tt),t.ret(e)}).$$s=this,n.$$arity=1,n)):(i=[],e=t.const_get_relative(Z,"Opal").$coerce_to(e,t.const_get_relative(Z,"Integer"),"to_int"),rt(e<0)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"attempt to take negative size"),rt(0==e)?[]:(s=0,nt(this,"each",[],((r=function(n){r.$$s;var $,a=arguments.length,o=a-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<a;l++)$[l-0]=arguments[l];if(i.push(t.const_get_relative(Z,"Opal").$destructure($)),!rt(e<=++s))return tt;t.ret(i)}).$$s=this,r.$$arity=-1,r)),i))}catch(e){if(e===t.returner)return e.$v;throw e}},w.$$arity=-1),t.alias(J,"flat_map","collect_concat"),t.defn(J,"$grep",E=function(e){var n=E.$$p,r=n||tt;n&&(E.$$p=null);var i=[];return this.$each.$$p=r!==tt?function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments),s=e["$==="](n);rt(s)&&(s=t.yield1(r,n),i.push(s))}:function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments),r=e["$==="](n);rt(r)&&i.push(n)},this.$each(),i},E.$$arity=1),t.defn(J,"$grep_v",A=function(e){var n=A.$$p,r=n||tt;n&&(A.$$p=null);var i=[];return this.$each.$$p=r!==tt?function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments),s=e["$==="](n);it(s)&&(s=t.yield1(r,n),i.push(s))}:function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments),r=e["$==="](n);it(r)&&i.push(n)},this.$each(),i},A.$$arity=1),t.defn(J,"$group_by",O=function(){var e,n,i=O.$$p,s=i||tt,$=tt,a=tt;return i&&(O.$$p=null),s===tt?nt(this,"enum_for",["group_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):($=t.const_get_relative(Z,"Hash").$new(),this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments),i=t.yield1(s,e);(rt(n=$["$[]"](i))?n:(a=[i,[]],nt($,"[]=",t.to_a(a)),a[r(a.length,1)]))["$<<"](e)},this.$each(),$)},O.$$arity=0),t.defn(J,"$include?",S=function(e){try{var n;return nt(this,"each",[],((n=function(r){n.$$s;var i,s=arguments.length,$=s-0;$<0&&($=0),i=new Array($);for(var a=0;a<s;a++)i[a-0]=arguments[a];if(!t.const_get_relative(Z,"Opal").$destructure(i)["$=="](e))return tt;t.ret(!0)}).$$s=this,n.$$arity=-1,n)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},S.$$arity=1),t.defn(J,"$inject",R=function(e,n){var r=R.$$p,i=r||tt;r&&(R.$$p=null);var s=e;return i!==tt&&void 0===n?this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments);void 0!==s?(e=t.yieldX(i,[s,e]),s=e):s=e}:(void 0===n&&(t.const_get_relative(Z,"Symbol")["$==="](e)||this.$raise(t.const_get_relative(Z,"TypeError"),e.$inspect()+" is not a Symbol"),n=e,s=void 0),this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments);s=void 0!==s?s.$__send__(n,e):e}),this.$each(),void 0==s?tt:s},R.$$arity=-1),t.defn(J,"$lazy",T=function(){var e;return nt(t.const_get_qualified(t.const_get_relative(Z,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],((e=function(n,r){e.$$s;var i,s=arguments.length,$=s-1;$<0&&($=0),i=new Array($);for(var a=1;a<s;a++)i[a-1]=arguments[a];return null==n&&(n=tt),nt(n,"yield",t.to_a(i))}).$$s=this,e.$$arity=-2,e))},T.$$arity=0),t.defn(J,"$enumerator_size",M=function(){return rt(this["$respond_to?"]("size"))?this.$size():tt},M.$$arity=0),t.alias(J,"map","collect"),t.defn(J,"$max",I=function(e){var n,r,i=this,s=I.$$p,$=s||tt;return s&&(I.$$p=null),void 0===e||e===tt?(i.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments);void 0!==n?((r=$!==tt?t.yieldX($,[e,n]):e["$<=>"](n))===tt&&i.$raise(t.const_get_relative(Z,"ArgumentError"),"comparison failed"),r>0&&(n=e)):n=e},i.$each(),void 0===n?tt:n):(e=t.const_get_relative(Z,"Opal").$coerce_to(e,t.const_get_relative(Z,"Integer"),"to_int"),nt(i,"sort",[],$.$to_proc()).$reverse().$first(e))},I.$$arity=-1),t.defn(J,"$max_by",q=function(){var e,n,r,i=q.$$p,s=i||tt;return i&&(q.$$p=null),rt(s)?(this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments),i=t.yield1(s,e);if(void 0===n)return n=e,void(r=i);i["$<=>"](r)>0&&(n=e,r=i)},this.$each(),void 0===n?tt:n):nt(this,"enum_for",["max_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},q.$$arity=0),t.alias(J,"member?","include?"),t.defn(J,"$min",C=function(){var e,n=this,r=C.$$p,i=r||tt;return r&&(C.$$p=null),n.$each.$$p=i!==tt?function(){var r=t.const_get_relative(Z,"Opal").$destructure(arguments);if(void 0!==e){var s=i(r,e);s===tt&&n.$raise(t.const_get_relative(Z,"ArgumentError"),"comparison failed"),s<0&&(e=r)}else e=r}:function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments);void 0!==e?t.const_get_relative(Z,"Opal").$compare(n,e)<0&&(e=n):e=n},n.$each(),void 0===e?tt:e},C.$$arity=0),t.defn(J,"$min_by",N=function(){var e,n,r,i=N.$$p,s=i||tt;return i&&(N.$$p=null),rt(s)?(this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments),i=t.yield1(s,e);if(void 0===n)return n=e,void(r=i);i["$<=>"](r)<0&&(n=e,r=i)},this.$each(),void 0===n?tt:n):nt(this,"enum_for",["min_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},N.$$arity=0),t.defn(J,"$minmax",z=function(){var e,n,r=this,i=z.$$p,s=i||tt;i&&(z.$$p=null),s=rt(e=s)?e:nt(r,"proc",[],((n=function(t,e){return n.$$s,null==t&&(t=tt),null==e&&(e=tt),t["$<=>"](e)}).$$s=r,n.$$arity=2,n));var $=tt,a=tt,o=!0;return r.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments);if(o)$=a=e,o=!1;else{var n=s.$call($,e);n===tt?r.$raise(t.const_get_relative(Z,"ArgumentError"),"comparison failed"):n>0&&($=e);var i=s.$call(a,e);i===tt?r.$raise(t.const_get_relative(Z,"ArgumentError"),"comparison failed"):i<0&&(a=e)}},r.$each(),[$,a]},z.$$arity=0),t.defn(J,"$minmax_by",P=function(){var e=P.$$p;return e&&(P.$$p=null),this.$raise(t.const_get_relative(Z,"NotImplementedError"))},P.$$arity=0),t.defn(J,"$none?",L=function(){try{var e,n,r=L.$$p,i=r||tt;return r&&(L.$$p=null),nt(this,"each",[],i!==tt?((e=function(n){e.$$s;var r,s=arguments.length,$=s-0;$<0&&($=0),r=new Array($);for(var a=0;a<s;a++)r[a-0]=arguments[a];if(!rt(t.yieldX(i,t.to_a(r))))return tt;t.ret(!1)}).$$s=this,e.$$arity=-1,e):((n=function(e){n.$$s;var r,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var $=0;$<i;$++)r[$-0]=arguments[$];if(!rt(t.const_get_relative(Z,"Opal").$destructure(r)))return tt;t.ret(!1)}).$$s=this,n.$$arity=-1,n)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},L.$$arity=0),t.defn(J,"$one?",D=function(){try{var r,i,s=D.$$p,$=s||tt,a=tt;return s&&(D.$$p=null),a=0,nt(this,"each",[],$!==tt?((r=function(i){r.$$s;var s,o=arguments.length,l=o-0;l<0&&(l=0),s=new Array(l);for(var c=0;c<o;c++)s[c-0]=arguments[c];return rt(t.yieldX($,t.to_a(s)))?(a=n(a,1),rt(e(a,1))?void t.ret(!1):tt):tt}).$$s=this,r.$$arity=-1,r):((i=function(r){i.$$s;var s,$=arguments.length,o=$-0;o<0&&(o=0),s=new Array(o);for(var l=0;l<$;l++)s[l-0]=arguments[l];return rt(t.const_get_relative(Z,"Opal").$destructure(s))?(a=n(a,1),rt(e(a,1))?void t.ret(!1):tt):tt}).$$s=this,i.$$arity=-1,i)),a["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},D.$$arity=0),t.defn(J,"$partition",B=function(){var e,n=B.$$p,r=n||tt;if(n&&(B.$$p=null),r===tt)return nt(this,"enum_for",["partition"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[],s=[];return this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments),n=t.yield1(r,e);rt(n)?i.push(e):s.push(e)},this.$each(),[i,s]},B.$$arity=0),t.alias(J,"reduce","inject"),t.defn(J,"$reject",j=function(){var e,n=j.$$p,r=n||tt;if(n&&(j.$$p=null),r===tt)return nt(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments),n=t.yield1(r,e);it(n)&&i.push(e)},this.$each(),i},j.$$arity=0),t.defn(J,"$reverse_each",F=function(){var e,n=F.$$p,r=n||tt;if(n&&(F.$$p=null),r===tt)return nt(this,"enum_for",["reverse_each"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];this.$each.$$p=function(){i.push(arguments)},this.$each();for(var s=i.length-1;s>=0;s--)t.yieldX(r,i[s]);return i},F.$$arity=0),t.alias(J,"select","find_all"),t.defn(J,"$slice_before",U=function(e){var n,r=U.$$p,i=r||tt;return r&&(U.$$p=null),rt(void 0===e&&i===tt)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"both pattern and block are given"),rt(void 0!==e&&i!==tt||arguments.length>1)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),nt(t.const_get_relative(Z,"Enumerator"),"new",[],((n=function(r){var s=n.$$s||this;null==r&&(r=tt);var $=[];s.$each.$$p=i!==tt?void 0===e?function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments),n=t.yield1(i,e);rt(n)&&$.length>0&&(r["$<<"]($),$=[]),$.push(e)}:function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments),s=i(n,e.$dup());rt(s)&&$.length>0&&(r["$<<"]($),$=[]),$.push(n)}:function(){var n=t.const_get_relative(Z,"Opal").$destructure(arguments),i=e["$==="](n);rt(i)&&$.length>0&&(r["$<<"]($),$=[]),$.push(n)},s.$each(),$.length>0&&r["$<<"]($)}).$$s=this,n.$$arity=1,n))},U.$$arity=-1),t.defn(J,"$slice_after",H=function(e){var n,r,i=H.$$p,s=i||tt;return i&&(H.$$p=null),rt(void 0===e&&s===tt)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"both pattern and block are given"),rt(void 0!==e&&s!==tt||arguments.length>1)&&this.$raise(t.const_get_relative(Z,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),rt(void 0!==e)&&(s=nt(this,"proc",[],((n=function(t){return n.$$s,null==t&&(t=tt),e["$==="](t)}).$$s=this,n.$$arity=1,n))),nt(t.const_get_relative(Z,"Enumerator"),"new",[],((r=function(e){var n,i=r.$$s||this;null==e&&(e=tt),i.$each.$$p=function(){var r=t.const_get_relative(Z,"Opal").$destructure(arguments),i=t.yield1(s,r);null==n&&(n=[]),rt(i)?(n.push(r),e.$yield(n),n=null):n.push(r)},i.$each(),null!=n&&e.$yield(n)}).$$s=this,r.$$arity=1,r))},H.$$arity=-1),t.defn(J,"$slice_when",G=function(){var e,n=G.$$p,r=n||tt;return n&&(G.$$p=null),r!==tt||this.$raise(t.const_get_relative(Z,"ArgumentError"),"wrong number of arguments (0 for 1)"),nt(t.const_get_relative(Z,"Enumerator"),"new",[],((e=function(n){var i=e.$$s||this;null==n&&(n=tt);var s=tt,$=tt;i.$each_cons.$$p=function(){var e=t.const_get_relative(Z,"Opal").$destructure(arguments),i=e[0],a=e[1],o=t.yieldX(r,[i,a]);$=a,s===tt&&(s=[]),rt(o)?(s.push(i),n.$yield(s),s=[]):s.push(i)},i.$each_cons(2),s!==tt&&(s.push($),n.$yield(s))}).$$s=this,e.$$arity=1,e))},G.$$arity=0),t.defn(J,"$sort",Y=function(){var t,e,n=Y.$$p,r=n||tt;return n&&(Y.$$p=null),e=this.$to_a(),r!==tt||(r=nt(this,"lambda",[],((t=function(e,n){return t.$$s,null==e&&(e=tt),null==n&&(n=tt),e["$<=>"](n)}).$$s=this,t.$$arity=2,t))),nt(e,"sort",[],r.$to_proc())},Y.$$arity=0),t.defn(J,"$sort_by",W=function(){var e,n,r,i,s,$=W.$$p,a=$||tt;return $&&(W.$$p=null),a===tt?nt(this,"enum_for",["sort_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(s=nt(this,"map",[],((n=function(){var e;return n.$$s,e=t.const_get_relative(Z,"Opal").$destructure(arguments),[t.yield1(a,e),e]}).$$s=this,n.$$arity=0,n)),nt(s,"sort!",[],((r=function(t,e){return r.$$s,null==t&&(t=tt),null==e&&(e=tt),t[0]["$<=>"](e[0])}).$$s=this,r.$$arity=2,r)),nt(s,"map!",[],((i=function(t){return i.$$s,null==t&&(t=tt),t[1]}).$$s=this,i.$$arity=1,i)))},W.$$arity=0),t.defn(J,"$take",X=function(t){return this.$first(t)},X.$$arity=1),t.defn(J,"$take_while",K=function(){try{var e,n=K.$$p,r=n||tt,i=tt;return n&&(K.$$p=null),rt(r)?(i=[],nt(this,"each",[],((e=function(n){e.$$s;var s,$,a=arguments.length,o=a-0;o<0&&(o=0),s=new Array(o);for(var l=0;l<a;l++)s[l-0]=arguments[l];return $=t.const_get_relative(Z,"Opal").$destructure(s),rt(t.yield1(r,$))||t.ret(i),i.push($)}).$$s=this,e.$$arity=-1,e))):this.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},K.$$arity=0),t.alias(J,"to_a","entries"),void t.defn(J,"$zip",V=function(e){var n,r=V.$$p,i=arguments.length,s=i-0;s<0&&(s=0),n=new Array(s);for(var $=0;$<i;$++)n[$-0]=arguments[$];return r&&(V.$$p=null),nt(this.$to_a(),"zip",t.to_a(n))},V.$$arity=-1)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=t.top,i=[],s=t.nil,$=t.breaker,a=t.slice,o=t.klass,l=t.truthy,c=t.send,_=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),r.$require("corelib/enumerable"),function(r,u,d){function h(){}var f,p,g,v,m,y,b=h=o(i[0],null,"Enumerator",h),x=b.$$proto,k=[b].concat(d);return x.size=x.args=x.object=x.method=s,b.$include(t.const_get_relative(k,"Enumerable")),x.$$is_enumerator=!0,t.defs(b,"$for",f=function(t,e,n){var r,i=f.$$p,$=i||s;null==e&&(e="each");var a=arguments.length,o=a-2;o<0&&(o=0),r=new Array(o);for(var l=2;l<a;l++)r[l-2]=arguments[l];i&&(f.$$p=null);var c=this.$allocate();return c.object=t,c.size=$,c.method=e,c.args=r,c},f.$$arity=-2),t.defn(b,"$initialize",p=function(e){var n=p.$$p,r=n||s;return n&&(p.$$p=null),l(r)?(this.object=c(t.const_get_relative(k,"Generator"),"new",[],r.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||s,l(this.size)?this.size=t.const_get_relative(k,"Opal").$coerce_to(this.size,t.const_get_relative(k,"Integer"),"to_int"):s):(this.object=arguments[0],this.method=arguments[1]||"each",this.args=a.call(arguments,2),this.size=s)},p.$$arity=-1),t.defn(b,"$each",g=function(n){var r,i,$=g.$$p,a=$||s,o=arguments.length,_=o-0;_<0&&(_=0),i=new Array(_);for(var u=0;u<o;u++)i[u-0]=arguments[u];return $&&(g.$$p=null),l(l(r=a["$nil?"]())?i["$empty?"]():r)?this:(i=e(this.args,i),l(a["$nil?"]())?c(this.$class(),"new",[this.object,this.method].concat(t.to_a(i))):c(this.object,"__send__",[this.method].concat(t.to_a(i)),a.$to_proc()))},g.$$arity=-1),t.defn(b,"$size",v=function(){return l(t.const_get_relative(k,"Proc")["$==="](this.size))?c(this.size,"call",t.to_a(this.args)):this.size},v.$$arity=0),t.defn(b,"$with_index",m=function(e){var n,r=m.$$p,i=r||s;if(null==e&&(e=0),r&&(m.$$p=null),e=l(e)?t.const_get_relative(k,"Opal").$coerce_to(e,t.const_get_relative(k,"Integer"),"to_int"):0,!l(i))return c(this,"enum_for",["with_index",e],((n=function(){return(n.$$s||this).$size()}).$$s=this,n.$$arity=0,n));var $=e;return this.$each.$$p=function(){var e=t.const_get_relative(k,"Opal").$destructure(arguments),n=i(e,$);return $++,n},this.$each()},m.$$arity=-1),t.alias(b,"with_object","each_with_object"),t.defn(b,"$inspect",y=function(){var n=s;return n="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method,l(this.args["$empty?"]())||(n=e(n,"("+this.args.$inspect()["$[]"](t.const_get_relative(k,"Range").$new(1,-2))+")")),e(n,">")},y.$$arity=0),function(e,n,r){function i(){}var a,_,u=i=o(e,null,"Generator",i),d=u.$$proto,h=[u].concat(r);d.block=s,u.$include(t.const_get_relative(h,"Enumerable")),t.defn(u,"$initialize",a=function(){var e=a.$$p,n=e||s;return e&&(a.$$p=null),l(n)||this.$raise(t.const_get_relative(h,"LocalJumpError"),"no block given"),this.block=n},a.$$arity=0),t.defn(u,"$each",_=function(e){var n,r,i=_.$$p,a=i||s,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var u=0;u<o;u++)n[u-0]=arguments[u];i&&(_.$$p=null),r=c(t.const_get_relative(h,"Yielder"),"new",[],a.$to_proc());try{n.unshift(r),t.yieldX(this.block,n)}catch(t){if(t===$)return $.$v;throw t}return this},_.$$arity=-1)}(k[0],0,k),function(e,n,r){function i(){}var a,l,_,u=i=o(e,null,"Yielder",i),d=u.$$proto;[u].concat(r);d.block=s,t.defn(u,"$initialize",a=function(){var t=a.$$p,e=t||s;return t&&(a.$$p=null),this.block=e},a.$$arity=0),t.defn(u,"$yield",l=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];var a=t.yieldX(this.block,n);if(a===$)throw $;return a},l.$$arity=-1),t.defn(u,"$<<",_=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];return c(this,"yield",t.to_a(n)),this},_.$$arity=-1)}(k[0],0,k),function(r,i,$){function a(){}var u,d,h,f,p,g,v,m,y,x,k,w,E,A=a=o(r,b,"Lazy",a),O=A.$$proto,S=[A].concat($);return O.enumerator=s,function(t,e,n){function r(){}var i=r=o(t,e,"StopLazyError",r);i.$$proto,[i].concat(n)}(S[0],t.const_get_relative(S,"Exception"),S),t.defn(A,"$initialize",u=function(e,n){var r,i=u.$$p,$=i||s;return null==n&&(n=s),i&&(u.$$p=null),$!==s||this.$raise(t.const_get_relative(S,"ArgumentError"),"tried to call lazy new without a block"),this.enumerator=e,c(this,t.find_super_dispatcher(this,"initialize",u,!1),[n],((r=function(n,i){var a,o,l=r.$$s||this,_=arguments.length,u=_-1;u<0&&(u=0),a=new Array(u);for(var d=1;d<_;d++)a[d-1]=arguments[d];null==n&&(n=s);try{return c(e,"each",t.to_a(a),((o=function(e){o.$$s;var r,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var a=0;a<i;a++)r[a-0]=arguments[a];r.unshift(n),t.yieldX($,r)}).$$s=l,o.$$arity=-1,o))}catch(e){if(!t.rescue(e,[t.const_get_relative(S,"Exception")]))throw e;try{return s}finally{t.pop_exception()}}}).$$s=this,r.$$arity=-2,r))},u.$$arity=-2),t.alias(A,"force","to_a"),t.defn(A,"$lazy",d=function(){return this},d.$$arity=0),t.defn(A,"$collect",h=function(){var e,n=h.$$p,r=n||s;return n&&(h.$$p=null),l(r)||this.$raise(t.const_get_relative(S,"ArgumentError"),"tried to call lazy map without a block"),c(t.const_get_relative(S,"Lazy"),"new",[this,this.$enumerator_size()],((e=function(n,i){e.$$s;var $,a=arguments.length,o=a-1;o<0&&(o=0),$=new Array(o);for(var l=1;l<a;l++)$[l-1]=arguments[l];null==n&&(n=s);var c=t.yieldX(r,$);n.$yield(c)}).$$s=this,e.$$arity=-2,e))},h.$$arity=0),t.defn(A,"$collect_concat",f=function(){var e,n=f.$$p,r=n||s;return n&&(f.$$p=null),l(r)||this.$raise(t.const_get_relative(S,"ArgumentError"),"tried to call lazy map without a block"),c(t.const_get_relative(S,"Lazy"),"new",[this,s],((e=function(n,i){var $,a,o,l=e.$$s||this,_=arguments.length,u=_-1;u<0&&(u=0),$=new Array(u);for(var d=1;d<_;d++)$[d-1]=arguments[d];null==n&&(n=s);var h=t.yieldX(r,$);h["$respond_to?"]("force")&&h["$respond_to?"]("each")?c(h,"each",[],((a=function(t){a.$$s;return null==t&&(t=s),n.$yield(t)}).$$s=l,a.$$arity=1,a)):t.const_get_relative(S,"Opal").$try_convert(h,t.const_get_relative(S,"Array"),"to_ary")===s?n.$yield(h):c(h,"each",[],((o=function(t){o.$$s;return null==t&&(t=s),n.$yield(t)}).$$s=l,o.$$arity=1,o))}).$$s=this,e.$$arity=-2,e))},f.$$arity=0),t.defn(A,"$drop",p=function(r){var i,$,a,o=s;return r=t.const_get_relative(S,"Opal").$coerce_to(r,t.const_get_relative(S,"Integer"),"to_int"),l(n(r,0))&&this.$raise(t.const_get_relative(S,"ArgumentError"),"attempt to drop negative size"),$=this.$enumerator_size(),a=l(t.const_get_relative(S,"Integer")["$==="]($))&&l(n(r,$))?r:$,o=0,c(t.const_get_relative(S,"Lazy"),"new",[this,a],((i=function($,a){i.$$s;var _,u=arguments.length,d=u-1;d<0&&(d=0),_=new Array(d);for(var h=1;h<u;h++)_[h-1]=arguments[h];return null==$&&($=s),l(n(o,r))?o=e(o,1):c($,"yield",t.to_a(_))}).$$s=this,i.$$arity=-2,i))},p.$$arity=1),t.defn(A,"$drop_while",g=function(){var e,n=g.$$p,r=n||s,i=s;return n&&(g.$$p=null),l(r)||this.$raise(t.const_get_relative(S,"ArgumentError"),"tried to call lazy drop_while without a block"),i=!0,c(t.const_get_relative(S,"Lazy"),"new",[this,s],((e=function(n,$){e.$$s;var a,o=arguments.length,u=o-1;u<0&&(u=0),a=new Array(u);for(var d=1;d<o;d++)a[d-1]=arguments[d];if(null==n&&(n=s),!l(i))return c(n,"yield",t.to_a(a));var h=t.yieldX(r,a);_(h)&&(i=!1,c(n,"yield",t.to_a(a)))}).$$s=this,e.$$arity=-2,e))},g.$$arity=0),t.defn(A,"$enum_for",v=function(e,n){var r,i=this,$=v.$$p,a=$||s;null==e&&(e="each");var o=arguments.length,l=o-1;l<0&&(l=0),r=new Array(l);for(var _=1;_<o;_++)r[_-1]=arguments[_];return $&&(v.$$p=null),c(i.$class(),"for",[i,e].concat(t.to_a(r)),a.$to_proc())},v.$$arity=-1),t.defn(A,"$find_all",m=function(){var e,n=m.$$p,r=n||s;return n&&(m.$$p=null),l(r)||this.$raise(t.const_get_relative(S,"ArgumentError"),"tried to call lazy select without a block"),c(t.const_get_relative(S,"Lazy"),"new",[this,s],((e=function(n,i){e.$$s;var $,a=arguments.length,o=a-1;o<0&&(o=0),$=new Array(o);for(var _=1;_<a;_++)$[_-1]=arguments[_];null==n&&(n=s);var u=t.yieldX(r,$);l(u)&&c(n,"yield",t.to_a($))}).$$s=this,e.$$arity=-2,e))},m.$$arity=0),t.alias(A,"flat_map","collect_concat"),t.defn(A,"$grep",y=function(e){var n,r,i=y.$$p,$=i||s;return i&&(y.$$p=null),l($)?c(t.const_get_relative(S,"Lazy"),"new",[this,s],((n=function(r,i){n.$$s;var a,o=arguments.length,c=o-1;c<0&&(c=0),a=new Array(c);for(var _=1;_<o;_++)a[_-1]=arguments[_];null==r&&(r=s);var u=t.const_get_relative(S,"Opal").$destructure(a),d=e["$==="](u);l(d)&&(d=t.yield1($,u),r.$yield(t.yield1($,u)))}).$$s=this,n.$$arity=-2,n)):c(t.const_get_relative(S,"Lazy"),"new",[this,s],((r=function(n,i){r.$$s;var $,a=arguments.length,o=a-1;o<0&&(o=0),$=new Array(o);for(var c=1;c<a;c++)$[c-1]=arguments[c];null==n&&(n=s);var _=t.const_get_relative(S,"Opal").$destructure($),u=e["$==="](_);l(u)&&n.$yield(_)}).$$s=this,r.$$arity=-2,r))},y.$$arity=1),t.alias(A,"map","collect"),t.alias(A,"select","find_all"),t.defn(A,"$reject",x=function(){var e,n=x.$$p,r=n||s;return n&&(x.$$p=null),l(r)||this.$raise(t.const_get_relative(S,"ArgumentError"),"tried to call lazy reject without a block"),c(t.const_get_relative(S,"Lazy"),"new",[this,s],((e=function(n,i){e.$$s;var $,a=arguments.length,o=a-1;o<0&&(o=0),$=new Array(o);for(var l=1;l<a;l++)$[l-1]=arguments[l];null==n&&(n=s);var u=t.yieldX(r,$);_(u)&&c(n,"yield",t.to_a($))}).$$s=this,e.$$arity=-2,e))},x.$$arity=0),t.defn(A,"$take",k=function(r){var i,$,a,o=s;return r=t.const_get_relative(S,"Opal").$coerce_to(r,t.const_get_relative(S,"Integer"),"to_int"),l(n(r,0))&&this.$raise(t.const_get_relative(S,"ArgumentError"),"attempt to take negative size"),$=this.$enumerator_size(),a=l(t.const_get_relative(S,"Integer")["$==="]($))&&l(n(r,$))?r:$,o=0,c(t.const_get_relative(S,"Lazy"),"new",[this,a],((i=function($,a){var _,u=i.$$s||this,d=arguments.length,h=d-1;h<0&&(h=0),_=new Array(h);for(var f=1;f<d;f++)_[f-1]=arguments[f];return null==$&&($=s),l(n(o,r))?(c($,"yield",t.to_a(_)),o=e(o,1)):u.$raise(t.const_get_relative(S,"StopLazyError"))}).$$s=this,i.$$arity=-2,i))},k.$$arity=1),t.defn(A,"$take_while",w=function(){var e,n=w.$$p,r=n||s;return n&&(w.$$p=null),l(r)||this.$raise(t.const_get_relative(S,"ArgumentError"),"tried to call lazy take_while without a block"),c(t.const_get_relative(S,"Lazy"),"new",[this,s],((e=function(n,i){var $,a=e.$$s||this,o=arguments.length,_=o-1;_<0&&(_=0),$=new Array(_);for(var u=1;u<o;u++)$[u-1]=arguments[u];null==n&&(n=s);var d=t.yieldX(r,$);l(d)?c(n,"yield",t.to_a($)):a.$raise(t.const_get_relative(S,"StopLazyError"))}).$$s=this,e.$$arity=-2,e))},w.$$arity=0),t.alias(A,"to_enum","enum_for"),t.defn(A,"$inspect",E=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},E.$$arity=0),s&&"inspect"}(k[0],0,k)}(0,0,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var s=t.top,$=[],a=t.nil,o=(t.breaker,t.slice,t.klass),l=t.truthy;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),s.$require("corelib/comparable"),function(s,c,_){function u(){}var d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X=u=o($[0],null,"Numeric",u),K=(X.$$proto,[X].concat(_));return X.$include(t.const_get_relative(K,"Comparable")),t.defn(X,"$coerce",d=function(t){return l(t["$instance_of?"](this.$class()))?[t,this]:[this.$Float(t),this.$Float(this)]},d.$$arity=1),t.defn(X,"$__coerced__",h=function(e,n){var r,i,s=this,$=a,o=a,l=a;try{i=n.$coerce(s),$=null==(r=t.to_ary(i))[0]?a:r[0],o=null==r[1]?a:r[1]}catch(r){if(!t.rescue(r,[t.const_get_relative(K,"StandardError")]))throw r;try{"+"["$==="](l=e)||"-"["$==="](l)||"*"["$==="](l)||"/"["$==="](l)||"%"["$==="](l)||"&"["$==="](l)||"|"["$==="](l)||"^"["$==="](l)||"**"["$==="](l)?s.$raise(t.const_get_relative(K,"TypeError"),n.$class()+" can't be coerce into Numeric"):(">"["$==="](l)||">="["$==="](l)||"<"["$==="](l)||"<="["$==="](l)||"<=>"["$==="](l))&&s.$raise(t.const_get_relative(K,"ArgumentError"),"comparison of "+s.$class()+" with "+n.$class()+" failed")}finally{t.pop_exception()}}return $.$__send__(e,o)},h.$$arity=2),t.defn(X,"$<=>",f=function(t){return l(this["$equal?"](t))?0:a},f.$$arity=1),t.defn(X,"$+@",p=function(){return this},p.$$arity=0),t.defn(X,"$-@",g=function(){return e(0,this)},g.$$arity=0),t.defn(X,"$%",v=function(t){return e(this,n(t,this.$div(t)))},v.$$arity=1),t.defn(X,"$abs",m=function(){return r(this,0)?this["$-@"]():this},m.$$arity=0),t.defn(X,"$abs2",y=function(){return n(this,this)},y.$$arity=0),t.defn(X,"$angle",b=function(){return r(this,0)?t.const_get_qualified(t.const_get_relative(K,"Math"),"PI"):0},b.$$arity=0),t.alias(X,"arg","angle"),t.defn(X,"$ceil",x=function(){return this.$to_f().$ceil()},x.$$arity=0),t.defn(X,"$conj",k=function(){return this},k.$$arity=0),t.alias(X,"conjugate","conj"),t.defn(X,"$denominator",w=function(){return this.$to_r().$denominator()},w.$$arity=0),t.defn(X,"$div",E=function(e){return e["$=="](0)&&this.$raise(t.const_get_relative(K,"ZeroDivisionError"),"divided by o"),i(this,e).$floor()},E.$$arity=1),t.defn(X,"$divmod",A=function(t){return[this.$div(t),this["$%"](t)]},A.$$arity=1),t.defn(X,"$fdiv",O=function(t){return i(this.$to_f(),t)},O.$$arity=1),t.defn(X,"$floor",S=function(){return this.$to_f().$floor()},S.$$arity=0),t.defn(X,"$i",R=function(){return this.$Complex(0,this)},R.$$arity=0),t.defn(X,"$imag",T=function(){return 0},T.$$arity=0),t.alias(X,"imaginary","imag"),t.defn(X,"$integer?",M=function(){return!1},M.$$arity=0),t.alias(X,"magnitude","abs"),t.alias(X,"modulo","%"),t.defn(X,"$nonzero?",I=function(){return l(this["$zero?"]())?a:this},I.$$arity=0),t.defn(X,"$numerator",q=function(){return this.$to_r().$numerator()},q.$$arity=0),t.alias(X,"phase","arg"),t.defn(X,"$polar",C=function(){return[this.$abs(),this.$arg()]},C.$$arity=0),t.defn(X,"$quo",N=function(e){return i(t.const_get_relative(K,"Opal")["$coerce_to!"](this,t.const_get_relative(K,"Rational"),"to_r"),e)},N.$$arity=1),t.defn(X,"$real",z=function(){return this},z.$$arity=0),t.defn(X,"$real?",P=function(){return!0},P.$$arity=0),t.defn(X,"$rect",L=function(){return[this,0]},L.$$arity=0),t.alias(X,"rectangular","rect"),t.defn(X,"$round",D=function(t){return this.$to_f().$round(t)},D.$$arity=-1),t.defn(X,"$to_c",B=function(){return this.$Complex(this,0)},B.$$arity=0),t.defn(X,"$to_int",j=function(){return this.$to_i()},j.$$arity=0),t.defn(X,"$truncate",F=function(){return this.$to_f().$truncate()},F.$$arity=0),t.defn(X,"$zero?",U=function(){return this["$=="](0)},U.$$arity=0),t.defn(X,"$positive?",H=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?t>e:t["$>"](e)},H.$$arity=0),t.defn(X,"$negative?",G=function(){return r(this,0)},G.$$arity=0),t.defn(X,"$dup",Y=function(){return this.$raise(t.const_get_relative(K,"TypeError"),"can't dup "+this.$class())},Y.$$arity=0),t.defn(X,"$clone",W=function(){return this.$raise(t.const_get_relative(K,"TypeError"),"can't clone "+this.$class())},W.$$arity=0),a&&"clone"}(0,0,$)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=t.top,r=[],i=t.nil,s=(t.breaker,t.slice,t.klass),$=t.truthy,a=t.hash2,o=t.send,l=t.gvars;return t.add_stubs(["$require","$include","$to_a","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$!","$>=","$**","$delete_if","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),n.$require("corelib/enumerable"),n.$require("corelib/numeric"),function(n,c,_){function u(){}var d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt,it,st,$t,at,ot,lt,ct,_t,ut,dt,ht,ft,pt,gt,vt,mt,yt,bt,xt,kt,wt,Et,At,Ot,St,Rt,Tt,Mt,It,qt,Ct,Nt,zt,Pt,Lt,Dt,Bt,jt,Ft,Ut,Ht,Gt,Yt,Wt,Xt,Kt=u=s(r[0],c,"Array",u),Vt=Kt.$$proto,Jt=[Kt].concat(_);function Zt(e,n){return n.$$name===t.Array?e:n.$allocate().$replace(e.$to_a())}function Qt(t,e){return t===e||0===e?1:e>0&&t>e?Qt(t-1,e-1)+Qt(t-1,e):0}return Vt.length=i,Kt.$include(t.const_get_relative(Jt,"Enumerable")),Vt.$$is_array=!0,t.defs(Kt,"$[]",d=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return Zt(e,this)},d.$$arity=-1),t.defn(Kt,"$initialize",h=function(e,n){var r,s,$=h.$$p,a=$||i;if(null==e&&(e=i),null==n&&(n=i),$&&(h.$$p=null),e>t.const_get_qualified(t.const_get_relative(Jt,"Integer"),"MAX")&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"array size too big"),arguments.length>2&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(e.$$is_array)return this.$replace(e.$to_a()),this;if(e["$respond_to?"]("to_ary"))return this.$replace(e.$to_ary()),this}if((e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"))<0&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"negative array size"),this.splice(0,this.length),a===i)for(r=0;r<e;r++)this.push(n);else for(r=0;r<e;r++)s=a(r),this[r]=s;return this},h.$$arity=-1),t.defs(Kt,"$try_convert",f=function(e){return t.const_get_relative(Jt,"Opal")["$coerce_to?"](e,t.const_get_relative(Jt,"Array"),"to_ary")},f.$$arity=1),t.defn(Kt,"$&",p=function(e){e=$(t.const_get_relative(Jt,"Array")["$==="](e))?e.$to_a():t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Array"),"to_ary").$to_a();var n,r,i,s=[],o=a([],{});for(n=0,r=e.length;n<r;n++)t.hash_put(o,e[n],!0);for(n=0,r=this.length;n<r;n++)i=this[n],void 0!==t.hash_delete(o,i)&&s.push(i);return s},p.$$arity=1),t.defn(Kt,"$|",g=function(e){e=$(t.const_get_relative(Jt,"Array")["$==="](e))?e.$to_a():t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Array"),"to_ary").$to_a();var n,r,i=a([],{});for(n=0,r=this.length;n<r;n++)t.hash_put(i,this[n],!0);for(n=0,r=e.length;n<r;n++)t.hash_put(i,e[n],!0);return i.$keys()},g.$$arity=1),t.defn(Kt,"$*",v=function(e){if($(e["$respond_to?"]("to_str")))return this.$join(e.$to_str());e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),$(e<0)&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"negative argument");for(var n=[],r=this.$to_a(),i=0;i<e;i++)n=n.concat(r);return Zt(n,this.$class())},v.$$arity=1),t.defn(Kt,"$+",m=function(e){return e=$(t.const_get_relative(Jt,"Array")["$==="](e))?e.$to_a():t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Array"),"to_ary").$to_a(),this.concat(e)},m.$$arity=1),t.defn(Kt,"$-",y=function(e){if(e=$(t.const_get_relative(Jt,"Array")["$==="](e))?e.$to_a():t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Array"),"to_ary").$to_a(),$(0===this.length))return[];if($(0===e.length))return this.slice();var n,r,i,s=[],o=a([],{});for(n=0,r=e.length;n<r;n++)t.hash_put(o,e[n],!0);for(n=0,r=this.length;n<r;n++)i=this[n],void 0===t.hash_get(o,i)&&s.push(i);return s},y.$$arity=1),t.defn(Kt,"$<<",b=function(t){return this.push(t),this},b.$$arity=1),t.defn(Kt,"$<=>",x=function(e){if($(t.const_get_relative(Jt,"Array")["$==="](e)))e=e.$to_a();else{if(!$(e["$respond_to?"]("to_ary")))return i;e=e.$to_ary().$to_a()}if(this.$hash()===e.$hash())return 0;for(var n=Math.min(this.length,e.length),r=0;r<n;r++){var s=this[r]["$<=>"](e[r]);if(0!==s)return s}return this.length["$<=>"](e.length)},x.$$arity=1),t.defn(Kt,"$==",k=function(e){var n={};return function e(r,i){var s,$,a,o;if(r===i)return!0;if(!i.$$is_array)return!!t.const_get_relative(Jt,"Opal")["$respond_to?"](i,"to_ary")&&i["$=="](r);if(r.constructor!==Array&&(r=r.$to_a()),i.constructor!==Array&&(i=i.$to_a()),r.length!==i.length)return!1;for(n[r.$object_id()]=!0,s=0,$=r.length;s<$;s++)if(a=r[s],o=i[s],a.$$is_array){if(o.$$is_array&&o.length!==a.length)return!1;if(!n.hasOwnProperty(a.$object_id())&&!e(a,o))return!1}else if(!a["$=="](o))return!1;return!0}(this,e)},k.$$arity=1),t.defn(Kt,"$[]",w=function(e,n){var r,s,$,a,o,l,c,_,u,d;return e.$$is_range?(l=e,d=(o=this).length,c=l.excl,_=t.Opal.$coerce_to(l.begin,t.Integer,"to_int"),u=t.Opal.$coerce_to(l.end,t.Integer,"to_int"),_<0&&(_+=d)<0?i:_>d?i:u<0&&(u+=d)<0?[]:(c||(u+=1),Zt(o.slice(_,u),o.$class()))):(s=e,$=n,a=(r=this).length,(s=t.Opal.$coerce_to(s,t.Integer,"to_int"))<0&&(s+=a)<0?i:void 0===$?s>=a||s<0?i:r[s]:($=t.Opal.$coerce_to($,t.Integer,"to_int"))<0||s>a||s<0?i:Zt(r.slice(s,s+$),r.$class()))},w.$$arity=-2),t.defn(Kt,"$[]=",E=function(e,n,r){var s,a,o=i,l=i,c=this.length;if($(t.const_get_relative(Jt,"Range")["$==="](e))){o=$(t.const_get_relative(Jt,"Array")["$==="](n))?n.$to_a():$(n["$respond_to?"]("to_ary"))?n.$to_ary().$to_a():[n];var _=e.excl,u=t.const_get_relative(Jt,"Opal").$coerce_to(e.begin,t.const_get_relative(Jt,"Integer"),"to_int"),d=t.const_get_relative(Jt,"Opal").$coerce_to(e.end,t.const_get_relative(Jt,"Integer"),"to_int");if(u<0&&(u+=c)<0&&this.$raise(t.const_get_relative(Jt,"RangeError"),e.$inspect()+" out of range"),d<0&&(d+=c),_||(d+=1),u>c)for(s=c;s<u;s++)this[s]=i;return d<0?this.splice.apply(this,[u,0].concat(o)):this.splice.apply(this,[u,d-u].concat(o)),n}if($(void 0===r)?l=1:(l=n,n=r,o=$(t.const_get_relative(Jt,"Array")["$==="](n))?n.$to_a():$(n["$respond_to?"]("to_ary"))?n.$to_ary().$to_a():[n]),e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),l=t.const_get_relative(Jt,"Opal").$coerce_to(l,t.const_get_relative(Jt,"Integer"),"to_int"),e<0&&(a=e,(e+=c)<0&&this.$raise(t.const_get_relative(Jt,"IndexError"),"index "+a+" too small for array; minimum "+-this.length)),l<0&&this.$raise(t.const_get_relative(Jt,"IndexError"),"negative length ("+l+")"),e>c)for(s=c;s<e;s++)this[s]=i;return void 0===r?this[e]=n:this.splice.apply(this,[e,l].concat(o)),n},E.$$arity=-3),t.defn(Kt,"$any?",A=function(){var e,n=A.$$p,r=i,s=i;for(n&&(A.$$p=null),s=0,e=arguments.length,r=new Array(e);s<e;s++)r[s]=arguments[s];return 0!==this.length&&o(this,t.find_super_dispatcher(this,"any?",A,!1),r,n)},A.$$arity=0),t.defn(Kt,"$assoc",O=function(t){for(var e,n=0,r=this.length;n<r;n++)if((e=this[n]).length&&e[0]["$=="](t))return e;return i},O.$$arity=1),t.defn(Kt,"$at",S=function(e){return(e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"))<0&&(e+=this.length),e<0||e>=this.length?i:this[e]},S.$$arity=1),t.defn(Kt,"$bsearch_index",R=function(){var e=R.$$p,n=e||i;if(e&&(R.$$p=null),n===i)return this.$enum_for("bsearch_index");for(var r,s,$,a=0,o=this.length,l=!1,c=i;a<o;){if(s=this[r=a+Math.floor((o-a)/2)],!0===($=t.yield1(n,s)))c=r,l=!0;else if(!1===$||$===i)l=!1;else if($.$$is_number){if(0===$)return r;l=$<0}else this.$raise(t.const_get_relative(Jt,"TypeError"),"wrong argument type "+$.$class()+" (must be numeric, true, false or nil)");l?o=r:a=r+1}return c},R.$$arity=0),t.defn(Kt,"$bsearch",T=function(){var t,e=T.$$p,n=e||i;return e&&(T.$$p=null),n===i?this.$enum_for("bsearch"):null!=(t=o(this,"bsearch_index",[],n.$to_proc()))&&t.$$is_number?this[t]:t},T.$$arity=0),t.defn(Kt,"$cycle",M=function(n){var r,s,a,l,c=M.$$p,_=c||i;if(null==n&&(n=i),c&&(M.$$p=null),_===i)return o(this,"enum_for",["cycle",n],((r=function(){var s,a,o=r.$$s||this;return n["$=="](i)?t.const_get_qualified(t.const_get_relative(Jt,"Float"),"INFINITY"):(n=t.const_get_relative(Jt,"Opal")["$coerce_to!"](n,t.const_get_relative(Jt,"Integer"),"to_int"),$(e(n,0))?(s=o.$enumerator_size(),a=n,"number"==typeof s&&"number"==typeof a?s*a:s["$*"](a)):0)}).$$s=this,r.$$arity=0,r));if($($(s=this["$empty?"]())?s:n["$=="](0)))return i;if(n===i)for(;;)for(a=0,l=this.length;a<l;a++)t.yield1(_,this[a]);else{if((n=t.const_get_relative(Jt,"Opal")["$coerce_to!"](n,t.const_get_relative(Jt,"Integer"),"to_int"))<=0)return this;for(;n>0;){for(a=0,l=this.length;a<l;a++)t.yield1(_,this[a]);n--}}return this},M.$$arity=-1),t.defn(Kt,"$clear",I=function(){return this.splice(0,this.length),this},I.$$arity=0),t.defn(Kt,"$count",q=function(e){var n,r,s=q.$$p,a=s||i,l=i,c=i;for(null==e&&(e=i),s&&(q.$$p=null),c=0,r=arguments.length,l=new Array(r);c<r;c++)l[c]=arguments[c];return $($(n=e)?n:a)?o(this,t.find_super_dispatcher(this,"count",q,!1),l,s):this.$size()},q.$$arity=-1),t.defn(Kt,"$initialize_copy",C=function(t){return this.$replace(t)},C.$$arity=1),t.defn(Kt,"$collect",N=function(){var e,n=N.$$p,r=n||i;if(n&&(N.$$p=null),r===i)return o(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s=[],$=0,a=this.length;$<a;$++){var l=t.yield1(r,this[$]);s.push(l)}return s},N.$$arity=0),t.defn(Kt,"$collect!",z=function(){var e,n=z.$$p,r=n||i;if(n&&(z.$$p=null),r===i)return o(this,"enum_for",["collect!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s=0,$=this.length;s<$;s++){var a=t.yield1(r,this[s]);this[s]=a}return this},z.$$arity=0),t.defn(Kt,"$combination",P=function(e){var n,r,s,$,a,l,c,_,u,d=P.$$p,h=d||i;if(d&&(P.$$p=null),r=t.const_get_relative(Jt,"Opal")["$coerce_to!"](e,t.const_get_relative(Jt,"Integer"),"to_int"),h===i)return o(this,"enum_for",["combination",r],((n=function(){return Qt((n.$$s||this).length,r)}).$$s=this,n.$$arity=0,n));if(0===r)t.yield1(h,[]);else if(1===r)for(s=0,$=this.length;s<$;s++)t.yield1(h,[this[s]]);else if(r===this.length)t.yield1(h,this.slice());else if(r>=0&&r<this.length){for(a=[],s=0;s<=r+1;s++)a.push(0);for(l=[],c=0,_=!1,a[0]=-1;!_;){for(l[c]=this[a[c+1]];c<r-1;)u=a[++c+1]=a[c]+1,l[c]=this[u];t.yield1(h,l.slice()),c++;do{_=0===c,a[c]++,c--}while(a[c+1]+r===this.length+c+1)}}return this},P.$$arity=1),t.defn(Kt,"$repeated_combination",L=function(e){var n,r,s=L.$$p,$=s||i;if(s&&(L.$$p=null),r=t.const_get_relative(Jt,"Opal")["$coerce_to!"](e,t.const_get_relative(Jt,"Integer"),"to_int"),$===i)return o(this,"enum_for",["repeated_combination",r],((n=function(){return Qt((n.$$s||this).length+r-1,r)}).$$s=this,n.$$arity=0,n));return r>=0&&function e(n,r,i,s){if(i.length!=n)for(var a=r;a<s.length;a++)i.push(s[a]),e(n,a,i,s),i.pop();else{var o=i.slice();t.yield1($,o)}}(r,0,[],this),this},L.$$arity=1),t.defn(Kt,"$compact",D=function(){for(var t,e=[],n=0,r=this.length;n<r;n++)(t=this[n])!==i&&e.push(t);return e},D.$$arity=0),t.defn(Kt,"$compact!",B=function(){for(var t=this.length,e=0,n=this.length;e<n;e++)this[e]===i&&(this.splice(e,1),n--,e--);return this.length===t?i:this},B.$$arity=0),t.defn(Kt,"$concat",j=function(e){for(var n=0,r=(e=$(t.const_get_relative(Jt,"Array")["$==="](e))?e.$to_a():t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Array"),"to_ary").$to_a()).length;n<r;n++)this.push(e[n]);return this},j.$$arity=1),t.defn(Kt,"$delete",F=function(e){var n=F.$$p,r=n||i;n&&(F.$$p=null);for(var s=this.length,$=0,a=s;$<a;$++)this[$]["$=="](e)&&(this.splice($,1),a--,$--);return this.length===s?r!==i?t.yieldX(r,[]):i:e},F.$$arity=1),t.defn(Kt,"$delete_at",U=function(e){if((e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"))<0&&(e+=this.length),e<0||e>=this.length)return i;var n=this[e];return this.splice(e,1),n},U.$$arity=1),t.defn(Kt,"$delete_if",H=function(){var t,e=H.$$p,n=e||i;if(e&&(H.$$p=null),n===i)return o(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,s=0,$=this.length;s<$;s++)!1!==(r=n(this[s]))&&r!==i&&(this.splice(s,1),$--,s--);return this},H.$$arity=0),t.defn(Kt,"$dig",G=function(e,n){var r,s=i,a=arguments.length,l=a-1;l<0&&(l=0),r=new Array(l);for(var c=1;c<a;c++)r[c-1]=arguments[c];return(s=this["$[]"](e))===i||0===r.length?s:($(s["$respond_to?"]("dig"))||this.$raise(t.const_get_relative(Jt,"TypeError"),s.$class()+" does not have #dig method"),o(s,"dig",t.to_a(r)))},G.$$arity=-2),t.defn(Kt,"$drop",Y=function(e){return e<0&&this.$raise(t.const_get_relative(Jt,"ArgumentError")),this.slice(e)},Y.$$arity=1),t.defn(Kt,"$dup",W=function(){var e,n=W.$$p,r=i,s=i;for(n&&(W.$$p=null),s=0,e=arguments.length,r=new Array(e);s<e;s++)r[s]=arguments[s];return this.$$class===t.Array&&this.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):o(this,t.find_super_dispatcher(this,"dup",W,!1),r,n)},W.$$arity=0),t.defn(Kt,"$each",X=function(){var e,n=X.$$p,r=n||i;if(n&&(X.$$p=null),r===i)return o(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s=0,$=this.length;s<$;s++)t.yield1(r,this[s]);return this},X.$$arity=0),t.defn(Kt,"$each_index",K=function(){var e,n=K.$$p,r=n||i;if(n&&(K.$$p=null),r===i)return o(this,"enum_for",["each_index"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s=0,$=this.length;s<$;s++)t.yield1(r,s);return this},K.$$arity=0),t.defn(Kt,"$empty?",V=function(){return 0===this.length},V.$$arity=0),t.defn(Kt,"$eql?",J=function(t){var e={};return function t(n,r){var i,s,$,a;if(!r.$$is_array)return!1;if(r=r.$to_a(),n.length!==r.length)return!1;for(e[n.$object_id()]=!0,i=0,s=n.length;i<s;i++)if($=n[i],a=r[i],$.$$is_array){if(a.$$is_array&&a.length!==$.length)return!1;if(!e.hasOwnProperty($.$object_id())&&!t($,a))return!1}else if(!$["$eql?"](a))return!1;return!0}(this,t)},J.$$arity=1),t.defn(Kt,"$fetch",Z=function(e,n){var r=Z.$$p,s=r||i;r&&(Z.$$p=null);var $=e;return(e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"))<0&&(e+=this.length),e>=0&&e<this.length?this[e]:s!==i?s($):null!=n?n:void(0===this.length?this.$raise(t.const_get_relative(Jt,"IndexError"),"index "+$+" outside of array bounds: 0...0"):this.$raise(t.const_get_relative(Jt,"IndexError"),"index "+$+" outside of array bounds: -"+this.length+"..."+this.length))},Z.$$arity=-2),t.defn(Kt,"$fill",Q=function(e){var n,r,s,a,o,l=Q.$$p,c=l||i,_=i,u=i,d=i,h=i,f=i,p=arguments.length,g=p-0;g<0&&(g=0),s=new Array(g);for(var v=0;v<p;v++)s[v-0]=arguments[v];if(l&&(Q.$$p=null),$(c)?($(s.length>2)&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"wrong number of arguments ("+s.$length()+" for 0..2)"),r=s,_=null==(n=t.to_ary(r))[0]?i:n[0],u=null==n[1]?i:n[1]):($(0==s.length)?this.$raise(t.const_get_relative(Jt,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):$(s.length>3)&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"wrong number of arguments ("+s.$length()+" for 1..3)"),r=s,d=null==(n=t.to_ary(r))[0]?i:n[0],_=null==n[1]?i:n[1],u=null==n[2]?i:n[2]),$(t.const_get_relative(Jt,"Range")["$==="](_))){if($(u)&&this.$raise(t.const_get_relative(Jt,"TypeError"),"length invalid with range"),h=t.const_get_relative(Jt,"Opal").$coerce_to(_.$begin(),t.const_get_relative(Jt,"Integer"),"to_int"),$(h<0)&&(h+=this.length),$(h<0)&&this.$raise(t.const_get_relative(Jt,"RangeError"),_.$inspect()+" out of range"),f=t.const_get_relative(Jt,"Opal").$coerce_to(_.$end(),t.const_get_relative(Jt,"Integer"),"to_int"),$(f<0)&&(f+=this.length),$(_["$exclude_end?"]())||(f+=1),$(f<=h))return this}else if($(_))if(h=t.const_get_relative(Jt,"Opal").$coerce_to(_,t.const_get_relative(Jt,"Integer"),"to_int"),$(h<0)&&(h+=this.length),$(h<0)&&(h=0),$(u)){if(f=t.const_get_relative(Jt,"Opal").$coerce_to(u,t.const_get_relative(Jt,"Integer"),"to_int"),$(0==f))return this;f+=h}else f=this.length;else h=0,f=this.length;if($(h>this.length))for(a=this.length;a<f;a++)this[a]=i;if($(f>this.length)&&(this.length=f),$(c))for(this.length;h<f;h++)o=c(h),this[h]=o;else for(this.length;h<f;h++)this[h]=d;return this},Q.$$arity=-1),t.defn(Kt,"$first",tt=function(e){return null==e?0===this.length?i:this[0]:((e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"))<0&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"negative array size"),this.slice(0,e))},tt.$$arity=-1),t.defn(Kt,"$flatten",et=function(e){var n=this;return void 0!==e&&(e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int")),Zt(function e(r,s){var $,a,o,l,c=[];for($=0,a=(r=r.$to_a()).length;$<a;$++)if(o=r[$],t.const_get_relative(Jt,"Opal")["$respond_to?"](o,"to_ary"))if((l=o.$to_ary())!==i)switch(l.$$is_array||n.$raise(t.const_get_relative(Jt,"TypeError")),l===n&&n.$raise(t.const_get_relative(Jt,"ArgumentError")),s){case void 0:c=c.concat(e(l));break;case 0:c.push(l);break;default:c.push.apply(c,e(l,s-1))}else c.push(o);else c.push(o);return c}(n,e),n.$class())},et.$$arity=-1),t.defn(Kt,"$flatten!",nt=function(t){var e=this.$flatten(t);if(this.length==e.length){for(var n=0,r=this.length;n<r&&this[n]===e[n];n++);if(n==r)return i}return this.$replace(e),this},nt.$$arity=-1),t.defn(Kt,"$hash",rt=function(){var e,n,r,i=void 0===t.hash_ids,s=["A"],$=this.$object_id();try{if(i&&(t.hash_ids=Object.create(null)),t.hash_ids[$])return"self";for(r in t.hash_ids)if(e=t.hash_ids[r],this["$eql?"](e))return"self";for(t.hash_ids[$]=this,n=0;n<this.length;n++)e=this[n],s.push(e.$hash());return s.join(",")}finally{i&&(t.hash_ids=void 0)}},rt.$$arity=0),t.defn(Kt,"$include?",it=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]["$=="](t))return!0;return!1},it.$$arity=1),t.defn(Kt,"$index",st=function(t){var e,n,r,s=st.$$p,$=s||i;if(s&&(st.$$p=null),null!=t){for(e=0,n=this.length;e<n;e++)if(this[e]["$=="](t))return e}else{if($===i)return this.$enum_for("index");for(e=0,n=this.length;e<n;e++)if(!1!==(r=$(this[e]))&&r!==i)return e}return i},st.$$arity=-1),t.defn(Kt,"$insert",$t=function(e,n){var r,s=arguments.length,$=s-1;$<0&&($=0),r=new Array($);for(var a=1;a<s;a++)r[a-1]=arguments[a];if(e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),r.length>0){if(e<0&&(e+=this.length+1)<0&&this.$raise(t.const_get_relative(Jt,"IndexError"),e+" is out of bounds"),e>this.length)for(var o=this.length;o<e;o++)this.push(i);this.splice.apply(this,[e,0].concat(r))}return this},$t.$$arity=-2),t.defn(Kt,"$inspect",at=function(){for(var t=[],e=this.$__id__(),n=0,r=this.length;n<r;n++){var i=this["$[]"](n);i.$__id__()===e?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},at.$$arity=0),t.defn(Kt,"$join",ot=function(e){if(null==l[","]&&(l[","]=i),null==e&&(e=i),$(0===this.length))return"";$(e===i)&&(e=l[","]);var n,r,s,a,o=[];for(n=0,r=this.length;n<r;n++)s=this[n],t.const_get_relative(Jt,"Opal")["$respond_to?"](s,"to_str")&&(a=s.$to_str())!==i?o.push(a.$to_s()):t.const_get_relative(Jt,"Opal")["$respond_to?"](s,"to_ary")&&((a=s.$to_ary())===this&&this.$raise(t.const_get_relative(Jt,"ArgumentError")),a!==i)?o.push(a.$join(e)):t.const_get_relative(Jt,"Opal")["$respond_to?"](s,"to_s")&&(a=s.$to_s())!==i?o.push(a):this.$raise(t.const_get_relative(Jt,"NoMethodError").$new(t.inspect(s)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===i?o.join(""):o.join(t.const_get_relative(Jt,"Opal")["$coerce_to!"](e,t.const_get_relative(Jt,"String"),"to_str").$to_s())},ot.$$arity=-1),t.defn(Kt,"$keep_if",lt=function(){var t,e=lt.$$p,n=e||i;if(e&&(lt.$$p=null),n===i)return o(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,s=0,$=this.length;s<$;s++)!1!==(r=n(this[s]))&&r!==i||(this.splice(s,1),$--,s--);return this},lt.$$arity=0),t.defn(Kt,"$last",ct=function(e){return null==e?0===this.length?i:this[this.length-1]:((e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"))<0&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"negative array size"),e>this.length&&(e=this.length),this.slice(this.length-e,this.length))},ct.$$arity=-1),t.defn(Kt,"$length",_t=function(){return this.length},_t.$$arity=0),t.alias(Kt,"map","collect"),t.alias(Kt,"map!","collect!"),t.defn(Kt,"$permutation",ut=function(e){var n,r,s,$,a=this,l=ut.$$p,c=l||i,_=i,u=i;if(l&&(ut.$$p=null),c===i)return o(a,"enum_for",["permutation",e],((n=function(){var t=n.$$s||this;return function(t,e){for(var n=e>=0?1:0;e;)n*=t,t--,e--;return n}(t.length,void 0===e?t.length:e)}).$$s=a,n.$$arity=0,n));if((e=void 0===e?a.length:t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"))<0||a.length<e);else if(0===e)t.yield1(c,[]);else if(1===e)for(var d=0;d<a.length;d++)t.yield1(c,[a[d]]);else _=t.const_get_relative(Jt,"Array").$new(e),u=t.const_get_relative(Jt,"Array").$new(a.length,!1),r=function(e,n,i,s,o){a=this;for(var l=0;l<a.length;l++)if(s["$[]"](l)["$!"]())if(n[i]=l,i<e-1)s[l]=!0,r.call(a,e,n,i+1,s,o),s[l]=!1;else{$=[];for(var c=0;c<n.length;c++)$.push(a[n[c]]);t.yield1(o,$)}},c!==i?(s=a.slice(),r.call(s,e,_,0,u,c)):r.call(a,e,_,0,u,c);return a},ut.$$arity=-1),t.defn(Kt,"$repeated_permutation",dt=function(e){var n,r,s=dt.$$p,a=s||i;if(s&&(dt.$$p=null),r=t.const_get_relative(Jt,"Opal")["$coerce_to!"](e,t.const_get_relative(Jt,"Integer"),"to_int"),a===i)return o(this,"enum_for",["repeated_permutation",r],((n=function(){var t,e,i=n.$$s||this;return $((e=0,"number"==typeof(t=r)&&"number"==typeof e?t>=e:t["$>="](e)))?i.$size()["$**"](r):0}).$$s=this,n.$$arity=0,n));return function e(n,r,i){if(r.length!=n)for(var s=0;s<i.length;s++)r.push(i[s]),e(n,r,i),r.pop();else{var $=r.slice();t.yield1(a,$)}}(r,[],this.slice()),this},dt.$$arity=1),t.defn(Kt,"$pop",ht=function(e){return $(void 0===e)?$(0===this.length)?i:this.pop():(e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),$(e<0)&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"negative array size"),$(0===this.length)?[]:$(e>this.length)?this.splice(0,this.length):this.splice(this.length-e,this.length))},ht.$$arity=-1),t.defn(Kt,"$product",ft=function(e){var n,r=ft.$$p,s=r||i,$=arguments.length,a=$-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<$;o++)n[o-0]=arguments[o];r&&(ft.$$p=null);var l,c,_,u,d=s!==i?null:[],h=n.length+1,f=new Array(h),p=new Array(h),g=new Array(h),v=1;for(g[0]=this,l=1;l<h;l++)g[l]=t.const_get_relative(Jt,"Opal").$coerce_to(n[l-1],t.const_get_relative(Jt,"Array"),"to_ary");for(l=0;l<h;l++){if(0===(u=g[l].length))return d||this;(v*=u)>2147483647&&this.$raise(t.const_get_relative(Jt,"RangeError"),"too big to product"),p[l]=u,f[l]=0}t:for(;;){for(_=[],l=0;l<h;l++)_.push(g[l][f[l]]);for(d?d.push(_):t.yield1(s,_),f[c=h-1]++;f[c]===p[c];){if(f[c]=0,--c<0)break t;f[c]++}}return d||this},ft.$$arity=-1),t.defn(Kt,"$push",pt=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(var s=0,$=e.length;s<$;s++)this.push(e[s]);return this},pt.$$arity=-1),t.defn(Kt,"$rassoc",gt=function(t){for(var e,n=0,r=this.length;n<r;n++)if((e=this[n]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return i},gt.$$arity=1),t.defn(Kt,"$reject",vt=function(){var t,e=vt.$$p,n=e||i;if(e&&(vt.$$p=null),n===i)return o(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,s=[],$=0,a=this.length;$<a;$++)!1!==(r=n(this[$]))&&r!==i||s.push(this[$]);return s},vt.$$arity=0),t.defn(Kt,"$reject!",mt=function(){var t,e,n=mt.$$p,r=n||i;return n&&(mt.$$p=null),r===i?o(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(e=this.$length(),o(this,"delete_if",[],r.$to_proc()),this.$length()["$=="](e)?i:this)},mt.$$arity=0),t.defn(Kt,"$replace",yt=function(e){return e=$(t.const_get_relative(Jt,"Array")["$==="](e))?e.$to_a():t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,e),this},yt.$$arity=1),t.defn(Kt,"$reverse",bt=function(){return this.slice(0).reverse()},bt.$$arity=0),t.defn(Kt,"$reverse!",xt=function(){return this.reverse()},xt.$$arity=0),t.defn(Kt,"$reverse_each",kt=function(){var t,e=kt.$$p,n=e||i;return e&&(kt.$$p=null),n===i?o(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(o(this.$reverse(),"each",[],n.$to_proc()),this)},kt.$$arity=0),t.defn(Kt,"$rindex",wt=function(t){var e,n,r=wt.$$p,s=r||i;if(r&&(wt.$$p=null),null!=t){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if(s!==i){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(!1!==(n=s(this[e]))&&n!==i)return e}else if(null==t)return this.$enum_for("rindex");return i},wt.$$arity=-1),t.defn(Kt,"$rotate",Et=function(e){var n,r,i,s;return null==e&&(e=1),e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(r=e%(n=this.slice()).length,i=n.slice(r),s=n.slice(0,r),i.concat(s))},Et.$$arity=-1),t.defn(Kt,"$rotate!",At=function(e){var n;return null==e&&(e=1),0===this.length||1===this.length?this:(e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),n=this.$rotate(e),this.$replace(n))},At.$$arity=-1),function(e,n,r){function a(){}var o,l,c=a=s(e,null,"SampleRandom",a),_=c.$$proto,u=[c].concat(r);_.rng=i,t.defn(c,"$initialize",o=function(t){return this.rng=t},o.$$arity=1),t.defn(c,"$rand",l=function(e){var n;return n=t.const_get_relative(u,"Opal").$coerce_to(this.rng.$rand(e),t.const_get_relative(u,"Integer"),"to_int"),$(n<0)&&this.$raise(t.const_get_relative(u,"RangeError"),"random value must be >= 0"),$(n<e)||this.$raise(t.const_get_relative(u,"RangeError"),"random value must be less than Array size"),n},l.$$arity=1)}(Jt[0],0,Jt),t.defn(Kt,"$sample",Ot=function(e,n){var r,s,a,o,l,c,_,u,d,h=i,f=i;if($(void 0===e))return this.$at(t.const_get_relative(Jt,"Kernel").$rand(this.length));if($(void 0===n)?$(h=t.const_get_relative(Jt,"Opal")["$coerce_to?"](e,t.const_get_relative(Jt,"Hash"),"to_hash"))?(n=h,e=i):(n=i,e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int")):(e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),n=t.const_get_relative(Jt,"Opal").$coerce_to(n,t.const_get_relative(Jt,"Hash"),"to_hash")),$($(r=e)?e<0:r)&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"count must be greater than 0"),$(n)&&(f=n["$[]"]("random")),f=$($(r=f)?f["$respond_to?"]("rand"):r)?t.const_get_relative(Jt,"SampleRandom").$new(f):t.const_get_relative(Jt,"Kernel"),!$(e))return this[f.$rand(this.length)];switch(e>this.length&&(e=this.length),e){case 0:return[];case 1:return[this[f.$rand(this.length)]];case 2:return(l=f.$rand(this.length))===(c=f.$rand(this.length))&&(c=0===l?l+1:l-1),[this[l],this[c]];default:if(this.length/e>3){for(s=!1,a=0,l=1,(o=t.const_get_relative(Jt,"Array").$new(e))[0]=f.$rand(this.length);l<e;){for(_=f.$rand(this.length),c=0;c<l;){for(;_===o[c];){if(++a>100){s=!0;break}_=f.$rand(this.length)}if(s)break;c++}if(s)break;o[l]=_,l++}if(!s){for(l=0;l<e;)o[l]=this[o[l]],l++;return o}}o=this.slice();for(var p=0;p<e;p++)u=f.$rand(this.length),d=o[p],o[p]=o[u],o[u]=d;return e===this.length?o:o["$[]"](0,e)}},Ot.$$arity=-1),t.defn(Kt,"$select",St=function(){var e,n=St.$$p,r=n||i;if(n&&(St.$$p=null),r===i)return o(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var s,$,a=[],l=0,c=this.length;l<c;l++)s=this[l],!1!==($=t.yield1(r,s))&&$!==i&&a.push(s);return a},St.$$arity=0),t.defn(Kt,"$select!",Rt=function(){var t,e=Rt.$$p,n=e||i;if(e&&(Rt.$$p=null),n===i)return o(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var r=this.length;return o(this,"keep_if",[],n.$to_proc()),this.length===r?i:this},Rt.$$arity=0),t.defn(Kt,"$shift",Tt=function(e){return $(void 0===e)?$(0===this.length)?i:this.shift():(e=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),$(e<0)&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"negative array size"),$(0===this.length)?[]:this.splice(0,e))},Tt.$$arity=-1),t.alias(Kt,"size","length"),t.defn(Kt,"$shuffle",Mt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Mt.$$arity=-1),t.defn(Kt,"$shuffle!",It=function(e){var n,r,s,$=this.length;for(void 0!==e&&(e=t.const_get_relative(Jt,"Opal")["$coerce_to?"](e,t.const_get_relative(Jt,"Hash"),"to_hash"))!==i&&(e=e["$[]"]("random"))!==i&&e["$respond_to?"]("rand")&&(n=e);$;)n?((r=n.$rand($).$to_int())<0&&this.$raise(t.const_get_relative(Jt,"RangeError"),"random number too small "+r),r>=$&&this.$raise(t.const_get_relative(Jt,"RangeError"),"random number too big "+r)):r=this.$rand($),s=this[--$],this[$]=this[r],this[r]=s;return this},It.$$arity=-1),t.alias(Kt,"slice","[]"),t.defn(Kt,"$slice!",qt=function(e,n){var r=i,s=i,a=i,o=i,l=i;if(r=i,$(void 0===n))if($(t.const_get_relative(Jt,"Range")["$==="](e))){s=e,r=this["$[]"](s),a=t.const_get_relative(Jt,"Opal").$coerce_to(s.$begin(),t.const_get_relative(Jt,"Integer"),"to_int"),o=t.const_get_relative(Jt,"Opal").$coerce_to(s.$end(),t.const_get_relative(Jt,"Integer"),"to_int"),a<0&&(a+=this.length),o<0?o+=this.length:o>=this.length&&(o=this.length-1,s.excl&&(o+=1));var c=o-a;s.excl?o-=1:c+=1,a<this.length&&a>=0&&o<this.length&&o>=0&&c>0&&this.splice(a,c)}else{if((l=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"))<0&&(l+=this.length),l<0||l>=this.length)return i;r=this[l],0===l?this.shift():this.splice(l,1)}else{if(l=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),(n=t.const_get_relative(Jt,"Opal").$coerce_to(n,t.const_get_relative(Jt,"Integer"),"to_int"))<0)return i;r=this["$[]"](l,n),l<0&&(l+=this.length),l+n>this.length&&(n=this.length-l),l<this.length&&l>=0&&this.splice(l,n)}return r},qt.$$arity=-2),t.defn(Kt,"$sort",Ct=function(){var n=this,r=Ct.$$p,s=r||i;return r&&(Ct.$$p=null),$(n.length>1)?(s===i&&(s=function(t,e){return t["$<=>"](e)}),n.slice().sort(function(r,$){var a,o,l=s(r,$);return l===i&&n.$raise(t.const_get_relative(Jt,"ArgumentError"),"comparison of "+r.$inspect()+" with "+$.$inspect()+" failed"),e(l,0)?1:(o=0,("number"==typeof(a=l)&&"number"==typeof o?a<o:a["$<"](o))?-1:0)})):n},Ct.$$arity=0),t.defn(Kt,"$sort!",Nt=function(){var t,e=Nt.$$p,n=e||i;e&&(Nt.$$p=null),t=n!==i?o(this.slice(),"sort",[],n.$to_proc()):this.slice().$sort(),this.length=0;for(var r=0,s=t.length;r<s;r++)this.push(t[r]);return this},Nt.$$arity=0),t.defn(Kt,"$sort_by!",zt=function(){var t,e=zt.$$p,n=e||i;return e&&(zt.$$p=null),n===i?o(this,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):this.$replace(o(this,"sort_by",[],n.$to_proc()))},zt.$$arity=0),t.defn(Kt,"$take",Pt=function(e){return e<0&&this.$raise(t.const_get_relative(Jt,"ArgumentError")),this.slice(0,e)},Pt.$$arity=1),t.defn(Kt,"$take_while",Lt=function(){var t=Lt.$$p,e=t||i;t&&(Lt.$$p=null);for(var n,r,s=[],$=0,a=this.length;$<a;$++){if(!1===(r=e(n=this[$]))||r===i)return s;s.push(n)}return s},Lt.$$arity=0),t.defn(Kt,"$to_a",Dt=function(){return this},Dt.$$arity=0),t.alias(Kt,"to_ary","to_a"),t.defn(Kt,"$to_h",Bt=function(){var e,n,r,i,s=this.length,$=a([],{});for(e=0;e<s;e++)(n=t.const_get_relative(Jt,"Opal")["$coerce_to?"](this[e],t.const_get_relative(Jt,"Array"),"to_ary")).$$is_array||this.$raise(t.const_get_relative(Jt,"TypeError"),"wrong element type "+n.$class()+" at "+e+" (expected array)"),2!==n.length&&this.$raise(t.const_get_relative(Jt,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+n.$length()+")"),r=n[0],i=n[1],t.hash_put($,r,i);return $},Bt.$$arity=0),t.alias(Kt,"to_s","inspect"),t.defn(Kt,"$transpose",jt=function(){var e,n=i,r=i;return $(this["$empty?"]())?[]:(n=[],r=i,o(this,"each",[],((e=function(s){var a,l,c=e.$$s||this;return null==s&&(s=i),s=$(t.const_get_relative(Jt,"Array")["$==="](s))?s.$to_a():t.const_get_relative(Jt,"Opal").$coerce_to(s,t.const_get_relative(Jt,"Array"),"to_ary").$to_a(),r=$(a=r)?a:s.length,$(s.length["$!="](r))&&c.$raise(t.const_get_relative(Jt,"IndexError"),"element size differs ("+s.length+" should be "+r),o(s.length,"times",[],((l=function(e){l.$$s;var r,a,c,_=i;return null==e&&(e=i),($(r=n["$[]"](e))?r:(_=[e,[]],o(n,"[]=",t.to_a(_)),_[(a=_.length,c=1,"number"==typeof a&&"number"==typeof c?a-c:a["$-"](c))]))["$<<"](s.$at(e))}).$$s=c,l.$$arity=1,l))}).$$s=this,e.$$arity=1,e)),n)},jt.$$arity=0),t.defn(Kt,"$uniq",Ft=function(){var e=Ft.$$p,n=e||i;e&&(Ft.$$p=null);var r,s,$,o,l=a([],{});if(n===i)for(r=0,s=this.length;r<s;r++)$=this[r],void 0===t.hash_get(l,$)&&t.hash_put(l,$,$);else for(r=0,s=this.length;r<s;r++)$=this[r],o=t.yield1(n,$),void 0===t.hash_get(l,o)&&t.hash_put(l,o,$);return Zt(l.$values(),this.$class())},Ft.$$arity=0),t.defn(Kt,"$uniq!",Ut=function(){var e=Ut.$$p,n=e||i;e&&(Ut.$$p=null);var r,s,$,o,l=this.length,c=a([],{});for(r=0,s=l;r<s;r++)$=this[r],o=n===i?$:t.yield1(n,$),void 0!==t.hash_get(c,o)?(this.splice(r,1),s--,r--):t.hash_put(c,o,$);return this.length===l?i:this},Ut.$$arity=0),t.defn(Kt,"$unshift",Ht=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(var s=e.length-1;s>=0;s--)this.unshift(e[s]);return this},Ht.$$arity=-1),t.defn(Kt,"$values_at",Gt=function(e){var n,r,s=i,a=arguments.length,l=a-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<a;c++)r[c-0]=arguments[c];return s=[],o(r,"each",[],((n=function(e){var r,a=n.$$s||this,l=i,c=i,_=i;return null==e&&(e=i),$(e["$kind_of?"](t.const_get_relative(Jt,"Range")))?(l=t.const_get_relative(Jt,"Opal").$coerce_to(e.$last(),t.const_get_relative(Jt,"Integer"),"to_int"),(c=t.const_get_relative(Jt,"Opal").$coerce_to(e.$first(),t.const_get_relative(Jt,"Integer"),"to_int"))<0?(c+=a.length,i):(l<0&&(l+=a.length),e["$exclude_end?"]()&&l--,l<c?i:o(c,"upto",[l],((r=function(t){var e=r.$$s||this;return null==t&&(t=i),s["$<<"](e.$at(t))}).$$s=a,r.$$arity=1,r)))):(_=t.const_get_relative(Jt,"Opal").$coerce_to(e,t.const_get_relative(Jt,"Integer"),"to_int"),s["$<<"](a.$at(_)))}).$$s=this,n.$$arity=1,n)),s},Gt.$$arity=-1),t.defn(Kt,"$zip",Yt=function(e){var n,r,s=Yt.$$p,a=s||i,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<o;c++)r[c-0]=arguments[c];s&&(Yt.$$p=null);var _,u,d,h,f,p=[],g=this.length;for(h=0,f=r.length;h<f;h++)(u=r[h]).$$is_array||(u.$$is_enumerator?u.$size()===1/0?r[h]=u.$take(g):r[h]=u.$to_a():r[h]=($(n=t.const_get_relative(Jt,"Opal")["$coerce_to?"](u,t.const_get_relative(Jt,"Array"),"to_ary"))?n:t.const_get_relative(Jt,"Opal")["$coerce_to!"](u,t.const_get_relative(Jt,"Enumerator"),"each")).$to_a());for(d=0;d<g;d++){for(_=[this[d]],h=0,f=r.length;h<f;h++)null==(u=r[h][d])&&(u=i),_[h+1]=u;p[d]=_}if(a!==i){for(d=0;d<g;d++)a(p[d]);return i}return p},Yt.$$arity=-1),t.defs(Kt,"$inherited",Wt=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},Wt.$$arity=1),t.defn(Kt,"$instance_variables",Xt=function(){var e,n,r=Xt.$$p,s=i,a=i;for(r&&(Xt.$$p=null),a=0,n=arguments.length,s=new Array(n);a<n;a++)s[a]=arguments[a];return o(o(this,t.find_super_dispatcher(this,"instance_variables",Xt,!1),s,r),"reject",[],((e=function(t){var n;e.$$s;return null==t&&(t=i),$(n=/^@\d+$/.test(t))?n:t["$=="]("@length")}).$$s=this,e.$$arity=1,e))},Xt.$$arity=0),t.const_get_relative(Jt,"Opal").$pristine(Kt,"allocate","copy_instance_variables","initialize_dup")}(0,Array,r)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,i=[],s=t.nil,$=(t.breaker,t.slice,t.klass),a=t.send,o=t.hash2,l=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$call","$enum_for","$size","$respond_to?","$class","$dig","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$alias_method","$proc"]),r.$require("corelib/enumerable"),function(r,c,_){function u(){}var d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt,it,st,$t,at,ot,lt,ct,_t,ut,dt,ht,ft=u=$(i[0],null,"Hash",u),pt=ft.$$proto,gt=[ft].concat(_);return ft.$include(t.const_get_relative(gt,"Enumerable")),pt.$$is_hash=!0,t.defs(ft,"$[]",d=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var $=0;$<r;$++)n[$-0]=arguments[$];var a,o,l=n.length;if(1===l){if((a=t.const_get_relative(gt,"Opal")["$coerce_to?"](n["$[]"](0),t.const_get_relative(gt,"Hash"),"to_hash"))!==s)return this.$allocate()["$merge!"](a);for((n=t.const_get_relative(gt,"Opal")["$coerce_to?"](n["$[]"](0),t.const_get_relative(gt,"Array"),"to_ary"))===s&&this.$raise(t.const_get_relative(gt,"ArgumentError"),"odd number of arguments for Hash"),l=n.length,a=this.$allocate(),o=0;o<l;o++)if(n[o].$$is_array)switch(n[o].length){case 1:a.$store(n[o][0],s);break;case 2:a.$store(n[o][0],n[o][1]);break;default:this.$raise(t.const_get_relative(gt,"ArgumentError"),"invalid number of elements ("+n[o].length+" for 1..2)")}return a}for(l%2!=0&&this.$raise(t.const_get_relative(gt,"ArgumentError"),"odd number of arguments for Hash"),a=this.$allocate(),o=0;o<l;o+=2)a.$store(n[o],n[o+1]);return a},d.$$arity=-1),t.defs(ft,"$allocate",h=function(){var e=new this.$$alloc;return t.hash_init(e),e.$$none=s,e.$$proc=s,e},h.$$arity=0),t.defs(ft,"$try_convert",f=function(e){return t.const_get_relative(gt,"Opal")["$coerce_to?"](e,t.const_get_relative(gt,"Hash"),"to_hash")},f.$$arity=1),t.defn(ft,"$initialize",p=function(e){var n=p.$$p,r=n||s;return n&&(p.$$p=null),void 0!==e&&r!==s&&this.$raise(t.const_get_relative(gt,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===e?s:e,this.$$proc=r,this},p.$$arity=-1),t.defn(ft,"$==",g=function(e){if(this===e)return!0;if(!e.$$is_hash)return!1;if(this.$$keys.length!==e.$$keys.length)return!1;for(var n,r,i,s=0,$=this.$$keys,a=$.length;s<a;s++)if((n=$[s]).$$is_string?(r=this.$$smap[n],i=e.$$smap[n]):(r=n.value,i=t.hash_get(e,n.key)),void 0===i||!r["$eql?"](i))return!1;return!0},g.$$arity=1),t.defn(ft,"$>=",v=function(e){var n,r=s;return e=t.const_get_relative(gt,"Opal")["$coerce_to!"](e,t.const_get_relative(gt,"Hash"),"to_hash"),!(this.$$keys.length<e.$$keys.length)&&(r=!0,a(e,"each",[],((n=function(t,e){var i,$=n.$$s||this;null==t&&(t=s),null==e&&(e=s),null!=(i=$.$fetch(t,null))&&i===e||(r=!1)}).$$s=this,n.$$arity=2,n)),r)},v.$$arity=1),t.defn(ft,"$>",m=function(n){return n=t.const_get_relative(gt,"Opal")["$coerce_to!"](n,t.const_get_relative(gt,"Hash"),"to_hash"),!(this.$$keys.length<=n.$$keys.length)&&e(this,n)},m.$$arity=1),t.defn(ft,"$<",y=function(e){var n,r;return e=t.const_get_relative(gt,"Opal")["$coerce_to!"](e,t.const_get_relative(gt,"Hash"),"to_hash"),r=this,"number"==typeof(n=e)&&"number"==typeof r?n>r:n["$>"](r)},y.$$arity=1),t.defn(ft,"$<=",b=function(n){return e(n=t.const_get_relative(gt,"Opal")["$coerce_to!"](n,t.const_get_relative(gt,"Hash"),"to_hash"),this)},b.$$arity=1),t.defn(ft,"$[]",x=function(e){var n=t.hash_get(this,e);return void 0!==n?n:this.$default(e)},x.$$arity=1),t.defn(ft,"$[]=",k=function(e,n){return t.hash_put(this,e,n),n},k.$$arity=2),t.defn(ft,"$assoc",w=function(t){for(var e,n=0,r=this.$$keys,i=r.length;n<i;n++)if((e=r[n]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return s},w.$$arity=1),t.defn(ft,"$clear",E=function(){return t.hash_init(this),this},E.$$arity=0),t.defn(ft,"$clone",A=function(){var e=new this.$$class.$$alloc;return t.hash_init(e),t.hash_clone(this,e),e},A.$$arity=0),t.defn(ft,"$compare_by_identity",O=function(){var e,n,r,i,s=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;for(i=o([],{}).$compare_by_identity(),e=0,n=s.length;e<n;e++)(r=s[e]).$$is_string||(r=r.key),t.hash_put(i,r,t.hash_get(this,r));return this.$$by_identity=!0,this.$$map=i.$$map,this.$$smap=i.$$smap,this},O.$$arity=0),t.defn(ft,"$compare_by_identity?",S=function(){return!0===this.$$by_identity},S.$$arity=0),t.defn(ft,"$default",R=function(t){return void 0!==t&&this.$$proc!==s&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?s:this.$$none},R.$$arity=-1),t.defn(ft,"$default=",T=function(t){return this.$$proc=s,this.$$none=t,t},T.$$arity=1),t.defn(ft,"$default_proc",M=function(){return void 0!==this.$$proc?this.$$proc:s},M.$$arity=0),t.defn(ft,"$default_proc=",I=function(e){var n=e;return n!==s&&(n=t.const_get_relative(gt,"Opal")["$coerce_to!"](n,t.const_get_relative(gt,"Proc"),"to_proc"))["$lambda?"]()&&2!==n.$arity().$abs()&&this.$raise(t.const_get_relative(gt,"TypeError"),"default_proc takes two arguments"),this.$$none=s,this.$$proc=n,e},I.$$arity=1),t.defn(ft,"$delete",q=function(e){var n=q.$$p,r=n||s;n&&(q.$$p=null);var i=t.hash_delete(this,e);return void 0!==i?i:r!==s?r.$call(e):s},q.$$arity=1),t.defn(ft,"$delete_if",C=function(){var e,n=C.$$p,r=n||s;if(n&&(C.$$p=null),!l(r))return a(this,"enum_for",["delete_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,c=0,_=this.$$keys,u=_.length;c<u;c++)(i=_[c]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=r(i,$))&&o!==s&&void 0!==t.hash_delete(this,i)&&(u--,c--);return this},C.$$arity=0),t.alias(ft,"dup","clone"),t.defn(ft,"$dig",N=function(e,n){var r,i=s,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<$;c++)r[c-1]=arguments[c];return(i=this["$[]"](e))===s||0===r.length?i:(l(i["$respond_to?"]("dig"))||this.$raise(t.const_get_relative(gt,"TypeError"),i.$class()+" does not have #dig method"),a(i,"dig",t.to_a(r)))},N.$$arity=-2),t.defn(ft,"$each",z=function(){var e,n=z.$$p,r=n||s;if(n&&(z.$$p=null),!l(r))return a(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o=0,c=this.$$keys,_=c.length;o<_;o++)(i=c[o]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),t.yield1(r,[i,$]);return this},z.$$arity=0),t.defn(ft,"$each_key",P=function(){var t,e=P.$$p,n=e||s;if(e&&(P.$$p=null),!l(n))return a(this,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,i=0,$=this.$$keys,o=$.length;i<o;i++)n((r=$[i]).$$is_string?r:r.key);return this},P.$$arity=0),t.alias(ft,"each_pair","each"),t.defn(ft,"$each_value",L=function(){var t,e=L.$$p,n=e||s;if(e&&(L.$$p=null),!l(n))return a(this,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,i=0,$=this.$$keys,o=$.length;i<o;i++)n((r=$[i]).$$is_string?this.$$smap[r]:r.value);return this},L.$$arity=0),t.defn(ft,"$empty?",D=function(){return 0===this.$$keys.length},D.$$arity=0),t.alias(ft,"eql?","=="),t.defn(ft,"$fetch",B=function(e,n){var r=B.$$p,i=r||s;r&&(B.$$p=null);var $=t.hash_get(this,e);return void 0!==$?$:i!==s?i(e):void 0!==n?n:this.$raise(t.const_get_relative(gt,"KeyError"),"key not found: "+e.$inspect())},B.$$arity=-2),t.defn(ft,"$fetch_values",j=function(t){var e,n,r=j.$$p,i=r||s,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<$;l++)n[l-0]=arguments[l];return r&&(j.$$p=null),a(n,"map",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=s),a(n,"fetch",[t],i.$to_proc())}).$$s=this,e.$$arity=1,e))},j.$$arity=-1),t.defn(ft,"$flatten",F=function(e){null==e&&(e=1),e=t.const_get_relative(gt,"Opal")["$coerce_to!"](e,t.const_get_relative(gt,"Integer"),"to_int");for(var n,r,i=[],s=0,$=this.$$keys,a=$.length;s<a;s++)if((n=$[s]).$$is_string?r=this.$$smap[n]:(r=n.value,n=n.key),i.push(n),r.$$is_array){if(1===e){i.push(r);continue}i=i.concat(r.$flatten(e-2))}else i.push(r);return i},F.$$arity=-1),t.defn(ft,"$has_key?",U=function(e){return void 0!==t.hash_get(this,e)},U.$$arity=1),t.defn(ft,"$has_value?",H=function(t){for(var e,n=0,r=this.$$keys,i=r.length;n<i;n++)if(((e=r[n]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},H.$$arity=1),t.defn(ft,"$hash",G=function(){var e,n,r=void 0===t.hash_ids,i=this.$object_id(),s=["Hash"];try{if(r&&(t.hash_ids=Object.create(null)),t[i])return"self";for(e in t.hash_ids)if(n=t.hash_ids[e],this["$eql?"](n))return"self";t.hash_ids[i]=this;for(var $=0,a=this.$$keys,o=a.length;$<o;$++)(e=a[$]).$$is_string?s.push([e,this.$$smap[e].$hash()]):s.push([e.key_hash,e.value.$hash()]);return s.sort().join()}finally{r&&(t.hash_ids=void 0)}},G.$$arity=0),t.alias(ft,"include?","has_key?"),t.defn(ft,"$index",Y=function(t){for(var e,n,r=0,i=this.$$keys,$=i.length;r<$;r++)if((e=i[r]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return e;return s},Y.$$arity=1),t.defn(ft,"$indexes",W=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];for(var $,a,o=[],l=0,c=n.length;l<c;l++)$=n[l],void 0!==(a=t.hash_get(this,$))?o.push(a):o.push(this.$default());return o},W.$$arity=-1),t.alias(ft,"indices","indexes"),t.defn(ft,"$inspect",X=function(){var t=void 0===ht,e=this.$object_id(),n=[];try{if(t&&(ht={}),ht.hasOwnProperty(e))return"{...}";ht[e]=!0;for(var r,i,s=0,$=this.$$keys,a=$.length;s<a;s++)(r=$[s]).$$is_string?i=this.$$smap[r]:(i=r.value,r=r.key),n.push(r.$inspect()+"=>"+i.$inspect());return"{"+n.join(", ")+"}"}finally{t&&(ht=void 0)}},X.$$arity=0),t.defn(ft,"$invert",K=function(){for(var e,n,r=t.hash(),i=0,s=this.$$keys,$=s.length;i<$;i++)(e=s[i]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),t.hash_put(r,n,e);return r},K.$$arity=0),t.defn(ft,"$keep_if",V=function(){var e,n=V.$$p,r=n||s;if(n&&(V.$$p=null),!l(r))return a(this,"enum_for",["keep_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,c=0,_=this.$$keys,u=_.length;c<u;c++)(i=_[c]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=r(i,$))&&o!==s||void 0!==t.hash_delete(this,i)&&(u--,c--);return this},V.$$arity=0),t.alias(ft,"key","index"),t.alias(ft,"key?","has_key?"),t.defn(ft,"$keys",J=function(){for(var t,e=[],n=0,r=this.$$keys,i=r.length;n<i;n++)(t=r[n]).$$is_string?e.push(t):e.push(t.key);return e},J.$$arity=0),t.defn(ft,"$length",Z=function(){return this.$$keys.length},Z.$$arity=0),t.alias(ft,"member?","has_key?"),t.defn(ft,"$merge",Q=function(t){var e=Q.$$p,n=e||s;return e&&(Q.$$p=null),a(this.$dup(),"merge!",[t],n.$to_proc())},Q.$$arity=1),t.defn(ft,"$merge!",tt=function(e){var n=tt.$$p,r=n||s;n&&(tt.$$p=null),e.$$is_hash||(e=t.const_get_relative(gt,"Opal")["$coerce_to!"](e,t.const_get_relative(gt,"Hash"),"to_hash"));var i,$,a,o,l=e.$$keys,c=l.length;if(r===s){for(i=0;i<c;i++)($=l[i]).$$is_string?o=e.$$smap[$]:(o=$.value,$=$.key),t.hash_put(this,$,o);return this}for(i=0;i<c;i++)($=l[i]).$$is_string?o=e.$$smap[$]:(o=$.value,$=$.key),void 0!==(a=t.hash_get(this,$))?t.hash_put(this,$,r($,a,o)):t.hash_put(this,$,o);return this},tt.$$arity=1),t.defn(ft,"$rassoc",et=function(t){for(var e,n,r=0,i=this.$$keys,$=i.length;r<$;r++)if((e=i[r]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return[e,n];return s},et.$$arity=1),t.defn(ft,"$rehash",nt=function(){return t.hash_rehash(this),this},nt.$$arity=0),t.defn(ft,"$reject",rt=function(){var e,n=rt.$$p,r=n||s;if(n&&(rt.$$p=null),!l(r))return a(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,c=t.hash(),_=0,u=this.$$keys,d=u.length;_<d;_++)(i=u[_]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=r(i,$))&&o!==s||t.hash_put(c,i,$);return c},rt.$$arity=0),t.defn(ft,"$reject!",it=function(){var e,n=it.$$p,r=n||s;if(n&&(it.$$p=null),!l(r))return a(this,"enum_for",["reject!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,c=!1,_=0,u=this.$$keys,d=u.length;_<d;_++)(i=u[_]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=r(i,$))&&o!==s&&void 0!==t.hash_delete(this,i)&&(c=!0,d--,_--);return c?this:s},it.$$arity=0),t.defn(ft,"$replace",st=function(e){var r=s;e=t.const_get_relative(gt,"Opal")["$coerce_to!"](e,t.const_get_relative(gt,"Hash"),"to_hash"),t.hash_init(this);for(var i,$,o=0,c=e.$$keys,_=c.length;o<_;o++)(i=c[o]).$$is_string?$=e.$$smap[i]:($=i.value,i=i.key),t.hash_put(this,i,$);return l(e.$default_proc())?(r=[e.$default_proc()],a(this,"default_proc=",t.to_a(r)),r[n(r.length,1)]):(r=[e.$default()],a(this,"default=",t.to_a(r)),r[n(r.length,1)]),this},st.$$arity=1),t.defn(ft,"$select",$t=function(){var e,n=$t.$$p,r=n||s;if(n&&($t.$$p=null),!l(r))return a(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,c=t.hash(),_=0,u=this.$$keys,d=u.length;_<d;_++)(i=u[_]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=r(i,$))&&o!==s&&t.hash_put(c,i,$);return c},$t.$$arity=0),t.defn(ft,"$select!",at=function(){var e,n=at.$$p,r=n||s;if(n&&(at.$$p=null),!l(r))return a(this,"enum_for",["select!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,$,o,c=s,_=0,u=this.$$keys,d=u.length;_<d;_++)(i=u[_]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),!1!==(o=r(i,$))&&o!==s||(void 0!==t.hash_delete(this,i)&&(d--,_--),c=this);return c},at.$$arity=0),t.defn(ft,"$shift",ot=function(){var e,n=this.$$keys;return n.length>0?[e=(e=n[0]).$$is_string?e:e.key,t.hash_delete(this,e)]:this.$default(s)},ot.$$arity=0),t.alias(ft,"size","length"),ft.$alias_method("store","[]="),t.defn(ft,"$to_a",lt=function(){for(var t,e,n=[],r=0,i=this.$$keys,s=i.length;r<s;r++)(t=i[r]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),n.push([t,e]);return n},lt.$$arity=0),t.defn(ft,"$to_h",ct=function(){if(this.$$class===t.Hash)return this;var e=new t.Hash.$$alloc;return t.hash_init(e),t.hash_clone(this,e),e},ct.$$arity=0),t.defn(ft,"$to_hash",_t=function(){return this},_t.$$arity=0),t.defn(ft,"$to_proc",ut=function(){var e;return a(this,"proc",[],((e=function(n){var r=e.$$s||this;return null==n&&r.$raise(t.const_get_relative(gt,"ArgumentError"),"no key given"),r["$[]"](n)}).$$s=this,e.$$arity=-1,e))},ut.$$arity=0),t.alias(ft,"to_s","inspect"),t.alias(ft,"update","merge!"),t.alias(ft,"value?","has_value?"),t.alias(ft,"values_at","indexes"),t.defn(ft,"$values",dt=function(){for(var t,e=[],n=0,r=this.$$keys,i=r.length;n<i;n++)(t=r[n]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},dt.$$arity=0),s&&"values"}(0,0,i)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var a=t.top,o=[],l=t.nil,c=(t.breaker,t.slice,t.klass),_=t.truthy,u=t.send,d=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),a.$require("corelib/numeric"),function(a,o,h){function f(){}var p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt,it,st,$t,at,ot,lt,ct,_t,ut,dt,ht,ft,pt,gt,vt,mt,yt,bt,xt,kt,wt,Et,At,Ot=f=c(a,o,"Number",f),St=(Ot.$$proto,[Ot].concat(h));t.const_get_relative(St,"Opal").$bridge(Ot,Number),Number.prototype.$$is_number=!0,Ot.$$is_number_class=!0,t.defn(Ot,"$coerce",p=function(e){if(e===l)this.$raise(t.const_get_relative(St,"TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[this.$Float(e),this];if(e["$respond_to?"]("to_f"))return[t.const_get_relative(St,"Opal")["$coerce_to!"](e,t.const_get_relative(St,"Float"),"to_f"),this];if(e.$$is_number)return[e,this];this.$raise(t.const_get_relative(St,"TypeError"),"can't convert "+e.$class()+" into Float")}},p.$$arity=1),t.defn(Ot,"$__id__",g=function(){return 2*this+1},g.$$arity=0),t.alias(Ot,"object_id","__id__"),t.defn(Ot,"$+",v=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},v.$$arity=1),t.defn(Ot,"$-",m=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},m.$$arity=1),t.defn(Ot,"$*",y=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},y.$$arity=1),t.defn(Ot,"$/",b=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},b.$$arity=1),t.alias(Ot,"fdiv","/"),t.defn(Ot,"$%",x=function(e){return e.$$is_number?e==-1/0?e:0!=e?e<0||this<0?(this%e+e)%e:this%e:void this.$raise(t.const_get_relative(St,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",e)},x.$$arity=1),t.defn(Ot,"$&",k=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},k.$$arity=1),t.defn(Ot,"$|",w=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},w.$$arity=1),t.defn(Ot,"$^",E=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},E.$$arity=1),t.defn(Ot,"$<",A=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},A.$$arity=1),t.defn(Ot,"$<=",O=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},O.$$arity=1),t.defn(Ot,"$>",S=function(t){return t.$$is_number?this>t:this.$__coerced__(">",t)},S.$$arity=1),t.defn(Ot,"$>=",R=function(t){return t.$$is_number?this>=t:this.$__coerced__(">=",t)},R.$$arity=1);t.defn(Ot,"$<=>",T=function(e){var n,r;try{return n=this,(r=e).$$is_number?isNaN(n)||isNaN(r)?l:n>r?1:n<r?-1:0:n.$__coerced__("<=>",r)}catch(e){if(!t.rescue(e,[t.const_get_relative(St,"ArgumentError")]))throw e;try{return l}finally{t.pop_exception()}}},T.$$arity=1),t.defn(Ot,"$<<",M=function(e){return(e=t.const_get_relative(St,"Opal")["$coerce_to!"](e,t.const_get_relative(St,"Integer"),"to_int"))>0?this<<e:this>>-e},M.$$arity=1),t.defn(Ot,"$>>",I=function(e){return(e=t.const_get_relative(St,"Opal")["$coerce_to!"](e,t.const_get_relative(St,"Integer"),"to_int"))>0?this>>e:this<<-e},I.$$arity=1),t.defn(Ot,"$[]",q=function(e){return(e=t.const_get_relative(St,"Opal")["$coerce_to!"](e,t.const_get_relative(St,"Integer"),"to_int"))<0?0:e>=32?this<0?1:0:this>>e&1},q.$$arity=1),t.defn(Ot,"$+@",C=function(){return+this},C.$$arity=0),t.defn(Ot,"$-@",N=function(){return-this},N.$$arity=0),t.defn(Ot,"$~",z=function(){return~this},z.$$arity=0),t.defn(Ot,"$**",P=function(r){var i,s;return _(t.const_get_relative(St,"Integer")["$==="](r))?_(_(i=t.const_get_relative(St,"Integer")["$==="](this)["$!"]())?i:e(r,0))?Math.pow(this,r):t.const_get_relative(St,"Rational").$new(this,1)["$**"](r):_((i=n(this,0))?_(s=t.const_get_relative(St,"Float")["$==="](r))?s:t.const_get_relative(St,"Rational")["$==="](r):n(this,0))?t.const_get_relative(St,"Complex").$new(this,0)["$**"](r.$to_f()):_(null!=r.$$is_number)?Math.pow(this,r):this.$__coerced__("**",r)},P.$$arity=1),t.defn(Ot,"$===",L=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},L.$$arity=1),t.defn(Ot,"$==",D=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},D.$$arity=1),t.defn(Ot,"$abs",B=function(){return Math.abs(this)},B.$$arity=0),t.defn(Ot,"$abs2",j=function(){return Math.abs(this*this)},j.$$arity=0),t.defn(Ot,"$angle",F=function(){return _(this["$nan?"]())?this:0==this?1/this>0?0:Math.PI:this<0?Math.PI:0},F.$$arity=0),t.alias(Ot,"arg","angle"),t.alias(Ot,"phase","angle"),t.defn(Ot,"$bit_length",U=function(){if(_(t.const_get_relative(St,"Integer")["$==="](this))||this.$raise(t.const_get_relative(St,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var e=0,n=this<0?~this:this;0!=n;)e+=1,n>>>=1;return e},U.$$arity=0),t.defn(Ot,"$ceil",H=function(){return Math.ceil(this)},H.$$arity=0),t.defn(Ot,"$chr",G=function(t){return String.fromCharCode(this)},G.$$arity=-1),t.defn(Ot,"$denominator",Y=function(){var e,n,r=Y.$$p,i=l,s=l;for(r&&(Y.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return _(_(e=this["$nan?"]())?e:this["$infinite?"]())?1:u(this,t.find_super_dispatcher(this,"denominator",Y,!1),i,r)},Y.$$arity=0),t.defn(Ot,"$downto",W=function(n){var s,$=W.$$p,a=$||l;if($&&(W.$$p=null),a===l)return u(this,"enum_for",["downto",n],((s=function(){var $=s.$$s||this;return _(t.const_get_relative(St,"Numeric")["$==="](n))||$.$raise(t.const_get_relative(St,"ArgumentError"),"comparison of "+$.$class()+" with "+n.$class()+" failed"),_(e(n,$))?0:r(i($,n),1)}).$$s=this,s.$$arity=0,s));n.$$is_number||this.$raise(t.const_get_relative(St,"ArgumentError"),"comparison of "+this.$class()+" with "+n.$class()+" failed");for(var o=this;o>=n;o--)a(o);return this},W.$$arity=1),t.alias(Ot,"eql?","=="),t.defn(Ot,"$equal?",X=function(t){var e;return _(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},X.$$arity=1),t.defn(Ot,"$even?",K=function(){return this%2==0},K.$$arity=0),t.defn(Ot,"$floor",V=function(){return Math.floor(this)},V.$$arity=0),t.defn(Ot,"$gcd",J=function(e){_(t.const_get_relative(St,"Integer")["$==="](e))||this.$raise(t.const_get_relative(St,"TypeError"),"not an integer");for(var n=Math.abs(this),r=Math.abs(e);n>0;){var i=n;n=r%n,r=i}return r},J.$$arity=1),t.defn(Ot,"$gcdlcm",Z=function(t){return[this.$gcd(),this.$lcm()]},Z.$$arity=1),t.defn(Ot,"$integer?",Q=function(){return this%1==0},Q.$$arity=0),t.defn(Ot,"$is_a?",tt=function(e){var n,r=tt.$$p,i=l,s=l;for(r&&(tt.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return!!_(e["$=="](t.const_get_relative(St,"Fixnum"))?t.const_get_relative(St,"Integer")["$==="](this):e["$=="](t.const_get_relative(St,"Fixnum")))||(!!_(e["$=="](t.const_get_relative(St,"Integer"))?t.const_get_relative(St,"Integer")["$==="](this):e["$=="](t.const_get_relative(St,"Integer")))||(!!_(e["$=="](t.const_get_relative(St,"Float"))?t.const_get_relative(St,"Float")["$==="](this):e["$=="](t.const_get_relative(St,"Float")))||u(this,t.find_super_dispatcher(this,"is_a?",tt,!1),i,r)))},tt.$$arity=1),t.alias(Ot,"kind_of?","is_a?"),t.defn(Ot,"$instance_of?",et=function(e){var n,r=et.$$p,i=l,s=l;for(r&&(et.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return!!_(e["$=="](t.const_get_relative(St,"Fixnum"))?t.const_get_relative(St,"Integer")["$==="](this):e["$=="](t.const_get_relative(St,"Fixnum")))||(!!_(e["$=="](t.const_get_relative(St,"Integer"))?t.const_get_relative(St,"Integer")["$==="](this):e["$=="](t.const_get_relative(St,"Integer")))||(!!_(e["$=="](t.const_get_relative(St,"Float"))?t.const_get_relative(St,"Float")["$==="](this):e["$=="](t.const_get_relative(St,"Float")))||u(this,t.find_super_dispatcher(this,"instance_of?",et,!1),i,r)))},et.$$arity=1),t.defn(Ot,"$lcm",nt=function(e){return _(t.const_get_relative(St,"Integer")["$==="](e))||this.$raise(t.const_get_relative(St,"TypeError"),"not an integer"),0==this||0==e?0:Math.abs(this*e/this.$gcd(e))},nt.$$arity=1),t.alias(Ot,"magnitude","abs"),t.alias(Ot,"modulo","%"),t.defn(Ot,"$next",rt=function(){return this+1},rt.$$arity=0),t.defn(Ot,"$nonzero?",it=function(){return 0==this?l:this},it.$$arity=0),t.defn(Ot,"$numerator",st=function(){var e,n,r=st.$$p,i=l,s=l;for(r&&(st.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return _(_(e=this["$nan?"]())?e:this["$infinite?"]())?this:u(this,t.find_super_dispatcher(this,"numerator",st,!1),i,r)},st.$$arity=0),t.defn(Ot,"$odd?",$t=function(){return this%2!=0},$t.$$arity=0),t.defn(Ot,"$ord",at=function(){return this},at.$$arity=0),t.defn(Ot,"$pred",ot=function(){return this-1},ot.$$arity=0),t.defn(Ot,"$quo",lt=function(e){var n,r=lt.$$p,i=l,$=l;for(r&&(lt.$$p=null),$=0,n=arguments.length,i=new Array(n);$<n;$++)i[$]=arguments[$];return _(t.const_get_relative(St,"Integer")["$==="](this))?u(this,t.find_super_dispatcher(this,"quo",lt,!1),i,r):s(this,e)},lt.$$arity=1),t.defn(Ot,"$rationalize",ct=function(e){var n,r,s=l,a=l;return arguments.length>1&&this.$raise(t.const_get_relative(St,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_(t.const_get_relative(St,"Integer")["$==="](this))?t.const_get_relative(St,"Rational").$new(this,1):_(this["$infinite?"]())?this.$raise(t.const_get_relative(St,"FloatDomainError"),"Infinity"):_(this["$nan?"]())?this.$raise(t.const_get_relative(St,"FloatDomainError"),"NaN"):_(null==e)?(r=t.const_get_relative(St,"Math").$frexp(this),s=null==(n=t.to_ary(r))[0]?l:n[0],a=null==n[1]?l:n[1],s=t.const_get_relative(St,"Math").$ldexp(s,t.const_get_qualified(t.const_get_relative(St,"Float"),"MANT_DIG")).$to_i(),a=i(a,t.const_get_qualified(t.const_get_relative(St,"Float"),"MANT_DIG")),t.const_get_relative(St,"Rational").$new($(2,s),1["$<<"](i(1,a))).$rationalize(t.const_get_relative(St,"Rational").$new(1,1["$<<"](i(1,a))))):this.$to_r().$rationalize(e)},ct.$$arity=-1),t.defn(Ot,"$round",_t=function($){var a,o,c,u,d,h,f=l;if(_(t.const_get_relative(St,"Integer")["$==="](this))){if(_(null==$))return this;if(_(_(a=t.const_get_relative(St,"Float")["$==="]($))?$["$infinite?"]():a)&&this.$raise(t.const_get_relative(St,"RangeError"),"Infinity"),$=t.const_get_relative(St,"Opal")["$coerce_to!"]($,t.const_get_relative(St,"Integer"),"to_int"),_(n($,t.const_get_qualified(t.const_get_relative(St,"Integer"),"MIN")))&&this.$raise(t.const_get_relative(St,"RangeError"),"out of bounds"),_($>=0))return this;if(.415241*($=$["$-@"]())-.125>this.$size())return 0;var p=Math.pow(10,$),g=Math.floor((Math.abs(g)+p/2)/p)*p;return this<0?-g:g}if(_(_(a=this["$nan?"]())?null==$:a)&&this.$raise(t.const_get_relative(St,"FloatDomainError"),"NaN"),$=t.const_get_relative(St,"Opal")["$coerce_to!"]($||0,t.const_get_relative(St,"Integer"),"to_int"),_((h=0,"number"==typeof(d=$)&&"number"==typeof h?d<=h:d["$<="](h))))_(this["$nan?"]())?this.$raise(t.const_get_relative(St,"RangeError"),"NaN"):_(this["$infinite?"]())&&this.$raise(t.const_get_relative(St,"FloatDomainError"),"Infinity");else{if($["$=="](0))return Math.round(this);if(_(_(a=this["$nan?"]())?a:this["$infinite?"]()))return this}return o=t.const_get_relative(St,"Math").$frexp(this),null==(a=t.to_ary(o))[0]?l:a[0],f=null==a[1]?l:a[1],_((c=$,u=i(r(t.const_get_qualified(t.const_get_relative(St,"Float"),"DIG"),2),_(e(f,0))?s(f,4):i(s(f,3),1)),"number"==typeof c&&"number"==typeof u?c>=u:c["$>="](u)))?this:_(n($,(_(e(f,0))?r(s(f,3),1):s(f,4))["$-@"]()))?0:Math.round(this*Math.pow(10,$))/Math.pow(10,$)},_t.$$arity=-1),t.defn(Ot,"$step",ut=function(e,n,r){var i,s,$,a,o,c,h,f,p=this,g=ut.$$p,v=g||l;if(a=t.slice.call(arguments,0,arguments.length),null==(r=t.extract_kwargs(a))||!r.$$is_hash){if(null!=r)throw t.ArgumentError.$new("expected kwargs");r=d([],{})}function m(){0===f&&p.$raise(t.const_get_relative(St,"ArgumentError"),"step cannot be 0"),h=_(i=h)?i:o,f=_(i=f)?i:_(s=c)?s:1,h.$$is_number||p.$raise(t.const_get_relative(St,"ArgumentError"),"limit must be a number"),f.$$is_number||p.$raise(t.const_get_relative(St,"ArgumentError"),"step must be a number")}function y(){if(f>0&&p>h||f<0&&p<h)return 0;if(f===1/0||f===-1/0)return 1;var e=Math.abs,n=Math.floor,r=(e(p)+e(h)+e(h-p))/e(f)*t.const_get_qualified(t.const_get_relative(St,"Float"),"EPSILON");return r===1/0||r===-1/0?0:(r>.5&&(r=.5),n((h-p)/f+r)+1)}if(null==(o=r.$$smap.to)&&(o=l),null==(c=r.$$smap.by)&&(c=l),0<a.length&&(h=a.splice(0,1)[0]),null==h&&(h=l),0<a.length&&(f=a.splice(0,1)[0]),null==f&&(f=l),g&&(ut.$$p=null),h!==l&&o!==l&&p.$raise(t.const_get_relative(St,"ArgumentError"),"to is given twice"),f!==l&&c!==l&&p.$raise(t.const_get_relative(St,"ArgumentError"),"step is given twice"),v===l)return u(p,"enum_for",["step",h,f,d(["to","by"],{to:o,by:c})],(($=function(){$.$$s;return function(){if(m(),0===f)return 1/0;if(f%1!=0)return y();if(f>0&&p>h||f<0&&p<h)return 0;var t=Math.ceil,e=Math.abs;return t((e(p-h)+1)/e(f))}()}).$$s=p,$.$$arity=0,$));if(m(),0===f)for(;;)v(p);if(p%1!=0||h%1!=0||f%1!=0){var b=y();if(b>0)if(f===1/0||f===-1/0)v(p);else{var x,k=0;if(f>0)for(;k<b;)h<(x=k*f+p)&&(x=h),v(x),k+=1;else for(;k<b;)h>(x=k*f+p)&&(x=h),v(x),k+=1}}else{var w=p;if(f>0)for(;w<=h;)v(w),w+=f;else for(;w>=h;)v(w),w+=f}return p},ut.$$arity=-1),t.alias(Ot,"succ","next"),t.defn(Ot,"$times",dt=function(){var t,e=dt.$$p,n=e||l;if(e&&(dt.$$p=null),!_(n))return u(this,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=this,t.$$arity=0,t));for(var r=0;r<this;r++)n(r);return this},dt.$$arity=0),t.defn(Ot,"$to_f",ht=function(){return this},ht.$$arity=0),t.defn(Ot,"$to_i",ft=function(){return parseInt(this,10)},ft.$$arity=0),t.alias(Ot,"to_int","to_i"),t.defn(Ot,"$to_r",pt=function(){var e,n,r=l,s=l;return _(t.const_get_relative(St,"Integer")["$==="](this))?t.const_get_relative(St,"Rational").$new(this,1):(n=t.const_get_relative(St,"Math").$frexp(this),r=null==(e=t.to_ary(n))[0]?l:e[0],s=null==e[1]?l:e[1],r=t.const_get_relative(St,"Math").$ldexp(r,t.const_get_qualified(t.const_get_relative(St,"Float"),"MANT_DIG")).$to_i(),s=i(s,t.const_get_qualified(t.const_get_relative(St,"Float"),"MANT_DIG")),$(r,t.const_get_qualified(t.const_get_relative(St,"Float"),"RADIX")["$**"](s)).$to_r())},pt.$$arity=0),t.defn(Ot,"$to_s",gt=function(r){var i;return null==r&&(r=10),_(_(i=n(r,2))?i:e(r,36))&&this.$raise(t.const_get_relative(St,"ArgumentError"),"base must be between 2 and 36"),this.toString(r)},gt.$$arity=-1),t.alias(Ot,"truncate","to_i"),t.alias(Ot,"inspect","to_s"),t.defn(Ot,"$divmod",vt=function(e){var n,r,i=vt.$$p,s=l,$=l;for(i&&(vt.$$p=null),$=0,r=arguments.length,s=new Array(r);$<r;$++)s[$]=arguments[$];return _(_(n=this["$nan?"]())?n:e["$nan?"]())?this.$raise(t.const_get_relative(St,"FloatDomainError"),"NaN"):_(this["$infinite?"]())?this.$raise(t.const_get_relative(St,"FloatDomainError"),"Infinity"):u(this,t.find_super_dispatcher(this,"divmod",vt,!1),s,i)},vt.$$arity=1),t.defn(Ot,"$upto",mt=function(e){var s,$=mt.$$p,a=$||l;if($&&(mt.$$p=null),a===l)return u(this,"enum_for",["upto",e],((s=function(){var $=s.$$s||this;return _(t.const_get_relative(St,"Numeric")["$==="](e))||$.$raise(t.const_get_relative(St,"ArgumentError"),"comparison of "+$.$class()+" with "+e.$class()+" failed"),_(n(e,$))?0:r(i(e,$),1)}).$$s=this,s.$$arity=0,s));e.$$is_number||this.$raise(t.const_get_relative(St,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed");for(var o=this;o<=e;o++)a(o);return this},mt.$$arity=1),t.defn(Ot,"$zero?",yt=function(){return 0==this},yt.$$arity=0),t.defn(Ot,"$size",bt=function(){return 4},bt.$$arity=0),t.defn(Ot,"$nan?",xt=function(){return isNaN(this)},xt.$$arity=0),t.defn(Ot,"$finite?",kt=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},kt.$$arity=0),t.defn(Ot,"$infinite?",wt=function(){return this==1/0?1:this==-1/0?-1:l},wt.$$arity=0),t.defn(Ot,"$positive?",Et=function(){return 0!=this&&(this==1/0||1/this>0)},Et.$$arity=0),t.defn(Ot,"$negative?",At=function(){return this==-1/0||1/this<0},At.$$arity=0)}(o[0],t.const_get_relative(o,"Numeric"),o),t.const_set(o[0],"Fixnum",t.const_get_relative(o,"Number")),function(e,n,r){function i(){}var s,$=i=c(e,n,"Integer",i),a=($.$$proto,[$].concat(r));$.$$is_number_class=!0,t.defs($,"$===",s=function(t){return!!t.$$is_number&&t%1==0},s.$$arity=1),t.const_set(a[0],"MAX",Math.pow(2,30)-1),t.const_set(a[0],"MIN",-Math.pow(2,30))}(o[0],t.const_get_relative(o,"Numeric"),o),function(e,n,r){function i(){}var s,$=i=c(e,n,"Float",i),a=($.$$proto,[$].concat(r));return $.$$is_number_class=!0,t.defs($,"$===",s=function(t){return!!t.$$is_number},s.$$arity=1),t.const_set(a[0],"INFINITY",1/0),t.const_set(a[0],"MAX",Number.MAX_VALUE),t.const_set(a[0],"MIN",Number.MIN_VALUE),t.const_set(a[0],"NAN",NaN),t.const_set(a[0],"DIG",15),t.const_set(a[0],"MANT_DIG",53),t.const_set(a[0],"RADIX",2),t.const_set(a[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(o[0],t.const_get_relative(o,"Numeric"),o)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var s=t.top,$=[],a=t.nil,o=(t.breaker,t.slice,t.klass),l=t.truthy,c=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),s.$require("corelib/enumerable"),function(s,_,u){function d(){}var h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I=d=o($[0],null,"Range",d),q=I.$$proto,C=[I].concat(u);return q.begin=q.end=q.excl=a,I.$include(t.const_get_relative(C,"Enumerable")),q.$$is_range=!0,I.$attr_reader("begin","end"),t.defn(I,"$initialize",h=function(e,n,r){return null==r&&(r=!1),l(this.begin)&&this.$raise(t.const_get_relative(C,"NameError"),"'initialize' called twice"),l(e["$<=>"](n))||this.$raise(t.const_get_relative(C,"ArgumentError"),"bad value for range"),this.begin=e,this.end=n,this.excl=r},h.$$arity=-3),t.defn(I,"$==",f=function(t){return!!t.$$is_range&&(this.excl===t.excl&&this.begin==t.begin&&this.end==t.end)},f.$$arity=1),t.defn(I,"$===",p=function(t){return this["$include?"](t)},p.$$arity=1),t.defn(I,"$cover?",g=function(t){var r,i,s;return i=this.begin["$<=>"](t),!!l(l(r=i)?e(i,0):r)&&(s=t["$<=>"](this.end),l(this.excl)?l(r=s)?n(s,0):r:l(r=s)?e(s,0):r)},g.$$arity=1),t.defn(I,"$each",v=function(){var e,r,i,s,$=this,o=v.$$p,_=o||a,u=a;if(o&&(v.$$p=null),_===a)return $.$enum_for("each");if($.begin.$$is_number&&$.end.$$is_number){for($.begin%1==0&&$.end%1==0||$.$raise(t.const_get_relative(C,"TypeError"),"can't iterate from Float"),i=$.begin,s=$.end+(l($.excl)?0:1);i<s;i++)_(i);return $}if($.begin.$$is_string&&$.end.$$is_string)return c($.begin,"upto",[$.end,$.excl],_.$to_proc()),$;for(u=$.begin,r=$.end,l(u["$respond_to?"]("succ"))||$.$raise(t.const_get_relative(C,"TypeError"),"can't iterate from "+u.$class());l(n(u["$<=>"](r),0));)t.yield1(_,u),u=u.$succ();return l(l(e=$.excl["$!"]())?u["$=="](r):e)&&t.yield1(_,u),$},v.$$arity=0),t.defn(I,"$eql?",m=function(e){var n,r;return!!l(t.const_get_relative(C,"Range")["$==="](e))&&(l(n=l(r=this.excl["$==="](e["$exclude_end?"]()))?this.begin["$eql?"](e.$begin()):r)?this.end["$eql?"](e.$end()):n)},m.$$arity=1),t.defn(I,"$exclude_end?",y=function(){return this.excl},y.$$arity=0),t.defn(I,"$first",b=function(e){var n,r=b.$$p,i=a,s=a;for(r&&(b.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return l(null==e)?this.begin:c(this,t.find_super_dispatcher(this,"first",b,!1),i,r)},b.$$arity=-1),t.alias(I,"include?","cover?"),t.defn(I,"$last",x=function(t){return l(null==t)?this.end:this.$to_a().$last(t)},x.$$arity=-1),t.defn(I,"$max",k=function(){var e,n,i=k.$$p,s=i||a,$=a,o=a;for(i&&(k.$$p=null),o=0,n=arguments.length,$=new Array(n);o<n;o++)$[o]=arguments[o];return s!==a?c(this,t.find_super_dispatcher(this,"max",k,!1),$,i):l(r(this.begin,this.end))?a:l(l(e=this.excl)?this.begin["$=="](this.end):e)?a:this.excl?this.end-1:this.end},k.$$arity=0),t.alias(I,"member?","cover?"),t.defn(I,"$min",w=function(){var e,n,i=w.$$p,s=i||a,$=a,o=a;for(i&&(w.$$p=null),o=0,n=arguments.length,$=new Array(n);o<n;o++)$[o]=arguments[o];return s!==a?c(this,t.find_super_dispatcher(this,"min",w,!1),$,i):l(r(this.begin,this.end))?a:l(l(e=this.excl)?this.begin["$=="](this.end):e)?a:this.begin},w.$$arity=0),t.defn(I,"$size",E=function(){var e,r,i,s=a,$=a,o=a;return s=this.begin,$=this.end,l(this.excl)&&(i=1,$="number"==typeof(r=$)&&"number"==typeof i?r-i:r["$-"](i)),l(l(e=t.const_get_relative(C,"Numeric")["$==="](s))?t.const_get_relative(C,"Numeric")["$==="]($):e)?l(n($,s))?0:(o=t.const_get_qualified(t.const_get_relative(C,"Float"),"INFINITY"),l(l(e=o["$=="](s.$abs()))?e:$.$abs()["$=="](o))?o:(Math.abs($-s)+1).$to_i()):a},E.$$arity=0),t.defn(I,"$step",A=function(e){var n,s,$,o=this,_=A.$$p,u=_||a,d=a;function h(){e.$$is_number||(e=t.const_get_relative(C,"Opal")["$coerce_to!"](e,t.const_get_relative(C,"Integer"),"to_int")),e<0?o.$raise(t.const_get_relative(C,"ArgumentError"),"step can't be negative"):0===e&&o.$raise(t.const_get_relative(C,"ArgumentError"),"step can't be 0")}return null==e&&(e=1),_&&(A.$$p=null),u===a?c(o,"enum_for",["step",e],((n=function(){n.$$s;return h(),function(){if(!o.begin["$respond_to?"]("succ"))return a;if(o.begin.$$is_string&&o.end.$$is_string)return a;if(e%1==0)return(r=o.$size(),i=e,"number"==typeof r&&"number"==typeof i?r/i:r["$/"](i)).$ceil();var n,r,i,s=o.begin,$=o.end,l=Math.abs,c=Math.floor,_=(l(s)+l($)+l($-s))/l(e)*t.const_get_qualified(t.const_get_relative(C,"Float"),"EPSILON");return _>.5&&(_=.5),o.excl?(n=c(($-s)/e-_))*e+s<$&&n++:n=c(($-s)/e+_)+1,n}()}).$$s=o,n.$$arity=0,n)):(h(),l(o.begin.$$is_number&&o.end.$$is_number)?(d=0,function(){var n=t.new_brk();try{c(o,"loop",[],((s=function(){var $,o,c,_,h,f=s.$$s||this;return null==f.begin&&(f.begin=a),null==f.excl&&(f.excl=a),null==f.end&&(f.end=a),$=i(f.begin,(c=e,"number"==typeof(o=d)&&"number"==typeof c?o*c:o["$*"](c))),l(f.excl)?l((_=$,h=f.end,"number"==typeof _&&"number"==typeof h?_>=h:_["$>="](h)))&&t.brk(a,n):l(r($,f.end))&&t.brk(a,n),t.yield1(u,$),d=i(d,1)}).$$s=o,s.$$brk=n,s.$$arity=0,s))}catch(t){if(t===n)return t.$v;throw t}}()):(o.begin.$$is_string&&o.end.$$is_string&&e%1!=0&&o.$raise(t.const_get_relative(C,"TypeError"),"no implicit conversion to float from string"),c(o,"each_with_index",[],(($=function(n,r){$.$$s;return null==n&&(n=a),null==r&&(r=a),r["$%"](e)["$=="](0)?t.yield1(u,n):a}).$$s=o,$.$$arity=2,$))),o)},A.$$arity=-1),t.defn(I,"$bsearch",O=function(){var e=O.$$p,n=e||a;return e&&(O.$$p=null),n===a?this.$enum_for("bsearch"):(l(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(t.const_get_relative(C,"TypeError"),"can't do binary search for "+this.begin.$class()),c(this.$to_a(),"bsearch",[],n.$to_proc()))},O.$$arity=0),t.defn(I,"$to_s",S=function(){var t=this;return t.begin+(l(t.excl)?"...":"..")+t.end},S.$$arity=0),t.defn(I,"$inspect",R=function(){var t=this;return t.begin.$inspect()+(l(t.excl)?"...":"..")+t.end.$inspect()},R.$$arity=0),t.defn(I,"$marshal_load",T=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.excl=t["$[]"]("excl")},T.$$arity=1),t.defn(I,"$hash",M=function(){return[this.begin,this.end,this.excl].$hash()},M.$$arity=0),a&&"hash"}(0,0,$)},Opal.modules["corelib/proc"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice),i=t.klass,s=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function($,a,o){function l(){}var c,_,u,d,h,f,p,g,v,m,y=l=i(e[0],a,"Proc",l),b=y.$$proto,x=[y].concat(o);return b.$$is_proc=!0,b.$$is_lambda=!1,t.defs(y,"$new",c=function(){var e=c.$$p,r=e||n;return e&&(c.$$p=null),s(r)||this.$raise(t.const_get_relative(x,"ArgumentError"),"tried to create a Proc object without a block"),r},c.$$arity=0),t.defn(y,"$call",_=function(e){var r,i=_.$$p,s=i||n,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];i&&(_.$$p=null),s!==n&&(this.$$p=s);var l,c=this.$$brk;if(c)try{l=this.$$is_lambda?this.apply(null,r):t.yieldX(this,r)}catch(t){if(t===c)return c.$v;throw t}else l=this.$$is_lambda?this.apply(null,r):t.yieldX(this,r);return l},_.$$arity=-1),t.alias(y,"[]","call"),t.alias(y,"===","call"),t.alias(y,"yield","call"),t.defn(y,"$to_proc",u=function(){return this},u.$$arity=0),t.defn(y,"$lambda?",d=function(){return!!this.$$is_lambda},d.$$arity=0),t.defn(y,"$arity",h=function(){return this.$$is_curried?-1:this.$$arity},h.$$arity=0),t.defn(y,"$source_location",f=function(){return this.$$is_curried,n},f.$$arity=0),t.defn(y,"$binding",p=function(){return this.$$is_curried&&this.$raise(t.const_get_relative(x,"ArgumentError"),"Can't create Binding"),n},p.$$arity=0),t.defn(y,"$parameters",g=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,n=[];for(t=0,e=this.$$parameters.length;t<e;t++){var r=this.$$parameters[t];"req"===r[0]&&(r=["opt",r[1]]),n.push(r)}return n}return[]},g.$$arity=0),t.defn(y,"$curry",v=function(e){var n=this;function i(){var s,$=r.call(arguments),a=$.length;return a>e&&n.$$is_lambda&&!n.$$is_curried&&n.$raise(t.const_get_relative(x,"ArgumentError"),"wrong number of arguments ("+a+" for "+e+")"),a>=e?n.$call.apply(n,$):((s=function(){return i.apply(null,$.concat(r.call(arguments)))}).$$is_lambda=n.$$is_lambda,s.$$is_curried=!0,s)}return void 0===e?e=n.length:(e=t.const_get_relative(x,"Opal")["$coerce_to!"](e,t.const_get_relative(x,"Integer"),"to_int"),n.$$is_lambda&&e!==n.length&&n.$raise(t.const_get_relative(x,"ArgumentError"),"wrong number of arguments ("+e+" for "+n.length+")")),i.$$is_lambda=n.$$is_lambda,i.$$is_curried=!0,i},v.$$arity=-1),t.defn(y,"$dup",m=function(){var t=this.$$original_proc||this,e=function(){return t.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(e[n]=this[n]);return e},m.$$arity=0),t.alias(y,"clone","dup")}(0,Function,e)},Opal.modules["corelib/method"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(s,$,a){function o(){}var l,c,_,u,d,h,f,p,g,v=o=r(e[0],null,"Method",o),m=v.$$proto,y=[v].concat(a);m.method=m.receiver=m.owner=m.name=n,v.$attr_reader("owner","receiver","name"),t.defn(v,"$initialize",l=function(t,e,n,r){return this.receiver=t,this.owner=e,this.name=r,this.method=n},l.$$arity=4),t.defn(v,"$arity",c=function(){return this.method.$arity()},c.$$arity=0),t.defn(v,"$parameters",_=function(){return this.method.$$parameters},_.$$arity=0),t.defn(v,"$source_location",u=function(){var t;return i(t=this.method.$$source_location)?t:["(eval)",0]},u.$$arity=0),t.defn(v,"$comments",d=function(){var t;return i(t=this.method.$$comments)?t:[]},d.$$arity=0),t.defn(v,"$call",h=function(t){var e,r=h.$$p,i=r||n,s=arguments.length,$=s-0;$<0&&($=0),e=new Array($);for(var a=0;a<s;a++)e[a-0]=arguments[a];return r&&(h.$$p=null),this.method.$$p=i,this.method.apply(this.receiver,e)},h.$$arity=-1),t.alias(v,"[]","call"),t.defn(v,"$unbind",f=function(){return t.const_get_relative(y,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},f.$$arity=0),t.defn(v,"$to_proc",p=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t},p.$$arity=0),t.defn(v,"$inspect",g=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},g.$$arity=0)}(0,0,e),function(s,$,a){function o(){}var l,c,_,u,d,h,f,p=o=r(e[0],null,"UnboundMethod",o),g=p.$$proto,v=[p].concat(a);return g.method=g.owner=g.name=g.source=n,p.$attr_reader("source","owner","name"),t.defn(p,"$initialize",l=function(t,e,n,r){return this.source=t,this.owner=e,this.method=n,this.name=r},l.$$arity=4),t.defn(p,"$arity",c=function(){return this.method.$arity()},c.$$arity=0),t.defn(p,"$parameters",_=function(){return this.method.$$parameters},_.$$arity=0),t.defn(p,"$source_location",u=function(){var t;return i(t=this.method.$$source_location)?t:["(eval)",0]},u.$$arity=0),t.defn(p,"$comments",d=function(){var t;return i(t=this.method.$$comments)?t:[]},d.$$arity=0),t.defn(p,"$bind",h=function(e){if(this.owner.$$is_module||t.is_a(e,this.owner))return t.const_get_relative(v,"Method").$new(e,this.owner,this.method,this.name);this.$raise(t.const_get_relative(v,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+this.owner+" to be true)")},h.$$arity=1),t.defn(p,"$inspect",f=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},f.$$arity=0),n&&"inspect"}(0,0,e)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.gvars),i=t.hash2;return t.add_stubs(["$new"]),r["&"]=r["~"]=r["`"]=r["'"]=n,r.LOADED_FEATURES=r['"']=t.loaded_features,r.LOAD_PATH=r[":"]=[],r["/"]="\n",r[","]=n,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",t.const_get_relative(e,"Object").$new()),t.const_set(e[0],"ENV",i([],{})),r.VERBOSE=!1,r.DEBUG=!1,r.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e,n,r,i=[],s=t.nil,$=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),e=i,(n=$(i[0],"Opal")).$$proto,r=[n].concat(e),t.const_set(r[0],"REGEXP_START",t.const_get_relative(r,"RUBY_ENGINE")["$=="]("opal")?"^":s),t.const_set(r[0],"REGEXP_END",t.const_get_relative(r,"RUBY_ENGINE")["$=="]("opal")?"$":s),t.const_set(r[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(r[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(r[0],"INLINE_IDENTIFIER_REGEXP",t.const_get_relative(r,"Regexp").$new("[^"+t.const_get_relative(r,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t.const_get_relative(r,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(r[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),void t.const_set(r[0],"CONST_NAME_REGEXP",t.const_get_relative(r,"Regexp").$new(t.const_get_relative(r,"REGEXP_START")+"(::)?[A-Z][^"+t.const_get_relative(r,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t.const_get_relative(r,"REGEXP_END")))},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),s=t.send,$=t.truthy,a=t.gvars;return t.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),e.$require("corelib/string"),function(e,r,s){function $(){}var a,o=$=i(n[0],null,"String",$),l=(o.$$proto,[o].concat(s));t.defs(o,"$inherited",a=function(e){var n;n=t.const_get_relative(l,"Class").$new(t.const_get_qualified(t.const_get_relative(l,"String"),"Wrapper")),e.$$proto=n.$$proto,e.$$proto.$$class=e,e.$$alloc=n.$$alloc,e.$$parent=t.const_get_qualified(t.const_get_relative(l,"String"),"Wrapper"),e.$allocate=n.$allocate,e.$new=n.$new},a.$$arity=1)}(0,0,n),function(e,n,o){function l(){}var c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S=l=i(e,null,"Wrapper",l),R=S.$$proto;[S].concat(o);return R.literal=r,R.$$is_string=!0,t.defs(S,"$allocate",c=function(e){var n=c.$$p,i=r;return null==e&&(e=""),n&&(c.$$p=null),(i=s(this,t.find_super_dispatcher(this,"allocate",c,!1,l),[],null)).literal=e,i},c.$$arity=-1),t.defs(S,"$new",_=function(e){var n,i,$=_.$$p,a=$||r,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return $&&(_.$$p=null),i=this.$allocate(),s(i,"initialize",t.to_a(n),a.$to_proc()),i},_.$$arity=-1),t.defs(S,"$[]",u=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return this.$allocate(e)},u.$$arity=-1),t.defn(S,"$initialize",d=function(t){return null==t&&(t=""),this.literal=t},d.$$arity=-1),t.defn(S,"$method_missing",h=function(e){var n,i,a=h.$$p,o=a||r,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var _=0;_<l;_++)n[_-0]=arguments[_];return a&&(h.$$p=null),i=s(this.literal,"__send__",t.to_a(n),o.$to_proc()),$(null!=i.$$is_string)?$(i==this.literal)?this:this.$class().$allocate(i):i},h.$$arity=-1),t.defn(S,"$initialize_copy",f=function(t){return this.literal=t.literal.$clone()},f.$$arity=1),t.defn(S,"$respond_to?",p=function(e,n){var i,a,o=p.$$p,l=r,c=r;for(o&&(p.$$p=null),c=0,a=arguments.length,l=new Array(a);c<a;c++)l[c]=arguments[c];return $(i=s(this,t.find_super_dispatcher(this,"respond_to?",p,!1),l,o))?i:this.literal["$respond_to?"](e)},p.$$arity=-2),t.defn(S,"$==",g=function(t){return this.literal["$=="](t)},g.$$arity=1),t.alias(S,"eql?","=="),t.alias(S,"===","=="),t.defn(S,"$to_s",v=function(){return this.literal},v.$$arity=0),t.alias(S,"to_str","to_s"),t.defn(S,"$inspect",m=function(){return this.literal.$inspect()},m.$$arity=0),t.defn(S,"$+",y=function(t){var e,n;return e=this.literal,n=t,"number"==typeof e&&"number"==typeof n?e+n:e["$+"](n)},y.$$arity=1),t.defn(S,"$*",b=function(t){var e,n,r=(e=this.literal,n=t,"number"==typeof e&&"number"==typeof n?e*n:e["$*"](n));return r.$$is_string?this.$class().$allocate(r):r},b.$$arity=1),t.defn(S,"$split",x=function(t,e){var n;return s(this.literal.$split(t,e),"map",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=r),e.$class().$allocate(t)}).$$s=this,n.$$arity=1,n))},x.$$arity=-1),t.defn(S,"$replace",k=function(t){return this.literal=t},k.$$arity=1),t.defn(S,"$each_line",w=function(e){var n,i=w.$$p,$=i||r;return null==a["/"]&&(a["/"]=r),null==e&&(e=a["/"]),i&&(w.$$p=null),$===r?this.$enum_for("each_line",e):s(this.literal,"each_line",[e],((n=function(e){var i=n.$$s||this;return null==e&&(e=r),t.yield1($,i.$class().$allocate(e))}).$$s=this,n.$$arity=1,n))},w.$$arity=-1),t.defn(S,"$lines",E=function(t){var e=E.$$p,n=e||r,i=r;return null==a["/"]&&(a["/"]=r),null==t&&(t=a["/"]),e&&(E.$$p=null),i=s(this,"each_line",[t],n.$to_proc()),$(n)?this:i.$to_a()},E.$$arity=-1),t.defn(S,"$%",A=function(t){return this.literal["$%"](t)},A.$$arity=1),t.defn(S,"$instance_variables",O=function(){var e,n,i,$=O.$$p,a=r,o=r;for($&&(O.$$p=null),o=0,e=arguments.length,a=new Array(e);o<e;o++)a[o]=arguments[o];return n=s(this,t.find_super_dispatcher(this,"instance_variables",O,!1),a,$),i=["@literal"],"number"==typeof n&&"number"==typeof i?n-i:n["$-"](i)},O.$$arity=0),r&&"instance_variables"}(t.const_get_relative(n,"String"),0,n)},Opal.modules["corelib/string/encoding"]=function(t){var e,n,r,i,s,$=t.top,a=[],o=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy,_=t.send,u=t.hash2;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$constants","$const_get","$===","$==","$name","$include?","$names","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),$.$require("corelib/string"),function(e,n,r){function i(){}var s,$,d,h,f,p,g,v,m,y,b=i=l(a[0],null,"Encoding",i),x=b.$$proto,k=[b].concat(r);x.ascii=x.dummy=x.name=o,t.defs(b,"$register",s=function(e,n){var r,i,$,a,l,d=s.$$p,h=d||o,f=o;return null==n&&(n=u([],{})),d&&(s.$$p=null),a=[e],l=c(r=n["$[]"]("aliases"))?r:[],f="number"==typeof a&&"number"==typeof l?a+l:a["$+"](l),$=_(t.const_get_relative(k,"Class"),"new",[this],h.$to_proc()).$new(e,f,!!c(r=n["$[]"]("ascii"))&&r,!!c(r=n["$[]"]("dummy"))&&r),_(f,"each",[],((i=function(t){var e=i.$$s||this;return null==t&&(t=o),e.$const_set(t.$sub("-","_"),$)}).$$s=this,i.$$arity=1,i))},s.$$arity=-2),t.defs(b,"$find",$=function(e){try{var n,r;return r=e.$upcase(),_((t.Module.$$nesting=k,this.$constants()),"each",[],((n=function(e){var i,s=n.$$s||this,$=o;return null==e&&(e=o),$=s.$const_get(e),c(t.const_get_relative(k,"Encoding")["$==="]($))&&c(c(i=$.$name()["$=="](r))?i:$.$names()["$include?"](r))?void t.ret($):o}).$$s=this,n.$$arity=1,n)),this.$raise(t.const_get_relative(k,"ArgumentError"),"unknown encoding name - "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},$.$$arity=1),function(t,e){t.$$proto,[t].concat(e);t.$attr_accessor("default_external")}(t.get_singleton_class(b),k),b.$attr_reader("name","names"),t.defn(b,"$initialize",d=function(t,e,n,r){return this.name=t,this.names=e,this.ascii=n,this.dummy=r},d.$$arity=4),t.defn(b,"$ascii_compatible?",h=function(){return this.ascii},h.$$arity=0),t.defn(b,"$dummy?",f=function(){return this.dummy},f.$$arity=0),t.defn(b,"$to_s",p=function(){return this.name},p.$$arity=0),t.defn(b,"$inspect",g=function(){var t=this;return"#<Encoding:"+t.name+(c(t.dummy)?" (dummy)":o)+">"},g.$$arity=0),t.defn(b,"$each_byte",v=function(e){return this.$raise(t.const_get_relative(k,"NotImplementedError"))},v.$$arity=-1),t.defn(b,"$getbyte",m=function(e){return this.$raise(t.const_get_relative(k,"NotImplementedError"))},m.$$arity=-1),t.defn(b,"$bytesize",y=function(e){return this.$raise(t.const_get_relative(k,"NotImplementedError"))},y.$$arity=-1),function(t,e,n){function r(){}var i=r=l(t,e,"EncodingError",r);i.$$proto,[i].concat(n)}(k[0],t.const_get_relative(k,"StandardError"),k),function(t,e,n){function r(){}var i=r=l(t,e,"CompatibilityError",r);i.$$proto,[i].concat(n)}(k[0],t.const_get_relative(k,"EncodingError"),k)}(0,0,a),_(t.const_get_relative(a,"Encoding"),"register",["UTF-8",u(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((e=function(){var n,r,i=e.$$s||this;return t.def(i,"$each_byte",n=function(e){var r=n.$$p,i=r||o;r&&(n.$$p=null);for(var s=0,$=e.length;s<$;s++){var a=e.charCodeAt(s);if(a<=127)t.yield1(i,a);else for(var l=encodeURIComponent(e.charAt(s)).substr(1).split("%"),c=0,_=l.length;c<_;c++)t.yield1(i,parseInt(l[c],16))}},n.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),o&&"bytesize"}).$$s=$,e.$$arity=0,e)),_(t.const_get_relative(a,"Encoding"),"register",["UTF-16LE"],((n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(n){var r=e.$$p,i=r||o;r&&(e.$$p=null);for(var s=0,$=n.length;s<$;s++){var a=n.charCodeAt(s);t.yield1(i,255&a),t.yield1(i,a>>8)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),o&&"bytesize"}).$$s=$,n.$$arity=0,n)),_(t.const_get_relative(a,"Encoding"),"register",["UTF-16BE"],((r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(n){var r=e.$$p,i=r||o;r&&(e.$$p=null);for(var s=0,$=n.length;s<$;s++){var a=n.charCodeAt(s);t.yield1(i,a>>8),t.yield1(i,255&a)}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),o&&"bytesize"}).$$s=$,r.$$arity=0,r)),_(t.const_get_relative(a,"Encoding"),"register",["UTF-32LE"],((i=function(){var e,n,r=i.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||o;r&&(e.$$p=null);for(var s=0,$=n.length;s<$;s++){var a=n.charCodeAt(s);t.yield1(i,255&a),t.yield1(i,a>>8)}},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),o&&"bytesize"}).$$s=$,i.$$arity=0,i)),_(t.const_get_relative(a,"Encoding"),"register",["ASCII-8BIT",u(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],((s=function(){var e,n,r=s.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||o;r&&(e.$$p=null);for(var s=0,$=n.length;s<$;s++)t.yield1(i,255&n.charCodeAt(s))},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),o&&"bytesize"}).$$s=$,s.$$arity=0,s)),function(e,n,r){function i(){}var s,$,u,d,h,f,p,g,v=i=l(a[0],null,"String",i),m=v.$$proto,y=[v].concat(r);return m.encoding=o,String.prototype.encoding=t.const_get_qualified(t.const_get_relative(y,"Encoding"),"UTF_16LE"),t.defn(v,"$bytes",s=function(){return this.$each_byte().$to_a()},s.$$arity=0),t.defn(v,"$bytesize",$=function(){return this.encoding.$bytesize(this)},$.$$arity=0),t.defn(v,"$each_byte",u=function(){var t=u.$$p,e=t||o;return t&&(u.$$p=null),e===o?this.$enum_for("each_byte"):(_(this.encoding,"each_byte",[this],e.$to_proc()),this)},u.$$arity=0),t.defn(v,"$encode",d=function(t){return this.$dup().$force_encoding(t)},d.$$arity=1),t.defn(v,"$encoding",h=function(){return this.encoding},h.$$arity=0),t.defn(v,"$force_encoding",f=function(e){if(e===this.encoding)return this;if(e=t.const_get_relative(y,"Opal")["$coerce_to!"](e,t.const_get_relative(y,"String"),"to_s"),(e=t.const_get_relative(y,"Encoding").$find(e))["$=="](this.encoding))return this;c(e["$nil?"]())&&this.$raise(t.const_get_relative(y,"ArgumentError"),"unknown encoding name - "+e);var n=new String(this);return n.encoding=e,n},f.$$arity=1),t.defn(v,"$getbyte",p=function(t){return this.encoding.$getbyte(this,t)},p.$$arity=1),t.defn(v,"$valid_encoding?",g=function(){return!0},g.$$arity=0),o&&"valid_encoding?"}(0,0,a)},Opal.modules["corelib/math"]=function(t){t.top;var e,n,r,i,s,$,a,o,l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q=[],C=(t.nil,t.breaker,t.slice,t.module),N=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),e=q,(M=C(q[0],"Math")).$$proto,I=[M].concat(e),t.const_set(I[0],"E",Math.E),t.const_set(I[0],"PI",Math.PI),t.const_set(I[0],"DomainError",t.const_get_relative(I,"Class").$new(t.const_get_relative(I,"StandardError"))),t.defs(M,"$checked",n=function(e,n){var r,i=arguments.length,s=i-1;s<0&&(s=0),r=new Array(s);for(var $=1;$<i;$++)r[$-1]=arguments[$];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var a=Math[e].apply(null,r);return isNaN(a)&&this.$raise(t.const_get_relative(I,"DomainError"),'Numerical argument is out of domain - "'+e+'"'),a},n.$$arity=-2),t.defs(M,"$float!",r=function(e){var n=this;try{return n.$Float(e)}catch(r){if(!t.rescue(r,[t.const_get_relative(I,"ArgumentError")]))throw r;try{return n.$raise(t.const_get_relative(I,"Opal").$type_error(e,t.const_get_relative(I,"Float")))}finally{t.pop_exception()}}},r.$$arity=1),t.defs(M,"$integer!",i=function(e){var n=this;try{return n.$Integer(e)}catch(r){if(!t.rescue(r,[t.const_get_relative(I,"ArgumentError")]))throw r;try{return n.$raise(t.const_get_relative(I,"Opal").$type_error(e,t.const_get_relative(I,"Integer")))}finally{t.pop_exception()}}},i.$$arity=1),M.$module_function(),t.defn(M,"$acos",s=function(e){return t.const_get_relative(I,"Math").$checked("acos",t.const_get_relative(I,"Math")["$float!"](e))},s.$$arity=1),N(void 0!==Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.defn(M,"$acosh",$=function(e){return t.const_get_relative(I,"Math").$checked("acosh",t.const_get_relative(I,"Math")["$float!"](e))},$.$$arity=1),t.defn(M,"$asin",a=function(e){return t.const_get_relative(I,"Math").$checked("asin",t.const_get_relative(I,"Math")["$float!"](e))},a.$$arity=1),N(void 0!==Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.defn(M,"$asinh",o=function(e){return t.const_get_relative(I,"Math").$checked("asinh",t.const_get_relative(I,"Math")["$float!"](e))},o.$$arity=1),t.defn(M,"$atan",l=function(e){return t.const_get_relative(I,"Math").$checked("atan",t.const_get_relative(I,"Math")["$float!"](e))},l.$$arity=1),t.defn(M,"$atan2",c=function(e,n){return t.const_get_relative(I,"Math").$checked("atan2",t.const_get_relative(I,"Math")["$float!"](e),t.const_get_relative(I,"Math")["$float!"](n))},c.$$arity=2),N(void 0!==Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.defn(M,"$atanh",_=function(e){return t.const_get_relative(I,"Math").$checked("atanh",t.const_get_relative(I,"Math")["$float!"](e))},_.$$arity=1),N(void 0!==Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,n=0;e<.125;)e*=8,n--;for(;e>1;)e*=.125,n++;for(e=(-.46946116*e+1.072302)*e+.3812513;n<0;)e*=.5,n++;for(;n>0;)e*=2,n--;return e=2/3*(e=2/3*(e=2/3*(e=2/3*e+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e)}),t.defn(M,"$cbrt",u=function(e){return t.const_get_relative(I,"Math").$checked("cbrt",t.const_get_relative(I,"Math")["$float!"](e))},u.$$arity=1),t.defn(M,"$cos",d=function(e){return t.const_get_relative(I,"Math").$checked("cos",t.const_get_relative(I,"Math")["$float!"](e))},d.$$arity=1),N(void 0!==Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.defn(M,"$cosh",h=function(e){return t.const_get_relative(I,"Math").$checked("cosh",t.const_get_relative(I,"Math")["$float!"](e))},h.$$arity=1),N(void 0!==Math.erf)||(Math.erf=function(t){var e=1;t<0&&(e=-1);var n=1/(1+.3275911*(t=Math.abs(t)));return e*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-t*t))}),t.defn(M,"$erf",f=function(e){return t.const_get_relative(I,"Math").$checked("erf",t.const_get_relative(I,"Math")["$float!"](e))},f.$$arity=1),N(void 0!==Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),n=1/(.5*e+1),r=-e*e-1.26551223+n*(n*(n*(n*(n*(n*(n*(n*(.17087277*n-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=n*Math.exp(r);return t<0?2-i:i}),t.defn(M,"$erfc",p=function(e){return t.const_get_relative(I,"Math").$checked("erfc",t.const_get_relative(I,"Math")["$float!"](e))},p.$$arity=1),t.defn(M,"$exp",g=function(e){return t.const_get_relative(I,"Math").$checked("exp",t.const_get_relative(I,"Math")["$float!"](e))},g.$$arity=1),t.defn(M,"$frexp",v=function(e){if(e=t.const_get_relative(I,"Math")["$float!"](e),isNaN(e))return[NaN,0];var n=Math.floor(Math.log(Math.abs(e))/Math.log(2))+1;return[e/Math.pow(2,n),n]},v.$$arity=1),t.defn(M,"$gamma",m=function(e){var n,r,i,s,$,a,o,l,c;e=t.const_get_relative(I,"Math")["$float!"](e);var _,u,d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(e))return NaN;if(0===e&&1/e<0)return-1/0;if(-1!==e&&e!==-1/0||this.$raise(t.const_get_relative(I,"DomainError"),'Numerical argument is out of domain - "gamma"'),t.const_get_relative(I,"Integer")["$==="](e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(s=e-2,$=e-1;s>1;)$*=s,s--;return 0==$&&($=1),$}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*t.const_get_relative(I,"Math").$gamma((u=e,"number"==typeof(_=1)&&"number"==typeof u?_-u:_["$-"](u))));if(e>=171.35)return 1/0;if(e>85)return c=(l=(o=(a=e*e)*e)*e)*e,Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*a)-139/(51840*o)-571/(2488320*l)+163879/(209018880*c)+5246819/(75246796800*c*e));for(e-=1,i=d[0],n=1;n<d.length;++n)i+=d[n]/(e+n);return r=e+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(r,e+.5)*Math.exp(-r)*i},m.$$arity=1),N(void 0!==Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.defn(M,"$hypot",y=function(e,n){return t.const_get_relative(I,"Math").$checked("hypot",t.const_get_relative(I,"Math")["$float!"](e),t.const_get_relative(I,"Math")["$float!"](n))},y.$$arity=2),t.defn(M,"$ldexp",b=function(e,n){return e=t.const_get_relative(I,"Math")["$float!"](e),n=t.const_get_relative(I,"Math")["$integer!"](n),isNaN(n)&&this.$raise(t.const_get_relative(I,"RangeError"),"float NaN out of range of integer"),e*Math.pow(2,n)},b.$$arity=2),t.defn(M,"$lgamma",x=function(e){return-1==e?[1/0,1]:[Math.log(Math.abs(t.const_get_relative(I,"Math").$gamma(e))),t.const_get_relative(I,"Math").$gamma(e)<0?-1:1]},x.$$arity=1),t.defn(M,"$log",k=function(e,n){var r,i;return N(t.const_get_relative(I,"String")["$==="](e))&&this.$raise(t.const_get_relative(I,"Opal").$type_error(e,t.const_get_relative(I,"Float"))),N(null==n)?t.const_get_relative(I,"Math").$checked("log",t.const_get_relative(I,"Math")["$float!"](e)):(N(t.const_get_relative(I,"String")["$==="](n))&&this.$raise(t.const_get_relative(I,"Opal").$type_error(n,t.const_get_relative(I,"Float"))),r=t.const_get_relative(I,"Math").$checked("log",t.const_get_relative(I,"Math")["$float!"](e)),i=t.const_get_relative(I,"Math").$checked("log",t.const_get_relative(I,"Math")["$float!"](n)),"number"==typeof r&&"number"==typeof i?r/i:r["$/"](i))},k.$$arity=-2),N(void 0!==Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.defn(M,"$log10",w=function(e){return N(t.const_get_relative(I,"String")["$==="](e))&&this.$raise(t.const_get_relative(I,"Opal").$type_error(e,t.const_get_relative(I,"Float"))),t.const_get_relative(I,"Math").$checked("log10",t.const_get_relative(I,"Math")["$float!"](e))},w.$$arity=1),N(void 0!==Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.defn(M,"$log2",E=function(e){return N(t.const_get_relative(I,"String")["$==="](e))&&this.$raise(t.const_get_relative(I,"Opal").$type_error(e,t.const_get_relative(I,"Float"))),t.const_get_relative(I,"Math").$checked("log2",t.const_get_relative(I,"Math")["$float!"](e))},E.$$arity=1),t.defn(M,"$sin",A=function(e){return t.const_get_relative(I,"Math").$checked("sin",t.const_get_relative(I,"Math")["$float!"](e))},A.$$arity=1),N(void 0!==Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.defn(M,"$sinh",O=function(e){return t.const_get_relative(I,"Math").$checked("sinh",t.const_get_relative(I,"Math")["$float!"](e))},O.$$arity=1),t.defn(M,"$sqrt",S=function(e){return t.const_get_relative(I,"Math").$checked("sqrt",t.const_get_relative(I,"Math")["$float!"](e))},S.$$arity=1),t.defn(M,"$tan",R=function(e){return e=t.const_get_relative(I,"Math")["$float!"](e),N(e["$infinite?"]())?t.const_get_qualified(t.const_get_relative(I,"Float"),"NAN"):t.const_get_relative(I,"Math").$checked("tan",t.const_get_relative(I,"Math")["$float!"](e))},R.$$arity=1),N(void 0!==Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),void t.defn(M,"$tanh",T=function(e){return t.const_get_relative(I,"Math").$checked("tanh",t.const_get_relative(I,"Math")["$float!"](e))},T.$$arity=1)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var s,$,a,o,l=t.top,c=[],_=t.nil,u=(t.breaker,t.slice,t.klass),d=t.truthy,h=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$infinite?"]),l.$require("corelib/numeric"),function(s,$,a){function o(){}var l,c,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j=o=u(s,$,"Complex",o),F=j.$$proto,U=[j].concat(a);F.real=F.imag=_,t.defs(j,"$rect",l=function(e,n){var r,i,s;return null==n&&(n=0),d(d(r=d(i=d(s=t.const_get_relative(U,"Numeric")["$==="](e))?e["$real?"]():s)?t.const_get_relative(U,"Numeric")["$==="](n):i)?n["$real?"]():r)||this.$raise(t.const_get_relative(U,"TypeError"),"not a real"),this.$new(e,n)},l.$$arity=-2),function(e,n){e.$$proto,[e].concat(n);t.alias(e,"rectangular","rect")}(t.get_singleton_class(j),U),t.defs(j,"$polar",c=function(n,r){var i,s,$;return null==r&&(r=0),d(d(i=d(s=d($=t.const_get_relative(U,"Numeric")["$==="](n))?n["$real?"]():$)?t.const_get_relative(U,"Numeric")["$==="](r):s)?r["$real?"]():i)||this.$raise(t.const_get_relative(U,"TypeError"),"not a real"),this.$new(e(n,t.const_get_relative(U,"Math").$cos(r)),e(n,t.const_get_relative(U,"Math").$sin(r)))},c.$$arity=-2),j.$attr_reader("real","imag"),t.defn(j,"$initialize",h=function(t,e){return null==e&&(e=0),this.real=t,this.imag=e},h.$$arity=-2),t.defn(j,"$coerce",f=function(e){var n;return d(t.const_get_relative(U,"Complex")["$==="](e))?[e,this]:d(d(n=t.const_get_relative(U,"Numeric")["$==="](e))?e["$real?"]():n)?[t.const_get_relative(U,"Complex").$new(e,0),this]:this.$raise(t.const_get_relative(U,"TypeError"),e.$class()+" can't be coerced into Complex")},f.$$arity=1),t.defn(j,"$==",p=function(e){var n;return d(t.const_get_relative(U,"Complex")["$==="](e))?(n=this.real["$=="](e.$real()))?this.imag["$=="](e.$imag()):this.real["$=="](e.$real()):d(d(n=t.const_get_relative(U,"Numeric")["$==="](e))?e["$real?"]():n)?(n=this.real["$=="](e))?this.imag["$=="](0):this.real["$=="](e):e["$=="](this)},p.$$arity=1),t.defn(j,"$-@",g=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},g.$$arity=0),t.defn(j,"$+",v=function(e){var r;return d(t.const_get_relative(U,"Complex")["$==="](e))?this.$Complex(n(this.real,e.$real()),n(this.imag,e.$imag())):d(d(r=t.const_get_relative(U,"Numeric")["$==="](e))?e["$real?"]():r)?this.$Complex(n(this.real,e),this.imag):this.$__coerced__("+",e)},v.$$arity=1),t.defn(j,"$-",m=function(e){var n;return d(t.const_get_relative(U,"Complex")["$==="](e))?this.$Complex(r(this.real,e.$real()),r(this.imag,e.$imag())):d(d(n=t.const_get_relative(U,"Numeric")["$==="](e))?e["$real?"]():n)?this.$Complex(r(this.real,e),this.imag):this.$__coerced__("-",e)},m.$$arity=1),t.defn(j,"$*",y=function(i){var s;return d(t.const_get_relative(U,"Complex")["$==="](i))?this.$Complex(r(e(this.real,i.$real()),e(this.imag,i.$imag())),n(e(this.real,i.$imag()),e(this.imag,i.$real()))):d(d(s=t.const_get_relative(U,"Numeric")["$==="](i))?i["$real?"]():s)?this.$Complex(e(this.real,i),e(this.imag,i)):this.$__coerced__("*",i)},y.$$arity=1),t.defn(j,"$/",b=function(n){var r,s,$,a;return d(t.const_get_relative(U,"Complex")["$==="](n))?d(d(r=d(s=d($=d(a=t.const_get_relative(U,"Number")["$==="](this.real))?this.real["$nan?"]():a)?$:d(a=t.const_get_relative(U,"Number")["$==="](this.imag))?this.imag["$nan?"]():a)?s:d($=t.const_get_relative(U,"Number")["$==="](n.$real()))?n.$real()["$nan?"]():$)?r:d(s=t.const_get_relative(U,"Number")["$==="](n.$imag()))?n.$imag()["$nan?"]():s)?t.const_get_relative(U,"Complex").$new(t.const_get_qualified(t.const_get_relative(U,"Float"),"NAN"),t.const_get_qualified(t.const_get_relative(U,"Float"),"NAN")):i(e(this,n.$conj()),n.$abs2()):d(d(r=t.const_get_relative(U,"Numeric")["$==="](n))?n["$real?"]():r)?this.$Complex(this.real.$quo(n),this.imag.$quo(n)):this.$__coerced__("/",n)},b.$$arity=1),t.defn(j,"$**",x=function(s){var $,a,o,l,c,u,h=_,f=_,p=_,g=_,v=_,m=_,y=_,b=_,x=_,k=_;if(s["$=="](0))return t.const_get_relative(U,"Complex").$new(1,0);if(d(t.const_get_relative(U,"Complex")["$==="](s)))return a=this.$polar(),h=null==($=t.to_ary(a))[0]?_:$[0],f=null==$[1]?_:$[1],p=s.$real(),g=s.$imag(),v=t.const_get_relative(U,"Math").$exp(r(e(p,t.const_get_relative(U,"Math").$log(h)),e(g,f))),m=n(e(f,p),e(g,t.const_get_relative(U,"Math").$log(h))),t.const_get_relative(U,"Complex").$polar(v,m);if(d(t.const_get_relative(U,"Integer")["$==="](s))){if(d((u=0,"number"==typeof(c=s)&&"number"==typeof u?c>u:c["$>"](u)))){for(b=y=this,x=r(s,1);d(x["$!="](0));){for(;d((l=x.$divmod(2),k=null==(o=t.to_ary(l))[0]?_:o[0],(null==o[1]?_:o[1])["$=="](0)));)y=this.$Complex(r(e(y.$real(),y.$real()),e(y.$imag(),y.$imag())),e(e(2,y.$real()),y.$imag())),x=k;b=e(b,y),x=r(x,1)}return b}return i(t.const_get_relative(U,"Rational").$new(1,1),this)["$**"](s["$-@"]())}return d(d($=t.const_get_relative(U,"Float")["$==="](s))?$:t.const_get_relative(U,"Rational")["$==="](s))?(a=this.$polar(),h=null==($=t.to_ary(a))[0]?_:$[0],f=null==$[1]?_:$[1],t.const_get_relative(U,"Complex").$polar(h["$**"](s),e(f,s))):this.$__coerced__("**",s)},x.$$arity=1),t.defn(j,"$abs",k=function(){return t.const_get_relative(U,"Math").$hypot(this.real,this.imag)},k.$$arity=0),t.defn(j,"$abs2",w=function(){return n(e(this.real,this.real),e(this.imag,this.imag))},w.$$arity=0),t.defn(j,"$angle",E=function(){return t.const_get_relative(U,"Math").$atan2(this.imag,this.real)},E.$$arity=0),t.alias(j,"arg","angle"),t.defn(j,"$conj",A=function(){return this.$Complex(this.real,this.imag["$-@"]())},A.$$arity=0),t.alias(j,"conjugate","conj"),t.defn(j,"$denominator",O=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},O.$$arity=0),t.alias(j,"divide","/"),t.defn(j,"$eql?",S=function(e){var n,r;return d(n=d(r=t.const_get_relative(U,"Complex")["$==="](e))?this.real.$class()["$=="](this.imag.$class()):r)?this["$=="](e):n},S.$$arity=1),t.defn(j,"$fdiv",R=function(e){return d(t.const_get_relative(U,"Numeric")["$==="](e))||this.$raise(t.const_get_relative(U,"TypeError"),e.$class()+" can't be coerced into Complex"),i(this,e)},R.$$arity=1),t.defn(j,"$hash",T=function(){return"Complex:"+this.real+":"+this.imag},T.$$arity=0),t.alias(j,"imaginary","imag"),t.defn(j,"$inspect",M=function(){return"("+this.$to_s()+")"},M.$$arity=0),t.alias(j,"magnitude","abs"),t.udef(j,"$negative?"),t.defn(j,"$numerator",I=function(){var t;return t=this.$denominator(),this.$Complex(e(this.real.$numerator(),i(t,this.real.$denominator())),e(this.imag.$numerator(),i(t,this.imag.$denominator())))},I.$$arity=0),t.alias(j,"phase","arg"),t.defn(j,"$polar",q=function(){return[this.$abs(),this.$arg()]},q.$$arity=0),t.udef(j,"$positive?"),t.alias(j,"quo","/"),t.defn(j,"$rationalize",C=function(e){return arguments.length>1&&this.$raise(t.const_get_relative(U,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d(this.imag["$!="](0))&&this.$raise(t.const_get_relative(U,"RangeError"),"can't' convert "+this+" into Rational"),this.$real().$rationalize(e)},C.$$arity=-1),t.defn(j,"$real?",N=function(){return!1},N.$$arity=0),t.defn(j,"$rect",z=function(){return[this.real,this.imag]},z.$$arity=0),t.alias(j,"rectangular","rect"),t.defn(j,"$to_f",P=function(){return this.imag["$=="](0)||this.$raise(t.const_get_relative(U,"RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()},P.$$arity=0),t.defn(j,"$to_i",L=function(){return this.imag["$=="](0)||this.$raise(t.const_get_relative(U,"RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()},L.$$arity=0),t.defn(j,"$to_r",D=function(){return this.imag["$=="](0)||this.$raise(t.const_get_relative(U,"RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()},D.$$arity=0),t.defn(j,"$to_s",B=function(){var e,r,i,s=_;return s=this.real.$inspect(),s=n(s=d(d(e=d(r=d(i=t.const_get_relative(U,"Number")["$==="](this.imag))?this.imag["$nan?"]():i)?r:this.imag["$positive?"]())?e:this.imag["$zero?"]())?n(s,"+"):n(s,"-"),this.imag.$abs().$inspect()),d(d(e=t.const_get_relative(U,"Number")["$==="](this.imag))?d(r=this.imag["$nan?"]())?r:this.imag["$infinite?"]():e)&&(s=n(s,"*")),n(s,"i")},B.$$arity=0),t.const_set(U[0],"I",j.$new(0,1))}(c[0],t.const_get_relative(c,"Numeric"),c),s=c,(a=h(c[0],"Kernel")).$$proto,o=[a].concat(s),void t.defn(a,"$Complex",$=function(e,n){return null==n&&(n=_),d(n)?t.const_get_relative(o,"Complex").$new(e,n):t.const_get_relative(o,"Complex").$new(e,0)},$.$$arity=-2)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $,a,o,l,c=t.top,_=[],u=t.nil,d=(t.breaker,t.slice,t.klass),h=t.truthy,f=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),c.$require("corelib/numeric"),function($,a,o){function l(){}var c,_,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D=l=d($,a,"Rational",l),B=D.$$proto,j=[D].concat(o);B.num=B.den=u,t.defs(D,"$reduce",c=function(r,i){var s;if(r=r.$to_i(),(i=i.$to_i())["$=="](0))this.$raise(t.const_get_relative(j,"ZeroDivisionError"),"divided by 0");else if(h(e(i,0)))r=r["$-@"](),i=i["$-@"]();else if(i["$=="](1))return this.$new(r,i);return s=r.$gcd(i),this.$new(n(r,s),n(i,s))},c.$$arity=2),t.defs(D,"$convert",_=function(e,r){var i,s;return h(h(i=e["$nil?"]())?i:r["$nil?"]())&&this.$raise(t.const_get_relative(j,"TypeError"),"cannot convert nil into Rational"),h(h(i=t.const_get_relative(j,"Integer")["$==="](e))?t.const_get_relative(j,"Integer")["$==="](r):i)?this.$reduce(e,r):(h(h(i=h(s=t.const_get_relative(j,"Float")["$==="](e))?s:t.const_get_relative(j,"String")["$==="](e))?i:t.const_get_relative(j,"Complex")["$==="](e))&&(e=e.$to_r()),h(h(i=h(s=t.const_get_relative(j,"Float")["$==="](r))?s:t.const_get_relative(j,"String")["$==="](r))?i:t.const_get_relative(j,"Complex")["$==="](r))&&(r=r.$to_r()),h(h(i=r["$equal?"](1))?t.const_get_relative(j,"Integer")["$==="](e)["$!"]():i)?t.const_get_relative(j,"Opal")["$coerce_to!"](e,t.const_get_relative(j,"Rational"),"to_r"):h(h(i=t.const_get_relative(j,"Numeric")["$==="](e))?t.const_get_relative(j,"Numeric")["$==="](r):i)?n(e,r):this.$reduce(e,r))},_.$$arity=2),D.$attr_reader("numerator","denominator"),t.defn(D,"$initialize",f=function(t,e){return this.num=t,this.den=e},f.$$arity=2),t.defn(D,"$numerator",p=function(){return this.num},p.$$arity=0),t.defn(D,"$denominator",g=function(){return this.den},g.$$arity=0),t.defn(D,"$coerce",v=function(e){var n=this,r=u;return r=e,t.const_get_relative(j,"Rational")["$==="](r)?[e,n]:t.const_get_relative(j,"Integer")["$==="](r)?[e.$to_r(),n]:t.const_get_relative(j,"Float")["$==="](r)?[e,n.$to_f()]:u},v.$$arity=1),t.defn(D,"$==",m=function(e){var n=this,r=u;return r=e,t.const_get_relative(j,"Rational")["$==="](r)?n.num["$=="](e.$numerator())?n.den["$=="](e.$denominator()):n.num["$=="](e.$numerator()):t.const_get_relative(j,"Integer")["$==="](r)?n.num["$=="](e)?n.den["$=="](1):n.num["$=="](e):t.const_get_relative(j,"Float")["$==="](r)?n.$to_f()["$=="](e):e["$=="](n)},m.$$arity=1),t.defn(D,"$<=>",y=function(e){var n=this,s=u;return s=e,t.const_get_relative(j,"Rational")["$==="](s)?r(i(n.num,e.$denominator()),i(n.den,e.$numerator()))["$<=>"](0):t.const_get_relative(j,"Integer")["$==="](s)?r(n.num,i(n.den,e))["$<=>"](0):t.const_get_relative(j,"Float")["$==="](s)?n.$to_f()["$<=>"](e):n.$__coerced__("<=>",e)},y.$$arity=1),t.defn(D,"$+",b=function(e){var n=this,r=u,$=u,a=u;return r=e,t.const_get_relative(j,"Rational")["$==="](r)?($=s(i(n.num,e.$denominator()),i(n.den,e.$numerator())),a=i(n.den,e.$denominator()),n.$Rational($,a)):t.const_get_relative(j,"Integer")["$==="](r)?n.$Rational(s(n.num,i(e,n.den)),n.den):t.const_get_relative(j,"Float")["$==="](r)?s(n.$to_f(),e):n.$__coerced__("+",e)},b.$$arity=1),t.defn(D,"$-",x=function(e){var n=this,s=u,$=u,a=u;return s=e,t.const_get_relative(j,"Rational")["$==="](s)?($=r(i(n.num,e.$denominator()),i(n.den,e.$numerator())),a=i(n.den,e.$denominator()),n.$Rational($,a)):t.const_get_relative(j,"Integer")["$==="](s)?n.$Rational(r(n.num,i(e,n.den)),n.den):t.const_get_relative(j,"Float")["$==="](s)?r(n.$to_f(),e):n.$__coerced__("-",e)},x.$$arity=1),t.defn(D,"$*",k=function(e){var n=this,r=u,s=u,$=u;return r=e,t.const_get_relative(j,"Rational")["$==="](r)?(s=i(n.num,e.$numerator()),$=i(n.den,e.$denominator()),n.$Rational(s,$)):t.const_get_relative(j,"Integer")["$==="](r)?n.$Rational(i(n.num,e),n.den):t.const_get_relative(j,"Float")["$==="](r)?i(n.$to_f(),e):n.$__coerced__("*",e)},k.$$arity=1),t.defn(D,"$/",w=function(e){var r=this,s=u,$=u,a=u;return s=e,t.const_get_relative(j,"Rational")["$==="](s)?($=i(r.num,e.$denominator()),a=i(r.den,e.$numerator()),r.$Rational($,a)):t.const_get_relative(j,"Integer")["$==="](s)?e["$=="](0)?n(r.$to_f(),0):r.$Rational(r.num,i(r.den,e)):t.const_get_relative(j,"Float")["$==="](s)?n(r.$to_f(),e):r.$__coerced__("/",e)},w.$$arity=1),t.defn(D,"$**",E=function(n){var r,i,s=this,$=u;return $=n,t.const_get_relative(j,"Integer")["$==="]($)?h(s["$=="](0)?e(n,0):s["$=="](0))?t.const_get_qualified(t.const_get_relative(j,"Float"),"INFINITY"):h((i=0,"number"==typeof(r=n)&&"number"==typeof i?r>i:r["$>"](i)))?s.$Rational(s.num["$**"](n),s.den["$**"](n)):h(e(n,0))?s.$Rational(s.den["$**"](n["$-@"]()),s.num["$**"](n["$-@"]())):s.$Rational(1,1):t.const_get_relative(j,"Float")["$==="]($)?s.$to_f()["$**"](n):t.const_get_relative(j,"Rational")["$==="]($)?n["$=="](0)?s.$Rational(1,1):n.$denominator()["$=="](1)?h(e(n,0))?s.$Rational(s.den["$**"](n.$numerator().$abs()),s.num["$**"](n.$numerator().$abs())):s.$Rational(s.num["$**"](n.$numerator()),s.den["$**"](n.$numerator())):h(s["$=="](0)?e(n,0):s["$=="](0))?s.$raise(t.const_get_relative(j,"ZeroDivisionError"),"divided by 0"):s.$to_f()["$**"](n):s.$__coerced__("**",n)},E.$$arity=1),t.defn(D,"$abs",A=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},A.$$arity=0),t.defn(D,"$ceil",O=function(t){return null==t&&(t=0),t["$=="](0)?n(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",t)},O.$$arity=-1),t.alias(D,"divide","/"),t.defn(D,"$floor",S=function(t){return null==t&&(t=0),t["$=="](0)?n(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",t)},S.$$arity=-1),t.defn(D,"$hash",R=function(){return"Rational:"+this.num+":"+this.den},R.$$arity=0),t.defn(D,"$inspect",T=function(){return"("+this.$to_s()+")"},T.$$arity=0),t.alias(D,"quo","/"),t.defn(D,"$rationalize",M=function(e){if(arguments.length>1&&this.$raise(t.const_get_relative(j,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==e)return this;for(var i,$,a,o,l,c,_,u=e.$abs(),d=r(this,u),h=s(this,u),f=0,p=1,g=1,v=0;a=d.$ceil(),_=h,!("number"==typeof(c=a)&&"number"==typeof _?c<=_:c["$<="](_));)i=(o=a-1)*p+f,$=o*v+g,l=n(1,r(h,o)),h=n(1,r(d,o)),d=l,f=p,g=v,p=i,v=$;return this.$Rational(a*p+f,a*v+g)},M.$$arity=-1),t.defn(D,"$round",I=function(t){var r=u;return null==t&&(t=0),t["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(r=n(s(i(this.num.$abs(),2),this.den),i(this.den,2)).$truncate(),h(e(this.num,0))?r["$-@"]():r):this.$with_precision("round",t)},I.$$arity=-1),t.defn(D,"$to_f",q=function(){return n(this.num,this.den)},q.$$arity=0),t.defn(D,"$to_i",C=function(){return this.$truncate()},C.$$arity=0),t.defn(D,"$to_r",N=function(){return this},N.$$arity=0),t.defn(D,"$to_s",z=function(){return this.num+"/"+this.den},z.$$arity=0),t.defn(D,"$truncate",P=function(t){return null==t&&(t=0),t["$=="](0)?h(e(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",t)},P.$$arity=-1),t.defn(D,"$with_precision",L=function(r,s){var $,a=u;return h(t.const_get_relative(j,"Integer")["$==="](s))||this.$raise(t.const_get_relative(j,"TypeError"),"not an Integer"),a=i(this,$=10["$**"](s)),h(e(s,1))?n(a.$send(r),$).$to_i():this.$Rational(a.$send(r),$)},L.$$arity=2)}(_[0],t.const_get_relative(_,"Numeric"),_),$=_,(o=f(_[0],"Kernel")).$$proto,l=[o].concat($),void t.defn(o,"$Rational",a=function(e,n){return null==n&&(n=1),t.const_get_relative(l,"Rational").$convert(e,n)},a.$$arity=-2)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=t.top,$=[],a=t.nil,o=(t.breaker,t.slice),l=t.klass,c=t.truthy,_=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),s.$require("corelib/comparable"),function(s,u,d){function h(){}var f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt=h=l($[0],u,"Time",h),it=(rt.$$proto,[rt].concat(d));rt.$include(t.const_get_relative(it,"Comparable"));var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],at=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ot=["January","February","March","April","May","June","July","August","September","October","November","December"];function lt(e,n,r,i,s,$){if(e=e.$$is_string?parseInt(e,10):t.const_get_relative(it,"Opal")["$coerce_to!"](e,t.const_get_relative(it,"Integer"),"to_int"),n===a)n=1;else if(!n.$$is_number)if(n["$respond_to?"]("to_str"))switch((n=n.$to_str()).toLowerCase()){case"jan":n=1;break;case"feb":n=2;break;case"mar":n=3;break;case"apr":n=4;break;case"may":n=5;break;case"jun":n=6;break;case"jul":n=7;break;case"aug":n=8;break;case"sep":n=9;break;case"oct":n=10;break;case"nov":n=11;break;case"dec":n=12;break;default:n=n.$to_i()}else n=t.const_get_relative(it,"Opal")["$coerce_to!"](n,t.const_get_relative(it,"Integer"),"to_int");return(n<1||n>12)&&rt.$raise(t.const_get_relative(it,"ArgumentError"),"month out of range: "+n),n-=1,((r=r===a?1:r.$$is_string?parseInt(r,10):t.const_get_relative(it,"Opal")["$coerce_to!"](r,t.const_get_relative(it,"Integer"),"to_int"))<1||r>31)&&rt.$raise(t.const_get_relative(it,"ArgumentError"),"day out of range: "+r),((i=i===a?0:i.$$is_string?parseInt(i,10):t.const_get_relative(it,"Opal")["$coerce_to!"](i,t.const_get_relative(it,"Integer"),"to_int"))<0||i>24)&&rt.$raise(t.const_get_relative(it,"ArgumentError"),"hour out of range: "+i),((s=s===a?0:s.$$is_string?parseInt(s,10):t.const_get_relative(it,"Opal")["$coerce_to!"](s,t.const_get_relative(it,"Integer"),"to_int"))<0||s>59)&&rt.$raise(t.const_get_relative(it,"ArgumentError"),"min out of range: "+s),$===a?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):t.const_get_relative(it,"Opal")["$coerce_to!"]($,t.const_get_relative(it,"Integer"),"to_int")),($<0||$>60)&&rt.$raise(t.const_get_relative(it,"ArgumentError"),"sec out of range: "+$),[e,n,r,i,s,$]}return t.defs(rt,"$at",f=function(e,n){var r;return t.const_get_relative(it,"Time")["$==="](e)?(void 0!==n&&this.$raise(t.const_get_relative(it,"TypeError"),"can't convert Time into an exact number"),(r=new Date(e.getTime())).is_utc=e.is_utc,r):(e.$$is_number||(e=t.const_get_relative(it,"Opal")["$coerce_to!"](e,t.const_get_relative(it,"Integer"),"to_int")),void 0===n?new Date(1e3*e):(n.$$is_number||(n=t.const_get_relative(it,"Opal")["$coerce_to!"](n,t.const_get_relative(it,"Integer"),"to_int")),new Date(1e3*e+n/1e3)))},f.$$arity=-2),t.defs(rt,"$new",p=function(e,n,r,i,s,$,o){var l,c;return null==n&&(n=a),null==r&&(r=a),null==i&&(i=a),null==s&&(s=a),null==$&&($=a),null==o&&(o=a),void 0===e?new Date:(o!==a&&this.$raise(t.const_get_relative(it,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),e=(l=lt(e,n,r,i,s,$))[0],n=l[1],r=l[2],i=l[3],s=l[4],$=l[5],c=new Date(e,n,r,i,s,0,1e3*$),e<100&&c.setFullYear(e),c)},p.$$arity=-1),t.defs(rt,"$local",g=function(t,e,n,r,i,s,$,l,c,_){var u,d;return null==e&&(e=a),null==n&&(n=a),null==r&&(r=a),null==i&&(i=a),null==s&&(s=a),null==$&&($=a),null==l&&(l=a),null==c&&(c=a),null==_&&(_=a),10===arguments.length&&(t=(u=o.call(arguments))[5],e=u[4],n=u[3],r=u[2],i=u[1],s=u[0]),t=(u=lt(t,e,n,r,i,s))[0],e=u[1],n=u[2],r=u[3],i=u[4],s=u[5],d=new Date(t,e,n,r,i,0,1e3*s),t<100&&d.setFullYear(t),d},g.$$arity=-2),t.defs(rt,"$gm",v=function(t,e,n,r,i,s,$,l,c,_){var u,d;return null==e&&(e=a),null==n&&(n=a),null==r&&(r=a),null==i&&(i=a),null==s&&(s=a),null==$&&($=a),null==l&&(l=a),null==c&&(c=a),null==_&&(_=a),10===arguments.length&&(t=(u=o.call(arguments))[5],e=u[4],n=u[3],r=u[2],i=u[1],s=u[0]),t=(u=lt(t,e,n,r,i,s))[0],e=u[1],n=u[2],r=u[3],i=u[4],s=u[5],d=new Date(Date.UTC(t,e,n,r,i,0,1e3*s)),t<100&&d.setUTCFullYear(t),d.is_utc=!0,d},v.$$arity=-2),function(e,n){e.$$proto,[e].concat(n);t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class(rt),it),t.defs(rt,"$now",m=function(){return this.$new()},m.$$arity=0),t.defn(rt,"$+",y=function(e){c(t.const_get_relative(it,"Time")["$==="](e))&&this.$raise(t.const_get_relative(it,"TypeError"),"time + time?"),e.$$is_number||(e=t.const_get_relative(it,"Opal")["$coerce_to!"](e,t.const_get_relative(it,"Integer"),"to_int"));var n=new Date(this.getTime()+1e3*e);return n.is_utc=this.is_utc,n},y.$$arity=1),t.defn(rt,"$-",b=function(e){if(c(t.const_get_relative(it,"Time")["$==="](e)))return(this.getTime()-e.getTime())/1e3;e.$$is_number||(e=t.const_get_relative(it,"Opal")["$coerce_to!"](e,t.const_get_relative(it,"Integer"),"to_int"));var n=new Date(this.getTime()-1e3*e);return n.is_utc=this.is_utc,n},b.$$arity=1),t.defn(rt,"$<=>",x=function(e){var n,r,i,s,$=a;return c(t.const_get_relative(it,"Time")["$==="](e))?this.$to_f()["$<=>"](e.$to_f()):($=e["$<=>"](this),c($["$nil?"]())?a:c((s=0,"number"==typeof(i=$)&&"number"==typeof s?i>s:i["$>"](s)))?-1:c((r=0,"number"==typeof(n=$)&&"number"==typeof r?n<r:n["$<"](r)))?1:0)},x.$$arity=1),t.defn(rt,"$==",k=function(e){var n;return c(n=t.const_get_relative(it,"Time")["$==="](e))?this.$to_f()===e.$to_f():n},k.$$arity=1),t.defn(rt,"$asctime",w=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},w.$$arity=0),t.alias(rt,"ctime","asctime"),t.defn(rt,"$day",E=function(){return this.is_utc?this.getUTCDate():this.getDate()},E.$$arity=0),t.defn(rt,"$yday",A=function(){var i;return i=t.const_get_relative(it,"Time").$new(this.$year()).$to_i(),86400,e(n(r(t.const_get_relative(it,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),i),86400).$round(),1)},A.$$arity=0),t.defn(rt,"$isdst",O=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},O.$$arity=0),t.alias(rt,"dst?","isdst"),t.defn(rt,"$dup",S=function(){var t=a;return(t=new Date(this.getTime())).$copy_instance_variables(this),t.$initialize_dup(this),t},S.$$arity=0),t.defn(rt,"$eql?",R=function(e){var n;return c(n=e["$is_a?"](t.const_get_relative(it,"Time")))?this["$<=>"](e)["$zero?"]():n},R.$$arity=1),t.defn(rt,"$friday?",T=function(){return 5==this.$wday()},T.$$arity=0),t.defn(rt,"$hash",M=function(){return"Time:"+this.getTime()},M.$$arity=0),t.defn(rt,"$hour",I=function(){return this.is_utc?this.getUTCHours():this.getHours()},I.$$arity=0),t.defn(rt,"$inspect",q=function(){return c(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},q.$$arity=0),t.alias(rt,"mday","day"),t.defn(rt,"$min",C=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},C.$$arity=0),t.defn(rt,"$mon",N=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},N.$$arity=0),t.defn(rt,"$monday?",z=function(){return 1==this.$wday()},z.$$arity=0),t.alias(rt,"month","mon"),t.defn(rt,"$saturday?",P=function(){return 6==this.$wday()},P.$$arity=0),t.defn(rt,"$sec",L=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},L.$$arity=0),t.defn(rt,"$succ",D=function(){var t=new Date(this.getTime()+1e3);return t.is_utc=this.is_utc,t},D.$$arity=0),t.defn(rt,"$usec",B=function(){return 1e3*this.getMilliseconds()},B.$$arity=0),t.defn(rt,"$zone",j=function(){var t,e=this.toString();return"GMT"==(t=-1==e.indexOf("(")?e.match(/[A-Z]{3,4}/)[0]:e.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(e)?RegExp.$1:t},j.$$arity=0),t.defn(rt,"$getgm",F=function(){var t=new Date(this.getTime());return t.is_utc=!0,t},F.$$arity=0),t.alias(rt,"getutc","getgm"),t.defn(rt,"$gmtime",U=function(){return this.is_utc=!0,this},U.$$arity=0),t.alias(rt,"utc","gmtime"),t.defn(rt,"$gmt?",H=function(){return!0===this.is_utc},H.$$arity=0),t.defn(rt,"$gmt_offset",G=function(){return 60*-this.getTimezoneOffset()},G.$$arity=0),t.defn(rt,"$strftime",Y=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,n,r,i,s){var $="",a=-1!==n.indexOf("0"),o=-1===n.indexOf("-"),l=-1!==n.indexOf("_"),c=-1!==n.indexOf("^"),u=-1!==n.indexOf("#"),d=(n.match(":")||[]).length;switch(r=parseInt(r,10),a&&l&&(n.indexOf("0")<n.indexOf("_")?a=!1:l=!1),s){case"Y":$+=e.$year();break;case"C":a=!l,$+=Math.round(e.$year()/100);break;case"y":a=!l,$+=e.$year()%100;break;case"m":a=!l,$+=e.$mon();break;case"B":$+=ot[e.$mon()-1];break;case"b":case"h":l=!a,$+=at[e.$mon()-1];break;case"d":a=!l,$+=e.$day();break;case"e":l=!a,$+=e.$day();break;case"j":$+=e.$yday();break;case"H":a=!l,$+=e.$hour();break;case"k":l=!a,$+=e.$hour();break;case"I":a=!l,$+=e.$hour()%12||12;break;case"l":l=!a,$+=e.$hour()%12||12;break;case"P":$+=e.$hour()>=12?"pm":"am";break;case"p":$+=e.$hour()>=12?"PM":"AM";break;case"M":a=!l,$+=e.$min();break;case"S":a=!l,$+=e.$sec();break;case"L":a=!l,r=isNaN(r)?3:r,$+=e.getMilliseconds();break;case"N":r=isNaN(r)?9:r,$=($+=e.getMilliseconds().toString().$rjust(3,"0")).$ljust(r,"0");break;case"z":var h=e.getTimezoneOffset(),f=Math.floor(Math.abs(h)/60),p=Math.abs(h)%60;$+=h<0?"+":"-",$+=f<10?"0":"",$+=f,d>0&&($+=":"),$+=p<10?"0":"",$+=p,d>1&&($+=":00");break;case"Z":$+=e.$zone();break;case"A":$+=st[e.$wday()];break;case"a":$+=$t[e.$wday()];break;case"u":$+=e.$wday()+1;break;case"w":$+=e.$wday();break;case"V":$+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=e.$cweek_cyear()["$[]"](1);break;case"g":$+=e.$cweek_cyear()["$[]"](1)["$[]"](_(-2,-1,!1));break;case"s":$+=e.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=e.$strftime("%m/%d/%y");break;case"F":$+=e.$strftime("%Y-%m-%d");break;case"v":$+=e.$strftime("%e-%^b-%4Y");break;case"r":$+=e.$strftime("%I:%M:%S %p");break;case"R":$+=e.$strftime("%H:%M");break;case"T":case"X":$+=e.$strftime("%H:%M:%S");break;default:return t}return c&&($=$.toUpperCase()),u&&($=$.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),o&&(a||l)&&($=$.$rjust(isNaN(r)?2:r,l?" ":"0")),$})},Y.$$arity=1),t.defn(rt,"$sunday?",W=function(){return 0==this.$wday()},W.$$arity=0),t.defn(rt,"$thursday?",X=function(){return 4==this.$wday()},X.$$arity=0),t.defn(rt,"$to_a",K=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},K.$$arity=0),t.defn(rt,"$to_f",V=function(){return this.getTime()/1e3},V.$$arity=0),t.defn(rt,"$to_i",J=function(){return parseInt(this.getTime()/1e3,10)},J.$$arity=0),t.alias(rt,"to_s","inspect"),t.defn(rt,"$tuesday?",Z=function(){return 2==this.$wday()},Z.$$arity=0),t.alias(rt,"tv_sec","to_i"),t.alias(rt,"tv_usec","usec"),t.alias(rt,"utc?","gmt?"),t.alias(rt,"gmtoff","gmt_offset"),t.alias(rt,"utc_offset","gmt_offset"),t.defn(rt,"$wday",Q=function(){return this.is_utc?this.getUTCDay():this.getDay()},Q.$$arity=0),t.defn(rt,"$wednesday?",tt=function(){return 3==this.$wday()},tt.$$arity=0),t.defn(rt,"$year",et=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},et.$$arity=0),t.defn(rt,"$cweek_cyear",nt=function(){var s,$=a,o=a,l=a,_=a,u=a;return $=t.const_get_relative(it,"Time").$new(this.$year(),1,1).$wday(),0,o=this.$year(),c(c(s=i($,4))?$["$!="](0):s)?l=r($,1):(l=r(r($,7),1))["$=="](-8)&&(l=-1),_=n(e(this.$yday(),l),7).$ceil(),c(i(_,0))?t.const_get_relative(it,"Time").$new(r(this.$year(),1),12,31).$cweek_cyear():(_["$=="](53)&&(u=t.const_get_relative(it,"Time").$new(this.$year(),12,31).$wday(),c(c(s=i(u,3))?u["$!="](0):s)&&(_=1,o=e(o,1))),[_,o])},nt.$$arity=0),a&&"cweek_cyear"}(0,Date,$)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var s=t.top,$=[],a=t.nil,o=(t.breaker,t.slice,t.klass),l=t.truthy,c=t.send,_=t.hash2;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]","$[]=","$-","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$each_pair","$inspect","$inject","$flatten","$to_a","$respond_to?","$dig"]),s.$require("corelib/enumerable"),function(s,u,d){function h(){}var f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C=h=o($[0],null,"Struct",h),N=(C.$$proto,[C].concat(d));return C.$include(t.const_get_relative(N,"Enumerable")),t.defs(C,"$new",f=function(e,n){var r,i,s,$,o=f.$$p,_=o||a,u=arguments.length,d=u-1;d<0&&(d=0),s=new Array(d);for(var h=1;h<u;h++)s[h-1]=arguments[h];if(o&&(f.$$p=null),l(e))try{e=t.const_get_relative(N,"Opal")["$const_name!"](e)}catch(n){if(!t.rescue(n,[t.const_get_relative(N,"TypeError"),t.const_get_relative(N,"NameError")]))throw n;try{s.$unshift(e),e=a}finally{t.pop_exception()}}return c(s,"map",[],((r=function(e){r.$$s;return null==e&&(e=a),t.const_get_relative(N,"Opal")["$coerce_to!"](e,t.const_get_relative(N,"String"),"to_str")}).$$s=this,r.$$arity=1,r)),$=c(t.const_get_relative(N,"Class"),"new",[this],((i=function(){var e,n=i.$$s||this;return c(s,"each",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=a),n.$define_struct_attribute(t)}).$$s=n,e.$$arity=1,e)),function(e,n){var r;e.$$proto,[e].concat(n);return t.defn(e,"$new",r=function(e){var n,r=a,i=arguments.length,s=i-0;s<0&&(s=0),n=new Array(s);for(var $=0;$<i;$++)n[$-0]=arguments[$];return(r=this.$allocate()).$$data={},c(r,"initialize",t.to_a(n)),r},r.$$arity=-1),t.alias(e,"[]","new")}(t.get_singleton_class(n),N)}).$$s=this,i.$$arity=0,i)),l(_)&&c($,"module_eval",[],_.$to_proc()),l(e)&&t.const_get_relative(N,"Struct").$const_set(e,$),$},f.$$arity=-2),t.defs(C,"$define_struct_attribute",p=function(e){var n,r;return this["$=="](t.const_get_relative(N,"Struct"))&&this.$raise(t.const_get_relative(N,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](e),c(this,"define_method",[e],((n=function(){return(n.$$s||this).$$data[e]}).$$s=this,n.$$arity=0,n)),c(this,"define_method",[e+"="],((r=function(t){var n=r.$$s||this;return null==t&&(t=a),n.$$data[e]=t}).$$s=this,r.$$arity=1,r))},p.$$arity=1),t.defs(C,"$members",g=function(){var e;return null==this.members&&(this.members=a),this["$=="](t.const_get_relative(N,"Struct"))&&this.$raise(t.const_get_relative(N,"ArgumentError"),"the Struct class has no members"),this.members=l(e=this.members)?e:[]},g.$$arity=0),t.defs(C,"$inherited",v=function(t){var e,n;return null==this.members&&(this.members=a),n=this.members,c(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=n}).$$s=this,e.$$arity=0,e))},v.$$arity=1),t.defn(C,"$initialize",m=function(n){var r,i,s,$,o=arguments.length,_=o-0;_<0&&(_=0),i=new Array(_);for(var u=0;u<o;u++)i[u-0]=arguments[u];return l((s=i.$length(),$=this.$class().$members().$length(),"number"==typeof s&&"number"==typeof $?s>$:s["$>"]($)))&&this.$raise(t.const_get_relative(N,"ArgumentError"),"struct size differs"),c(this.$class().$members(),"each_with_index",[],((r=function(n,s){var $,o=r.$$s||this;return null==n&&(n=a),null==s&&(s=a),$=[n,i["$[]"](s)],c(o,"[]=",t.to_a($)),$[e($.length,1)]}).$$s=this,r.$$arity=2,r))},m.$$arity=-1),t.defn(C,"$members",y=function(){return this.$class().$members()},y.$$arity=0),t.defn(C,"$hash",b=function(){return t.const_get_relative(N,"Hash").$new(this.$$data).$hash()},b.$$arity=0),t.defn(C,"$[]",x=function(e){return l(t.const_get_relative(N,"Integer")["$==="](e))?(l(n(e,this.$class().$members().$size()["$-@"]()))&&this.$raise(t.const_get_relative(N,"IndexError"),"offset "+e+" too small for struct(size:"+this.$class().$members().$size()+")"),l(r(e,this.$class().$members().$size()))&&this.$raise(t.const_get_relative(N,"IndexError"),"offset "+e+" too large for struct(size:"+this.$class().$members().$size()+")"),e=this.$class().$members()["$[]"](e)):l(t.const_get_relative(N,"String")["$==="](e))?this.$$data.hasOwnProperty(e)||this.$raise(t.const_get_relative(N,"NameError").$new("no member '"+e+"' in struct",e)):this.$raise(t.const_get_relative(N,"TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=t.const_get_relative(N,"Opal")["$coerce_to!"](e,t.const_get_relative(N,"String"),"to_str"),this.$$data[e]},x.$$arity=1),t.defn(C,"$[]=",k=function(e,i){return l(t.const_get_relative(N,"Integer")["$==="](e))?(l(n(e,this.$class().$members().$size()["$-@"]()))&&this.$raise(t.const_get_relative(N,"IndexError"),"offset "+e+" too small for struct(size:"+this.$class().$members().$size()+")"),l(r(e,this.$class().$members().$size()))&&this.$raise(t.const_get_relative(N,"IndexError"),"offset "+e+" too large for struct(size:"+this.$class().$members().$size()+")"),e=this.$class().$members()["$[]"](e)):l(t.const_get_relative(N,"String")["$==="](e))?l(this.$class().$members()["$include?"](e.$to_sym()))||this.$raise(t.const_get_relative(N,"NameError").$new("no member '"+e+"' in struct",e)):this.$raise(t.const_get_relative(N,"TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=t.const_get_relative(N,"Opal")["$coerce_to!"](e,t.const_get_relative(N,"String"),"to_str"),this.$$data[e]=i},k.$$arity=2),t.defn(C,"$==",w=function(e){if(!l(e["$instance_of?"](this.$class())))return!1;var n={},r={};return function e(i,s){var $,a,o;n[i.$__id__()]=!0,r[s.$__id__()]=!0;for($ in i.$$data)if(a=i.$$data[$],o=s.$$data[$],t.const_get_relative(N,"Struct")["$==="](a)){if(!(n.hasOwnProperty(a.$__id__())&&r.hasOwnProperty(o.$__id__())||e(a,o)))return!1}else if(!a["$=="](o))return!1;return!0}(this,e)},w.$$arity=1),t.defn(C,"$eql?",E=function(e){if(!l(e["$instance_of?"](this.$class())))return!1;var n={},r={};return function e(i,s){var $,a,o;n[i.$__id__()]=!0,r[s.$__id__()]=!0;for($ in i.$$data)if(a=i.$$data[$],o=s.$$data[$],t.const_get_relative(N,"Struct")["$==="](a)){if(!(n.hasOwnProperty(a.$__id__())&&r.hasOwnProperty(o.$__id__())||e(a,o)))return!1}else if(!a["$eql?"](o))return!1;return!0}(this,e)},E.$$arity=1),t.defn(C,"$each",A=function(){var e,n,r=A.$$p,i=r||a;return r&&(A.$$p=null),i===a?c(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(c(this.$class().$members(),"each",[],((n=function(e){var r=n.$$s||this;return null==e&&(e=a),t.yield1(i,r["$[]"](e))}).$$s=this,n.$$arity=1,n)),this)},A.$$arity=0),t.defn(C,"$each_pair",O=function(){var e,n,r=O.$$p,i=r||a;return r&&(O.$$p=null),i===a?c(this,"enum_for",["each_pair"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(c(this.$class().$members(),"each",[],((n=function(e){var r=n.$$s||this;return null==e&&(e=a),t.yield1(i,[e,r["$[]"](e)])}).$$s=this,n.$$arity=1,n)),this)},O.$$arity=0),t.defn(C,"$length",S=function(){return this.$class().$members().$length()},S.$$arity=0),t.alias(C,"size","length"),t.defn(C,"$to_a",R=function(){var t;return c(this.$class().$members(),"map",[],((t=function(e){var n=t.$$s||this;return null==e&&(e=a),n["$[]"](e)}).$$s=this,t.$$arity=1,t))},R.$$arity=0),t.alias(C,"values","to_a"),t.defn(C,"$inspect",T=function(){var e,n,r=a;return r="#<struct ",l(l(e=t.const_get_relative(N,"Struct")["$==="](this))?this.$class().$name():e)&&(r=i(r,this.$class()+" ")),r=i(r=i(r,c(this.$each_pair(),"map",[],(n=function(t,e){n.$$s;return null==t&&(t=a),null==e&&(e=a),t+"="+e.$inspect()},n.$$s=this,n.$$arity=2,n)).$join(", ")),">")},T.$$arity=0),t.alias(C,"to_s","inspect"),t.defn(C,"$to_h",M=function(){var n;return c(this.$class().$members(),"inject",[_([],{})],((n=function(r,i){var s,$=n.$$s||this;return null==r&&(r=a),null==i&&(i=a),s=[i,$["$[]"](i)],c(r,"[]=",t.to_a(s)),e(s.length,1),r}).$$s=this,n.$$arity=2,n))},M.$$arity=0),t.defn(C,"$values_at",I=function(e){var n,r,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var $=0;$<i;$++)r[$-0]=arguments[$];for(var o=[],l=0,_=(r=c(r,"map",[],(n=function(t){n.$$s;return null==t&&(t=a),t.$$is_range?t.$to_a():t},n.$$s=this,n.$$arity=1,n)).$flatten()).length;l<_;l++)r[l].$$is_number||this.$raise(t.const_get_relative(N,"TypeError"),"no implicit conversion of "+r[l].$class()+" into Integer"),o.push(this["$[]"](r[l]));return o},I.$$arity=-1),t.defn(C,"$dig",q=function(e,n){var r,i=a,s=arguments.length,$=s-1;$<0&&($=0),r=new Array($);for(var o=1;o<s;o++)r[o-1]=arguments[o];return(i=l(e.$$is_string&&this.$$data.hasOwnProperty(e))?this.$$data[e]||a:a)===a||0===r.length?i:(l(i["$respond_to?"]("dig"))||this.$raise(t.const_get_relative(N,"TypeError"),i.$class()+" does not have #dig method"),c(i,"dig",t.to_a(r)))},q.$$arity=-2),a&&"dig"}(0,0,$)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),s=t.module,$=t.send,a=t.gvars,o=t.truthy,l=r;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,l,c){function _(){}var u,d,h,f,p,g,v,m,y,b,x,k,w=_=i(n[0],null,"IO",_),E=w.$$proto,A=[w].concat(c);E.tty=E.closed=r,t.const_set(A[0],"SEEK_SET",0),t.const_set(A[0],"SEEK_CUR",1),t.const_set(A[0],"SEEK_END",2),t.defn(w,"$tty?",u=function(){return this.tty},u.$$arity=0),t.defn(w,"$closed?",d=function(){return this.closed},d.$$arity=0),w.$attr_accessor("write_proc"),t.defn(w,"$write",h=function(t){return this.write_proc(t),t.$size()},h.$$arity=1),w.$attr_accessor("sync","tty"),t.defn(w,"$flush",f=function(){return r},f.$$arity=0),function(e,n){var i,l,c,_=s(e,"Writable");_.$$proto,[_].concat(n);t.defn(_,"$<<",i=function(t){return this.$write(t),this},i.$$arity=1),t.defn(_,"$print",l=function(t){var e,n;null==a[","]&&(a[","]=r);var i=arguments.length,s=i-0;s<0&&(s=0),n=new Array(s);for(var o=0;o<i;o++)n[o-0]=arguments[o];return this.$write($(n,"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=r),n.$String(t)},e.$$s=this,e.$$arity=1,e)).$join(a[","])),r},l.$$arity=-1),t.defn(_,"$puts",c=function(t){var e,n,i;null==a["/"]&&(a["/"]=r);var s=arguments.length,l=s-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<s;c++)n[c-0]=arguments[c];return i=a["/"],o(n["$empty?"]())?this.$write(a["/"]):this.$write($(n,"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=r),n.$String(t).$chomp()},e.$$s=this,e.$$arity=1,e)).$concat([r]).$join(i)),r},c.$$arity=-1)}(A[0],A),p=A[0],g=A,(x=s(p,"Readable")).$$proto,k=[x].concat(g),t.defn(x,"$readbyte",v=function(){return this.$getbyte()},v.$$arity=0),t.defn(x,"$readchar",m=function(){return this.$getc()},m.$$arity=0),t.defn(x,"$readline",y=function(e){return null==a["/"]&&(a["/"]=r),null==e&&(e=a["/"]),this.$raise(t.const_get_relative(k,"NotImplementedError"))},y.$$arity=-1),t.defn(x,"$readpartial",b=function(e,n){return null==n&&(n=r),this.$raise(t.const_get_relative(k,"NotImplementedError"))},b.$$arity=-2)}(0,0,n),t.const_set(n[0],"STDERR",a.stderr=t.const_get_relative(n,"IO").$new()),t.const_set(n[0],"STDIN",a.stdin=t.const_get_relative(n,"IO").$new()),t.const_set(n[0],"STDOUT",a.stdout=t.const_get_relative(n,"IO").$new());var c=t.global.console;return l=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){c.log(t)}],$(t.const_get_relative(n,"STDOUT"),"write_proc=",t.to_a(l)),l[e(l.length,1)],l=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){c.warn(t)}],$(t.const_get_relative(n,"STDERR"),"write_proc=",t.to_a(l)),l[e(l.length,1)],t.const_get_relative(n,"STDOUT").$extend(t.const_get_qualified(t.const_get_relative(n,"IO"),"Writable")),t.const_get_relative(n,"STDERR").$extend(t.const_get_qualified(t.const_get_relative(n,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,n,r=t.top,i=[];t.nil,t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(r,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(r,"$include",n=function(e){return t.const_get_relative(i,"Object").$include(e)},n.$$arity=1)},Opal.modules["corelib/dir"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$[]"]),function(s,$,a){function o(){}var l=o=r(e[0],null,"Dir",o),c=(l.$$proto,[l].concat(a));return function(e,r){e.$$proto;var s,$,a,o=[e].concat(r);return t.defn(e,"$chdir",s=function(e){var r=s.$$p,i=r||n,$=n;return r&&(s.$$p=null),function(){try{return $=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=$}}()},s.$$arity=1),t.defn(e,"$pwd",$=function(){return t.current_dir||"."},$.$$arity=0),t.alias(e,"getwd","pwd"),t.defn(e,"$home",a=function(){var e;return i(e=t.const_get_relative(o,"ENV")["$[]"]("HOME"))?e:"."},a.$$arity=0),n&&"home"}(t.get_singleton_class(l),c)}(0,0,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],i=t.nil,s=(t.breaker,t.slice,t.klass),$=t.send,a=t.truthy,o=t.range;return t.add_stubs(["$join","$compact","$split","$==","$first","$home","$[]=","$-","$pwd","$each","$pop","$<<","$respond_to?","$coerce_to!","$+","$basename","$empty?","$rindex","$[]","$nil?","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$end_with?","$start_with?","$sub"]),function(r,l,c){function _(){}var u=_=s(r,l,"File",_),d=(u.$$proto,[u].concat(c));return t.const_set(d[0],"Separator",t.const_set(d[0],"SEPARATOR","/")),t.const_set(d[0],"ALT_SEPARATOR",i),t.const_set(d[0],"PATH_SEPARATOR",":"),t.const_set(d[0],"FNM_SYSCASE",0),function(r,s){r.$$proto;var l,c,_,u,d,h,f,p,g=[r].concat(s);function v(e){return a(e["$respond_to?"]("to_path"))&&(e=e.$to_path()),e=t.const_get_relative(g,"Opal")["$coerce_to!"](e,t.const_get_relative(g,"String"),"to_str")}function m(){return t.const_get_relative(g,"ALT_SEPARATOR")===i?t.escape_regexp(t.const_get_relative(g,"SEPARATOR")):t.escape_regexp(n(t.const_get_relative(g,"SEPARATOR"),t.const_get_relative(g,"ALT_SEPARATOR")))}return t.defn(r,"$expand_path",l=function(n,r){var s,a=i,o=i,l=i;return null==r&&(r=i),a=(n=[r,n].$compact().$join(t.const_get_relative(g,"SEPARATOR"))).$split(t.const_get_relative(g,"SEPARATOR")),o=[],a.$first()["$=="]("~")&&(l=[0,t.const_get_relative(g,"Dir").$home()],$(a,"[]=",t.to_a(l)),l[e(l.length,1)]),a.$first()["$=="](".")&&(l=[0,t.const_get_relative(g,"Dir").$pwd()],$(a,"[]=",t.to_a(l)),l[e(l.length,1)]),$(a,"each",[],((s=function(t){s.$$s;return null==t&&(t=i),t["$=="]("..")?o.$pop():o["$<<"](t)}).$$s=this,s.$$arity=1,s)),o.$join(t.const_get_relative(g,"SEPARATOR"))},l.$$arity=-2),t.alias(r,"realpath","expand_path"),t.defn(r,"$dirname",c=function(t){var e;e=m();var n=(t=v(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?n?"/":".":t},c.$$arity=1),t.defn(r,"$basename",_=function(e,n){var r;return null==n&&(n=i),r=m(),0==(e=v(e)).length?e:(n=n!==i?t.const_get_relative(g,"Opal")["$coerce_to!"](n,t.const_get_relative(g,"String"),"to_str"):null,e=(e=e.replace(new RegExp("(.)["+r+"]*$"),"$1")).replace(new RegExp("^(?:.*["+r+"])?([^"+r+"]+)$"),"$1"),".*"===n?e=e.replace(/\.[^\.]+$/,""):null!==n&&(n=t.escape_regexp(n),e=e.replace(new RegExp(n+"$"),"")),e)},_.$$arity=-2),t.defn(r,"$extname",u=function(r){var s,$=i,l=i;return r=v(r),$=this.$basename(r),a($["$empty?"]())?"":(l=$["$[]"](o(1,-1,!1)).$rindex("."),a(a(s=l["$nil?"]())?s:n(l,1)["$=="](e($.$length(),1)))?"":$["$[]"](t.Range.$new(n(l,1),-1,!1)))},u.$$arity=1),t.defn(r,"$exist?",d=function(e){return null!=t.modules[e]},d.$$arity=1),t.alias(r,"exists?","exist?"),t.defn(r,"$directory?",h=function(e){var n,r=i;r=[];for(var s in t.modules)r.push(s);return e=e.$gsub(new RegExp("(^."+t.const_get_relative(g,"SEPARATOR")+"+|"+t.const_get_relative(g,"SEPARATOR")+"+$)")),$(r,"find",[],((n=function(t){n.$$s;return null==t&&(t=i),t["$=~"](new RegExp("^"+e))}).$$s=this,n.$$arity=1,n))},h.$$arity=1),t.defn(r,"$join",f=function(e){var r,s,o,l,c=i,_=arguments.length,u=_-0;u<0&&(u=0),l=new Array(u);for(var d=0;d<_;d++)l[d-0]=arguments[d];return l.$length()["$=="](0)?"":(c="",l=$(l.$flatten().$each_with_index(),"map",[],((r=function(e,s){r.$$s;return null==e&&(e=i),null==s&&(s=i),a(s["$=="](0)?e["$empty?"]():s["$=="](0))?t.const_get_relative(g,"SEPARATOR"):a(l.$length()["$=="](n(s,1))?e["$empty?"]():l.$length()["$=="](n(s,1)))?t.const_get_relative(g,"SEPARATOR"):e}).$$s=this,r.$$arity=2,r)),l=$(l,"reject",[],((s=function(t){s.$$s;return null==t&&(t=i),t["$empty?"]()}).$$s=this,s.$$arity=1,s)),$(l,"each_with_index",[],((o=function(e,r){o.$$s;var s,$=i;return null==e&&(e=i),null==r&&(r=i),$=l["$[]"](n(r,1)),a($["$nil?"]())?c=""+c+e:(a(a(s=e["$end_with?"](t.const_get_relative(g,"SEPARATOR")))?$["$start_with?"](t.const_get_relative(g,"SEPARATOR")):s)&&(e=e.$sub(new RegExp(t.const_get_relative(g,"SEPARATOR")+"+$"),"")),c=a(a(s=e["$end_with?"](t.const_get_relative(g,"SEPARATOR")))?s:$["$start_with?"](t.const_get_relative(g,"SEPARATOR")))?""+c+e:""+c+e+t.const_get_relative(g,"SEPARATOR"))}).$$s=this,o.$$arity=2,o)),c)},f.$$arity=-1),t.defn(r,"$split",p=function(e){return e.$split(t.const_get_relative(g,"SEPARATOR"))},p.$$arity=1),i&&"split"}(t.get_singleton_class(u),d)}(r[0],t.const_get_relative(r,"IO"),r)},Opal.modules["corelib/process"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(s,$,a){function o(){}var l,c,_,u,d=o=r(e[0],null,"Process",o),h=(d.$$proto,[d].concat(a)),f=n;if(d.__clocks__=[],t.defs(d,"$__register_clock__",l=function(t,e){return null==this.__clocks__&&(this.__clocks__=n),this.$const_set(t,this.__clocks__.$size()),this.__clocks__["$<<"](e)},l.$$arity=2),d.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),f=!1,t.global.performance)f=function(){return performance.now()};else if(t.global.process&&process.hrtime){var p=process.hrtime();f=function(){var t=process.hrtime(p),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}i(f)&&d.$__register_clock__("CLOCK_MONOTONIC",f),t.defs(d,"$pid",c=function(){return 0},c.$$arity=0),t.defs(d,"$times",_=function(){var e;return e=t.const_get_relative(h,"Time").$now().$to_f(),t.const_get_qualified(t.const_get_relative(h,"Benchmark"),"Tms").$new(e,e,e,e,e)},_.$$arity=0),t.defs(d,"$clock_gettime",u=function(e,r){var s=n;null==this.__clocks__&&(this.__clocks__=n),null==r&&(r="float_second"),i(s=this.__clocks__["$[]"](e))||this.$raise(t.const_get_qualified(t.const_get_relative(h,"Errno"),"EINVAL"),"clock_gettime("+e+") "+this.__clocks__["$[]"](e));var $=s();switch(r){case"float_second":return $/1e3;case"float_millisecond":return $/1;case"float_microsecond":return 1e3*$;case"second":return $/1e3|0;case"millisecond":return $/1|0;case"microsecond":return 1e3*$|0;case"nanosecond":return 1e6*$|0;default:this.$raise(t.const_get_relative(h,"ArgumentError"),"unexpected unit: "+r)}},u.$$arity=-2)}(0,0,e),function(i,s,$){function a(){}var o,l=a=r(e[0],null,"Signal",a);l.$$proto,[l].concat($);t.defs(l,"$trap",o=function(t){return n},o.$$arity=-1)}(0,0,e),function(i,s,$){function a(){}var o,l=a=r(e[0],null,"GC",a);l.$$proto,[l].concat($);return t.defs(l,"$start",o=function(){return n},o.$$arity=0)}(0,0,e)},Opal.modules["corelib/random/seedrandom"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.klass);return function(t,r,i){function s(){}var $=s=n(e[0],null,"Random",s);$.$$proto,[$].concat(i);!function(t,e){function n(n,f,p){var g=[],v=i(function t(e,n){var r,i=[],s=typeof e;if(n&&"object"==s)for(r in e)if(e.hasOwnProperty(r))try{i.push(t(e[r],n-1))}catch(e){}return i.length?i:"string"==s?e:e+"\0"}((f=1==f?{entropy:!0}:f||{}).entropy?[n,s(t)]:null==n?function(){try{if($)return s($.randomBytes(o));var e=new Uint8Array(o);return(a.crypto||a.msCrypto).getRandomValues(e),s(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,s(t)]}}():n,3),g),m=new function(t){var e,n=t.length,r=this,i=0,s=r.i=r.j=0,$=r.S=[];for(n||(t=[n++]);i<o;)$[i]=i++;for(i=0;i<o;i++)$[i]=$[s=h&s+t[i%n]+(e=$[i])],$[s]=e;(r.g=function(t){for(var e,n=0,i=r.i,s=r.j,$=r.S;t--;)e=$[i=h&i+1],n=n*o+$[h&($[i]=$[s=h&s+e])+($[s]=e)];return r.i=i,r.j=s,n})(o)}(g),y=function(){for(var t=m.g(l),e=_,n=0;t<u;)t=(t+n)*o,e*=o,n=m.g(1);for(;t>=d;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,i(s(m.S),t),(f.pass||p||function(t,n,i,s){return s&&(s.S&&r(s,m),t.state=function(){return r(m,{})}),i?(e[c]=t,n):t})(y,v,"global"in f?f.global:this==e,f.state)}function r(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function i(t,e){for(var n,r=t+"",i=0;i<r.length;)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return s(e)}function s(t){return String.fromCharCode.apply(0,t)}var $,a=this,o=256,l=6,c="random",_=e.pow(o,l),u=e.pow(2,52),d=2*u,h=o-1;if(e["seed"+c]=n,i(e.random(),t),"object"==typeof module&&module.exports){module.exports=n;try{$=require("crypto")}catch(t){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return n})}([],Math)}(0,0,e)},Opal.modules["corelib/random"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),s=t.truthy,$=t.send;return t.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$new","$===","$==","$state","$encode","$join","$map","$times","$chr","$raise"]),e.$require("corelib/random/seedrandom.js"),function(e,a,o){function l(){}var c,_,u,d,h,f,p,g,v=l=i(n[0],null,"Random",l),m=(v.$$proto,[v].concat(o));v.$attr_reader("seed","state"),t.defn(v,"$initialize",c=function(e){return null==e&&(e=t.const_get_relative(m,"Random").$new_seed()),e=t.const_get_relative(m,"Opal")["$coerce_to!"](e,t.const_get_relative(m,"Integer"),"to_int"),this.state=e,this.$reseed(e)},c.$$arity=-1),t.defn(v,"$reseed",_=function(t){return this.seed=t,this.$rng=new Math.seedrandom(t)},_.$$arity=1);var y=new Math.seedrandom("opal",{entropy:!0});return t.defs(v,"$new_seed",u=function(){return Math.abs(y.int32())},u.$$arity=0),t.defs(v,"$rand",d=function(e){return t.const_get_relative(m,"DEFAULT").$rand(e)},d.$$arity=-1),t.defs(v,"$srand",h=function(e){var n;return null==e&&(e=t.const_get_relative(m,"Random").$new_seed()),e=t.const_get_relative(m,"Opal")["$coerce_to!"](e,t.const_get_relative(m,"Integer"),"to_int"),n=t.const_get_relative(m,"DEFAULT").$seed(),t.const_get_relative(m,"DEFAULT").$reseed(e),n},h.$$arity=-1),t.const_set(m[0],"DEFAULT",v.$new(v.$new_seed())),t.defn(v,"$==",f=function(e){return!!s(t.const_get_relative(m,"Random")["$==="](e))&&(this.$seed()["$=="](e.$seed())?this.$state()["$=="](e.$state()):this.$seed()["$=="](e.$seed()))},f.$$arity=1),t.defn(v,"$bytes",p=function(e){var n;return e=t.const_get_relative(m,"Opal")["$coerce_to!"](e,t.const_get_relative(m,"Integer"),"to_int"),$(e.$times(),"map",[],(n=function(){return(n.$$s||this).$rand(255).$chr()},n.$$s=this,n.$$arity=0,n)).$join().$encode(t.const_get_qualified(t.const_get_relative(m,"Encoding"),"ASCII_8BIT"))},p.$$arity=1),t.defn(v,"$rand",g=function(e){var n=this;function i(){return n.state++,n.$rng.quick()}function s(){return Math.floor(i()*e)}return null==e?i():e.$$is_range?function(){var t=e.begin,i=e.end;if(t===r||i===r)return r;var s=i-t;return s<0?r:0===s?t:(i%1!=0||t%1!=0||e.excl||s++,n.$rand(s)+t)}():e.$$is_number?(e<=0&&n.$raise(t.const_get_relative(m,"ArgumentError"),"invalid argument - "+e),e%1==0?s():i()*e):((e=t.const_get_relative(m,"Opal")["$coerce_to!"](e,t.const_get_relative(m,"Integer"),"to_int"))<=0&&n.$raise(t.const_get_relative(m,"ArgumentError"),"invalid argument - "+e),s())},g.$$arity=-1),r&&"rand"}(0,0,n)},Opal.modules["corelib/unsupported"]=function(t){var e,n,r=t.top,i=[],s=t.nil,$=(t.breaker,t.slice,t.klass),a=t.module;t.add_stubs(["$raise","$warn","$%"]);var o,l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A={};function O(e){switch(t.config.unsupported_features_severity){case"error":t.const_get_relative(i,"Kernel").$raise(t.const_get_relative(i,"NotImplementedError"),e);break;case"warning":!function(t){if(A[t])return;A[t]=!0,r.$warn(t)}(e)}}return function(e,n,r){function i(){}var s,a,o,l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w=i=$(e,null,"String",i),E=(w.$$proto,[w].concat(r)),A="String#%s not supported. Mutable String methods are not supported in Opal.";t.defn(w,"$<<",s=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("<<"))},s.$$arity=-1),t.defn(w,"$capitalize!",a=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("capitalize!"))},a.$$arity=-1),t.defn(w,"$chomp!",o=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("chomp!"))},o.$$arity=-1),t.defn(w,"$chop!",l=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("chop!"))},l.$$arity=-1),t.defn(w,"$downcase!",c=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("downcase!"))},c.$$arity=-1),t.defn(w,"$gsub!",_=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("gsub!"))},_.$$arity=-1),t.defn(w,"$lstrip!",u=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("lstrip!"))},u.$$arity=-1),t.defn(w,"$next!",d=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("next!"))},d.$$arity=-1),t.defn(w,"$reverse!",h=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("reverse!"))},h.$$arity=-1),t.defn(w,"$slice!",f=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("slice!"))},f.$$arity=-1),t.defn(w,"$squeeze!",p=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("squeeze!"))},p.$$arity=-1),t.defn(w,"$strip!",g=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("strip!"))},g.$$arity=-1),t.defn(w,"$sub!",v=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("sub!"))},v.$$arity=-1),t.defn(w,"$succ!",m=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("succ!"))},m.$$arity=-1),t.defn(w,"$swapcase!",y=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("swapcase!"))},y.$$arity=-1),t.defn(w,"$tr!",b=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("tr!"))},b.$$arity=-1),t.defn(w,"$tr_s!",x=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("tr_s!"))},x.$$arity=-1),t.defn(w,"$upcase!",k=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),A["$%"]("upcase!"))},k.$$arity=-1)}(i[0],0,i),o=i[0],l=i,(u=a(o,"Kernel")).$$proto,[u].concat(l),d="Object freezing is not supported by Opal",t.defn(u,"$freeze",c=function(){return O(d),this},c.$$arity=0),t.defn(u,"$frozen?",_=function(){return O(d),!1},_.$$arity=0),h=i[0],f=i,(m=a(h,"Kernel")).$$proto,[m].concat(f),y="Object tainting is not supported by Opal",t.defn(m,"$taint",p=function(){return O(y),this},p.$$arity=0),t.defn(m,"$untaint",g=function(){return O(y),this},g.$$arity=0),t.defn(m,"$tainted?",v=function(){return O(y),!1},v.$$arity=0),function(e,n,r){function i(){}var a,o,l,c,_=i=$(e,null,"Module",i);_.$$proto,[_].concat(r);t.defn(_,"$public",a=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return 0===e.length&&(this.$$module_function=!1),s},a.$$arity=-1),t.alias(_,"private","public"),t.alias(_,"protected","public"),t.alias(_,"nesting","public"),t.defn(_,"$private_class_method",o=function(t){return this},o.$$arity=-1),t.alias(_,"public_class_method","private_class_method"),t.defn(_,"$private_method_defined?",l=function(t){return!1},l.$$arity=1),t.defn(_,"$private_constant",c=function(t){return s},c.$$arity=-1),t.alias(_,"protected_method_defined?","private_method_defined?"),t.alias(_,"public_instance_methods","instance_methods"),t.alias(_,"public_method_defined?","method_defined?")}(i[0],0,i),function(e,n){var r,i=a(e,"Kernel");i.$$proto,[i].concat(n);t.defn(i,"$private_methods",r=function(t){return[]},r.$$arity=-1),t.alias(i,"private_instance_methods","private_methods")}(i[0],i),b=i[0],x=i,(w=a(b,"Kernel")).$$proto,E=[w].concat(x),t.defn(w,"$eval",k=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+t.const_get_relative(E,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},k.$$arity=-1),t.defs(r,"$public",e=function(t){return s},e.$$arity=-1),t.defs(r,"$private",n=function(t){return s},n.$$arity=-1)},Opal.modules.opal=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")},Opal.require("opal")),function(t,e){"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("asciidoctor",["module"],function(t){return e(t.config())}):t.Asciidoctor=e}(this,function(t){Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var i,s,$,a,o=[],l=t.nil,c=(t.breaker,t.slice,t.klass),_=t.truthy,u=t.send,d=t.module;return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(i,s,$){function a(){}var d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j=a=c(o[0],null,"Set",a),F=j.$$proto,U=[j].concat($);F.hash=l,j.$include(t.const_get_relative(U,"Enumerable")),t.defs(j,"$[]",d=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return this.$new(e)},d.$$arity=-1),t.defn(j,"$initialize",h=function(e){var n,r=h.$$p,i=r||l;return null==e&&(e=l),r&&(h.$$p=null),this.hash=t.const_get_relative(U,"Hash").$new(),_(e["$nil?"]())?l:(_(t.const_get_relative(U,"Enumerable")["$==="](e))||this.$raise(t.const_get_relative(U,"ArgumentError"),"value must be enumerable"),_(i)?u(e,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=l),e.$add(i.$call(t))}).$$s=this,n.$$arity=1,n)):this.$merge(e))},h.$$arity=-1),t.defn(j,"$dup",f=function(){return this.$class().$new().$merge(this)},f.$$arity=0),t.defn(j,"$-",p=function(e){return _(e["$respond_to?"]("each"))||this.$raise(t.const_get_relative(U,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(e)},p.$$arity=1),t.alias(j,"difference","-"),t.defn(j,"$inspect",g=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},g.$$arity=0),t.defn(j,"$==",v=function(e){var n,r;return!!_(this["$equal?"](e))||(_(e["$instance_of?"](this.$class()))?this.hash["$=="](e.$instance_variable_get("@hash")):!!_(_(n=e["$is_a?"](t.const_get_relative(U,"Set")))?this.$size()["$=="](e.$size()):n)&&u(e,"all?",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=l),null==t&&(t=l),e.hash["$include?"](t)}).$$s=this,r.$$arity=1,r)))},v.$$arity=1),t.defn(j,"$add",m=function(n){var r;return r=[n,!0],u(this.hash,"[]=",t.to_a(r)),e(r.length,1),this},m.$$arity=1),t.alias(j,"<<","add"),t.defn(j,"$classify",y=function(){var n,r,i=y.$$p,s=i||l,$=l;return i&&(y.$$p=null),s===l?this.$enum_for("classify"):($=u(t.const_get_relative(U,"Hash"),"new",[],((n=function(r,i){var s,$=n.$$s||this;return null==r&&(r=l),null==i&&(i=l),s=[i,$.$class().$new()],u(r,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=this,n.$$arity=2,n)),u(this,"each",[],((r=function(e){r.$$s;return null==e&&(e=l),$["$[]"](t.yield1(s,e)).$add(e)}).$$s=this,r.$$arity=1,r)),$)},y.$$arity=0),t.defn(j,"$collect!",b=function(){var e,n=b.$$p,r=n||l,i=l;return n&&(b.$$p=null),r===l?this.$enum_for("collect!"):(i=this.$class().$new(),u(this,"each",[],((e=function(n){e.$$s;return null==n&&(n=l),i["$<<"](t.yield1(r,n))}).$$s=this,e.$$arity=1,e)),this.$replace(i))},b.$$arity=0),t.alias(j,"map!","collect!"),t.defn(j,"$delete",x=function(t){return this.hash.$delete(t),this},x.$$arity=1),t.defn(j,"$delete?",k=function(t){return _(this["$include?"](t))?(this.$delete(t),this):l},k.$$arity=1),t.defn(j,"$delete_if",w=function(){try{var e,n,r=w.$$p,i=r||l;return r&&(w.$$p=null),_(i!==l)||t.ret(this.$enum_for("delete_if")),u(u(this,"select",[],((e=function(n){e.$$s;return null==n&&(n=l),t.yield1(i,n)}).$$s=this,e.$$arity=1,e)),"each",[],((n=function(t){var e=n.$$s||this;return null==e.hash&&(e.hash=l),null==t&&(t=l),e.hash.$delete(t)}).$$s=this,n.$$arity=1,n)),this}catch(e){if(e===t.returner)return e.$v;throw e}},w.$$arity=0),t.defn(j,"$add?",E=function(t){return _(this["$include?"](t))?l:this.$add(t)},E.$$arity=1),t.defn(j,"$each",A=function(){var t=A.$$p,e=t||l;return t&&(A.$$p=null),e===l?this.$enum_for("each"):(u(this.hash,"each_key",[],e.$to_proc()),this)},A.$$arity=0),t.defn(j,"$empty?",O=function(){return this.hash["$empty?"]()},O.$$arity=0),t.defn(j,"$eql?",S=function(t){var e;return this.hash["$eql?"](u(t,"instance_eval",[],((e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=l),t.hash}).$$s=this,e.$$arity=0,e)))},S.$$arity=1),t.defn(j,"$clear",R=function(){return this.hash.$clear(),this},R.$$arity=0),t.defn(j,"$include?",T=function(t){return this.hash["$include?"](t)},T.$$arity=1),t.alias(j,"member?","include?"),t.defn(j,"$merge",M=function(t){var e;return u(t,"each",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=l),n.$add(t)}).$$s=this,e.$$arity=1,e)),this},M.$$arity=1),t.defn(j,"$replace",I=function(t){return this.$clear(),this.$merge(t),this},I.$$arity=1),t.defn(j,"$size",q=function(){return this.hash.$size()},q.$$arity=0),t.alias(j,"length","size"),t.defn(j,"$subtract",C=function(t){var e;return u(t,"each",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=l),n.$delete(t)}).$$s=this,e.$$arity=1,e)),this},C.$$arity=1),t.defn(j,"$|",N=function(e){return _(e["$respond_to?"]("each"))||this.$raise(t.const_get_relative(U,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(e)},N.$$arity=1),t.defn(j,"$superset?",z=function(e){var r;return _(e["$is_a?"](t.const_get_relative(U,"Set")))||this.$raise(t.const_get_relative(U,"ArgumentError"),"value must be a set"),!_(n(this.$size(),e.$size()))&&u(e,"all?",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=l),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},z.$$arity=1),t.alias(j,">=","superset?"),t.defn(j,"$proper_superset?",P=function(e){var n;return _(e["$is_a?"](t.const_get_relative(U,"Set")))||this.$raise(t.const_get_relative(U,"ArgumentError"),"value must be a set"),!_(r(this.$size(),e.$size()))&&u(e,"all?",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=l),e["$include?"](t)}).$$s=this,n.$$arity=1,n))},P.$$arity=1),t.alias(j,">","proper_superset?"),t.defn(j,"$subset?",L=function(e){var r;return _(e["$is_a?"](t.const_get_relative(U,"Set")))||this.$raise(t.const_get_relative(U,"ArgumentError"),"value must be a set"),!_(n(e.$size(),this.$size()))&&u(this,"all?",[],((r=function(t){r.$$s;return null==t&&(t=l),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},L.$$arity=1),t.alias(j,"<=","subset?"),t.defn(j,"$proper_subset?",D=function(e){var n;return _(e["$is_a?"](t.const_get_relative(U,"Set")))||this.$raise(t.const_get_relative(U,"ArgumentError"),"value must be a set"),!_(r(e.$size(),this.$size()))&&u(this,"all?",[],((n=function(t){n.$$s;return null==t&&(t=l),e["$include?"](t)}).$$s=this,n.$$arity=1,n))},D.$$arity=1),t.alias(j,"<","proper_subset?"),t.alias(j,"+","|"),t.alias(j,"union","|"),t.defn(j,"$to_a",B=function(){return this.hash.$keys()},B.$$arity=0)}(0,0,o),i=o,($=d(o[0],"Enumerable")).$$proto,a=[$].concat(i),void t.defn($,"$to_set",s=function(e,n){var r,i=this,$=s.$$p,o=$||l;null==e&&(e=t.const_get_relative(a,"Set"));var c=arguments.length,_=c-1;_<0&&(_=0),r=new Array(_);for(var d=1;d<c;d++)r[d-1]=arguments[d];return $&&(s.$$p=null),u(e,"new",[i].concat(t.to_a(r)),o.$to_proc())},s.$$arity=-1)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){t.top;var e,n,r,i,s=[],$=t.nil,a=(t.breaker,t.slice,t.module),o=t.send,l=t.klass,c=t.truthy,_=t.gvars;return t.add_stubs(["$new","$attr_reader","$delete","$gsub","$==","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split","$==="]),e=s,(r=a(s[0],"Kernel")).$$proto,i=[r].concat(e),t.defn(r,"$open",n=function(e,r){var s,a,l=n.$$p,c=l||$,_=arguments.length,u=_-1;u<0&&(u=0),s=new Array(u);for(var d=1;d<_;d++)s[d-1]=arguments[d];return l&&(n.$$p=null),a=o(t.const_get_relative(i,"File"),"new",[e].concat(t.to_a(s))),c!==$?t.yield1(c,a):a},n.$$arity=-2),function(e,n,r){function i(){}var a,o,u,d,h,f,p,g,v=i=l(s[0],null,"File",i),m=v.$$proto,y=[v].concat(r);m.eof=m.path=$,v.$attr_reader("eof"),v.$attr_reader("lineno"),v.$attr_reader("path"),t.defn(v,"$initialize",a=function(e,n){var r;return null==n&&(n="r"),this.path=e,this.contents=$,this.eof=!1,this.lineno=0,r=/:(.*)/,n=(n=n.$delete("b")).$gsub(r,""),this.flags=n,t.const_get_relative(y,"JAVASCRIPT_IO_MODULE")["$=="]("node")?this.fd=require("fs").openSync(e,n):$},a.$$arity=-2),t.defn(v,"$read",o=function(){var e=$;return c(this.eof)?"":(e=t.const_get_relative(y,"File").$read(this.path),this.eof=!0,this.lineno=e.$size(),e)},o.$$arity=0),t.defn(v,"$each_line",u=function(e){var n=this,r=u.$$p,i=r||$,s=$;if(null==_["/"]&&(_["/"]=$),null==e&&(e=_["/"]),r&&(u.$$p=null),c(n.eof))return i!==$?n:[].$to_enum();if(i!==$){s=t.const_get_relative(y,"File").$read(n.path),n.eof=!1,n.lineno=0;for(var a=s.$chomp(),o=s.length!=a.length,l=a.split(e),d=0,h=l.length;d<h;d++)n.lineno+=1,d<h-1||o?t.yield1(i,l[d]+e):t.yield1(i,l[d]);return n.eof=!0,n}return n.$read().$each_line()},u.$$arity=-1),t.defn(v,"$readlines",d=function(){return t.const_get_relative(y,"File").$readlines(this.path)},d.$$arity=0),t.defs(v,"$readlines",h=function(e,n){return null==_["/"]&&(_["/"]=$),null==n&&(n=_["/"]),t.const_get_relative(y,"File").$read(e).$split(n)},h.$$arity=-2),t.defs(v,"$file?",f=function(t){return!0},f.$$arity=1),t.defs(v,"$readable?",p=function(t){return!0},p.$$arity=1),t.defs(v,"$read",g=function(e){var n=$;return function(){if(n=t.const_get_relative(y,"JAVASCRIPT_IO_MODULE"),"node"["$==="](n))return require("fs").readFileSync(e,"utf8");if("phantomjs"["$==="](n))return require("fs").read(e);if("java_nio"["$==="](n)){var r=Java.type("java.nio.file.Paths"),i=[];return Java.type("java.nio.file.Files").readAllLines(r.get(e),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(t){i.push(t)}),i.join("\n")}if("xmlhttprequest"["$==="](n)){i="";var s=-1;try{var $=new XMLHttpRequest;$.open("GET",e,!1),$.addEventListener("load",function(){0!=(s=this.status)&&200!=s||(i=this.responseText)}),$.overrideMimeType("text/plain"),$.send()}catch(t){s=0}if(404==s||0==s&&""==i)throw t.const_get_relative(y,"IOError").$new("No such file or directory: "+e);return i}return"spidermonkey"["$==="](n)?read(e):""}()},g.$$arity=1)}(0,0,s),function(e,n,r){function i(){}var $,a=i=l(s[0],null,"IO",i),o=(a.$$proto,[a].concat(r));return t.defs(a,"$read",$=function(e){return t.const_get_relative(o,"File").$read(e)},$.$$arity=1)}(0,0,s)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$[]=","$-"]),function(s,$,a){function o(){}var l,c=o=r(e[0],null,"MatchData",o),_=c.$$proto;[c].concat(a);return _.matches=n,t.defn(c,"$[]=",l=function(e,n){var r,s,$;return r=[e,n],i(this.matches,"[]=",t.to_a(r)),r[(s=r.length,$=1,"number"==typeof s&&"number"==typeof $?s-$:s["$-"]($))]},l.$$arity=2),n&&"[]="}(0,0,e)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.module);return function(r,i){var s,$=n(e[0],"Kernel");$.$$proto,[$].concat(i);t.defn($,"$freeze",s=function(){return this},s.$$arity=0)}(0,e)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){t.top;var e,n,r,i=[],s=(t.nil,t.breaker,t.slice,t.module),$=t.klass;return e=i,(n=s(i[0],"ThreadSafe")).$$proto,void function(t,e,n){function r(){}var i=r=$(t,e,"Cache",r);i.$$proto,[i].concat(n)}((r=[n].concat(e))[0],t.const_get_qualified("::","Hash"),r)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy,s=t.send;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function($,a,o){function l(){}var c,_,u=l=r(e[0],null,"String",l);u.$$proto,[u].concat(o);return i(u["$method_defined?"]("limit_bytesize"))||t.defn(u,"$limit_bytesize",c=function(t){var e,n;return i((e=t,n=this.$bytes().$length(),"number"==typeof e&&"number"==typeof n?e<n:e["$<"](n)))?this.$byteslice(0,t).$to_s():this.$to_s()},c.$$arity=1),i(u["$method_defined?"]("limit"))||t.alias(u,"limit","limit_bytesize"),t.alias(u,"_original_unpack","unpack"),t.defn(u,"$unpack",_=function(t){var e;return t["$=="]("C3")?s(this["$[]"](0,3).$bytes().$select(),"with_index",[],((e=function(t,r){e.$$s;return null==t&&(t=n),null==r&&(r=n),r["$even?"]()}).$$s=this,e.$$arity=2,e)):this.$_original_unpack(t)},_.$$arity=1),n&&"unpack"}(0,0,e)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){t.top;var e,n,r,i,s=[],$=(t.nil,t.breaker,t.slice,t.module);return t.add_stubs(["$extend"]),e=s,(r=$(s[0],"URI")).$$proto,i=[r].concat(e),void t.defs(r,"$parse",n=function(e){return e.$extend(t.const_get_relative(i,"URI"))},n.$$arity=1)},Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=t.nil,r=(t.breaker,t.slice,t.send),i=t.gvars,s=n;return null==i.stdout&&(i.stdout=n),null==i.stderr&&(i.stderr=n),t.add_stubs(["$write_proc=","$-"]),s=[function(t){print(t)}],r(i.stdout,"write_proc=",t.to_a(s)),s[e(s.length,1)],s=[function(t){print(t)}],r(i.stderr,"write_proc=",t.to_a(s)),s[e(s.length,1)]},Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.klass);return function(r,i,s){function $(){}var a=$=n(e[0],null,"Dir",$),o=(a.$$proto,[a].concat(s));return function(e,n){var r;e.$$proto,[e].concat(n);return t.defn(e,"$pwd",r=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},r.$$arity=0),t.alias(e,"getwd","pwd")}(t.get_singleton_class(a),o)}(0,0,e)},Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=t.nil,r=(t.breaker,t.slice,t.send),i=t.gvars,s=n;return null==i.stdout&&(i.stdout=n),null==i.stderr&&(i.stderr=n),t.add_stubs(["$write_proc=","$-"]),s=[function(t){console.log(t)}],r(i.stdout,"write_proc=",t.to_a(s)),s[e(s.length,1)],s=[function(t){console.error(t)}],r(i.stderr,"write_proc=",t.to_a(s)),s[e(s.length,1)]},Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.klass),r=t.truthy;return t.add_stubs(["$exist?"]),function(i,s,$){function a(){}var o,l=a=n(e[0],null,"File",a);l.$$proto,[l].concat($);return t.defs(l,"$readable?",o=function(t){return!!r(this["$exist?"](t))&&"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},o.$$arity=1)}(0,0,e)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var n=e.top,r=[],i=e.nil;e.breaker,e.slice;e.add_stubs(["$require","$=="]);var s,$,a,o,l="object"==typeof process&&"object"==typeof process.versions&&1!=process.browser,c="object"==typeof navigator&&"string"==typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),_="object"==typeof window,u="object"==typeof Java&&Java.type,d="object"==typeof java,h="object"==typeof window&&"object"==typeof window.phantom,f="function"==typeof importScripts,p="object"==typeof JSRuntime;if(e.load("pathname"),e.load("base64"),"object"==typeof t&&"object"==typeof t.runtime){var g=t.runtime;s=g.platform,$=g.engine,a=g.framework,o=g.ioModule}if(void 0===s&&(l?(s=s||"node",$=$||"v8",c&&(a=a||"electron")):u?(s=s||"java",$=$||"nashorn"):d?(s=s||"java",$=$||"rhino"):p?(s=s||"standalone",a=a||"spidermonkey"):_&&(s=s||"browser",h&&(a=a||"phantomjs")),f&&(a=a||"webworker")),void 0===s)throw new Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");if(void 0===a&&(a=""),void 0===$&&($=""),void 0!==o){if("spidermonkey"!=o&&"phantomjs"!=o&&"node"!=o&&"java_nio"!=o&&"xmlhttprequest"!=o)throw new Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest")}else if("spidermonkey"===a)o="spidermonkey";else if("phantomjs"===a)o="phantomjs";else if("node"===s)o="node";else if("nashorn"===$)o="java_nio";else{if("browser"!==s&&"undefined"==typeof XmlHTTPRequest)throw new Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");o="xmlhttprequest"}return e.const_set(r[0],"JAVASCRIPT_IO_MODULE",o),e.const_set(r[0],"JAVASCRIPT_PLATFORM",s),e.const_set(r[0],"JAVASCRIPT_ENGINE",$),e.const_set(r[0],"JAVASCRIPT_FRAMEWORK",a),n.$require("asciidoctor/js/opal_ext/file"),n.$require("asciidoctor/js/opal_ext/match_data"),n.$require("asciidoctor/js/opal_ext/kernel"),n.$require("asciidoctor/js/opal_ext/thread_safe"),n.$require("asciidoctor/js/opal_ext/string"),n.$require("asciidoctor/js/opal_ext/uri"),e.const_get_relative(r,"JAVASCRIPT_ENGINE")["$=="]("nashorn")&&(n.$require("asciidoctor/js/opal_ext/nashorn/io"),n.$require("asciidoctor/js/opal_ext/nashorn/dir")),e.const_get_relative(r,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&n.$require("asciidoctor/js/opal_ext/electron/io"),e.const_get_relative(r,"JAVASCRIPT_PLATFORM")["$=="]("node")?(n.$require("asciidoctor/js/opal_ext/node/file"),e.load("nodejs")):i},Opal.modules["asciidoctor/js/rx"]=function(t){t.top;var e,n,r,i=[],s=(t.nil,t.breaker,t.slice,t.module);return e=i,(n=s(i[0],"Asciidoctor")).$$proto,r=[n].concat(e),t.const_set(r[0],"P_L","A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"),t.const_set(r[0],"P_Nl","ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ"),t.const_set(r[0],"P_Nd","0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９"),t.const_set(r[0],"P_Pc","_‿⁀⁔︳︴﹍-﹏＿"),t.const_set(r[0],"CC_ALPHA",""+t.const_get_relative(r,"P_L")+t.const_get_relative(r,"P_Nl")),t.const_set(r[0],"CG_ALPHA","["+t.const_get_relative(r,"CC_ALPHA")+"]"),t.const_set(r[0],"CC_ALNUM",""+t.const_get_relative(r,"CC_ALPHA")+t.const_get_relative(r,"P_Nd")),t.const_set(r[0],"CG_ALNUM","["+t.const_get_relative(r,"CC_ALNUM")+"]"),t.const_set(r[0],"CC_WORD",""+t.const_get_relative(r,"CC_ALNUM")+t.const_get_relative(r,"P_Pc")),t.const_set(r[0],"CG_WORD","["+t.const_get_relative(r,"CC_WORD")+"]"),t.const_set(r[0],"CG_BLANK","[ \\t]"),t.const_set(r[0],"CC_EOL","(?=\\n|$)"),t.const_set(r[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),void t.const_set(r[0],"CC_ALL","[\\s\\S]")},Opal.modules.strscan=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(s,$,a){function o(){}var l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C=o=r(e[0],null,"StringScanner",o),N=C.$$proto;[C].concat(a);return N.pos=N.string=N.working=N.matched=N.prev_pos=N.match=n,C.$attr_reader("pos"),C.$attr_reader("matched"),t.defn(C,"$initialize",l=function(t){return this.string=t,this.pos=0,this.matched=n,this.working=t,this.match=[]},l.$$arity=1),C.$attr_reader("string"),t.defn(C,"$beginning_of_line?",c=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},c.$$arity=0),t.alias(C,"bol?","beginning_of_line?"),t.defn(C,"$scan",_=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?this.matched=n:"object"==typeof e?(this.prev_pos=this.pos,this.pos+=e[0].length,this.working=this.working.substring(e[0].length),this.matched=e[0],this.match=e,e[0]):"string"==typeof e?(this.pos+=e.length,this.working=this.working.substring(e.length),e):n},_.$$arity=1),t.defn(C,"$scan_until",u=function(t){t=this.$anchor(t);for(var e,r=this.pos,i=this.working;;){if(e=t.exec(i),r+=1,i=i.substr(1),null!=e)return this.matched=this.string.substr(this.pos,r-this.pos-1+e[0].length),this.prev_pos=r-1,this.pos=r,this.working=i.substr(e[0].length),this.matched;if(0===i.length)return this.matched=n}},u.$$arity=1),t.defn(C,"$[]",d=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length?n:null==e[t]?n:e[t]},d.$$arity=1),t.defn(C,"$check",h=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?n:e[0]},h.$$arity=1),t.defn(C,"$check_until",f=function(t){var e=this.prev_pos,r=this.pos,i=this.$scan_until(t);return i!==n&&(this.matched=i.substr(-1),this.working=this.string.substr(r)),this.prev_pos=e,this.pos=r,i},f.$$arity=1),t.defn(C,"$peek",p=function(t){return this.working.substring(0,t)},p.$$arity=1),t.defn(C,"$eos?",g=function(){return 0===this.working.length},g.$$arity=0),t.defn(C,"$exist?",v=function(t){var e=t.exec(this.working);return null==e?n:0==e.index?0:e.index+1},v.$$arity=1),t.defn(C,"$skip",m=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.matched=n;var r=e[0],i=r.length;return this.matched=r,this.prev_pos=this.pos,this.pos+=i,this.working=this.working.substring(i),i},m.$$arity=1),t.defn(C,"$skip_until",y=function(t){var e=this.$scan_until(t);return e===n?n:(this.matched=e.substr(-1),e.length)},y.$$arity=1),t.defn(C,"$get_byte",b=function(){var t=n;return this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,t=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=n,t},b.$$arity=0),t.alias(C,"getch","get_byte"),t.defn(C,"$match?",x=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?n:(this.prev_pos=this.pos,e[0].length)},x.$$arity=1),t.defn(C,"$pos=",k=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},k.$$arity=1),t.defn(C,"$matched_size",w=function(){return this.matched===n?n:this.matched.length},w.$$arity=0),t.defn(C,"$post_match",E=function(){return this.matched===n?n:this.string.substr(this.pos)},E.$$arity=0),t.defn(C,"$pre_match",A=function(){return this.matched===n?n:this.string.substr(0,this.prev_pos)},A.$$arity=0),t.defn(C,"$reset",O=function(){return this.working=this.string,this.matched=n,this.pos=0},O.$$arity=0),t.defn(C,"$rest",S=function(){return this.working},S.$$arity=0),t.defn(C,"$rest?",R=function(){return 0!==this.working.length},R.$$arity=0),t.defn(C,"$rest_size",T=function(){return this.$rest().$size()},T.$$arity=0),t.defn(C,"$terminate",M=function(){var e,r,s;return this.match=n,e=[this.string.$length()],i(this,"pos=",t.to_a(e)),e[(r=e.length,s=1,"number"==typeof r&&"number"==typeof s?r-s:r["$-"](s))]},M.$$arity=0),t.defn(C,"$unscan",I=function(){return this.pos=this.prev_pos,this.prev_pos=n,this.match=n,this},I.$$arity=0),C.$private(),t.defn(C,"$anchor",q=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},q.$$arity=1),n&&"anchor"}(0,0,e)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var i,s,$,a=[],o=t.nil,l=(t.breaker,t.slice,t.module),c=t.klass,_=t.hash2,u=t.send,d=t.truthy,h=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),i=a,(s=l(a[0],"Asciidoctor")).$$proto,void function(i,s,$){function a(){}var l,f,p,g,v,m,y,b,x=a=c(i,null,"Timings",a),k=x.$$proto;[x].concat($),k.timers=k.log=o,t.defn(x,"$initialize",l=function(){return this.log=_([],{}),this.timers=_([],{})},l.$$arity=0),t.defn(x,"$start",f=function(n){var r;return r=[n,t.const_get_qualified("::","Time").$now()],u(this.timers,"[]=",t.to_a(r)),r[e(r.length,1)]},f.$$arity=1),t.defn(x,"$record",p=function(n){var r;return r=[n,e(t.const_get_qualified("::","Time").$now(),this.timers.$delete(n))],u(this.log,"[]=",t.to_a(r)),r[e(r.length,1)]},p.$$arity=1),t.defn(x,"$read_parse",g=function(){var t,e;return d(n(e=r(d(t=this.log["$[]"]("read"))?t:0,d(t=this.log["$[]"]("parse"))?t:0),0))?e:o},g.$$arity=0),t.defn(x,"$convert",v=function(){var t;return d(t=this.log["$[]"]("convert"))?t:0},v.$$arity=0),t.defn(x,"$read_parse_convert",m=function(){var t,e;return d(n(e=r(r(d(t=this.log["$[]"]("read"))?t:0,d(t=this.log["$[]"]("parse"))?t:0),d(t=this.log["$[]"]("convert"))?t:0),0))?e:o},m.$$arity=0),t.defn(x,"$total",y=function(){var t,e;return d(n(e=r(r(r(d(t=this.log["$[]"]("read"))?t:0,d(t=this.log["$[]"]("parse"))?t:0),d(t=this.log["$[]"]("convert"))?t:0),d(t=this.log["$[]"]("write"))?t:0),0))?e:o},y.$$arity=0),t.defn(x,"$print_report",b=function(t,e){return null==h.stdout&&(h.stdout=o),null==t&&(t=h.stdout),null==e&&(e=o),d(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},b.$$arity=-1)}(($=[s].concat(i))[0],0,$)},Opal.modules["asciidoctor/version"]=function(t){t.top;var e,n,r,i=[],s=(t.nil,t.breaker,t.slice,t.module);return e=i,(n=s(i[0],"Asciidoctor")).$$proto,r=[n].concat(e),void t.const_set(r[0],"VERSION","1.5.6.1")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(n,s,$){function a(){}var o=a=r(e[0],null,"NilClass",a);o.$$proto,[o].concat($);i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","nil?")}(0,0,e),function(n,s,$){function a(){}var o=a=r(e[0],null,"String",a);o.$$proto,[o].concat($);i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(0,0,e),function(n,s,$){function a(){}var o=a=r(e[0],null,"Array",a);o.$$proto,[o].concat($);i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(0,0,e),function(n,s,$){function a(){}var o=a=r(e[0],null,"Hash",a);o.$$proto,[o].concat($);i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(0,0,e),function(s,$,a){function o(){}var l=o=r(e[0],null,"Numeric",o);l.$$proto,[l].concat(a);return i(l["$method_defined?"]("nil_or_empty?"))?n:t.alias(l,"nil_or_empty?","nil?")}(0,0,e)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(s,$,a){function o(){}var l=o=r(e[0],null,"Regexp",o);l.$$proto,[l].concat(a);return i(l["$method_defined?"]("match?"))?n:t.alias(l,"match?","===")}(0,0,e)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(s,$,a){function o(){}var l,c=o=r(e[0],null,"String",o);c.$$proto,[c].concat(a);return i(c["$method_defined?"]("limit_bytesize"))?n:(t.defn(c,"$limit_bytesize",l=function(e){var r,s,$,a,o=n;if(!i((r=e,s=this.$bytesize(),"number"==typeof r&&"number"==typeof s?r<s:r["$<"](s))))return this;for(;!i((o=this.$byteslice(0,e)).$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)a=1,e="number"==typeof($=e)&&"number"==typeof a?$-a:$["$-"](a);return o},l.$$arity=1),n&&"limit_bytesize")}(0,0,e)},Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(t){t.top;var e,n=[],r=t.nil,i=(t.breaker,t.slice,t.truthy),s=t.send;return t.add_stubs(["$respond_to?","$open","$write"]),i(t.const_get_relative(n,"IO")["$respond_to?"]("write"))?r:t.defs(t.const_get_relative(n,"IO"),"$write",e=function(e,i,$,a){var o;return null==$&&($=0),null==a&&(a=r),s(t.const_get_relative(n,"File"),"open",[e,"w"],((o=function(t){o.$$s;return null==t&&(t=r),t.$write(i)}).$$s=this,o.$$arity=1,o))},e.$$arity=-3)},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.truthy);return t.add_stubs(["$require","$==","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext/regexp/is_match"),i(t.const_get_relative(n,"RUBY_MIN_VERSION_1_9"))?(e.$require("asciidoctor/core_ext/string/limit_bytesize"),t.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext/1.8.7/io/write"):r):(i(t.const_get_relative(n,"RUBY_ENGINE")["$!="]("opal")),r)},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n,r,i,s,$,a,o,l,c,_,u,d,h,f,p,g,v,m=[],y=t.nil,b=(t.breaker,t.slice,t.module),x=t.truthy,k=t.send,w=t.range,E=t.gvars;return t.add_stubs(["$require","$==","$===","$raise","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$slice","$map","$each_line","$encode","$force_encoding","$join","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$include?","$match?","$=~","$gsub","$each_byte","$sprintf","$rindex","$length","$basename","$extname","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),n=m,(g=b(m[0],"Asciidoctor")).$$proto,v=[g].concat(n),r=v[0],i=v,(f=b(r,"Helpers")).$$proto,p=[f].concat(i),t.defs(f,"$require_library",s=function(e,n,r){var i=this,s=y,$=y;null==n&&(n=!0),null==r&&(r="abort");try{return i.$require(e)}catch(a){if(!t.rescue(a,[t.const_get_qualified("::","LoadError")]))throw a;s=a;try{return x(n)?(n["$=="](!0)&&(n=e),"abort"["$==="]($=r)?i.$raise(t.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: required gem '"+n+"' is not installed. Processing aborted."):"warn"["$==="]($)?i.$warn("asciidoctor: WARNING: optional gem '"+n+"' is not installed. Functionality disabled."):y):"abort"["$==="]($=r)?i.$raise(t.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: "+s.$message().$chomp(".")+". Processing aborted."):"warn"["$==="]($)?i.$warn("asciidoctor: WARNING: "+s.$message().$chomp(".")+". Functionality disabled."):y}finally{t.pop_exception()}}},s.$$arity=-2),t.defs(f,"$normalize_lines",$=function(e){return e.$class()["$=="](t.const_get_qualified("::","String"))?this.$normalize_lines_from_string(e):this.$normalize_lines_array(e)},$.$$arity=1),t.defs(f,"$normalize_lines_array",a=function(n){var r,i,s,$,a=y,o=y,l=y,c=y,_=y;return x(n["$empty?"]())?n:(a=(o=n["$[]"](0)).$unpack("C3"),x(t.const_get_relative(p,"COERCE_ENCODING"))?(l=t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"),(c=a.$slice(0,2))["$=="](t.const_get_relative(p,"BOM_BYTES_UTF_16LE"))?k(n.$join().$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](w(1,-1,!1)).$encode(l).$each_line(),"map",[],((r=function(t){return r.$$s,null==t&&(t=y),t.$rstrip()}).$$s=this,r.$$arity=1,r)):c["$=="](t.const_get_relative(p,"BOM_BYTES_UTF_16BE"))?(_=[0,o.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](w(1,-1,!1))],k(n,"[]=",t.to_a(_)),_[e(_.length,1)],k(n,"map",[],((i=function(e){return i.$$s,null==e&&(e=y),""+e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE")).$encode(l).$rstrip()}).$$s=this,i.$$arity=1,i))):(a["$=="](t.const_get_relative(p,"BOM_BYTES_UTF_8"))&&(_=[0,o.$force_encoding(l)["$[]"](w(1,-1,!1))],k(n,"[]=",t.to_a(_)),_[e(_.length,1)]),k(n,"map",[],((s=function(t){return s.$$s,null==t&&(t=y),t.$encoding()["$=="](l)?t.$rstrip():t.$force_encoding(l).$rstrip()}).$$s=this,s.$$arity=1,s)))):(a["$=="](t.const_get_relative(p,"BOM_BYTES_UTF_8"))&&(_=[0,o["$[]"](w(3,-1,!1))],k(n,"[]=",t.to_a(_)),_[e(_.length,1)]),k(n,"map",[],(($=function(t){return $.$$s,null==t&&(t=y),t.$rstrip()}).$$s=this,$.$$arity=1,$))))},a.$$arity=1),t.defs(f,"$normalize_lines_from_string",o=function(e){var n,r=y,i=y,s=y;return x(e["$nil_or_empty?"]())?[]:(r=e.$unpack("C3"),x(t.const_get_relative(p,"COERCE_ENCODING"))?(i=t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"),(s=r.$slice(0,2))["$=="](t.const_get_relative(p,"BOM_BYTES_UTF_16LE"))?e=e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](w(1,-1,!1)).$encode(i):s["$=="](t.const_get_relative(p,"BOM_BYTES_UTF_16BE"))?e=e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](w(1,-1,!1)).$encode(i):r["$=="](t.const_get_relative(p,"BOM_BYTES_UTF_8"))?e=e.$encoding()["$=="](i)?e["$[]"](w(1,-1,!1)):e.$force_encoding(i)["$[]"](w(1,-1,!1)):e.$encoding()["$=="](i)||(e=e.$force_encoding(i))):r["$=="](t.const_get_relative(p,"BOM_BYTES_UTF_8"))&&(e=e["$[]"](w(3,-1,!1))),k(e.$each_line(),"map",[],((n=function(t){return n.$$s,null==t&&(t=y),t.$rstrip()}).$$s=this,n.$$arity=1,n)))},o.$$arity=1),t.defs(f,"$uriish?",l=function(e){var n;return x(n=e["$include?"](":"))?t.const_get_relative(p,"UriSniffRx")["$match?"](e):n},l.$$arity=1),t.defs(f,"$uri_prefix",c=function(e){var n;return x(x(n=e["$include?"](":"))?t.const_get_relative(p,"UriSniffRx")["$=~"](e):n)?(n=E["~"])===y?y:n["$[]"](0):y},c.$$arity=1),t.const_set(p[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),t.defs(f,"$uri_encode",_=function(e){var n;return k(e,"gsub",[t.const_get_relative(p,"REGEXP_ENCODE_URI_CHARS")],((n=function(){var t,e,r=n.$$s||this;return k(((t=E["~"])===y?y:t["$[]"](0)).$each_byte(),"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=y),n.$sprintf("%%%02X",t)},e.$$s=r,e.$$arity=1,e)).$join()}).$$s=this,n.$$arity=0,n))},_.$$arity=1),t.defs(f,"$rootname",u=function(t){var e;return t.$slice(0,x(e=t.$rindex("."))?e:t.$length())},u.$$arity=1),t.defs(f,"$basename",d=function(e,n){return null==n&&(n=y),x(n)?t.const_get_qualified("::","File").$basename(e,n["$=="](!0)?t.const_get_qualified("::","File").$extname(e):n):t.const_get_qualified("::","File").$basename(e)},d.$$arity=-2),void t.defs(f,"$mkdir_p",h=function(e){var n,r=y;return x(t.const_get_qualified("::","File")["$directory?"](e))?y:(r=t.const_get_qualified("::","File").$dirname(e),x(x(n=t.const_get_qualified("::","File")["$directory?"](r=t.const_get_qualified("::","File").$dirname(e))["$!"]())?r["$!="]("."):n)&&this.$mkdir_p(r),t.const_get_qualified("::","Dir").$mkdir(e))},h.$$arity=1)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var s,$,a,o,l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U=[],H=t.nil,G=(t.breaker,t.slice),Y=t.module,W=t.hash2,X=t.hash,K=t.truthy,V=t.send,J=t.gvars,Z=t.range;return t.add_stubs(["$freeze","$+","$keys","$attr_reader","$empty?","$!","$===","$[]","$each","$<<","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$==","$length","$>","$-","$end_with?","$parse_attributes","$size","$[]=","$unescape_brackets","$resolve_pass_subs","$start_with?","$to_sym","$nil_or_empty?","$attributes","$basebackend?","$to_i","$convert","$new","$clear","$match?","$convert_quoted_text","$do_replacement","$sub","$shift","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$slice","$strip","$index","$min","$compact","$map","$chop","$unescape_bracketed_text","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$names","$config","$dup","$!=","$process_method","$register","$tr","$basename","$split_simple_csv","$normalize_string","$!~","$delete","$uri_encode","$sub_inline_xrefs","$sub_inline_anchors","$find","$footnotes","$id","$text","$style","$lstrip","$rindex","$catalog","$key","$attr?","$escape","$attr","$read_next_id","$callouts","$<","$parse_quoted_text_attributes","$shorthand_property_syntax","$concat","$parse_into","$parse","$each_char","$join","$chr","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$=~","$to_a","$uniq","$sort","$resolve_block_subs"]),s=U,(j=Y(U[0],"Asciidoctor")).$$proto,F=[j].concat(s),$=F[0],a=F,(D=Y($,"Substitutors")).$$proto,B=[D].concat(a),t.const_set(B[0],"SpecialCharsRx",/[<&>]/),t.const_set(B[0],"SpecialCharsTr",W([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(B[0],"QuotedTextSniffRx",X(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),t.const_set(B[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(B[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(B[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),t.const_set(B[0],"NONE_SUBS",[]).$freeze(),t.const_set(B[0],"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"]).$freeze(),t.const_set(B[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),t.const_set(B[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(B[0],"SUB_GROUPS",W(["none","normal","verbatim","specialchars"],{none:t.const_get_relative(B,"NONE_SUBS"),normal:t.const_get_relative(B,"NORMAL_SUBS"),verbatim:t.const_get_relative(B,"VERBATIM_SUBS"),specialchars:t.const_get_relative(B,"BASIC_SUBS")})),t.const_set(B[0],"SUB_HINTS",W(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(B[0],"SUB_OPTIONS",W(["block","inline"],{block:e(e(t.const_get_relative(B,"SUB_GROUPS").$keys(),t.const_get_relative(B,"NORMAL_SUBS")),["callouts"]),inline:e(t.const_get_relative(B,"SUB_GROUPS").$keys(),t.const_get_relative(B,"NORMAL_SUBS"))})),t.const_set(B[0],"SUB_HIGHLIGHT",["coderay","pygments"]),t.const_set(B[0],"PASS_START",""),t.const_set(B[0],"PASS_END",""),t.const_set(B[0],"PassSlotRx",new RegExp(t.const_get_relative(B,"PASS_START")+"(\\d+)"+t.const_get_relative(B,"PASS_END"))),t.const_set(B[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+t.const_get_relative(B,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+t.const_get_relative(B,"PASS_END")+"</span>")),t.const_set(B[0],"RS","\\"),t.const_set(B[0],"R_SB","]"),t.const_set(B[0],"ESC_R_SB","\\]"),t.const_set(B[0],"PLUS","+"),t.const_set(B[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),t.const_set(B[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m),D.$attr_reader("passthroughs"),t.defn(D,"$apply_subs",o=function(r,i,s){var $,a,o,l=H,c=H,_=H,u=H;if(null==this.passthroughs&&(this.passthroughs=H),null==i&&(i=t.const_get_relative(B,"NORMAL_SUBS")),null==s&&(s=H),K(K($=r["$empty?"]())?$:i["$!"]()))return r;if(K(s)){if(K(t.const_get_qualified("::","Symbol")["$==="](i)))i=K($=t.const_get_relative(B,"SUB_GROUPS")["$[]"](i))?$:[i];else if(l=[],V(i,"each",[],((a=function(n){a.$$s;var r=H;return null==n&&(n=H),K(r=t.const_get_relative(B,"SUB_GROUPS")["$[]"](n))?K(r["$empty?"]())?H:l=e(l,r):l["$<<"](n)}).$$s=this,a.$$arity=1,a)),K((i=l)["$empty?"]()))return r}else if(K(i["$empty?"]()))return r;return c=K(_=t.const_get_qualified("::","Array")["$==="](r))?n(r,t.const_get_relative(B,"LF")):r,K(u=i["$include?"]("macros"))&&(c=this.$extract_passthroughs(c),K(this.passthroughs["$empty?"]())&&(u=!1)),V(i,"each",[],((o=function(e){var r=o.$$s||this,s=H;return null==e&&(e=H),"specialcharacters"["$==="](s=e)?c=r.$sub_specialchars(c):"quotes"["$==="](s)?c=r.$sub_quotes(c):"attributes"["$==="](s)?K(c["$include?"](t.const_get_relative(B,"ATTR_REF_HEAD")))?c=n(r.$sub_attributes(c.$split(t.const_get_relative(B,"LF"),-1)),t.const_get_relative(B,"LF")):H:"replacements"["$==="](s)?c=r.$sub_replacements(c):"macros"["$==="](s)?c=r.$sub_macros(c):"highlight"["$==="](s)?c=r.$highlight_source(c,i["$include?"]("callouts")):"callouts"["$==="](s)?K(i["$include?"]("highlight"))?H:c=r.$sub_callouts(c):"post_replacements"["$==="](s)?c=r.$sub_post_replacements(c):r.$warn("asciidoctor: WARNING: unknown substitution type "+e)}).$$s=this,o.$$arity=1,o)),K(u)&&(c=this.$restore_passthroughs(c)),K(_)?c.$split(t.const_get_relative(B,"LF"),-1):c},o.$$arity=-2),t.defn(D,"$apply_normal_subs",l=function(t){return this.$apply_subs(t)},l.$$arity=1),t.defn(D,"$apply_title_subs",c=function(e){return this.$apply_subs(e,t.const_get_relative(B,"TITLE_SUBS"))},c.$$arity=1),t.defn(D,"$apply_reftext_subs",_=function(e){return this.$apply_subs(e,t.const_get_relative(B,"REFTEXT_SUBS"))},_.$$arity=1),t.defn(D,"$apply_header_subs",u=function(e){return this.$apply_subs(e,t.const_get_relative(B,"HEADER_SUBS"))},u.$$arity=1),t.defn(D,"$extract_passthroughs",d=function(e){var s,$,a,o,l,c,_,u,d;return null==this.document&&(this.document=H),c=this.document.$compat_mode(),K(K(s=K($=e["$include?"]("++"))?$:e["$include?"]("$$"))?s:e["$include?"]("ss:"))&&(e=V(e,"gsub",[t.const_get_relative(B,"InlinePassMacroRx")],((a=function(){var e,s=a.$$s||this,$=H,o=H,l=H,_=H,u=H,d=H,h=H,f=H,p=H,g=H;if(null==s.passthroughs&&(s.passthroughs=H),null==J["~"]&&(J["~"]=H),$=J["~"],o=H,K(l=$["$[]"](4))){if(K(K(e=c)?l["$=="]("++"):e))return K($["$[]"](2))?$["$[]"](1)+"["+$["$[]"](2)+"]"+$["$[]"](3)+"++"+s.$extract_passthroughs($["$[]"](5))+"++":""+$["$[]"](1)+$["$[]"](3)+"++"+s.$extract_passthroughs($["$[]"](5))+"++";if(_=$["$[]"](2),u=$["$[]"](3).$length(),d=$["$[]"](5),h=!1,K(_)){if(K(r(u,0)))return $["$[]"](1)+"["+_+"]"+n(t.const_get_relative(B,"RS"),i(u,1))+l+$["$[]"](5)+l;$["$[]"](1)["$=="](t.const_get_relative(B,"RS"))?(o="["+_+"]",_=H):(K((e=l["$=="]("++"))?_["$end_with?"]("x-"):l["$=="]("++"))&&(h=!0,_=_["$[]"](Z(0,-2,!0))),_=s.$parse_attributes(_))}else if(K(r(u,0)))return""+n(t.const_get_relative(B,"RS"),i(u,1))+l+$["$[]"](5)+l;f=l["$=="]("+++")?[]:t.const_get_relative(B,"BASIC_SUBS"),p=s.passthroughs.$size(),K(_)?K(h)?(g=[p,W(["text","subs","type","attributes"],{text:d,subs:t.const_get_relative(B,"NORMAL_SUBS"),type:"monospaced",attributes:_})],V(s.passthroughs,"[]=",t.to_a(g)),g[i(g.length,1)]):(g=[p,W(["text","subs","type","attributes"],{text:d,subs:f,type:"unquoted",attributes:_})],V(s.passthroughs,"[]=",t.to_a(g)),g[i(g.length,1)]):(g=[p,W(["text","subs"],{text:d,subs:f})],V(s.passthroughs,"[]=",t.to_a(g)),g[i(g.length,1)])}else{if($["$[]"](6)["$=="](t.const_get_relative(B,"RS")))return $["$[]"](0)["$[]"](Z(1,-1,!1));g=[p=s.passthroughs.$size(),W(["text","subs"],{text:s.$unescape_brackets($["$[]"](8)),subs:K($["$[]"](7))?s.$resolve_pass_subs($["$[]"](7)):[]})],V(s.passthroughs,"[]=",t.to_a(g)),g[i(g.length,1)]}return""+o+t.const_get_relative(B,"PASS_START")+p+t.const_get_relative(B,"PASS_END")}).$$s=this,a.$$arity=0,a))),$=t.const_get_relative(B,"PassInlineRx")["$[]"](c),_=null==(s=t.to_ary($))[0]?H:s[0],u=null==s[1]?H:s[1],d=null==s[2]?H:s[2],K(K(s=e["$include?"](_))?s:K($=u)?e["$include?"](u):$)&&(e=V(e,"gsub",[d],((o=function(){var e,n,r,s=o.$$s||this,$=H,a=H,l=H,_=H,u=H,d=H,h=H,f=H;if(null==s.passthroughs&&(s.passthroughs=H),null==J["~"]&&(J["~"]=H),a=($=J["~"])["$[]"](1),l=$["$[]"](2),K($["$[]"](3)["$start_with?"](t.const_get_relative(B,"RS")))&&(_=t.const_get_relative(B,"RS")),u=$["$[]"](4),n=$["$[]"](5),K(c)?d=!0:K(d=K(e=l)?l["$end_with?"]("x-"):e)&&(l=l["$[]"](Z(0,-2,!0))),K(l)){if(K((e=u["$=="]("`"))?d["$!"]():u["$=="]("`")))return a+"["+l+"]"+_+"`"+s.$extract_passthroughs(n)+"`";if(K(_))return a+"["+l+"]"+$["$[]"](3)["$[]"](Z(1,-1,!1));a["$=="](t.const_get_relative(B,"RS"))?(a="["+l+"]",l=H):l=s.$parse_attributes(l)}else{if(K((e=u["$=="]("`"))?d["$!"]():u["$=="]("`")))return""+a+_+"`"+s.$extract_passthroughs(n)+"`";if(K(_))return""+a+$["$[]"](3)["$[]"](Z(1,-1,!1))}return r=s.passthroughs.$size(),K(c)?(h=[r,W(["text","subs","attributes","type"],{text:n,subs:t.const_get_relative(B,"BASIC_SUBS"),attributes:l,type:"monospaced"})],V(s.passthroughs,"[]=",t.to_a(h)),h[i(h.length,1)]):K(l)?K(d)?(f=u["$=="]("`")?t.const_get_relative(B,"BASIC_SUBS"):t.const_get_relative(B,"NORMAL_SUBS"),h=[r,W(["text","subs","attributes","type"],{text:n,subs:f,attributes:l,type:"monospaced"})],V(s.passthroughs,"[]=",t.to_a(h)),h[i(h.length,1)]):(h=[r,W(["text","subs","attributes","type"],{text:n,subs:t.const_get_relative(B,"BASIC_SUBS"),attributes:l,type:"unquoted"})],V(s.passthroughs,"[]=",t.to_a(h)),h[i(h.length,1)]):(h=[r,W(["text","subs"],{text:n,subs:t.const_get_relative(B,"BASIC_SUBS")})],V(s.passthroughs,"[]=",t.to_a(h)),h[i(h.length,1)]),""+a+t.const_get_relative(B,"PASS_START")+r+t.const_get_relative(B,"PASS_END")}).$$s=this,o.$$arity=0,o))),K(K(s=e["$include?"](":"))?K($=e["$include?"]("stem:"))?$:e["$include?"]("math:"):s)&&(e=V(e,"gsub",[t.const_get_relative(B,"InlineStemMacroRx")],((l=function(){var e,n,r,s,$=l.$$s||this,a=H,o=H,c=H;return null==$.document&&($.document=H),null==$.passthroughs&&($.passthroughs=H),null==J["~"]&&(J["~"]=H),a=J["~"],K(a["$[]"](0)["$start_with?"](t.const_get_relative(B,"RS")))?a["$[]"](0)["$[]"](Z(1,-1,!1)):((o=a["$[]"](1).$to_sym())["$=="]("stem")&&(o=(K((c=$.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":c).$to_sym()),e=$.$unescape_brackets(a["$[]"](3)),n=K(a["$[]"](2))?$.$resolve_pass_subs(a["$[]"](2)):K($.document["$basebackend?"]("html"))?t.const_get_relative(B,"BASIC_SUBS"):[],r=[s=$.passthroughs.$size(),W(["text","subs","type"],{text:e,subs:n,type:o})],V($.passthroughs,"[]=",t.to_a(r)),i(r.length,1),""+t.const_get_relative(B,"PASS_START")+s+t.const_get_relative(B,"PASS_END"))}).$$s=this,l.$$arity=0,l))),e},d.$$arity=1),t.defn(D,"$restore_passthroughs",h=function(e,n){var r,i,s,$=this;return null==$.passthroughs&&($.passthroughs=H),null==n&&(n=!0),function(){try{return K(K(r=n)?K(i=$.passthroughs["$empty?"]())?i:e["$include?"](t.const_get_relative(B,"PASS_START"))["$!"]():r)?e:V(e,"gsub",[t.const_get_relative(B,"PassSlotRx")],((s=function(){var e,n,r=s.$$s||this,i=H,$=H;return null==r.passthroughs&&(r.passthroughs=H),i=r.passthroughs["$[]"](((e=J["~"])===H?H:e["$[]"](1)).$to_i()),$=r.$apply_subs(i["$[]"]("text"),i["$[]"]("subs")),K(n=i["$[]"]("type"))&&($=t.const_get_relative(B,"Inline").$new(r,"quoted",$,W(["type","attributes"],{type:n,attributes:i["$[]"]("attributes")})).$convert()),K($["$include?"](t.const_get_relative(B,"PASS_START")))?r.$restore_passthroughs($,!1):$}).$$s=$,s.$$arity=0,s))}finally{K(n)&&$.passthroughs.$clear()}}()},h.$$arity=-2),t.const_get_relative(B,"RUBY_ENGINE")["$=="]("opal")&&(t.defn(D,"$sub_quotes",f=function(e){var n,r;return null==this.document&&(this.document=H),K(t.const_get_relative(B,"QuotedTextSniffRx")["$[]"](r=this.document.$compat_mode())["$match?"](e))&&V(t.const_get_relative(B,"QUOTE_SUBS")["$[]"](r),"each",[],((n=function(t,r,i){var s,$=n.$$s||this;return null==t&&(t=H),null==r&&(r=H),null==i&&(i=H),e=V(e,"gsub",[i],((s=function(){var e=s.$$s||this;return null==J["~"]&&(J["~"]=H),e.$convert_quoted_text(J["~"],t,r)}).$$s=$,s.$$arity=0,s))}).$$s=this,n.$$arity=3,n)),e},f.$$arity=1),t.defn(D,"$sub_replacements",p=function(e){var n;return K(t.const_get_relative(B,"ReplaceableTextRx")["$match?"](e))&&V(t.const_get_relative(B,"REPLACEMENTS"),"each",[],((n=function(t,r,i){var s,$=n.$$s||this;return null==t&&(t=H),null==r&&(r=H),null==i&&(i=H),e=V(e,"gsub",[t],((s=function(){var t=s.$$s||this;return null==J["~"]&&(J["~"]=H),t.$do_replacement(J["~"],r,i)}).$$s=$,s.$$arity=0,s))}).$$s=this,n.$$arity=3,n)),e},p.$$arity=1),t.defn(D,"$sub_specialchars",g=function(e){var n,r;return K(K(n=K(r=e["$include?"]("<"))?r:e["$include?"]("&"))?n:e["$include?"](">"))?e.$gsub(t.const_get_relative(B,"SpecialCharsRx"),t.const_get_relative(B,"SpecialCharsTr")):e},g.$$arity=1)),t.alias(D,"sub_specialcharacters","sub_specialchars"),t.defn(D,"$do_replacement",v=function(e,n,r){var i=H,s=H;return K((i=e["$[]"](0))["$include?"](t.const_get_relative(B,"RS")))?i.$sub(t.const_get_relative(B,"RS"),""):"none"["$==="](s=r)?n:"bounding"["$==="](s)?""+e["$[]"](1)+n+e["$[]"](2):""+e["$[]"](1)+n},v.$$arity=3),t.defn(D,"$sub_attributes",m=function(e,r){var i,s,$,a=this,o=H,l=H;return null==a.document&&(a.document=H),null==r&&(r=W([],{})),K($=t.const_get_qualified("::","String")["$==="](e))&&(e=[e]),i=[a.document.$attributes(),[]],o=i[0],l=i[1],function(){var n=t.new_brk();try{V(e,"each",[],((s=function(e){var n,i,$,a=s.$$s||this,c=H,_=H;return null==e&&(e=H),c=_=!1,K(e["$include?"](t.const_get_relative(B,"ATTR_REF_HEAD")))&&(e=function(){var i=t.new_brk();try{return V(e,"gsub",[t.const_get_relative(B,"AttributeReferenceRx")],((n=function(){var e,s,$,a=n.$$s||this,l=H,u=H,d=H,h=H,f=H;return null==a.document&&(a.document=H),K(K(e=((s=J["~"])===H?H:s["$[]"](1))["$=="](t.const_get_relative(B,"RS")))?e:((s=J["~"])===H?H:s["$[]"](4))["$=="](t.const_get_relative(B,"RS")))?"{"+((e=J["~"])===H?H:e["$[]"](2))+"}":K((e=J["~"])===H?H:e["$[]"](3))?(l=(u=((e=J["~"])===H?H:e["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](l)?(s=t.const_get_relative(B,"Parser").$store_attribute(u["$[]"](0),K($=u["$[]"](1))?$:"",a.document),null==(e=t.to_ary(s))[0]||e[0],d=null==e[1]?H:e[1],K(d)||o.$fetch("attribute-undefined",t.const_get_relative(B,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(c=!0,t.brk("",i)),_=!0,""):"counter2"["$==="](l)?(V(a.document,"counter",t.to_a(u)),_=!0,""):V(a.document,"counter",t.to_a(u))):K(o["$key?"](h=((e=J["~"])===H?H:e["$[]"](2)).$downcase()))?o["$[]"](h):K(t.const_get_relative(B,"INTRINSIC_ATTRIBUTES")["$key?"](h))?t.const_get_relative(B,"INTRINSIC_ATTRIBUTES")["$[]"](h):(l=f=K(e=f)?e:K(s=r["$[]"]("attribute_missing"))?s:o.$fetch("attribute-missing",t.const_get_relative(B,"Compliance").$attribute_missing()),"drop"["$==="](l)?(_=!0,""):"drop-line"["$==="](l)?(a.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+h),c=!0,void t.brk("",i)):"warn"["$==="](l)?(a.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+h),(e=J["~"])===H?H:e["$[]"](0)):(e=J["~"])===H?H:e["$[]"](0))}).$$s=a,n.$$brk=i,n.$$arity=0,n))}catch(t){if(t===i)return t.$v;throw t}}()),K(K(i=c)?i:K($=_)?e["$empty?"]():$)?H:l["$<<"](e)}).$$s=a,s.$$brk=n,s.$$arity=1,s))}catch(t){if(t===n)return t.$v;throw t}}(),K($)?n(l,t.const_get_relative(B,"LF")):l},m.$$arity=-2),t.defn(D,"$sub_macros",y=function(e){var n,s,$,a,o,l,c,_,u,d,h,f,p,g,v,m,y=H,b=H,x=H,k=H,w=H,E=H;return null==this.document&&(this.document=H),p=W([],{}),b=["square_bracket",e["$include?"]("[")],V(p,"[]=",t.to_a(b)),y=b[i(b.length,1)],g=e["$include?"](":"),b=["macroish",K(n=y)?g:n],V(p,"[]=",t.to_a(b)),x=b[i(b.length,1)],v=K(n=x)?e["$include?"](":["):n,k=this.document.$attributes(),m=k["$key?"]("linkattrs"),w=e,K(k["$key?"]("experimental"))&&(K(K(n=v)?K(s=w["$include?"]("kbd:"))?s:w["$include?"]("btn:"):n)&&(w=V(w,"gsub",[t.const_get_relative(B,"InlineKbdBtnMacroRx")],(($=function(){var e,n,s,a=$.$$s||this,o=H,l=H,c=H;return K((e=J["~"])===H?H:e["$[]"](1))?((e=J["~"])===H?H:e["$[]"](0)).$slice(1,((e=J["~"])===H?H:e["$[]"](0)).$length()):((e=J["~"])===H?H:e["$[]"](2))["$=="]("kbd")?(K((o=((e=J["~"])===H?H:e["$[]"](3)).$strip())["$include?"](t.const_get_relative(B,"R_SB")))&&(o=o.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB"))),K(K(e=r(o.$length(),1))?l=K(l=o.$index(",",1))?[l,o.$index("+",1)].$compact().$min():o.$index("+",1):e)?(c=o.$slice(l,1),K(o["$end_with?"](c))?(o=V(o.$chop().$split(c,-1),"map",[],((n=function(t){return n.$$s,null==t&&(t=H),t.$strip()}).$$s=a,n.$$arity=1,n)),b=[-1,""+o["$[]"](-1)+c],V(o,"[]=",t.to_a(b)),b[i(b.length,1)]):o=V(o.$split(c),"map",[],((s=function(t){return s.$$s,null==t&&(t=H),t.$strip()}).$$s=a,s.$$arity=1,s))):o=[o],t.const_get_relative(B,"Inline").$new(a,"kbd",H,W(["attributes"],{attributes:W(["keys"],{keys:o})})).$convert()):t.const_get_relative(B,"Inline").$new(a,"button",a.$unescape_bracketed_text((e=J["~"])===H?H:e["$[]"](3))).$convert()}).$$s=this,$.$$arity=0,$))),K(K(n=x)?w["$include?"]("menu:"):n)&&(w=V(w,"gsub",[t.const_get_relative(B,"InlineMenuMacroRx")],((a=function(){var e,n,r,i=a.$$s||this,s=H,$=H,o=H,l=H,c=H,_=H;return null==J["~"]&&(J["~"]=H),s=J["~"],K(($=s["$[]"](0))["$start_with?"](t.const_get_relative(B,"RS")))?$["$[]"](Z(1,-1,!1)):(r=(e=[s["$[]"](1),s["$[]"](2)])[0],o=e[1],K(o)?(K(o["$include?"](t.const_get_relative(B,"R_SB")))&&(o=o.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB"))),K(l=K(o["$include?"]("&gt;"))?"&gt;":K(o["$include?"](","))?",":H)?_=(c=V(o.$split(l),"map",[],((n=function(t){return n.$$s,null==t&&(t=H),t.$strip()}).$$s=i,n.$$arity=1,n))).$pop():(c=(e=[[],o.$rstrip()])[0],_=e[1])):(c=(e=[[],H])[0],_=e[1]),t.const_get_relative(B,"Inline").$new(i,"menu",H,W(["attributes"],{attributes:W(["menu","submenus","menuitem"],{menu:r,submenus:c,menuitem:_})})).$convert())}).$$s=this,a.$$arity=0,a))),K(K(n=w["$include?"]('"'))?w["$include?"]("&gt;"):n)&&(w=V(w,"gsub",[t.const_get_relative(B,"MenuInlineRx")],((o=function(){var e,n,r,i,s,$=o.$$s||this,a=H,l=H,c=H,_=H;return null==J["~"]&&(J["~"]=H),a=J["~"],K((l=a["$[]"](0))["$start_with?"](t.const_get_relative(B,"RS")))?l["$[]"](Z(1,-1,!1)):(c=a["$[]"](1),n=V(c.$split("&gt;"),"map",[],((r=function(t){return r.$$s,null==t&&(t=H),t.$strip()}).$$s=$,r.$$arity=1,r)),i=null==(e=t.to_ary(n))[0]?H:e[0],s=(_=G.call(e,1)).$pop(),t.const_get_relative(B,"Inline").$new($,"menu",H,W(["attributes"],{attributes:W(["menu","submenus","menuitem"],{menu:i,submenus:_,menuitem:s})})).$convert())}).$$s=this,o.$$arity=0,o)))),K(K(n=E=this.document.$extensions())?E["$inline_macros?"]():n)&&V(E.$inline_macros(),"each",[],((l=function(e){var n,r=l.$$s||this;return null==e&&(e=H),w=V(w,"gsub",[e.$instance().$regexp()],((n=function(){var r,s=n.$$s||this,$=H,a=H,o=H,l=H,c=H,_=H;return null==J["~"]&&(J["~"]=H),$=J["~"],K($["$[]"](0)["$start_with?"](t.const_get_relative(B,"RS")))?$["$[]"](0)["$[]"](Z(1,-1,!1)):(K(function(){try{return $.$names()}catch(e){if(!t.rescue(e,[t.const_get_relative(B,"StandardError")]))throw e;try{return[]}finally{t.pop_exception()}}}()["$empty?"]())?(a=(r=[$["$[]"](1),$["$[]"](2),e.$config()])[0],o=r[1],l=r[2]):(a=(r=[function(){try{return $["$[]"]("target")}catch(e){if(!t.rescue(e,[t.const_get_relative(B,"StandardError")]))throw e;try{return H}finally{t.pop_exception()}}}(),function(){try{return $["$[]"]("content")}catch(e){if(!t.rescue(e,[t.const_get_relative(B,"StandardError")]))throw e;try{return H}finally{t.pop_exception()}}}(),e.$config()])[0],o=r[1],l=r[2]),c=K(c=l["$[]"]("default_attrs"))?c.$dup():W([],{}),K(o["$nil_or_empty?"]())?K(K(r=o)?l["$[]"]("content_model")["$!="]("attributes"):r)&&(b=["text",o],V(c,"[]=",t.to_a(b)),b[i(b.length,1)]):(o=s.$unescape_bracketed_text(o),l["$[]"]("content_model")["$=="]("attributes")?s.$parse_attributes(o,K(r=l["$[]"]("pos_attrs"))?r:[],W(["sub_result","into"],{sub_result:!1,into:c})):(b=["text",o],V(c,"[]=",t.to_a(b)),b[i(b.length,1)])),_=e.$process_method()["$[]"](s,K(r=a)?r:o,c),K(t.const_get_relative(B,"Inline")["$==="](_))?_.$convert():_)}).$$s=r,n.$$arity=0,n))}).$$s=this,l.$$arity=1,l)),K(K(n=x)?K(s=w["$include?"]("image:"))?s:w["$include?"]("icon:"):n)&&(w=V(w,"gsub",[t.const_get_relative(B,"InlineImageMacroRx")],((c=function(){var e,n=c.$$s||this,r=H,s=H,$=H,a=H,o=H,l=H;return null==n.document&&(n.document=H),null==J["~"]&&(J["~"]=H),r=J["~"],K((s=(e=J["~"])===H?H:e["$[]"](0))["$start_with?"](t.const_get_relative(B,"RS")))?s["$[]"](Z(1,-1,!1)):(K(s["$start_with?"]("icon:"))?($=(e=["icon",["size"]])[0],a=e[1]):($=(e=["image",["alt","width","height"]])[0],a=e[1]),K((o=r["$[]"](1))["$include?"](t.const_get_relative(B,"ATTR_REF_HEAD")))&&(o=n.$sub_attributes(o)),$["$=="]("icon")||n.document.$register("images",o),l=n.$parse_attributes(r["$[]"](2),a,W(["unescape_input"],{unescape_input:!0})),K(e=l["$[]"]("alt"))||(b=["alt",(b=["default-alt",t.const_get_relative(B,"Helpers").$basename(o,!0).$tr("_-"," ")],V(l,"[]=",t.to_a(b)),b[i(b.length,1)])],V(l,"[]=",t.to_a(b)),b[i(b.length,1)]),t.const_get_relative(B,"Inline").$new(n,"image",H,W(["type","target","attributes"],{type:$,target:o,attributes:l})).$convert())}).$$s=this,c.$$arity=0,c))),K(K(n=K(s=w["$include?"]("(("))?w["$include?"]("))"):s)?n:K(s=v)?w["$include?"]("indexterm"):s)&&(w=V(w,"gsub",[t.const_get_relative(B,"InlineIndextermMacroRx")],((_=function(){var e,n=_.$$s||this,r=H,s=H,$=H,a=H,o=H,l=H,c=H,u=H;return null==n.document&&(n.document=H),null==J["~"]&&(J["~"]=H),r=J["~"],K(r["$[]"](0)["$start_with?"](t.const_get_relative(B,"RS")))?r["$[]"](0)["$[]"](Z(1,-1,!1)):(s=r["$[]"](1),"indexterm"["$==="](s)?($=n.$split_simple_csv(n.$normalize_string(r["$[]"](2),!0)),n.document.$register("indexterms",$),t.const_get_relative(B,"Inline").$new(n,"indexterm",H,W(["attributes"],{attributes:W(["terms"],{terms:$})})).$convert()):"indexterm2"["$==="](s)?(a=n.$normalize_string(r["$[]"](2),!0),n.document.$register("indexterms",[a]),t.const_get_relative(B,"Inline").$new(n,"indexterm",a,W(["type"],{type:"visible"})).$convert()):(e=[r["$[]"](3),!0,H,H],o=e[0],l=e[1],c=e[2],u=e[3],K(o["$start_with?"]("("))?K(o["$end_with?"](")"))?(e=[o.$slice(1,i(o.$length(),2)),!1],o=e[0],l=e[1]):(e=[o.$slice(1,i(o.$length(),1)),"(",""],o=e[0],c=e[1],u=e[2]):K(o["$end_with?"](")"))&&(K(o["$start_with?"]("("))?(e=[o.$slice(1,i(o.$length(),2)),!1],o=e[0],l=e[1]):(e=[o.$slice(0,i(o.$length(),1)),"",")"],o=e[0],c=e[1],u=e[2])),K(l)?(a=n.$normalize_string(o),n.document.$register("indexterms",[a]),w=t.const_get_relative(B,"Inline").$new(n,"indexterm",a,W(["type"],{type:"visible"})).$convert()):($=n.$split_simple_csv(n.$normalize_string(o)),n.document.$register("indexterms",$),w=t.const_get_relative(B,"Inline").$new(n,"indexterm",H,W(["attributes"],{attributes:W(["terms"],{terms:$})})).$convert()),K(c)?""+c+w+u:w))}).$$s=this,_.$$arity=0,_))),K(K(n=g)?w["$include?"]("://"):n)&&(w=V(w,"gsub",[t.const_get_relative(B,"LinkInlineRx")],((u=function(){var e,n,r,s,$,a=u.$$s||this,o=H,l=H,c=H,_=H,d=H,h=H,f=H;if(null==a.document&&(a.document=H),null==J["~"]&&(J["~"]=H),o=J["~"],K(o["$[]"](2)["$start_with?"](t.const_get_relative(B,"RS"))))return""+o["$[]"](1)+o["$[]"](2)["$[]"](Z(1,-1,!1))+o["$[]"](3);if(l=(e=[o["$[]"](1),o["$[]"](2),K(n=s=o["$[]"](3))?n:"",""])[0],c=e[1],_=e[2],d=e[3],l["$=="]("link:")){if(!K(s))return o["$[]"](0);l=""}return K(K(e=s)?e:t.const_get_relative(B,"UriTerminatorRx")["$!~"](c))||(h=(e=J["~"])===H?H:e["$[]"](0),")"["$==="](h)?(c=c.$chop(),d=")"):";"["$==="](h)?K(K(e=l["$start_with?"]("&lt;"))?c["$end_with?"]("&gt;"):e)?(l=l["$[]"](Z(4,-1,!1)),c=c["$[]"](Z(0,-4,!0))):K((c=c.$chop())["$end_with?"](")"))?(c=c.$chop(),d=");"):d=";":":"["$==="](h)&&(K((c=c.$chop())["$end_with?"](")"))?(c=c.$chop(),d="):"):d=":")),e=[H,W(["type"],{type:"link"})],f=e[0],$=e[1],K(_["$empty?"]())||(K(_["$include?"](t.const_get_relative(B,"R_SB")))&&(_=_.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB"))),K(K(e=m)?K(n=_["$start_with?"]('"'))?n:K(r=_["$include?"](","))?_["$include?"]("="):r:e)&&(f=a.$parse_attributes(_,[]),K(f["$key?"]("id"))&&(b=["id",f.$delete("id")],V($,"[]=",t.to_a(b)),b[i(b.length,1)]),_=K(e=f["$[]"](1))?e:""),K(_["$end_with?"]("^"))&&(_=_.$chop(),K(f)?K(e=f["$[]"]("window"))||(b=["window","_blank"],V(f,"[]=",t.to_a(b)),b[i(b.length,1)]):f=W(["window"],{window:"_blank"}))),K(_["$empty?"]())&&(_=K(k["$key?"]("hide-uri-scheme"))?c.$sub(t.const_get_relative(B,"UriSniffRx"),""):c,K(f)?(b=["role",K(f["$key?"]("role"))?"bare "+f["$[]"]("role"):"bare"],V(f,"[]=",t.to_a(b)),b[i(b.length,1)]):f=W(["role"],{role:"bare"})),a.document.$register("links",(b=["target",c],V($,"[]=",t.to_a(b)),b[i(b.length,1)])),K(f)&&(b=["attributes",f],V($,"[]=",t.to_a(b)),b[i(b.length,1)]),""+l+t.const_get_relative(B,"Inline").$new(a,"anchor",_,$).$convert()+d}).$$s=this,u.$$arity=0,u))),K(K(n=x)?K(s=w["$include?"]("link:"))?s:w["$include?"]("mailto:"):n)&&(w=V(w,"gsub",[t.const_get_relative(B,"InlineLinkMacroRx")],((d=function(){var e,n,r,s,$,a=d.$$s||this,o=H,l=H,c=H,_=H,u=H;return null==a.document&&(a.document=H),null==J["~"]&&(J["~"]=H),o=J["~"],K(o["$[]"](0)["$start_with?"](t.const_get_relative(B,"RS")))?o["$[]"](0)["$[]"](Z(1,-1,!1)):(l=K(c=o["$[]"](1))?"mailto:"+o["$[]"](2):o["$[]"](2),e=[H,W(["type"],{type:"link"})],_=e[0],$=e[1],K((u=o["$[]"](3))["$empty?"]())||(K(u["$include?"](t.const_get_relative(B,"R_SB")))&&(u=u.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB"))),K(K(e=m)?K(n=u["$start_with?"]('"'))?n:K(r=u["$include?"](","))?K(s=c)?s:u["$include?"]("="):r:e)&&(_=a.$parse_attributes(u,[]),K(_["$key?"]("id"))&&(b=["id",_.$delete("id")],V($,"[]=",t.to_a(b)),b[i(b.length,1)]),K(c)&&K(_["$key?"](2))&&(l=K(_["$key?"](3))?l+"?subject="+t.const_get_relative(B,"Helpers").$uri_encode(_["$[]"](2))+"&amp;body="+t.const_get_relative(B,"Helpers").$uri_encode(_["$[]"](3)):l+"?subject="+t.const_get_relative(B,"Helpers").$uri_encode(_["$[]"](2))),u=K(e=_["$[]"](1))?e:""),K(u["$end_with?"]("^"))&&(u=u.$chop(),K(_)?K(e=_["$[]"]("window"))||(b=["window","_blank"],V(_,"[]=",t.to_a(b)),b[i(b.length,1)]):_=W(["window"],{window:"_blank"}))),K(u["$empty?"]())&&(K(c)?u=o["$[]"](2):(u=K(k["$key?"]("hide-uri-scheme"))?l.$sub(t.const_get_relative(B,"UriSniffRx"),""):l,K(_)?(b=["role",K(_["$key?"]("role"))?"bare "+_["$[]"]("role"):"bare"],V(_,"[]=",t.to_a(b)),b[i(b.length,1)]):_=W(["role"],{role:"bare"}))),a.document.$register("links",(b=["target",l],V($,"[]=",t.to_a(b)),b[i(b.length,1)])),K(_)&&(b=["attributes",_],V($,"[]=",t.to_a(b)),b[i(b.length,1)]),t.const_get_relative(B,"Inline").$new(a,"anchor",u,$).$convert())}).$$s=this,d.$$arity=0,d))),K(w["$include?"]("@"))&&(w=V(w,"gsub",[t.const_get_relative(B,"EmailInlineRx")],((h=function(){var e,n,r,i=h.$$s||this,s=H,$=H;return null==i.document&&(i.document=H),e=[(n=J["~"])===H?H:n["$[]"](0),(n=J["~"])===H?H:n["$[]"](1)],s=e[0],K($=e[1])?$["$=="](t.const_get_relative(B,"RS"))?s["$[]"](Z(1,-1,!1)):s:(r="mailto:"+s,i.document.$register("links",r),t.const_get_relative(B,"Inline").$new(i,"anchor",s,W(["type","target"],{type:"link",target:r})).$convert())}).$$s=this,h.$$arity=0,h))),K(K(n=v)?w["$include?"]("footnote"):n)&&(w=V(w,"gsub",[t.const_get_relative(B,"InlineFootnoteMacroRx")],((f=function(){var e,n,r,i=f.$$s||this,s=H,$=H,a=H,o=H,l=H,c=H,_=H;return null==i.document&&(i.document=H),null==J["~"]&&(J["~"]=H),s=J["~"],K(s["$[]"](0)["$start_with?"](t.const_get_relative(B,"RS")))?s["$[]"](0)["$[]"](Z(1,-1,!1)):(s["$[]"](1)["$=="]("footnote")?($=H,a=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(s["$[]"](2),!0))),!1),o=i.document.$counter("footnote-number"),i.document.$register("footnotes",t.const_get_qualified(t.const_get_relative(B,"Document"),"Footnote").$new(o,$,a)),l=H,c=H):(n=s["$[]"](2).$split(",",2),e=t.to_ary(n),$=null==e[0]?H:e[0],a=null==e[1]?H:e[1],$=$.$strip(),K(a)?(a=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(a,!0))),!1),o=i.document.$counter("footnote-number"),i.document.$register("footnotes",t.const_get_qualified(t.const_get_relative(B,"Document"),"Footnote").$new(o,$,a)),l="ref",c=H):(K(_=V(i.document.$footnotes(),"find",[],((r=function(t){return r.$$s,null==t&&(t=H),t.$id()["$=="]($)}).$$s=i,r.$$arity=1,r)))?(o=_.$index(),a=_.$text()):(o=H,a=$),c=$,$=H,l="xref")),t.const_get_relative(B,"Inline").$new(i,"footnote",a,W(["attributes","id","target","type"],{attributes:W(["index"],{index:o}),id:$,target:c,type:l})).$convert())}).$$s=this,f.$$arity=0,f))),this.$sub_inline_xrefs(this.$sub_inline_anchors(w,p),p)},y.$$arity=1),t.defn(D,"$sub_inline_anchors",b=function(e,n){var r,i,s,$,a;return null==this.context&&(this.context=H),null==this.parent&&(this.parent=H),null==n&&(n=H),K(this.context["$=="]("list_item")?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(e=V(e,"sub",[t.const_get_relative(B,"InlineBiblioAnchorRx")],((i=function(){var e,n,r=i.$$s||this;return t.const_get_relative(B,"Inline").$new(r,"anchor","["+(K(e=(n=J["~"])===H?H:n["$[]"](2))?e:(n=J["~"])===H?H:n["$[]"](1))+"]",W(["type","id","target"],{type:"bibref",id:(e=J["~"])===H?H:e["$[]"](1),target:(e=J["~"])===H?H:e["$[]"](1)})).$convert()}).$$s=this,i.$$arity=0,i))),K(K(r=K(s=K($=n["$!"]())?$:n["$[]"]("square_bracket"))?e["$include?"]("[["):s)?r:K(s=K($=n["$!"]())?$:n["$[]"]("macroish"))?e["$include?"]("or:"):s)&&(e=V(e,"gsub",[t.const_get_relative(B,"InlineAnchorRx")],((a=function(){var e,n,r=a.$$s||this,i=H,s=H;return K((e=J["~"])===H?H:e["$[]"](1))?((e=J["~"])===H?H:e["$[]"](0)).$slice(1,((e=J["~"])===H?H:e["$[]"](0)).$length()):(K(i=(e=J["~"])===H?H:e["$[]"](2))?s=(e=J["~"])===H?H:e["$[]"](3):(i=(e=J["~"])===H?H:e["$[]"](4),K(K(e=s=(n=J["~"])===H?H:n["$[]"](5))?s["$include?"](t.const_get_relative(B,"R_SB")):e)&&(s=s.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB")))),t.const_get_relative(B,"Inline").$new(r,"anchor",s,W(["type","id","target"],{type:"ref",id:i,target:i})).$convert())}).$$s=this,a.$$arity=0,a))),e},b.$$arity=-2),t.defn(D,"$sub_inline_xrefs",x=function(n,s){var $,a,o;return null==s&&(s=H),K(K($=K(a=K(s)?s["$[]"]("macroish"):n["$include?"]("["))?n["$include?"]("xref:"):a)?$:K(a=n["$include?"]("&"))?n["$include?"]("&lt;&lt;"):a)&&(n=V(n,"gsub",[t.const_get_relative(B,"InlineXrefMacroRx")],((o=function(){var n,s,$,a=o.$$s||this,l=H,c=H,_=H,u=H,d=H,h=H,f=H,p=H,g=H,v=H;return null==a.document&&(a.document=H),null==J["~"]&&(J["~"]=H),null==J.VERBOSE&&(J.VERBOSE=H),l=J["~"],K(l["$[]"](0)["$start_with?"](t.const_get_relative(B,"RS")))?l["$[]"](0)["$[]"](Z(1,-1,!1)):(K(c=l["$[]"](1))?(s=c.$split(",",2),c=null==(n=t.to_ary(s))[0]?H:n[0],_=null==n[1]?H:n[1],K(_)&&(_=_.$lstrip())):(c=l["$[]"](2),K(K(n=_=l["$[]"](3))?_["$include?"](t.const_get_relative(B,"R_SB")):n)&&(_=_.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB")))),K($=c.$index("#"))?K(r($,0))?K(r(u=i(i(c.$length(),$),1),0))?(n=[c.$slice(0,$),c.$slice(e($,1),u)],d=n[0],h=n[1]):(n=[c.$slice(0,$),H],d=n[0],h=n[1]):(f=(n=[c,H,c.$slice(1,c.$length())])[0],d=n[1],h=n[2]):(d=(n=[H,c])[0],h=n[1]),K(f)?p=h:K(d)?(K(K(n=g=d.$rindex("."))?t.const_get_relative(B,"ASCIIDOC_EXTENSIONS")["$[]"](d.$slice(g,d.$length())):n)&&(d=d.$slice(0,g)),K(K(n=a.document.$attributes()["$[]"]("docname")["$=="](d))?n:a.document.$catalog()["$[]"]("includes")["$include?"](d))?(p=(n=[h,H,"#"+h])[0],d=n[1],f=n[2]):(p=K(h)?d+"#"+h:d,d=""+a.document.$attributes()["$[]"]("relfileprefix")+d+a.document.$attributes().$fetch("outfilesuffix",".html"),f=K(h)?d+"#"+h:d)):(K(a.document.$catalog()["$[]"]("ids")["$key?"](h))||(K(K(n=K(s=h["$include?"](" "))?s:h.$downcase()["$!="](h))?v=a.document.$catalog()["$[]"]("ids").$key(h):n)?h=v:K(J.VERBOSE)&&a.$warn("asciidoctor: WARNING: invalid reference: "+h)),p=(n=[h,"#"+h])[0],f=n[1]),t.const_get_relative(B,"Inline").$new(a,"anchor",_,W(["type","target","attributes"],{type:"xref",target:f,attributes:W(["path","fragment","refid"],{path:d,fragment:h,refid:p})})).$convert())}).$$s=this,o.$$arity=0,o))),n},x.$$arity=-2),t.defn(D,"$sub_callouts",k=function(e){var n,r,i=this;return r=K(i["$attr?"]("line-comment"))?new RegExp("(?:"+t.const_get_qualified("::","Regexp").$escape(i.$attr("line-comment"))+" )?"+t.const_get_relative(B,"CalloutSourceRxt")):t.const_get_relative(B,"CalloutSourceRx"),V(e,"gsub",[r],((n=function(){var e,r=n.$$s||this;return null==r.document&&(r.document=H),K((e=J["~"])===H?H:e["$[]"](1))?((e=J["~"])===H?H:e["$[]"](0)).$sub(t.const_get_relative(B,"RS"),""):t.const_get_relative(B,"Inline").$new(r,"callout",(e=J["~"])===H?H:e["$[]"](3),W(["id"],{id:r.document.$callouts().$read_next_id()})).$convert()}).$$s=i,n.$$arity=0,n))},k.$$arity=1),t.defn(D,"$sub_post_replacements",w=function(e){var r,s,$,a,o,l=H,c=H;return null==this.document&&(this.document=H),null==this.attributes&&(this.attributes=H),K(K(r=this.document.$attributes()["$key?"]("hardbreaks"))?r:this.attributes["$key?"]("hardbreaks-option"))?(l=e.$split(t.const_get_relative(B,"LF"),-1),K((a=l.$size(),o=2,"number"==typeof a&&"number"==typeof o?a<o:a["$<"](o)))?e:(c=l.$pop(),n(V(l,"map",[],(s=function(e){var n=s.$$s||this;return null==e&&(e=H),t.const_get_relative(B,"Inline").$new(n,"break",K(e["$end_with?"](t.const_get_relative(B,"HARD_LINE_BREAK")))?e.$slice(0,i(e.$length(),2)):e,W(["type"],{type:"line"})).$convert()},s.$$s=this,s.$$arity=1,s))["$<<"](c),t.const_get_relative(B,"LF")))):K(K(r=e["$include?"](t.const_get_relative(B,"PLUS")))?e["$include?"](t.const_get_relative(B,"HARD_LINE_BREAK")):r)?V(e,"gsub",[t.const_get_relative(B,"HardLineBreakRx")],(($=function(){var e,n=$.$$s||this;return t.const_get_relative(B,"Inline").$new(n,"break",(e=J["~"])===H?H:e["$[]"](1),W(["type"],{type:"line"})).$convert()}).$$s=this,$.$$arity=0,$)):e},w.$$arity=1),t.defn(D,"$convert_quoted_text",E=function(e,n,r){var i=H,s=H,$=H,a=H,o=H;if(K(e["$[]"](0)["$start_with?"](t.const_get_relative(B,"RS")))){if(!K(r["$=="]("constrained")?i=e["$[]"](2):r["$=="]("constrained")))return e["$[]"](0)["$[]"](Z(1,-1,!1));s="["+i+"]"}return r["$=="]("constrained")?K(s)?""+s+t.const_get_relative(B,"Inline").$new(this,"quoted",e["$[]"](3),W(["type"],{type:n})).$convert():(K($=e["$[]"](2))&&(a=(o=this.$parse_quoted_text_attributes($)).$delete("id"),n["$=="]("mark")&&(n="unquoted")),""+e["$[]"](1)+t.const_get_relative(B,"Inline").$new(this,"quoted",e["$[]"](3),W(["type","id","attributes"],{type:n,id:a,attributes:o})).$convert()):(K($=e["$[]"](1))&&(a=(o=this.$parse_quoted_text_attributes($)).$delete("id"),n["$=="]("mark")&&(n="unquoted")),t.const_get_relative(B,"Inline").$new(this,"quoted",e["$[]"](2),W(["type","id","attributes"],{type:n,id:a,attributes:o})).$convert())},E.$$arity=3),t.defn(D,"$parse_quoted_text_attributes",A=function(e){var s,$,a=H,o=H,l=H,c=H,_=H,u=H;return K(e["$include?"](t.const_get_relative(B,"ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e)),K(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),K((e=e.$strip())["$empty?"]())?W([],{}):K(K(s=e["$start_with?"](".","#"))?t.const_get_relative(B,"Compliance").$shorthand_property_syntax():s)?(a=e.$split("#",2),K(r(a.$size(),1))?($=a["$[]"](1).$split("."),o=null==(s=t.to_ary($))[0]?H:s[0],l=G.call(s,1)):(o=H,l=[]),c=K(a["$[]"](0)["$empty?"]())?[]:a["$[]"](0).$split("."),K(r(c.$size(),1))&&c.$shift(),K(r(l.$size(),0))&&c.$concat(l),_=W([],{}),K(o)&&(u=["id",o],V(_,"[]=",t.to_a(u)),u[i(u.length,1)]),K(c["$empty?"]())||(u=["role",n(c," ")],V(_,"[]=",t.to_a(u)),u[i(u.length,1)]),_):W(["role"],{role:e})},A.$$arity=1),t.defn(D,"$parse_attributes",O=function(e,n,r){var i,s,$,a=this;return null==a.document&&(a.document=H),null==n&&(n=["role"]),null==r&&(r=W([],{})),K(e)?K(e["$empty?"]())?W([],{}):(K(K(i=r["$[]"]("sub_input"))?e["$include?"](t.const_get_relative(B,"ATTR_REF_HEAD")):i)&&(e=a.document.$sub_attributes(e)),K(r["$[]"]("unescape_input"))&&(e=a.$unescape_bracketed_text(e)),s=K(r.$fetch("sub_result",!0))?a:H,K($=r["$[]"]("into"))?t.const_get_relative(B,"AttributeList").$new(e,s).$parse_into($,n):t.const_get_relative(B,"AttributeList").$new(e,s).$parse(n)):H},O.$$arity=-2),t.defn(D,"$unescape_bracketed_text",S=function(e){return K(e["$empty?"]())||K((e=e.$strip().$tr(t.const_get_relative(B,"LF")," "))["$include?"](t.const_get_relative(B,"R_SB")))&&(e=e.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB"))),e},S.$$arity=1),t.defn(D,"$normalize_string",R=function(e,n){var r;return null==n&&(n=!1),K(e["$empty?"]())||(e=e.$strip().$tr(t.const_get_relative(B,"LF")," "),K(K(r=n)?e["$include?"](t.const_get_relative(B,"R_SB")):r)&&(e=e.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB")))),e},R.$$arity=-2),t.defn(D,"$unescape_brackets",T=function(e){return K(e["$empty?"]())||K(e["$include?"](t.const_get_relative(B,"RS")))&&(e=e.$gsub(t.const_get_relative(B,"ESC_R_SB"),t.const_get_relative(B,"R_SB"))),e},T.$$arity=1),t.defn(D,"$split_simple_csv",M=function(t){var e,n,r=H,i=H,s=H;return K(t["$empty?"]())?r=[]:K(t["$include?"]('"'))?(r=[],i=[],s=!1,V(t,"each_char",[],((e=function(t){e.$$s;var n=H;return null==t&&(t=H),","["$==="](n=t)?K(s)?i["$<<"](t):(r["$<<"](i.$join().$strip()),i=[]):'"'["$==="](n)?s=s["$!"]():i["$<<"](t)}).$$s=this,e.$$arity=1,e)),r["$<<"](i.$join().$strip())):r=V(t.$split(","),"map",[],((n=function(t){return n.$$s,null==t&&(t=H),t.$strip()}).$$s=this,n.$$arity=1,n)),r},M.$$arity=1),t.defn(D,"$resolve_subs",I=function(s,$,a,o){var l,c,_,u=H,d=H;return null==$&&($="block"),null==a&&(a=H),null==o&&(o=H),K(s["$nil_or_empty?"]())?[]:(u=H,K(s["$include?"](" "))&&(s=s.$delete(" ")),c=t.const_get_relative(B,"SubModifierSniffRx")["$match?"](s),V(s.$split(","),"each",[],((l=function(n){l.$$s;var r,s,o=H,_=H,d=H,h=H,f=H,p=H;return null==n&&(n=H),o=H,K(c)&&((_=n.$chr())["$=="]("+")?(o="append",n=n["$[]"](Z(1,-1,!1))):_["$=="]("-")?(o="remove",n=n["$[]"](Z(1,-1,!1))):K(n["$end_with?"]("+"))&&(o="prepend",n=n.$chop())),n=n.$to_sym(),K((r=$["$=="]("inline"))?K(s=n["$=="]("verbatim"))?s:n["$=="]("v"):$["$=="]("inline"))?d=t.const_get_relative(B,"BASIC_SUBS"):K(t.const_get_relative(B,"SUB_GROUPS")["$key?"](n))?d=t.const_get_relative(B,"SUB_GROUPS")["$[]"](n):K(K(r=(s=$["$=="]("inline"))?n.$length()["$=="](1):$["$=="]("inline"))?t.const_get_relative(B,"SUB_HINTS")["$key?"](n):r)?(h=t.const_get_relative(B,"SUB_HINTS")["$[]"](n),d=K(f=t.const_get_relative(B,"SUB_GROUPS")["$[]"](h))?f:[h]):d=[n],K(o)?(u=K(r=u)?r:K(a)?a.$dup():[],"append"["$==="](p=o)?u=e(u,d):"prepend"["$==="](p)?u=e(d,u):"remove"["$==="](p)?u=i(u,d):H):u=e(u=K(r=u)?r:[],d)}).$$s=this,l.$$arity=1,l)),K(u)?(_=u["$&"](t.const_get_relative(B,"SUB_OPTIONS")["$[]"]($)),K(i(u,_)["$empty?"]())||(d=i(u,_),this.$warn("asciidoctor: WARNING: invalid substitution type"+(K(r(d.$size(),1))?"s":"")+(K(o)?" for ":H)+o+": "+n(d,", "))),_):[])},I.$$arity=-2),t.defn(D,"$resolve_block_subs",q=function(t,e,n){return this.$resolve_subs(t,"block",e,n)},q.$$arity=3),t.defn(D,"$resolve_pass_subs",C=function(t){return this.$resolve_subs(t,"inline",H,"passthrough macro")},C.$$arity=1),t.defn(D,"$highlight_source",N=function(r,s,$){var a,o,l,c,_=this,u=H,d=H,h=H,f=H,p=H,g=H,v=H,m=H,y=H,b=H,x=H,k=H,w=H,E=H;return null==_.document&&(_.document=H),null==_.passthroughs&&(_.passthroughs=H),null==$&&($=H),u=$=K(a=$)?a:_.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](u)?K(K(a=d=t.const_get_qualified("::","CodeRay","skip_raise")?"constant":H)?a:_.document.$attributes()["$[]"]("coderay-unavailable"))||(K(t.const_get_relative(B,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?_.document.$set_attr("coderay-unavailable"):d=!0):"pygments"["$==="](u)?K(K(a=d=t.const_get_qualified("::","Pygments","skip_raise")?"constant":H)?a:_.document.$attributes()["$[]"]("pygments-unavailable"))||(K(t.const_get_relative(B,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?_.document.$set_attr("pygments-unavailable"):d=!0):d=!1,K(d)?(h=0,f=!1,K(s)?(p=W([],{}),g=-1,v=K(_["$attr?"]("line-comment"))?new RegExp("(?:"+t.const_get_qualified("::","Regexp").$escape(_.$attr("line-comment"))+" )?"+t.const_get_relative(B,"CalloutExtractRxt")):t.const_get_relative(B,"CalloutExtractRx"),r=n(V(r.$split(t.const_get_relative(B,"LF"),-1),"map",[],((o=function(n){var r,s=o.$$s||this;return null==n&&(n=H),h=e(h,1),V(n,"gsub",[v],((r=function(){r.$$s;var e,n=H,s=H;return null==J["~"]&&(J["~"]=H),(n=J["~"])["$[]"](1)["$=="](t.const_get_relative(B,"RS"))?n["$[]"](0).$sub(t.const_get_relative(B,"RS"),""):((K(e=p["$[]"](h))?e:(s=[h,[]],V(p,"[]=",t.to_a(s)),s[i(s.length,1)]))["$<<"](n["$[]"](3)),g=h,H)}).$$s=s,r.$$arity=0,r))}).$$s=_,o.$$arity=1,o)),t.const_get_relative(B,"LF")),f=g["$=="](h),K(p["$empty?"]())&&(p=H)):p=H,m=H,y=H,"coderay"["$==="](u=$)?(K(m=K(_["$attr?"]("linenums",H,!1))?(K(a=_.document.$attributes()["$[]"]("coderay-linenums-mode"))?a:"table").$to_sym():H)&&K(_["$attr?"]("highlight",H,!1))&&(y=_.$resolve_highlight_lines(_.$attr("highlight",H,!1))),b=t.const_get_qualified(t.const_get_qualified("::","CodeRay"),"Duo")["$[]"](_.$attr("language","text",!1).$to_sym(),"html",W(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(K(a=_.document.$attributes()["$[]"]("coderay-css"))?a:"class").$to_sym(),line_numbers:m,line_number_anchors:!1,highlight_lines:y,bold_every:!1})).$highlight(r)):"pygments"["$==="](u)&&(x=K(a=t.const_get_qualified(t.const_get_qualified("::","Pygments"),"Lexer").$find_by_alias(_.$attr("language","text",!1)))?a:t.const_get_qualified(t.const_get_qualified("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),k=W(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),x.$name()["$=="]("PHP")&&(w=["startinline",_["$option?"]("mixed")["$!"]()],V(k,"[]=",t.to_a(w)),w[i(w.length,1)]),(K(a=_.document.$attributes()["$[]"]("pygments-css"))?a:"class")["$=="]("class")||(w=["noclasses",!0],V(k,"[]=",t.to_a(w)),w[i(w.length,1)],w=["style",K(a=_.document.$attributes()["$[]"]("pygments-style"))?a:t.const_get_qualified(t.const_get_relative(B,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],V(k,"[]=",t.to_a(w)),w[i(w.length,1)]),K(_["$attr?"]("highlight",H,!1))&&(K((y=_.$resolve_highlight_lines(_.$attr("highlight",H,!1)))["$empty?"]())||(w=["hl_lines",n(y," ")],V(k,"[]=",t.to_a(w)),w[i(w.length,1)])),K(K(a=_["$attr?"]("linenums",H,!1))?(w=["linenos",K(l=_.document.$attributes()["$[]"]("pygments-linenums-mode"))?l:"table"],V(k,"[]=",t.to_a(w)),w[i(w.length,1)])["$=="]("table"):a)?(m="table",b=x.$highlight(r,W(["options"],{options:k})).$sub(t.const_get_relative(B,"PygmentsWrapperDivRx"),"\\1").$gsub(t.const_get_relative(B,"PygmentsWrapperPreRx"),"\\1")):K(t.const_get_relative(B,"PygmentsWrapperPreRx")["$=~"](b=x.$highlight(r,W(["options"],{options:k}))))&&(b=(a=J["~"])===H?H:a["$[]"](1))),K(_.passthroughs["$empty?"]())||(b=b.$gsub(t.const_get_relative(B,"HighlightedPassSlotRx"),t.const_get_relative(B,"PASS_START")+"\\1"+t.const_get_relative(B,"PASS_END"))),K(K(a=s)?p:a)?(h=0,E=m["$!="]("table"),n(V(b.$split(t.const_get_relative(B,"LF"),-1),"map",[],((c=function(r){var i,s,a,o=c.$$s||this,l=H,_=H,u=H;if(null==o.document&&(o.document=H),null==r&&(r=H),K(E));else{if(!K(r["$include?"]('<td class="code">')))return r;E=!0}return h=e(h,1),K(l=p.$delete(h))?(_=H,K(K(i=K(s=f)?p["$empty?"]():s)?m["$=="]("table"):i)&&(K((i=$["$=="]("coderay"))?u=r.$index("</pre>"):$["$=="]("coderay"))?(r=(i=[r.$slice(0,u),r.$slice(u,r.$length())])[0],_=i[1]):K((i=$["$=="]("pygments"))?u=r["$start_with?"]("</td>"):$["$=="]("pygments"))&&(r=(i=["",r])[0],_=i[1])),l.$size()["$=="](1)?""+r+t.const_get_relative(B,"Inline").$new(o,"callout",l["$[]"](0),W(["id"],{id:o.document.$callouts().$read_next_id()})).$convert()+_:""+r+n(V(l,"map",[],((a=function(e){var n=a.$$s||this;return null==n.document&&(n.document=H),null==e&&(e=H),t.const_get_relative(B,"Inline").$new(n,"callout",e,W(["id"],{id:n.document.$callouts().$read_next_id()})).$convert()}).$$s=o,a.$$arity=1,a))," ")+_):r}).$$s=_,c.$$arity=1,c)),t.const_get_relative(B,"LF"))):b):_.$sub_source(r,s)},N.$$arity=-3),t.defn(D,"$resolve_highlight_lines",z=function(e){var n,r=H;return r=[],V((K(e["$include?"](" "))?e.$delete(" "):e).$split(t.const_get_relative(B,"DataDelimiterRx")),"map",[],((n=function(e){n.$$s;var s,$,a=H,o=H,l=H,c=H;return null==e&&(e=H),a=!1,K(e["$start_with?"]("!"))&&(e=e["$[]"](Z(1,-1,!1)),a=!0),K(e["$include?"]("-"))?($=e.$split("-",2),o=null==(s=t.to_ary($))[0]?H:s[0],l=null==s[1]?H:s[1],c=t.Range.$new(o.$to_i(),l.$to_i(),!1).$to_a(),K(a)?r=i(r,c):r.$concat(c)):K(a)?r.$delete(e.$to_i()):r["$<<"](e.$to_i())}).$$s=this,n.$$arity=1,n)),r.$sort().$uniq()},z.$$arity=1),t.defn(D,"$sub_source",P=function(t,e){return K(e)?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},P.$$arity=2),void t.defn(D,"$lock_in_subs",L=function(){var e,n,r,s,$=this,a=H,o=H,l=H,c=H,_=H;if(null==$.default_subs&&($.default_subs=H),null==$.content_model&&($.content_model=H),null==$.context&&($.context=H),null==$.subs&&($.subs=H),null==$.attributes&&($.attributes=H),null==$.style&&($.style=H),null==$.document&&($.document=H),K(a=$.default_subs));else if(o=$.content_model,"simple"["$==="](o))a=t.const_get_relative(B,"NORMAL_SUBS");else if("verbatim"["$==="](o))a=K(K(e=$.context["$=="]("listing"))?e:(n=$.context["$=="]("literal"))?$["$option?"]("listparagraph")["$!"]():$.context["$=="]("literal"))?t.const_get_relative(B,"VERBATIM_SUBS"):$.context["$=="]("verse")?t.const_get_relative(B,"NORMAL_SUBS"):t.const_get_relative(B,"BASIC_SUBS");else{if(!"raw"["$==="](o))return $.subs;a=$.context["$=="]("stem")?t.const_get_relative(B,"BASIC_SUBS"):t.const_get_relative(B,"NONE_SUBS")}return $.subs=K(l=$.attributes["$[]"]("subs"))?$.$resolve_block_subs(l,a,$.context):a.$dup(),K(K(e=K(n=K(r=K(s=$.context["$=="]("listing")?$.style["$=="]("source"):$.context["$=="]("listing"))?$.attributes["$key?"]("language"):s)?$.document["$basebackend?"]("html"):r)?t.const_get_relative(B,"SUB_HIGHLIGHT")["$include?"]($.document.$attributes()["$[]"]("source-highlighter")):n)?c=$.subs.$index("specialcharacters"):e)&&(_=[c,"highlight"],V($.subs,"[]=",t.to_a(_)),_[i(_.length,1)]),$.subs},L.$$arity=0)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var i,s,$,a=[],o=t.nil,l=(t.breaker,t.slice,t.module),c=t.klass,_=t.truthy,u=t.hash2,d=t.send,h=t.range;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$attributes","$nil?","$[]=","$-","$delete","$update","$converter","$nil_or_empty?","$include?","$split","$empty?","$*","$apply_reftext_subs","$attr?","$extname","$image_uri","$attr","$normalize_web_path","$<","$safe","$uriish?","$uri_encode_spaces","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$encode64","$binread","$require_library","$!","$open","$content_type","$read","$web_path","$new","$open_uri","$normalize_lines_from_string","$fetch","$read_asset","$===","$!=","$gsub","$is_root?","$join","$base_dir","$system_path"]),i=a,(s=l(a[0],"Asciidoctor")).$$proto,void function(i,s,$){function a(){}var l,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y=a=c(i,null,"AbstractNode",a),W=Y.$$proto,X=[Y].concat($);W.attributes=W.parent=W.document=W.path_resolver=o,Y.$include(t.const_get_relative(X,"Substitutors")),Y.$attr_reader("parent"),Y.$attr_reader("document"),Y.$attr_reader("context"),Y.$attr_reader("node_name"),Y.$attr_accessor("id"),Y.$attr_reader("attributes"),t.defn(Y,"$initialize",l=function(t,e,n){var r;return null==n&&(n=u([],{})),e["$=="]("document")?(r=[this,o],this.document=r[0],this.parent=r[1]):_(t)?(r=[t.$document(),t],this.document=r[0],this.parent=r[1]):this.document=this.parent=o,this.node_name=(this.context=e).$to_s(),this.attributes=_(n["$key?"]("attributes"))?n["$[]"]("attributes").$dup():u([],{}),this.passthroughs=u([],{})},l.$$arity=-3),t.defn(Y,"$parent=",f=function(t){var e;return e=[t,t.$document()],this.parent=e[0],this.document=e[1],o},f.$$arity=1),t.defn(Y,"$inline?",p=function(){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},p.$$arity=0),t.defn(Y,"$block?",g=function(){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},g.$$arity=0),t.defn(Y,"$attr",v=function(t,e,n){var r,i,s=this;return null==e&&(e=o),null==n&&(n=!0),t=t.$to_s(),_(r=s.attributes["$[]"](t))?r:_(_(i=n)?s.parent:i)&&_(i=s.document.$attributes()["$[]"](t))?i:e},v.$$arity=-2),t.defn(Y,"$attr?",m=function(t,e,n){var r,i,s,$=this;return null==e&&(e=o),null==n&&(n=!0),t=t.$to_s(),_(e["$nil?"]())?_(r=$.attributes["$key?"](t))?r:_(i=_(s=n)?$.parent:s)?$.document.$attributes()["$key?"](t):i:e["$=="](_(r=$.attributes["$[]"](t))?r:_(_(i=n)?$.parent:i)?$.document.$attributes()["$[]"](t):o)},m.$$arity=-2),t.defn(Y,"$set_attr",y=function(n,r,i){var s=o;return null==r&&(r=""),null==i&&(i=!0),!_(i["$=="](!1)?this.attributes["$key?"](n):i["$=="](!1))&&(s=[n,r],d(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)],!0)},y.$$arity=-2),t.defn(Y,"$remove_attr",b=function(t){return this.attributes.$delete(t)},b.$$arity=1),t.defn(Y,"$set_option",x=function(n){var r=o;return _(this.attributes["$key?"]("options"))?(r=["options",this.attributes["$[]"]("options")+","+n],d(this.attributes,"[]=",t.to_a(r)),r[e(r.length,1)]):(r=["options",n],d(this.attributes,"[]=",t.to_a(r)),r[e(r.length,1)]),r=[n+"-option",""],d(this.attributes,"[]=",t.to_a(r)),r[e(r.length,1)]},x.$$arity=1),t.defn(Y,"$option?",k=function(t){return this.attributes["$key?"](t+"-option")},k.$$arity=1),t.defn(Y,"$update_attributes",w=function(t){return this.attributes.$update(t),o},w.$$arity=1),t.defn(Y,"$converter",E=function(){return this.document.$converter()},E.$$arity=0),t.defn(Y,"$role?",A=function(t){var e;return null==t&&(t=o),_(t)?t["$=="](_(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role")):_(e=this.attributes["$key?"]("role"))?e:this.document.$attributes()["$key?"]("role")},A.$$arity=-1),t.defn(Y,"$role",O=function(){var t;return _(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role")},O.$$arity=0),t.defn(Y,"$has_role?",S=function(t){var e,n;return!_((n=_(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())&&(" "+n+" ")["$include?"](" "+t+" ")},S.$$arity=1),t.defn(Y,"$roles",R=function(){var t,e=o;return _((e=_(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:e.$split()},R.$$arity=0),t.defn(Y,"$add_role",T=function(n){var r,i=o;return _((r=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?(i=["role",n],d(this.attributes,"[]=",t.to_a(i)),i[e(i.length,1)],!0):!_((" "+r+" ")["$include?"](" "+n+" "))&&(i=["role",r+" "+n],d(this.attributes,"[]=",t.to_a(i)),i[e(i.length,1)],!0)},T.$$arity=1),t.defn(Y,"$remove_role",M=function(r){var i=o,s=o;return!_((i=this.attributes["$[]"]("role"))["$nil_or_empty?"]())&&!!_((i=i.$split()).$delete(r))&&(_(i["$empty?"]())?this.attributes.$delete("role"):(s=["role",n(i," ")],d(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]),!0)},M.$$arity=1),t.defn(Y,"$reftext?",I=function(){return this.attributes["$key?"]("reftext")},I.$$arity=0),t.defn(Y,"$reftext",q=function(){var t;return _(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):o},q.$$arity=0),t.defn(Y,"$icon_uri",C=function(e){var n=o;return _(this["$attr?"]("icon"))?_(t.const_get_qualified("::","File").$extname(n=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())?n+"."+this.document.$attr("icontype","png"):n:this.$image_uri(e+"."+this.document.$attr("icontype","png"),"iconsdir")},C.$$arity=1),t.defn(Y,"$media_uri",N=function(t,e){var n=this;return null==e&&(e="imagesdir"),n.$normalize_web_path(t,_(e)?n.document.$attr(e):o)},N.$$arity=-2),t.defn(Y,"$image_uri",z=function(e,n){var i,s,$,a,l=o,c=o;return null==n&&(n="imagesdir"),_(_(i=r((l=this.document).$safe(),t.const_get_qualified(t.const_get_relative(X,"SafeMode"),"SECURE")))?l["$attr?"]("data-uri"):i)?_(_(i=_(s=t.const_get_relative(X,"Helpers")["$uriish?"](e))?e=this.$uri_encode_spaces(e):s)?i:_(s=_($=_(a=n)?c=l.$attr(n):a)?t.const_get_relative(X,"Helpers")["$uriish?"](c):$)?e=this.$normalize_web_path(e,c,!1):s)?_(l["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(e,l["$attr?"]("cache-uri")):e:this.$generate_data_uri(e,n):this.$normalize_web_path(e,_(n)?l.$attr(n):o)},z.$$arity=-2),t.defn(Y,"$generate_data_uri",P=function(e,n){var r,i=o,s=o;return null==n&&(n=o),r=(i=t.const_get_qualified("::","File").$extname(e))["$=="](".svg")?"image/svg+xml":"image/"+i["$[]"](h(1,-1,!1)),s=_(n)?this.$normalize_system_path(e,this.document.$attr(n),o,u(["target_name"],{target_name:"image"})):this.$normalize_system_path(e),_(t.const_get_qualified("::","File")["$readable?"](s))?"data:"+r+";base64,"+t.const_get_qualified("::","Base64").$encode64(t.const_get_qualified("::","IO").$binread(s)).$delete(t.const_get_relative(X,"LF")):(this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+s),"data:"+r+";base64,")},P.$$arity=-2),t.defn(Y,"$generate_data_uri_from_uri",L=function(e,n){var r,i=this,s=o,$=o;null==n&&(n=!1),_(n)?t.const_get_relative(X,"Helpers").$require_library("open-uri/cached","open-uri-cached"):_(t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&t.const_get_qualified("::","OpenURI");try{return s=o,$=d(i,"open",[e,"rb"],((r=function(t){return r.$$s,null==t&&(t=o),s=t.$content_type(),t.$read()}).$$s=i,r.$$arity=1,r)),"data:"+s+";base64,"+t.const_get_qualified("::","Base64").$encode64($).$delete(t.const_get_relative(X,"LF"))}catch(n){if(!t.rescue(n,[t.const_get_relative(X,"StandardError")]))throw n;try{return i.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},L.$$arity=-2),t.defn(Y,"$read_contents",D=function(e,r){var i,s,$,a,l=this,c=o,h=o,f=o;if(null==r&&(r=u([],{})),c=l.document,_(_(i=t.const_get_relative(X,"Helpers")["$uriish?"](e))?i:_(s=_($=h=r["$[]"]("start"))?t.const_get_relative(X,"Helpers")["$uriish?"](h):$)?e=(l.path_resolver=_($=l.path_resolver)?$:t.const_get_relative(X,"PathResolver").$new()).$web_path(e,h):s))if(_(c["$attr?"]("allow-uri-read"))){_(c["$attr?"]("cache-uri"))&&t.const_get_relative(X,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{f=d(t.const_get_qualified("::","OpenURI"),"open_uri",[e],((a=function(t){return a.$$s,null==t&&(t=o),t.$read()}).$$s=l,a.$$arity=1,a)),_(r["$[]"]("normalize"))&&(f=n(t.const_get_relative(X,"Helpers").$normalize_lines_from_string(f),t.const_get_relative(X,"LF")))}catch(n){if(!t.rescue(n,[t.const_get_relative(X,"StandardError")]))throw n;try{_(r.$fetch("warn_on_failure",!0))&&l.$warn("asciidoctor: WARNING: could not retrieve contents of "+(_(i=r["$[]"]("label"))?i:"asset")+" at URI: "+e),f=o}finally{t.pop_exception()}}}else _(r.$fetch("warn_on_failure",!0))&&l.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(_(i=r["$[]"]("label"))?i:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),f=o;else e=l.$normalize_system_path(e,r["$[]"]("start"),o,u(["target_name"],{target_name:_(i=r["$[]"]("label"))?i:"asset"})),f=l.$read_asset(e,u(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));return f},D.$$arity=-2),t.defn(Y,"$read_asset",B=function(e,r){var i;return null==r&&(r=u([],{})),_(t.const_get_qualified("::","Hash")["$==="](r))||(r=u(["warn_on_failure"],{warn_on_failure:r["$!="](!1)})),_(t.const_get_qualified("::","File")["$readable?"](e))?_(r["$[]"]("normalize"))?n(t.const_get_relative(X,"Helpers").$normalize_lines_from_string(t.const_get_qualified("::","IO").$read(e)),t.const_get_relative(X,"LF")):t.const_get_qualified("::","IO").$read(e):_(r["$[]"]("warn_on_failure"))?this.$warn("asciidoctor: WARNING: "+(_(i=this.$attr("docfile"))?i:"<stdin>")+": "+(_(i=r["$[]"]("label"))?i:"file")+" does not exist or cannot be read: "+e):o},B.$$arity=-2),t.defn(Y,"$normalize_web_path",j=function(e,n,r){var i;return null==n&&(n=o),null==r&&(r=!0),_(_(i=r)?t.const_get_relative(X,"Helpers")["$uriish?"](e):i)?this.$uri_encode_spaces(e):(this.path_resolver=_(i=this.path_resolver)?i:t.const_get_relative(X,"PathResolver").$new()).$web_path(e,n)},j.$$arity=-2),t.defn(Y,"$uri_encode_spaces",F=function(t){return _(t["$include?"](" "))?t.$gsub(" ","%20"):t},F.$$arity=1),t.defn(Y,"$normalize_system_path",U=function(e,n,i,s){var $,a=o,l=o;return null==n&&(n=o),null==i&&(i=o),null==s&&(s=u([],{})),a=this.path_resolver=_($=this.path_resolver)?$:t.const_get_relative(X,"PathResolver").$new(),_(r((l=this.document).$safe(),t.const_get_qualified(t.const_get_relative(X,"SafeMode"),"SAFE")))?_(n)?_(a["$is_root?"](n))||(n=t.const_get_qualified("::","File").$join(l.$base_dir(),n)):n=l.$base_dir():(_(n)||(n=l.$base_dir()),_(i)||(i=l.$base_dir())),a.$system_path(e,n,i,s)},U.$$arity=-2),t.defn(Y,"$normalize_asset_path",H=function(t,e,n){return null==e&&(e="path"),null==n&&(n=!0),this.$normalize_system_path(t,this.document.$base_dir(),o,u(["target_name","recover"],{target_name:e,recover:n}))},H.$$arity=-2),t.defn(Y,"$is_uri?",G=function(e){return t.const_get_relative(X,"Helpers")["$uriish?"](e)},G.$$arity=1)}(($=[s].concat(i))[0],0,$)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r,i,s,$=[],a=t.nil,o=(t.breaker,t.slice,t.module),l=t.klass,c=t.send,_=t.truthy,u=t.hash2;return t.add_stubs(["$attr_accessor","$attr_reader","$attr_writer","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$apply_title_subs","$[]","$title","$sub_specialchars","$match?","$sub_replacements","$reftext","$!","$empty?","$===","$sprintf","$sub_quotes","$compat_mode","$attributes","$chomp","$<<","$select","$context","$>","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$blocks","$parent","$+","$find_index","$next_adjacent_block","$delete","$increment_and_store_counter","$index=","$-","$numbered","$sectname","$counter","$number=","$number","$caption=","$enumerate_section","$reindex_sections"]),r=$,(i=o($[0],"Asciidoctor")).$$proto,void function(r,i,s){function $(){}var o,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D=$=l(r,i,"AbstractBlock",$),B=D.$$proto,j=[D].concat(s);B.document=B.attributes=B.blocks=B.source_location=B.subs=B.title=B.title_converted=B.converted_title=B.context=B.caption=B.number=B.next_section_index=B.style=B.id=B.header=B.next_section_number=a,D.$attr_accessor("content_model"),D.$attr_reader("subs"),D.$attr_reader("blocks"),D.$attr_accessor("level"),D.$attr_accessor("style"),D.$attr_writer("caption"),D.$attr_accessor("number"),D.$attr_accessor("source_location"),t.defn(D,"$initialize",o=function(e,n,r){var i,s,$=o.$$p,l=a,d=a;for(null==r&&(r=u([],{})),$&&(o.$$p=null),d=0,s=arguments.length,l=new Array(s);d<s;d++)l[d]=arguments[d];return c(this,t.find_super_dispatcher(this,"initialize",o,!1),l,$),this.content_model="compound",this.blocks=[],this.subs=[],this.id=this.title=this.title_converted=this.caption=this.number=this.style=this.default_subs=this.source_location=a,n["$=="]("document")?this.level=0:_(_(i=e)?n["$!="]("section"):i)?this.level=e.$level():this.level=a,this.next_section_index=0,this.next_section_number=1},o.$$arity=-3),t.defn(D,"$block?",d=function(){return!0},d.$$arity=0),t.defn(D,"$inline?",h=function(){return!1},h.$$arity=0),t.defn(D,"$context=",f=function(t){return this.context=t,this.node_name=t.$to_s()},f.$$arity=1),t.defn(D,"$convert",p=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},p.$$arity=0),t.alias(D,"render","convert"),t.defn(D,"$content",g=function(){var e,n,r;return n=c(this.blocks,"map",[],((e=function(t){return e.$$s,null==t&&(t=a),t.$convert()}).$$s=this,e.$$arity=1,e)),r=t.const_get_relative(j,"LF"),"number"==typeof n&&"number"==typeof r?n*r:n["$*"](r)},g.$$arity=0),t.defn(D,"$file",v=function(){return _(this.source_location)?this.source_location.$file():a},v.$$arity=0),t.defn(D,"$lineno",m=function(){return _(this.source_location)?this.source_location.$lineno():a},m.$$arity=0),t.defn(D,"$sub?",y=function(t){return this.subs["$include?"](t)},y.$$arity=1),t.defn(D,"$title?",b=function(){return!!_(this.title)},b.$$arity=0),t.defn(D,"$title",x=function(){var t,e;return _(this.title_converted)?this.converted_title:this.converted_title=_(t=_(e=this.title_converted=!0)?this.title:e)?this.$apply_title_subs(this.title):t},x.$$arity=0),t.defn(D,"$title=",k=function(t){var e;return e=[t,a],this.title=e[0],this.title_converted=e[1],e},k.$$arity=1),t.defn(D,"$caption",w=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},w.$$arity=0),t.defn(D,"$captioned_title",E=function(){return""+this.caption+this.$title()},E.$$arity=0),t.defn(D,"$alt",A=function(){var e=a;return _(e=this.attributes["$[]"]("alt"))?e["$=="](this.attributes["$[]"]("default-alt"))?this.$sub_specialchars(e):(e=this.$sub_specialchars(e),_(t.const_get_relative(j,"ReplaceableTextRx")["$match?"](e))?this.$sub_replacements(e):e):a},A.$$arity=0),t.defn(D,"$xreftext",O=function(t){var e,n,r=this,i=a,s=a,$=a,o=a;return null==t&&(t=a),_(_(e=i=r.$reftext())?i["$empty?"]()["$!"]():e)?i:_(_(e=_(n=t)?r.title:n)?r.caption:e)?"full"["$==="](s=t)?($=r.$sprintf(r.$sub_quotes(_(r.document.$compat_mode())?"``%s''":'"`%s`"'),r.$title()),_(_(e=r.number)?o=r.document.$attributes()["$[]"](r.context["$=="]("image")?"figure-caption":r.context+"-caption"):e)?o+" "+r.number+", "+$:r.caption.$chomp(". ")+", "+$):"short"["$==="](s)?_(_(e=r.number)?o=r.document.$attributes()["$[]"](r.context["$=="]("image")?"figure-caption":r.context+"-caption"):e)?o+" "+r.number:r.caption.$chomp(". "):r.$title():r.$title()},O.$$arity=-1),t.defn(D,"$blocks?",S=function(){return this.blocks["$empty?"]()["$!"]()},S.$$arity=0),t.defn(D,"$<<",R=function(t){return this.blocks["$<<"](t),this},R.$$arity=1),t.alias(D,"append","<<"),t.defn(D,"$sections",T=function(){var t;return c(this.blocks,"select",[],((t=function(e){return t.$$s,null==e&&(e=a),e.$context()["$=="]("section")}).$$s=this,t.$$arity=1,t))},T.$$arity=0),t.defn(D,"$sections?",M=function(){var t,e;return t=this.next_section_index,e=0,"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)},M.$$arity=0),t.defn(D,"$find_by",I=function(e){var n,r,i,s,$,o,l,d=this,h=I.$$p,f=h||a,p=a,g=a,v=a,m=a,y=a;if(null==e&&(e=u([],{})),h&&(I.$$p=null),p=[],_(_(n=_(r=_(i=_(s=l=(g=e["$[]"]("context"))["$!"]())?s:g["$=="](d.context))?_(s=(v=e["$[]"]("style"))["$!"]())?s:v["$=="](d.style):i)?_(i=(m=e["$[]"]("role"))["$!"]())?i:d["$has_role?"](m):r)?_(r=(y=e["$[]"]("id"))["$!"]())?r:y["$=="](d.id):n)){if(_(y))return f!==a?_(t.yield1(f,d))?[d]:p:[d];f!==a?_(t.yield1(f,d))&&p["$<<"](d):p["$<<"](d)}return _(_(n=(r=d.context["$=="]("document"))?_(i=l)?i:g["$=="]("section"):d.context["$=="]("document"))?d["$header?"]():n)&&p.$concat(c(d.header,"find_by",[e],f.$to_proc())),g["$=="]("document")||(d.context["$=="]("dlist")?_(_(n=l)?n:g["$!="]("section"))&&c(d.blocks.$flatten(),"each",[],(($=function(t){return $.$$s,null==t&&(t=a),_(t)?p.$concat(c(t,"find_by",[e],f.$to_proc())):a}).$$s=d,$.$$arity=1,$)):_(c(d.blocks,"each",[],((o=function(t){return o.$$s,null==t&&(t=a),_(g["$=="]("section")?t.$context()["$!="]("section"):g["$=="]("section"))?a:p.$concat(c(t,"find_by",[e],f.$to_proc()))}).$$s=d,o.$$arity=1,o)))),p},I.$$arity=-1),t.alias(D,"query","find_by"),t.defn(D,"$next_adjacent_block",q=function(){var t=a,n=a;return this.context["$=="]("document")?a:_(t=(n=this.$parent()).$blocks()["$[]"](e(n.$blocks().$find_index(this),1)))?t:n.$next_adjacent_block()},q.$$arity=0),t.defn(D,"$remove_sub",C=function(t){return this.subs.$delete(t),a},C.$$arity=1),t.defn(D,"$assign_caption",N=function(t,e){var n,r,i=a;return null==t&&(t=a),null==e&&(e=a),_(_(n=_(r=this.caption)?r:this.title["$!"]())?n:this.caption=_(r=t)?r:this.document.$attributes()["$[]"]("caption"))?a:_(i=this.document.$attributes()["$[]"]((e=_(n=e)?n:this.context)+"-caption"))?(this.caption=i+" "+(this.number=this.document.$increment_and_store_counter(e+"-number",this))+". ",a):a},N.$$arity=-1),t.defn(D,"$enumerate_section",z=function(r){var i=a,s=a,$=a;return this.next_section_index=e((i=[this.next_section_index],c(r,"index=",t.to_a(i)),i[n(i.length,1)]),1),_(r.$numbered())&&((s=r.$sectname())["$=="]("appendix")?(i=[this.document.$counter("appendix-number","A")],c(r,"number=",t.to_a(i)),i[n(i.length,1)],_($=this.document.$attributes()["$[]"]("appendix-caption"))?(i=[$+" "+r.$number()+": "],c(r,"caption=",t.to_a(i)),i[n(i.length,1)]):(i=[r.$number()+". "],c(r,"caption=",t.to_a(i)),i[n(i.length,1)])):s["$=="]("chapter")?(i=[this.document.$counter("chapter-number",1)],c(r,"number=",t.to_a(i)),i[n(i.length,1)]):this.next_section_number=e((i=[this.next_section_number],c(r,"number=",t.to_a(i)),i[n(i.length,1)]),1)),a},z.$$arity=1),t.defn(D,"$list_marker_keyword",P=function(e){var n;return null==e&&(e=a),t.const_get_relative(j,"ORDERED_LIST_KEYWORDS")["$[]"](_(n=e)?n:this.style)},P.$$arity=-1),t.defn(D,"$reindex_sections",L=function(){var t;return this.next_section_index=0,this.next_section_number=1,c(this.blocks,"each",[],((t=function(e){var n=t.$$s||this;return null==e&&(e=a),e.$context()["$=="]("section")?(n.$enumerate_section(e),e.$reindex_sections()):a}).$$s=this,t.$$arity=1,t))},L.$$arity=0)}((s=[i].concat(r))[0],t.const_get_relative(s,"AbstractNode"),s)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r,i,s,$=[],a=t.nil,o=(t.breaker,t.slice,t.module),l=t.klass,c=t.hash2,_=t.truthy,u=t.send;return t.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),r=$,(i=o($[0],"Asciidoctor")).$$proto,void function(r,i,s){function $(){}var o,d,h,f,p,g,v,m,y,b,x,k,w=$=l(r,null,"AttributeList",$),E=w.$$proto,A=[w].concat(s);E.attributes=E.scanner=E.delimiter=E.block=E.delimiter_skip_pattern=E.delimiter_boundary_pattern=a,t.const_set(A[0],"BACKSLASH","\\"),t.const_set(A[0],"BoundaryRxs",c(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),t.const_set(A[0],"EscapedQuotes",c(['"',"'"],{'"':'\\"',"'":"\\'"})),t.const_set(A[0],"NameRx",new RegExp(t.const_get_relative(A,"CG_WORD")+"["+t.const_get_relative(A,"CC_WORD")+"\\-.]*")),t.const_set(A[0],"BlankRx",/[ \t]+/),t.const_set(A[0],"SkipRxs",c(["blank",","],{blank:t.const_get_relative(A,"BlankRx"),",":/[ \t]*(,|$)/})),t.defn(w,"$initialize",o=function(e,n,r){return null==n&&(n=a),null==r&&(r=","),this.scanner=t.const_get_qualified("::","StringScanner").$new(e),this.block=n,this.delimiter=r,this.delimiter_skip_pattern=t.const_get_relative(A,"SkipRxs")["$[]"](r),this.delimiter_boundary_pattern=t.const_get_relative(A,"BoundaryRxs")["$[]"](r),this.attributes=a},o.$$arity=-2),t.defn(w,"$parse_into",d=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},d.$$arity=-2),t.defn(w,"$parse",h=function(t){var n=a;if(null==t&&(t=[]),_(this.attributes))return this.attributes;for(this.attributes=c([],{}),n=0;_(this.$parse_attribute(n,t))&&!_(this.scanner["$eos?"]());)this.$skip_delimiter(),n=e(n,1);return this.attributes},h.$$arity=-1),t.defn(w,"$rekey",f=function(e){return t.const_get_relative(A,"AttributeList").$rekey(this.attributes,e)},f.$$arity=1),t.defs(w,"$rekey",p=function(r,i){var s;return u(i,"each_with_index",[],((s=function(i,$){s.$$s;var o,l,c=a;return null==i&&(i=a),null==$&&($=a),_(i)?(o=e($,1),_(l=r["$[]"](o))?(c=[i,l],u(r,"[]=",t.to_a(c)),c[n(c.length,1)]):a):a}).$$s=this,s.$$arity=2,s)),r},p.$$arity=2),t.defn(w,"$parse_attribute",g=function(r,i){var s,$,o,l,c=this,d=a,h=a,f=a,p=a,g=a,v=a,m=a,y=a,b=a,x=a;if(null==r&&(r=0),null==i&&(i=[]),d=!1,c.$skip_blank(),(h=c.scanner.$peek(1))["$=="]('"'))f=c.$parse_attribute_value(c.scanner.$get_byte()),p=a;else if(h["$=="]("'"))f=c.$parse_attribute_value(c.scanner.$get_byte()),p=a,d=!0;else{if(f=c.$scan_name(),g=0,v=a,_(c.scanner["$eos?"]())){if(!_(f))return!1}else g=_(s=c.$skip_blank())?s:0,v=c.scanner.$get_byte();if(_(_(s=v["$!"]())?s:v["$=="](c.delimiter)))p=a;else if(_(_(s=v["$!="]("="))?s:f["$!"]()))f=""+f+(l=g,"number"==typeof(o=" ")&&"number"==typeof l?o*l:o["$*"](l))+v+c.$scan_to_delimiter(),p=a;else if(c.$skip_blank(),_(c.scanner.$peek(1)))if((v=c.scanner.$get_byte())["$=="]('"'))p=c.$parse_attribute_value(v);else if(v["$=="]("'"))p=c.$parse_attribute_value(v),d=!0;else if(v["$=="](c.delimiter))p=a;else if((p=""+v+c.$scan_to_delimiter())["$=="]("None"))return!0}return _(p)?"options"["$==="](m=f)||"opts"["$==="](m)?(_(p["$include?"](","))?(_(p["$include?"](" "))&&(p=p.$delete(" ")),u(p.$split(","),"each",[],(($=function(e){var r=$.$$s||this,i=a;return null==r.attributes&&(r.attributes=a),null==e&&(e=a),_(e["$empty?"]())?a:(i=[e+"-option",""],u(r.attributes,"[]=",t.to_a(i)),i[n(i.length,1)])}).$$s=c,$.$$arity=1,$))):(y=[(p=p.$strip())+"-option",""],u(c.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]),y=["options",p],u(c.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]):_(_(s=d)?c.block:s)?"title"["$==="](m=f)||"reftext"["$==="](m)?(y=[f,p],u(c.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]):(y=[f,c.block.$apply_subs(p)],u(c.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]):(y=[f,p],u(c.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]):(b=_(_(s=d)?c.block:s)?c.block.$apply_subs(f):f,_(x=i["$[]"](r))&&(y=[x,b],u(c.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]),y=[e(r,1),b],u(c.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]),!0},g.$$arity=-1),t.defn(w,"$parse_attribute_value",v=function(e){var n=a;return this.scanner.$peek(1)["$=="](e)?(this.scanner.$get_byte(),""):_(n=this.$scan_to_quote(e))?(this.scanner.$get_byte(),_(n["$include?"](t.const_get_relative(A,"BACKSLASH")))?n.$gsub(t.const_get_relative(A,"EscapedQuotes")["$[]"](e),e):n):""+e+this.$scan_to_delimiter()},v.$$arity=1),t.defn(w,"$skip_blank",m=function(){return this.scanner.$skip(t.const_get_relative(A,"BlankRx"))},m.$$arity=0),t.defn(w,"$skip_delimiter",y=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},y.$$arity=0),t.defn(w,"$scan_name",b=function(){return this.scanner.$scan(t.const_get_relative(A,"NameRx"))},b.$$arity=0),t.defn(w,"$scan_to_delimiter",x=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},x.$$arity=0),t.defn(w,"$scan_to_quote",k=function(e){return this.scanner.$scan(t.const_get_relative(A,"BoundaryRxs")["$[]"](e))},k.$$arity=1)}((s=[i].concat(r))[0],0,s)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var r,i,s,$=[],a=t.nil,o=(t.breaker,t.slice,t.module),l=t.klass,c=t.send,_=t.hash2,u=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),r=$,(i=o($[0],"Asciidoctor")).$$proto,void function(r,i,s){function $(){}var o,d,h,f,p,g=$=l(r,i,"Block",$),v=g.$$proto,m=[g].concat(s);v.attributes=v.content_model=v.lines=v.subs=v.blocks=v.context=v.style=a,p=["simple"],c(t.const_set(m[0],"DEFAULT_CONTENT_MODEL",_(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(p)),e(p.length,1),t.alias(g,"blockname","context"),g.$attr_accessor("lines"),t.defn(g,"$initialize",o=function(n,r,i){var s,$,l=o.$$p,d=a,h=a,f=a,p=a,g=a;for(null==i&&(i=_([],{})),l&&(o.$$p=null),g=0,$=arguments.length,p=new Array($);g<$;g++)p[g]=arguments[g];return c(this,t.find_super_dispatcher(this,"initialize",o,!1),p,l),this.content_model=u(s=i["$[]"]("content_model"))?s:t.const_get_relative(m,"DEFAULT_CONTENT_MODEL")["$[]"](r),u(i["$key?"]("subs"))?u(d=i["$[]"]("subs"))?(d["$=="]("default")?this.default_subs=i["$[]"]("default_subs"):u(t.const_get_qualified("::","Array")["$==="](d))?(this.default_subs=d.$dup(),this.attributes.$delete("subs")):(this.default_subs=a,h=["subs",""+d],c(this.attributes,"[]=",t.to_a(h)),h[e(h.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=a,u((f=i["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:u(t.const_get_qualified("::","String")["$==="](f))?this.lines=t.const_get_relative(m,"Helpers").$normalize_lines_from_string(f):this.lines=f.$dup()},o.$$arity=-3),t.defn(g,"$content",d=function(){var e,r,i=this,s=d.$$p,$=a,o=a,l=a,_=a,h=a,f=a;for(s&&(d.$$p=null),f=0,r=arguments.length,h=new Array(r);f<r;f++)h[f]=arguments[f];return function(){if($=i.content_model,"compound"["$==="]($))return c(i,t.find_super_dispatcher(i,"content",d,!1),h,s);if("simple"["$==="]($))return i.$apply_subs(n(i.lines,t.const_get_relative(m,"LF")),i.subs);if("verbatim"["$==="]($)||"raw"["$==="]($)){if(o=i.$apply_subs(i.lines,i.subs),u((r=o.$size(),f=2,"number"==typeof r&&"number"==typeof f?r<f:r["$<"](f))))return o["$[]"](0);for(;u(u(e=l=o["$[]"](0))?l.$rstrip()["$empty?"]():e);)o.$shift();for(;u(u(e=_=o["$[]"](-1))?_.$rstrip()["$empty?"]():e);)o.$pop();return n(o,t.const_get_relative(m,"LF"))}return i.content_model["$=="]("empty")||i.$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),a;var r,f}()},d.$$arity=0),t.defn(g,"$source",h=function(){return n(this.lines,t.const_get_relative(m,"LF"))},h.$$arity=0),t.defn(g,"$to_s",f=function(){var t,e=this;return t=e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},f.$$arity=0)}((s=[i].concat(r))[0],t.const_get_relative(s,"AbstractBlock"),s)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r,i,s,$=[],a=t.nil,o=(t.breaker,t.slice,t.module),l=t.klass,c=t.hash2,_=t.truthy,u=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),r=$,(i=o($[0],"Asciidoctor")).$$proto,void function(r,i,s){function $(){}var o,d,h,f,p,g,v,m,y,b=$=l(r,null,"Callouts",$),x=b.$$proto;[b].concat(s),x.co_index=x.lists=x.list_index=a,t.defn(b,"$initialize",o=function(){return this.lists=[],this.list_index=0,this.$next_list()},o.$$arity=0),t.defn(b,"$register",d=function(t){var n;return this.$current_list()["$<<"](c(["ordinal","id"],{ordinal:t.$to_i(),id:n=this.$generate_next_callout_id()})),this.co_index=e(this.co_index,1),n},d.$$arity=1),t.defn(b,"$read_next_id",h=function(){var t,r,i=a,s=a;return i=a,s=this.$current_list(),_((t=this.co_index,r=s.$size(),"number"==typeof t&&"number"==typeof r?t<=r:t["$<="](r)))&&(i=s["$[]"](n(this.co_index,1))["$[]"]("id")),this.co_index=e(this.co_index,1),i},h.$$arity=0),t.defn(b,"$callout_ids",f=function(t){var e;return u(this.$current_list(),"map",[],(e=function(n){return e.$$s,null==n&&(n=a),n["$[]"]("ordinal")["$=="](t)?n["$[]"]("id")+" ":a},e.$$s=this,e.$$arity=1,e)).$join().$chop()},f.$$arity=1),t.defn(b,"$current_list",p=function(){return this.lists["$[]"](n(this.list_index,1))},p.$$arity=0),t.defn(b,"$next_list",g=function(){var t,n;return this.list_index=e(this.list_index,1),_((t=this.lists.$size(),n=this.list_index,"number"==typeof t&&"number"==typeof n?t<n:t["$<"](n)))&&this.lists["$<<"]([]),this.co_index=1,a},g.$$arity=0),t.defn(b,"$rewind",v=function(){return this.list_index=1,this.co_index=1,a},v.$$arity=0),t.defn(b,"$generate_next_callout_id",m=function(){return this.$generate_callout_id(this.list_index,this.co_index)},m.$$arity=0),t.defn(b,"$generate_callout_id",y=function(t,e){return"CO"+t+"-"+e},y.$$arity=2)}((s=[i].concat(r))[0],0,s)},Opal.modules["asciidoctor/converter/base"]=function(t){t.top;var e,n,r,i,s,$,a=[],o=t.nil,l=(t.breaker,t.slice,t.module),c=t.klass,_=t.hash2,u=t.truthy;return t.add_stubs(["$include","$node_name","$empty?","$send","$content"]),e=a,(s=l(a[0],"Asciidoctor")).$$proto,$=[s].concat(e),n=$[0],r=$,(i=l(n,"Converter")).$$proto,[i].concat(r),function(e,n,r){function i(){}var s=i=c(e,null,"Base",i),$=(s.$$proto,[s].concat(r));s.$include(t.const_get_relative($,"Converter"))}(t.const_get_relative($,"Converter"),0,$),void function(e,n,r){function i(){}var s,$,a,l,d=i=c(e,null,"BuiltIn",i);d.$$proto,[d].concat(r),t.defn(d,"$initialize",s=function(t,e){return null==e&&(e=_([],{})),o},s.$$arity=-2),t.defn(d,"$convert",$=function(t,e,n){var r;return null==e&&(e=o),null==n&&(n=_([],{})),e=u(r=e)?r:t.$node_name(),u(n["$empty?"]())?this.$send(e,t):this.$send(e,t,n)},$.$$arity=-2),t.alias(d,"handles?","respond_to?"),t.defn(d,"$content",a=function(t){return t.$content()},a.$$arity=1),t.alias(d,"pass","content"),t.defn(d,"$skip",l=function(t){return o},l.$$arity=1)}(t.const_get_relative($,"Converter"),0,$)},Opal.modules["asciidoctor/converter/factory"]=function(t){t.top;var e,n,r,i,s,$,a,o=[],l=t.nil,c=(t.breaker,t.slice,t.module),_=t.klass,u=t.truthy,d=t.hash2,h=t.send;return t.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),e=o,($=c(o[0],"Asciidoctor")).$$proto,a=[$].concat(e),n=a[0],r=a,(i=c(n,"Converter")).$$proto,void function(e,n,r){function i(){}var s,$,a,o,c,f,p,g,v,m,y,b,x,k=i=_(e,null,"Factory",i),w=k.$$proto,E=[k].concat(r);w.converters=w.star_converter=l,k.__default__=l,f=t.get_singleton_class(k),p=E,f.$$proto,[f].concat(p),t.defn(f,"$default",g=function(e){var n,r=this;return null==r.__default__&&(r.__default__=l),null==e&&(e=!0),u(e)?r.__default__=u(n=r.__default__)?n:function(){try{return u(t.const_get_qualified("::","ThreadSafe","skip_raise")?"constant":l)||r.$require("thread_safe".$to_s()),r.$new(t.const_get_qualified(t.const_get_qualified("::","ThreadSafe"),"Cache").$new())}catch(e){if(!t.rescue(e,[t.const_get_qualified("::","LoadError")]))throw e;try{return r.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),r.$new()}finally{t.pop_exception()}}}():u(n=r.__default__)?n:r.$new()},g.$$arity=-1),t.defn(f,"$register",v=function(t,e){return null==e&&(e=["*"]),this.$default().$register(t,e)},v.$$arity=-2),t.defn(f,"$resolve",m=function(t){return this.$default().$resolve(t)},m.$$arity=1),t.defn(f,"$create",y=function(t,e){return null==e&&(e=d([],{})),this.$default().$create(t,e)},y.$$arity=-2),t.defn(f,"$converters",b=function(){return this.$default().$converters()},b.$$arity=0),t.defn(f,"$unregister_all",x=function(){return this.$default().$unregister_all()},x.$$arity=0),k.$attr_reader("converters"),t.defn(k,"$initialize",s=function(t){var e;return null==t&&(t=l),this.converters=u(e=t)?e:d([],{}),this.star_converter=l},s.$$arity=-1),t.defn(k,"$register",$=function(e,n){var r;return null==n&&(n=["*"]),h(n,"each",[],((r=function(n){var i,s,$,a=r.$$s||this;return null==a.converters&&(a.converters=l),null==n&&(n=l),i=[n,e],h(a.converters,"[]=",t.to_a(i)),$=1,"number"==typeof(s=i.length)&&"number"==typeof $||s["$-"]($),n["$=="]("*")?a.star_converter=e:l}).$$s=this,r.$$arity=1,r)),l},$.$$arity=-2),t.defn(k,"$resolve",a=function(t){var e,n;return u(e=this.converters)?u(n=this.converters["$[]"](t))?n:this.star_converter:e},a.$$arity=1),t.defn(k,"$unregister_all",o=function(){return this.converters.$clear(),this.star_converter=l},o.$$arity=0),t.defn(k,"$create",c=function(e,n){var r,i,s,$,a,o,c,_,h,f,p,g,v,m,y=this,b=l,x=l;return null==n&&(n=d([],{})),u(b=y.$resolve(e))?u(t.const_get_qualified("::","Class")["$==="](b))?b.$new(e,n):b:(v="html5"["$==="](x=e)?(u((i=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(r=t.const_get_qualified(i,"Converter","skip_raise"))&&t.const_get_qualified(r,"Html5Converter","skip_raise")?"constant":l)||y.$require("asciidoctor/converter/html5".$to_s()),t.const_get_relative(E,"Html5Converter").$new(e,n)):"docbook5"["$==="](x)?(u(($=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(s=t.const_get_qualified($,"Converter","skip_raise"))&&t.const_get_qualified(s,"DocBook5Converter","skip_raise")?"constant":l)||y.$require("asciidoctor/converter/docbook5".$to_s()),t.const_get_relative(E,"DocBook5Converter").$new(e,n)):"docbook45"["$==="](x)?(u((o=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(a=t.const_get_qualified(o,"Converter","skip_raise"))&&t.const_get_qualified(a,"DocBook45Converter","skip_raise")?"constant":l)||y.$require("asciidoctor/converter/docbook45".$to_s()),t.const_get_relative(E,"DocBook45Converter").$new(e,n)):"manpage"["$==="](x)?(u((_=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(c=t.const_get_qualified(_,"Converter","skip_raise"))&&t.const_get_qualified(c,"ManPageConverter","skip_raise")?"constant":l)||y.$require("asciidoctor/converter/manpage".$to_s()),t.const_get_relative(E,"ManPageConverter").$new(e,n)):l,u(n["$key?"]("template_dirs"))?(u((f=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(h=t.const_get_qualified(f,"Converter","skip_raise"))&&t.const_get_qualified(h,"TemplateConverter","skip_raise")?"constant":l)||y.$require("asciidoctor/converter/template".$to_s()),u((g=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(p=t.const_get_qualified(g,"Converter","skip_raise"))&&t.const_get_qualified(p,"CompositeConverter","skip_raise")?"constant":l)||y.$require("asciidoctor/converter/composite".$to_s()),m=t.const_get_relative(E,"TemplateConverter").$new(e,n["$[]"]("template_dirs"),n),t.const_get_relative(E,"CompositeConverter").$new(e,m,v)):v)},c.$$arity=-2)}((s=[i].concat(r))[0],0,s)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n,r,i,s,$,a,o,l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z=t.top,P=[],L=t.nil,D=(t.breaker,t.slice,t.module),B=t.send,j=t.truthy,F=t.range,U=t.hash2;return t.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$require"]),n=P,(C=D(P[0],"Asciidoctor")).$$proto,N=[C].concat(n),r=N[0],i=N,(x=D(r,"Converter")).$$proto,k=[x].concat(i),a=k[0],o=k,(c=D(a,"Config")).$$proto,_=[c].concat(o),t.defn(c,"$register_for",l=function(e){var n,r,i,s,$,a,o=arguments.length,l=o-0;l<0&&(l=0),i=new Array(l);for(var c=0;c<o;c++)i[c-0]=arguments[c];return t.const_get_relative(_,"Factory").$register(this,i),$=t.get_singleton_class(this),a=_,$.$$proto,[$].concat(a),s=$,i["$=="](["*"])?B(s,"send",["define_method","converts?"],((n=function(t){return n.$$s,null==t&&(t=L),!0}).$$s=this,n.$$arity=1,n)):B(s,"send",["define_method","converts?"],((r=function(t){return r.$$s,null==t&&(t=L),i["$include?"](t)}).$$s=this,r.$$arity=1,r)),L},l.$$arity=-1),u=k[0],d=k,(y=D(u,"BackendInfo")).$$proto,b=[y].concat(d),t.defn(y,"$backend_info",h=function(){var t;return null==this.backend_info&&(this.backend_info=L),this.backend_info=j(t=this.backend_info)?t:this.$setup_backend_info()},h.$$arity=0),t.defn(y,"$setup_backend_info",f=function(){var e=L,n=L,r=L,i=L;return null==this.backend&&(this.backend=L),j(this.backend)||this.$raise(t.const_get_qualified("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class()),e=this.backend.$sub(t.const_get_relative(b,"TrailingDigitsRx"),""),j(n=t.const_get_relative(b,"DEFAULT_EXTENSIONS")["$[]"](e))?r=n["$[]"](F(1,-1,!1)):(e="html",n=".html",r="html",i="html"),U(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:n,filetype:r,htmlsyntax:i})},f.$$arity=0),t.defn(y,"$filetype",p=function(n){var r=L;return null==n&&(n=L),j(n)?(r=["filetype",n],B(this.$backend_info(),"[]=",t.to_a(r)),r[e(r.length,1)]):this.$backend_info()["$[]"]("filetype")},p.$$arity=-1),t.defn(y,"$basebackend",g=function(n){var r=L;return null==n&&(n=L),j(n)?(r=["basebackend",n],B(this.$backend_info(),"[]=",t.to_a(r)),r[e(r.length,1)]):this.$backend_info()["$[]"]("basebackend")},g.$$arity=-1),t.defn(y,"$outfilesuffix",v=function(n){var r=L;return null==n&&(n=L),j(n)?(r=["outfilesuffix",n],B(this.$backend_info(),"[]=",t.to_a(r)),r[e(r.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},v.$$arity=-1),t.defn(y,"$htmlsyntax",m=function(n){var r=L;return null==n&&(n=L),j(n)?(r=["htmlsyntax",n],B(this.$backend_info(),"[]=",t.to_a(r)),r[e(r.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},m.$$arity=-1),function(e,n){e.$$proto;var r,i=[e].concat(n);t.defn(e,"$included",r=function(e){return e.$extend(t.const_get_relative(i,"Config"))},r.$$arity=1)}(t.get_singleton_class(x),k),x.$include(t.const_get_relative(k,"Config")),x.$include(t.const_get_relative(k,"BackendInfo")),t.defn(x,"$initialize",s=function(t,e){return null==e&&(e=U([],{})),this.backend=t,this.$setup_backend_info()},s.$$arity=-2),t.defn(x,"$convert",$=function(e,n,r){return null==n&&(n=L),null==r&&(r=U([],{})),this.$raise(t.const_get_qualified("::","NotImplementedError"))},$.$$arity=-2),t.alias(x,"convert_with_options","convert"),w=N[0],E=N,(O=D(w,"Writer")).$$proto,S=[O].concat(E),t.defn(O,"$write",A=function(e,n){return j(n["$respond_to?"]("write"))?(n.$write(e.$chomp()),n.$write(t.const_get_relative(S,"LF"))):t.const_get_qualified("::","IO").$write(n,e),L},A.$$arity=2),R=N[0],T=N,(I=D(R,"VoidWriter")).$$proto,q=[I].concat(T),I.$include(t.const_get_relative(q,"Writer")),t.defn(I,"$write",M=function(t,e){return L},M.$$arity=2),z.$require("asciidoctor/converter/base"),z.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var i,s,$,a=[],o=t.nil,l=(t.breaker,t.slice,t.module),c=t.klass,_=t.truthy,u=t.send,d=t.hash2,h=t.range,f=t.gvars;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$inject","$catalog","$==","$callouts","$dup","$attributes","$safe","$compat_mode","$sourcemap","$converter","$extensions","$each","$start_with?","$end_with?","$chop","$downcase","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$update_doctype_attributes","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$slice","$strftime","$year","$join","$create","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$value","$save_to","$chr","$ord","$source","$source_lines","$sectname=","$title=","$title","$first_section","$merge","$find","$context","$enumerate_section","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$rewind","$name","$negate","$limit_bytesize","$apply_attribute_value_subs","$delete?","$=~","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$raise","$backend","$default","$doctype","$content_model","$warn","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$map","$split","$resolve_docinfo_subs","$&","$normalize_system_path","$read_asset","$docinfo_processors?","$compact","$*","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),i=a,(s=l(a[0],"Asciidoctor")).$$proto,void function(i,s,$){function a(){}var l,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt,it,st=a=c(i,s,"Document",a),$t=st.$$proto,at=[st].concat($);$t.attributes=$t.safe=$t.reader=$t.base_dir=$t.parsed=$t.parent_document=$t.extensions=$t.options=$t.counters=$t.catalog=$t.header=$t.blocks=$t.attributes_modified=$t.id=$t.callouts=$t.header_attributes=$t.max_attribute_value_size=$t.attribute_overrides=$t.backend=$t.doctype=$t.converter=$t.outfilesuffix=$t.docinfo_processor_extensions=$t.document=o,t.const_set(at[0],"Footnote",t.const_get_qualified("::","Struct").$new("index","id","text")),function(n,r,i){function s(){}var $,a,l=s=c(n,null,"AttributeEntry",s);l.$$proto,[l].concat(i),l.$attr_reader("name","value","negate"),t.defn(l,"$initialize",$=function(t,e,n){return null==n&&(n=o),this.name=t,this.value=e,this.negate=_(n["$nil?"]())?e["$nil?"]():n},$.$$arity=-3),t.defn(l,"$save_to",a=function(n){var r,i=o;return(_(r=n["$[]"]("attribute_entries"))?r:(i=["attribute_entries",[]],u(n,"[]=",t.to_a(i)),i[e(i.length,1)]))["$<<"](this),this},a.$$arity=1)}(at[0],0,at),function(e,n,r){function i(){}var s,$,a,l,u=i=c(e,null,"Title",i),h=u.$$proto,f=[u].concat(r);h.sanitized=h.subtitle=h.combined=o,u.$attr_reader("main"),t.alias(u,"title","main"),u.$attr_reader("subtitle"),u.$attr_reader("combined"),t.defn(u,"$initialize",s=function(e,n){var r,i,s=o;return null==n&&(n=d([],{})),_(_(r=this.sanitized=n["$[]"]("sanitize"))?e["$include?"]("<"):r)&&(e=e.$gsub(t.const_get_relative(f,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),_(_(r=(s=_(i=n["$[]"]("separator"))?i:":")["$empty?"]())?r:e["$include?"](s+=" ")["$!"]())?(this.main=e,this.subtitle=o):(i=e.$rpartition(s),r=t.to_ary(i),this.main=null==r[0]?o:r[0],null==r[1]||r[1],this.subtitle=null==r[2]?o:r[2]),this.combined=e},s.$$arity=-2),t.defn(u,"$sanitized?",$=function(){return this.sanitized},$.$$arity=0),t.defn(u,"$subtitle?",a=function(){return!!_(this.subtitle)},a.$$arity=0),t.defn(u,"$to_s",l=function(){return this.combined},l.$$arity=0)}(at[0],0,at),st.$attr_reader("safe"),st.$attr_reader("compat_mode"),st.$attr_reader("backend"),st.$attr_reader("doctype"),st.$attr_accessor("sourcemap"),st.$attr_reader("catalog"),t.alias(st,"references","catalog"),st.$attr_reader("counters"),st.$attr_reader("callouts"),st.$attr_reader("header"),st.$attr_reader("base_dir"),st.$attr_reader("options"),st.$attr_reader("outfilesuffix"),st.$attr_reader("parent_document"),st.$attr_reader("reader"),st.$attr_reader("converter"),st.$attr_reader("extensions"),t.defn(st,"$initialize",l=function(i,s){var $,a,c,f,p,g,v,m,y,b,x,k=this,w=l.$$p,E=o,A=o,O=o,S=o,R=o,T=o,M=o,I=o,q=o,C=o,N=o,z=o,P=o,L=o;if(null==i&&(i=o),null==s&&(s=d([],{})),w&&(l.$$p=null),u(k,t.find_super_dispatcher(k,"initialize",l,!1),[k,"document"],null),_(E=s.$delete("parent")))k.parent_document=E,_($=s["$[]"]("base_dir"))||(A=["base_dir",E.$base_dir()],u(s,"[]=",t.to_a(A)),A[e(A.length,1)]),k.catalog=u(E.$catalog(),"inject",[d([],{})],((a=function(n,r){var i,s,$;return a.$$s,null==r&&(r=o),r=t.to_ary(r),i=t.slice.call(r,0,r.length),null==(s=i.splice(0,1)[0])&&(s=o),null==($=i.splice(0,1)[0])&&($=o),null==n&&(n=o),A=[s,s["$=="]("footnotes")?[]:$],u(n,"[]=",t.to_a(A)),A[e(A.length,1)],n}).$$s=k,a.$$arity=2,a.$$has_top_level_mlhs_arg=!0,a)),k.callouts=E.$callouts(),k.attribute_overrides=O=E.$attributes().$dup(),S=O.$delete("doctype"),O.$delete("compat-mode"),O.$delete("toc"),O.$delete("toc-placement"),O.$delete("toc-position"),k.safe=E.$safe(),_(k.compat_mode=E.$compat_mode())&&(A=["compat-mode",""],u(k.attributes,"[]=",t.to_a(A)),A[e(A.length,1)]),k.sourcemap=E.$sourcemap(),k.converter=E.$converter(),R=!1,k.extensions=E.$extensions();else{if(k.parent_document=o,k.catalog=d(["ids","refs","footnotes","links","images","indexterms","includes"],{ids:d([],{}),refs:d([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:t.const_get_qualified("::","Set").$new()}),k.callouts=t.const_get_relative(at,"Callouts").$new(),O=d([],{}),u(_($=s["$[]"]("attributes"))?$:d([],{}),"each",[],((c=function(n,r){return c.$$s,null==n&&(n=o),null==r&&(r=o),_(n["$start_with?"]("!"))?(n=n["$[]"](h(1,-1,!1)),r=o):_(n["$end_with?"]("!"))&&(n=n.$chop(),r=o),A=[n.$downcase(),r],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]}).$$s=k,c.$$arity=2,c)),k.attribute_overrides=O,_((T=s["$[]"]("safe"))["$!"]()))k.safe=t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SECURE");else if(_(t.const_get_qualified("::","Integer")["$==="](T)))k.safe=T;else try{k.safe=t.const_get_relative(at,"SafeMode").$value_for_name(T.$to_s())}catch(e){if(!t.rescue(e,[t.const_get_relative(at,"StandardError")]))throw e;try{k.safe=t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SECURE")}finally{t.pop_exception()}}k.compat_mode=O["$key?"]("compat-mode"),k.sourcemap=s["$[]"]("sourcemap"),k.converter=o,R=(f=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&($=t.const_get_qualified(f,"Extensions","skip_raise"))?"constant":o,k.extensions=o}return k.parsed=!1,k.header=o,k.counters=d([],{}),k.attributes_modified=t.const_get_qualified("::","Set").$new(),k.docinfo_processor_extensions=d([],{}),m=_(p=s["$[]"]("header_footer"))?p:(A=["header_footer",!1],u(s,"[]=",t.to_a(A)),A[e(A.length,1)]),(k.options=s).$freeze(),M=k.attributes,A=["sectids",""],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["toc-placement","auto"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],_(m)?(A=["copycss",""],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["embedded",o],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]):(A=["notitle",""],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["embedded",""],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),A=["stylesheet",""],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["webfonts",""],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["prewrap",""],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["attribute-undefined",t.const_get_relative(at,"Compliance").$attribute_undefined()],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["attribute-missing",t.const_get_relative(at,"Compliance").$attribute_missing()],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["iconfont-remote",""],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["caution-caption","Caution"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["important-caption","Important"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["note-caption","Note"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["tip-caption","Tip"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["warning-caption","Warning"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["example-caption","Example"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["figure-caption","Figure"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["table-caption","Table"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["toc-title","Table of Contents"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["manname-title","NAME"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["section-refsig","Section"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["chapter-refsig","Chapter"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["appendix-caption",(A=["appendix-refsig","Appendix"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)])],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["untitled-label","Untitled"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["version-label","Version"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["last-update-label","Last updated"],u(M,"[]=",t.to_a(A)),A[e(A.length,1)],A=["asciidoctor",""],u(O,"[]=",t.to_a(A)),A[e(A.length,1)],A=["asciidoctor-version",t.const_get_relative(at,"VERSION")],u(O,"[]=",t.to_a(A)),A[e(A.length,1)],A=["safe-mode-name",y=t.const_get_relative(at,"SafeMode").$name_for_value(k.safe)],u(O,"[]=",t.to_a(A)),A[e(A.length,1)],A=["safe-mode-"+y,""],u(O,"[]=",t.to_a(A)),A[e(A.length,1)],A=["safe-mode-level",k.safe],u(O,"[]=",t.to_a(A)),A[e(A.length,1)],_(p=O["$[]"]("max-include-depth"))||(A=["max-include-depth",64],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=O["$[]"]("allow-uri-read"))||(A=["allow-uri-read",o],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),A=["user-home",t.const_get_relative(at,"USER_HOME")],u(O,"[]=",t.to_a(A)),A[e(A.length,1)],_(O["$key?"]("numbered"))&&(A=["sectnums",O.$delete("numbered")],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(s["$[]"]("base_dir"))?k.base_dir=(A=["docdir",t.const_get_qualified("::","File").$expand_path(s["$[]"]("base_dir"))],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]):_(O["$[]"]("docdir"))?k.base_dir=(A=["docdir",t.const_get_qualified("::","File").$expand_path(O["$[]"]("docdir"))],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]):k.base_dir=(A=["docdir",t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd())],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(b=s["$[]"]("backend"))&&(A=["backend",""+b],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(x=s["$[]"]("doctype"))&&(A=["doctype",""+x],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(n(k.safe,t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SERVER")))&&(_(p=O["$[]"]("copycss"))||(A=["copycss",o],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=O["$[]"]("source-highlighter"))||(A=["source-highlighter",o],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=O["$[]"]("backend"))||(A=["backend",t.const_get_relative(at,"DEFAULT_BACKEND")],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(_(p=E["$!"]())?O["$key?"]("docfile"):p)&&(A=["docfile",O["$[]"]("docfile")["$[]"](t.Range.$new(r(O["$[]"]("docdir").$length(),1),-1,!1))],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),A=["docdir",""],u(O,"[]=",t.to_a(A)),A[e(A.length,1)],A=["user-home","."],u(O,"[]=",t.to_a(A)),A[e(A.length,1)],_(n(k.safe,t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SECURE")))&&(_(O["$key?"]("max-attribute-value-size"))||(A=["max-attribute-value-size",4096],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(O.$fetch("linkcss","")["$nil?"]())||(A=["linkcss",""],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=O["$[]"]("icons"))||(A=["icons",o],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]))),k.max_attribute_value_size=_(I=_(p=O["$[]"]("max-attribute-value-size"))?p:(A=["max-attribute-value-size",o],u(O,"[]=",t.to_a(A)),A[e(A.length,1)]))?I.$to_i().$abs():o,u(O,"delete_if",[],((g=function(n,r){g.$$s;var i,s=o;return null==n&&(n=o),null==r&&(r=o),s=!1,_(r["$nil?"]())?M.$delete(n):(_(_(i=t.const_get_qualified("::","String")["$==="](r))?r["$end_with?"]("@"):i)&&(r=r.$chop(),s=!0),A=[n,r],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),s}).$$s=k,g.$$arity=2,g)),_(E)?(k.backend=M["$[]"]("backend"),(k.doctype=(A=["doctype",S],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]))["$=="](t.const_get_relative(at,"DEFAULT_DOCTYPE"))||k.$update_doctype_attributes(t.const_get_relative(at,"DEFAULT_DOCTYPE")),k.reader=t.const_get_relative(at,"Reader").$new(i,s["$[]"]("cursor")),t.const_get_relative(at,"Parser").$parse(k.reader,k),k.$restore_attributes(),k.parsed=!0):(k.backend=o,(_(p=M["$[]"]("backend"))?p:(A=["backend",t.const_get_relative(at,"DEFAULT_BACKEND")],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]))["$=="]("manpage")?k.doctype=(A=["doctype",(A=["doctype","manpage"],u(O,"[]=",t.to_a(A)),A[e(A.length,1)])],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]):k.doctype=_(p=M["$[]"]("doctype"))?p:(A=["doctype",t.const_get_relative(at,"DEFAULT_DOCTYPE")],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),k.$update_backend_attributes(M["$[]"]("backend"),!0),q=_(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?t.const_get_qualified("::","Time").$at(k.$Integer(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():t.const_get_qualified("::","Time").$now(),_(C=M["$[]"]("localdate"))?N=_(p=M["$[]"]("localyear"))?p:(A=["localyear",C.$index("-")["$=="](4)?C.$slice(0,4):o],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]):(A=["localdate",q.$strftime("%Y-%m-%d")],u(M,"[]=",t.to_a(A)),C=A[e(A.length,1)],N=_(p=M["$[]"]("localyear"))?p:(A=["localyear",q.$year().$to_s()],u(M,"[]=",t.to_a(A)),A[e(A.length,1)])),z=_(p=M["$[]"]("localtime"))?p:(A=["localtime",function(){try{return q.$strftime("%H:%M:%S %Z")}catch(e){if(!t.rescue(e,[t.const_get_relative(at,"StandardError")]))throw e;try{return q.$strftime("%H:%M:%S %z")}finally{t.pop_exception()}}}()],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=M["$[]"]("localdatetime"))||(A=["localdatetime",C+" "+z],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=M["$[]"]("docdate"))||(A=["docdate",C],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=M["$[]"]("docyear"))||(A=["docyear",N],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=M["$[]"]("doctime"))||(A=["doctime",z],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=M["$[]"]("docdatetime"))||(A=["docdatetime",C+" "+z],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=M["$[]"]("stylesdir"))||(A=["stylesdir","."],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),_(p=M["$[]"]("iconsdir"))||(A=["iconsdir",t.const_get_qualified("::","File").$join(M.$fetch("imagesdir","./images"),"icons")],u(M,"[]=",t.to_a(A)),A[e(A.length,1)]),_(R)&&(_(P=s["$[]"]("extension_registry"))?_(_(p=t.const_get_qualified(t.const_get_relative(at,"Extensions"),"Registry")["$==="](P))?p:_(v=t.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?t.const_get_qualified(t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](P):v)||(P=t.const_get_qualified(t.const_get_relative(at,"Extensions"),"Registry").$new()):P=_(t.const_get_qualified("::","Proc")["$==="](L=s["$[]"]("extensions")))?u(t.const_get_relative(at,"Extensions"),"create",[],L.$to_proc()):t.const_get_qualified(t.const_get_relative(at,"Extensions"),"Registry").$new(),k.extensions=P.$activate(k)),k.reader=t.const_get_relative(at,"PreprocessorReader").$new(k,i,t.const_get_qualified(t.const_get_relative(at,"Reader"),"Cursor").$new(M["$[]"]("docfile"),k.base_dir),d(["normalize"],{normalize:!0})))},l.$$arity=-1),t.defn(st,"$parse",p=function(e){var n,r,i,s=this,$=o,a=o;return null==e&&(e=o),_(s.parsed)?s:($=s,_(e)&&(s.reader=t.const_get_relative(at,"PreprocessorReader").$new($,e,t.const_get_qualified(t.const_get_relative(at,"Reader"),"Cursor").$new(s.attributes["$[]"]("docfile"),s.base_dir),d(["normalize"],{normalize:!0}))),_(_(n=a=_(s.parent_document)?o:s.extensions)?a["$preprocessors?"]():n)&&u(a.$preprocessors(),"each",[],((r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=o),null==t&&(t=o),n.reader=_(e=t.$process_method()["$[]"]($,n.reader))?e:n.reader}).$$s=s,r.$$arity=1,r)),t.const_get_relative(at,"Parser").$parse(s.reader,$,d(["header_only"],{header_only:s.options["$[]"]("parse_header_only")})),s.$restore_attributes(),_(_(n=a)?a["$tree_processors?"]():n)&&u(a.$tree_processors(),"each",[],((i=function(e){i.$$s;var n,r,s=o;return null==e&&(e=o),_(_(n=_(r=s=e.$process_method()["$[]"]($))?t.const_get_relative(at,"Document")["$==="](s):r)?s["$!="]($):n)?$=s:o}).$$s=s,i.$$arity=1,i)),s.parsed=!0,$)},p.$$arity=-1),t.defn(st,"$counter",g=function(n,r){var i,s,$,a=o;return null==r&&(r=o),_(this.parent_document)?this.parent_document.$counter(n,r):_(_(i=s=($=this.attributes["$[]"](n))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](n):i)?(a=[n,(a=[n,this.$nextval($)],u(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],u(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]):_(r)?(a=[n,(a=[n,r["$=="](r.$to_i().$to_s())?r.$to_i():r],u(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],u(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]):(a=[n,(a=[n,this.$nextval(_(s)?$:0)],u(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],u(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)])},g.$$arity=-2),t.defn(st,"$increment_and_store_counter",v=function(e,n){return t.const_get_relative(at,"AttributeEntry").$new(e,this.$counter(e)).$save_to(n.$attributes()).$value()},v.$$arity=2),t.alias(st,"counter_increment","increment_and_store_counter"),t.defn(st,"$nextval",m=function(e){var n=o;return _(t.const_get_qualified("::","Integer")["$==="](e))?r(e,1):(n=e.$to_i(),_(n.$to_s()["$!="](e.$to_s()))?r(e["$[]"](0).$ord(),1).$chr():r(n,1))},m.$$arity=1),t.defn(st,"$register",y=function(n,i){var s,$,a=this,l=o,c=o,d=o,h=o,f=o,p=o,g=o;return"ids"["$==="](l=n)?($=i,s=t.to_ary($),c=null==s[0]?o:s[0],d=null==s[1]?o:s[1],h=a.catalog["$[]"]("ids"),_(s=h["$[]"](c))?s:(f=[c,_($=d)?$:r(r("[",c),"]")],u(h,"[]=",t.to_a(f)),f[e(f.length,1)])):"refs"["$==="](l)?($=i,s=t.to_ary($),c=null==s[0]?o:s[0],p=null==s[1]?o:s[1],d=null==s[2]?o:s[2],_((g=a.catalog["$[]"]("refs"))["$key?"](c))?o:(f=[c,_(s=d)?s:r(r("[",c),"]")],u(a.catalog["$[]"]("ids"),"[]=",t.to_a(f)),f[e(f.length,1)],f=[c,p],u(g,"[]=",t.to_a(f)),f[e(f.length,1)])):"footnotes"["$==="](l)||"indexterms"["$==="](l)?a.catalog["$[]"](n)["$<<"](i):_(a.options["$[]"]("catalog_assets"))?a.catalog["$[]"](n)["$<<"](i):o},y.$$arity=2),t.defn(st,"$footnotes?",b=function(){return!_(this.catalog["$[]"]("footnotes")["$empty?"]())},b.$$arity=0),t.defn(st,"$footnotes",x=function(){return this.catalog["$[]"]("footnotes")},x.$$arity=0),t.defn(st,"$nested?",k=function(){return!!_(this.parent_document)},k.$$arity=0),t.defn(st,"$embedded?",w=function(){return this.attributes["$key?"]("embedded")},w.$$arity=0),t.defn(st,"$extensions?",E=function(){return!!_(this.extensions)},E.$$arity=0),t.defn(st,"$source",A=function(){return _(this.reader)?this.reader.$source():o},A.$$arity=0),t.defn(st,"$source_lines",O=function(){return _(this.reader)?this.reader.$source_lines():o},O.$$arity=0),t.defn(st,"$basebackend?",S=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},S.$$arity=1),t.defn(st,"$title",R=function(){return this.attributes["$[]"]("title")},R.$$arity=0),t.defn(st,"$title=",T=function(n){var r=o,i=o;return _(r=this.header)||(i=["header"],u(r=this.header=t.const_get_relative(at,"Section").$new(this,0,!1),"sectname=",t.to_a(i)),i[e(i.length,1)]),i=[n],u(r,"title=",t.to_a(i)),i[e(i.length,1)]},T.$$arity=1),t.defn(st,"$doctitle",M=function(e){var n,r=this,i=o,s=o,$=o;if(null==e&&(e=d([],{})),_((i=r.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))i=r.$title();else if(_(s=r.$first_section()))i=s.$title();else if(!_(_(n=e["$[]"]("use_fallback"))?i=r.attributes["$[]"]("untitled-label"):n))return o;return _($=e["$[]"]("partition"))?t.const_get_relative(at,"Title").$new(i,e.$merge(d(["separator"],{separator:$["$=="](!0)?r.attributes["$[]"]("title-separator"):$}))):_(_(n=e["$[]"]("sanitize"))?i["$include?"]("<"):n)?i.$gsub(t.const_get_relative(at,"XmlSanitizeRx"),"").$squeeze(" ").$strip():i},M.$$arity=-1),t.alias(st,"name","doctitle"),t.defn(st,"$author",I=function(){return this.attributes["$[]"]("author")},I.$$arity=0),t.defn(st,"$revdate",q=function(){return this.attributes["$[]"]("revdate")},q.$$arity=0),t.defn(st,"$notitle",C=function(){var t;return _(t=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):t},C.$$arity=0),t.defn(st,"$noheader",N=function(){return this.attributes["$key?"]("noheader")},N.$$arity=0),t.defn(st,"$nofooter",z=function(){return this.attributes["$key?"]("nofooter")},z.$$arity=0),t.defn(st,"$first_section",P=function(){var t,e;return _(t=this.header)?t:u(this.blocks,"find",[],((e=function(t){return e.$$s,null==t&&(t=o),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},P.$$arity=0),t.defn(st,"$has_header?",L=function(){return!!_(this.header)},L.$$arity=0),t.alias(st,"header?","has_header?"),t.defn(st,"$<<",D=function(e){var n,r=D.$$p,i=o,s=o;for(r&&(D.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return e.$context()["$=="]("section")&&this.$enumerate_section(e),u(this,t.find_super_dispatcher(this,"<<",D,!1),i,r)},D.$$arity=1),t.defn(st,"$finalize_header",B=function(n,r){var i=o;return null==r&&(r=!0),this.$clear_playback_attributes(n),this.$save_attributes(),_(r)||(i=["invalid-header",!0],u(n,"[]=",t.to_a(i)),i[e(i.length,1)]),n},B.$$arity=-2),t.defn(st,"$save_attributes",j=function(){var n,r,i,s=o,$=o,a=o,l=o,c=o,d=o,h=o,f=o,p=o,g=o;return(s=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(_(_(n=this["$attribute_locked?"]("toc"))?n:this.attributes_modified["$include?"]("toc"))||($=["toc",""],u(s,"[]=",t.to_a($)),$[e($.length,1)]),_(_(n=this["$attribute_locked?"]("sectnums"))?n:this.attributes_modified["$include?"]("sectnums"))||($=["sectnums",""],u(s,"[]=",t.to_a($)),$[e($.length,1)])),_(_(n=s["$key?"]("doctitle"))?n:(a=this.$doctitle())["$!"]())||($=["doctitle",a],u(s,"[]=",t.to_a($)),$[e($.length,1)]),_(this.id)||(this.id=s["$[]"]("css-signature")),l=_(c=_(s.$delete("toc2"))?"left":s["$[]"]("toc"))?_(_(n=d=s.$fetch("toc-placement","macro"))?d["$!="]("auto"):n)?d:s["$[]"]("toc-position"):o,_(_(n=c)?_(r=c["$empty?"]()["$!"]())?r:l["$nil_or_empty?"]()["$!"]():n)&&(h="left",f="toc2",p=_(l["$nil_or_empty?"]()["$!"]())?l:_(c["$empty?"]()["$!"]())?c:h,$=["toc",""],u(s,"[]=",t.to_a($)),$[e($.length,1)],$=["toc-placement","auto"],u(s,"[]=",t.to_a($)),$[e($.length,1)],"left"["$==="](g=p)||"<"["$==="](g)||"&lt;"["$==="](g)?($=["toc-position","left"],u(s,"[]=",t.to_a($)),$[e($.length,1)]):"right"["$==="](g)||">"["$==="](g)||"&gt;"["$==="](g)?($=["toc-position","right"],u(s,"[]=",t.to_a($)),$[e($.length,1)]):"top"["$==="](g)||"^"["$==="](g)?($=["toc-position","top"],u(s,"[]=",t.to_a($)),$[e($.length,1)]):"bottom"["$==="](g)||"v"["$==="](g)?($=["toc-position","bottom"],u(s,"[]=",t.to_a($)),$[e($.length,1)]):"preamble"["$==="](g)||"macro"["$==="](g)?($=["toc-position","content"],u(s,"[]=",t.to_a($)),$[e($.length,1)],$=["toc-placement",p],u(s,"[]=",t.to_a($)),$[e($.length,1)],f=o):(s.$delete("toc-position"),f=o),_(f)&&(_(n=s["$[]"]("toc-class"))||($=["toc-class",f],u(s,"[]=",t.to_a($)),$[e($.length,1)]))),_(this.compat_mode=s["$key?"]("compat-mode"))&&_(s["$key?"]("language"))&&($=["source-language",s["$[]"]("language")],u(s,"[]=",t.to_a($)),$[e($.length,1)]),this.outfilesuffix=s["$[]"]("outfilesuffix"),this.header_attributes=s.$dup(),_(this.parent_document)?o:u(t.const_get_relative(at,"FLEXIBLE_ATTRIBUTES"),"each",[],((i=function(t){var e,n=i.$$s||this;return null==n.attribute_overrides&&(n.attribute_overrides=o),null==t&&(t=o),_(_(e=n.attribute_overrides["$key?"](t))?n.attribute_overrides["$[]"](t):e)?n.attribute_overrides.$delete(t):o}).$$s=this,i.$$arity=1,i))},j.$$arity=0),t.defn(st,"$restore_attributes",F=function(){return _(this.parent_document)||this.callouts.$rewind(),this.attributes=this.header_attributes},F.$$arity=0),t.defn(st,"$clear_playback_attributes",U=function(t){return t.$delete("attribute_entries")},U.$$arity=1),t.defn(st,"$playback_attributes",H=function(n){var r;return _(n["$key?"]("attribute_entries"))?u(n["$[]"]("attribute_entries"),"each",[],((r=function(n){var i=r.$$s||this,s=o,$=o;return null==i.attributes&&(i.attributes=o),null==n&&(n=o),s=n.$name(),_(n.$negate())?(i.attributes.$delete(s),s["$=="]("compat-mode")?i.compat_mode=!1:o):($=[s,n.$value()],u(i.attributes,"[]=",t.to_a($)),$[e($.length,1)],s["$=="]("compat-mode")?i.compat_mode=!0:o)}).$$s=this,r.$$arity=1,r)):o},H.$$arity=1),t.defn(st,"$set_attribute",G=function(n,r){var i=o,s=o,$=o;return null==r&&(r=""),!_(this["$attribute_locked?"](n))&&(i=_(this.max_attribute_value_size)?this.$apply_attribute_value_subs(r).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(r),"backend"["$==="](s=n)?this.$update_backend_attributes(i,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](s)?this.$update_doctype_attributes(i):($=[n,i],u(this.attributes,"[]=",t.to_a($)),$[e($.length,1)]),this.attributes_modified["$<<"](n),i)},G.$$arity=-2),t.defn(st,"$delete_attribute",Y=function(t){return!_(this["$attribute_locked?"](t))&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},Y.$$arity=1),t.defn(st,"$attribute_locked?",W=function(t){return this.attribute_overrides["$key?"](t)},W.$$arity=1),t.defn(st,"$apply_attribute_value_subs",X=function(e){var n;return _(t.const_get_relative(at,"AttributeEntryPassMacroRx")["$=~"](e))?_((n=f["~"])===o?o:n["$[]"](1))?this.$apply_subs((n=f["~"])===o?o:n["$[]"](2),this.$resolve_pass_subs((n=f["~"])===o?o:n["$[]"](1))):(n=f["~"])===o?o:n["$[]"](2):this.$apply_header_subs(e)},X.$$arity=1),t.defn(st,"$update_backend_attributes",K=function(n,r){var i,s,$=o,a=o,l=o,c=o,d=o,f=o,p=o,g=o,v=o,m=o,y=o;return null==r&&(r=o),_(_(i=r)?i:_(s=n)?n["$!="](this.backend):s)?(a=(i=[this.backend,($=this.attributes)["$[]"]("basebackend"),this.doctype])[0],l=i[1],c=i[2],_(n["$start_with?"]("xhtml"))?(d=["htmlsyntax","xml"],u($,"[]=",t.to_a(d)),d[e(d.length,1)],n=n["$[]"](h(1,-1,!1))):_(n["$start_with?"]("html"))&&($["$[]"]("htmlsyntax")["$=="]("xml")||(d=["htmlsyntax","html"],u($,"[]=",t.to_a(d)),d[e(d.length,1)])),_(f=t.const_get_relative(at,"BACKEND_ALIASES")["$[]"](n))&&(n=f),_(c)?(_(a)&&($.$delete("backend-"+a),$.$delete("backend-"+a+"-doctype-"+c)),d=["backend-"+n+"-doctype-"+c,""],u($,"[]=",t.to_a(d)),d[e(d.length,1)],d=["doctype-"+c,""],u($,"[]=",t.to_a(d)),d[e(d.length,1)]):_(a)&&$.$delete("backend-"+a),d=["backend-"+n,""],u($,"[]=",t.to_a(d)),d[e(d.length,1)],this.backend=(d=["backend",n],u($,"[]=",t.to_a(d)),d[e(d.length,1)]),_(t.const_get_qualified(t.const_get_relative(at,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(p=this.converter.$basebackend(),_(this["$attribute_locked?"]("outfilesuffix"))||(d=["outfilesuffix",this.converter.$outfilesuffix()],u($,"[]=",t.to_a(d)),d[e(d.length,1)]),g=this.converter.$filetype()):_(this.converter)?(p=n.$sub(t.const_get_relative(at,"TrailingDigitsRx"),""),_(v=t.const_get_relative(at,"DEFAULT_EXTENSIONS")["$[]"](p))?g=v["$[]"](h(1,-1,!1)):(v=(i=[".html","html","html"])[0],p=i[1],g=i[2]),_(this["$attribute_locked?"]("outfilesuffix"))||(d=["outfilesuffix",v],u($,"[]=",t.to_a(d)),d[e(d.length,1)])):this.$raise(t.const_get_qualified("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+n+"'. Processing aborted."),_(m=$["$[]"]("filetype"))&&$.$delete("filetype-"+m),d=["filetype",g],u($,"[]=",t.to_a(d)),d[e(d.length,1)],d=["filetype-"+g,""],u($,"[]=",t.to_a(d)),d[e(d.length,1)],_(y=t.const_get_relative(at,"DEFAULT_PAGE_WIDTHS")["$[]"](p))?(d=["pagewidth",y],u($,"[]=",t.to_a(d)),d[e(d.length,1)]):$.$delete("pagewidth"),_(p["$!="](l))&&(_(c)?(_(l)&&($.$delete("basebackend-"+l),$.$delete("basebackend-"+l+"-doctype-"+c)),d=["basebackend-"+p+"-doctype-"+c,""],u($,"[]=",t.to_a(d)),d[e(d.length,1)]):_(l)&&$.$delete("basebackend-"+l),d=["basebackend-"+p,""],u($,"[]=",t.to_a(d)),d[e(d.length,1)],d=["basebackend",p],u($,"[]=",t.to_a(d)),d[e(d.length,1)]),n):o},K.$$arity=-2),t.defn(st,"$update_doctype_attributes",V=function(n){var r,i=o,s=o,$=o,a=o,l=o;return _(_(r=n)?n["$!="](this.doctype):r)?(s=(r=[this.backend,(i=this.attributes)["$[]"]("basebackend"),this.doctype])[0],$=r[1],a=r[2],_(a)?(i.$delete("doctype-"+a),_(s)&&(i.$delete("backend-"+s+"-doctype-"+a),l=["backend-"+s+"-doctype-"+n,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)]),_($)&&(i.$delete("basebackend-"+$+"-doctype-"+a),l=["basebackend-"+$+"-doctype-"+n,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)])):(_(s)&&(l=["backend-"+s+"-doctype-"+n,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)]),_($)&&(l=["basebackend-"+$+"-doctype-"+n,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)])),l=["doctype-"+n,""],u(i,"[]=",t.to_a(l)),l[e(l.length,1)],this.doctype=(l=["doctype",n],u(i,"[]=",t.to_a(l)),l[e(l.length,1)])):o},V.$$arity=1),t.defn(st,"$create_converter",J=function(){var n,r,i=this,s=o,$=o,a=o;return n=d([],{}),s=["htmlsyntax",i.attributes["$[]"]("htmlsyntax")],u(n,"[]=",t.to_a(s)),s[e(s.length,1)],$=_(a=i.options["$[]"]("template_dir"))?(s=["template_dirs",[a]],u(n,"[]=",t.to_a(s)),s[e(s.length,1)]):_($=i.options["$[]"]("template_dirs"))?(s=["template_dirs",$],u(n,"[]=",t.to_a(s)),s[e(s.length,1)]):o,_($)&&(s=["template_cache",i.options.$fetch("template_cache",!0)],u(n,"[]=",t.to_a(s)),s[e(s.length,1)],s=["template_engine",i.options["$[]"]("template_engine")],u(n,"[]=",t.to_a(s)),s[e(s.length,1)],s=["template_engine_options",i.options["$[]"]("template_engine_options")],u(n,"[]=",t.to_a(s)),s[e(s.length,1)],s=["eruby",i.options["$[]"]("eruby")],u(n,"[]=",t.to_a(s)),s[e(s.length,1)],s=["safe",i.safe],u(n,"[]=",t.to_a(s)),s[e(s.length,1)]),(_(r=i.options["$[]"]("converter"))?t.const_get_qualified(t.const_get_relative(at,"Converter"),"Factory").$new(t.const_get_qualified("::","Hash")["$[]"](i.$backend(),r)):t.const_get_qualified(t.const_get_relative(at,"Converter"),"Factory").$default(!1)).$create(i.$backend(),n)},J.$$arity=0),t.defn(st,"$convert",Z=function(r){var i,s,$=this,a=o,l=o,c=o,h=o,f=o;return null==r&&(r=d([],{})),_($.parsed)||$.$parse(),_(_(i=n($.safe,t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SERVER")))?i:r["$empty?"]())||(_((a=["outfile",r["$[]"]("outfile")],u($.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]))||$.attributes.$delete("outfile"),_((a=["outdir",r["$[]"]("outdir")],u($.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]))||$.attributes.$delete("outdir")),$.$doctype()["$=="]("inline")?_(l=$.blocks["$[]"](0))&&(_(_(i=l.$content_model()["$=="]("compound"))?i:l.$content_model()["$=="]("empty"))?$.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):c=l.$content()):(h=_(_(r["$key?"]("header_footer"))?r["$[]"]("header_footer"):$.options["$[]"]("header_footer"))?"document":"embedded",c=$.converter.$convert($,h)),_($.parent_document)||_(_(i=f=$.extensions)?f["$postprocessors?"]():i)&&u(f.$postprocessors(),"each",[],((s=function(t){var e=s.$$s||this;return null==t&&(t=o),c=t.$process_method()["$[]"](e,c)}).$$s=$,s.$$arity=1,s)),c},Z.$$arity=-1),t.alias(st,"render","convert"),t.defn(st,"$write",Q=function(e,n){return _(t.const_get_relative(at,"Writer")["$==="](this.converter))?this.converter.$write(e,n):(_(n["$respond_to?"]("write"))?_(e["$nil_or_empty?"]())||(n.$write(e.$chomp()),n.$write(t.const_get_relative(at,"LF"))):t.const_get_qualified("::","IO").$write(n,e),o)},Q.$$arity=2),t.defn(st,"$content",tt=function(){var e,n=tt.$$p,r=o,i=o;for(n&&(tt.$$p=null),i=0,e=arguments.length,r=new Array(e);i<e;i++)r[i]=arguments[i];return this.attributes.$delete("title"),u(this,t.find_super_dispatcher(this,"content",tt,!1),r,n)},tt.$$arity=0),t.defn(st,"$docinfo",et=function(e,i){var s,$,a,l,c,h=o,f=o,p=o,g=o,v=o,m=o,y=o,b=o,x=o;return null==e&&(e="head"),null==i&&(i=o),_(n(this.$safe(),t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SECURE")))?"":(h=[],e["$=="]("head")||(f="-"+e),_(i)||(i=this.outfilesuffix),p=_((p=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?_(this.attributes["$key?"]("docinfo2"))?["private","shared"]:_(this.attributes["$key?"]("docinfo1"))?["shared"]:_(p)?["private"]:o:u(p.$split(","),"map",[],((s=function(t){return s.$$s,null==t&&(t=o),t.$strip()}).$$s=this,s.$$arity=1,s)),_(p)&&(g=($=["docinfo"+f+i,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()])[0],v=$[1],m=$[2],_(p["$&"](["shared","shared-"+e])["$empty?"]())||(y=this.$normalize_system_path(g,v),_(b=this.$read_asset(y,d(["normalize"],{normalize:!0})))&&h["$<<"](this.$apply_subs(b,m))),_(_($=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?$:p["$&"](["private","private-"+e])["$empty?"]())||(y=this.$normalize_system_path(this.attributes["$[]"]("docname")+"-"+g,v),_(x=this.$read_asset(y,d(["normalize"],{normalize:!0})))&&h["$<<"](this.$apply_subs(x,m)))),_(_($=this.extensions)?this["$docinfo_processors?"](e):$)&&(h=r(h,u(this.docinfo_processor_extensions["$[]"](e),"map",[],(a=function(t){var e=a.$$s||this;return null==t&&(t=o),t.$process_method()["$[]"](e)},a.$$s=this,a.$$arity=1,a)).$compact())),l=h,c=t.const_get_relative(at,"LF"),"number"==typeof l&&"number"==typeof c?l*c:l["$*"](c))},et.$$arity=-1),t.defn(st,"$resolve_docinfo_subs",nt=function(){return _(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",o,"docinfo"):["attributes"]},nt.$$arity=0),t.defn(st,"$docinfo_processors?",rt=function(n){var r,i=o;return null==n&&(n="head"),_(this.docinfo_processor_extensions["$key?"](n))?this.docinfo_processor_extensions["$[]"](n)["$!="](!1):_(_(r=this.extensions)?this.document.$extensions()["$docinfo_processors?"](n):r)?(i=[n,this.document.$extensions().$docinfo_processors(n)],u(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])["$!"]()["$!"]():(i=[n,!1],u(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])},rt.$$arity=-1),t.defn(st,"$to_s",it=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(_(t.header["$!="](o))?t.header.$title():o).$inspect()+", blocks: "+t.blocks.$size()+"}>"},it.$$arity=0)}(($=[s].concat(i))[0],t.const_get_relative($,"AbstractBlock"),$)},Opal.modules["asciidoctor/inline"]=function(t){t.top;var e,n,r,i=[],s=t.nil,$=(t.breaker,t.slice,t.module),a=t.klass,o=t.send,l=t.truthy,c=t.hash2;return t.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),e=i,(n=$(i[0],"Asciidoctor")).$$proto,void function(e,n,r){function i(){}var $,_,u,d,h,f,p,g,v=i=a(e,n,"Inline",i),m=v.$$proto;[v].concat(r),m.text=m.type=s,v.$attr_reader("text"),v.$attr_reader("type"),v.$attr_accessor("target"),t.defn(v,"$initialize",$=function(e,n,r,i){var a,_=$.$$p;return null==r&&(r=s),null==i&&(i=c([],{})),_&&($.$$p=null),o(this,t.find_super_dispatcher(this,"initialize",$,!1),[e,n],null),this.node_name="inline_"+n,this.text=r,this.id=i["$[]"]("id"),this.type=i["$[]"]("type"),this.target=i["$[]"]("target"),l((a=i["$[]"]("attributes"))["$nil_or_empty?"]())?s:this.$update_attributes(a)},$.$$arity=-3),t.defn(v,"$block?",_=function(){return!1},_.$$arity=0),t.defn(v,"$inline?",u=function(){return!0},u.$$arity=0),t.defn(v,"$convert",d=function(){return this.$converter().$convert(this)},d.$$arity=0),t.alias(v,"render","convert"),t.defn(v,"$alt",h=function(){return this.$attr("alt")},h.$$arity=0),t.defn(v,"$reftext?",f=function(){var t,e;return l(t=this.text)?l(e=this.type["$=="]("ref"))?e:this.type["$=="]("bibref"):t},f.$$arity=0),t.defn(v,"$reftext",p=function(){var t;return l(t=this.text)?this.$apply_reftext_subs(t):s},p.$$arity=0),t.defn(v,"$xreftext",g=function(t){return null==t&&(t=s),this.$reftext()},g.$$arity=-1)}((r=[n].concat(e))[0],t.const_get_relative(r,"AbstractNode"),r)},Opal.modules["asciidoctor/list"]=function(t){t.top;var e,n,r,i=[],s=t.nil,$=(t.breaker,t.slice,t.module),a=t.klass,o=t.send,l=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$dup","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),e=i,(n=$(i[0],"Asciidoctor")).$$proto,function(e,n,r){function i(){}var $,c,_,u,d=i=a(e,n,"List",i),h=d.$$proto;[d].concat(r),h.context=h.document=h.style=s,t.alias(d,"items","blocks"),t.alias(d,"content","blocks"),t.alias(d,"items?","blocks?"),t.defn(d,"$initialize",$=function(e,n){var r,i=$.$$p,a=s,l=s;for(i&&($.$$p=null),l=0,r=arguments.length,a=new Array(r);l<r;l++)a[l]=arguments[l];return o(this,t.find_super_dispatcher(this,"initialize",$,!1),a,i)},$.$$arity=2),t.defn(d,"$outline?",c=function(){var t;return l(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},c.$$arity=0),t.defn(d,"$convert",_=function(){var e,n=_.$$p,r=s,i=s,$=s;for(n&&(_.$$p=null),$=0,e=arguments.length,i=new Array(e);$<e;$++)i[$]=arguments[$];return this.context["$=="]("colist")?(r=o(this,t.find_super_dispatcher(this,"convert",_,!1),i,n),this.document.$callouts().$next_list(),r):o(this,t.find_super_dispatcher(this,"convert",_,!1),i,n)},_.$$arity=0),t.alias(d,"render","convert"),t.defn(d,"$to_s",u=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},u.$$arity=0)}((r=[n].concat(e))[0],t.const_get_relative(r,"AbstractBlock"),r),void function(e,n,r){function i(){}var $,c,_,u,d,h,f,p,g=i=a(e,n,"ListItem",i),v=g.$$proto,m=[g].concat(r);v.text=v.subs=v.blocks=s,t.alias(g,"list","parent"),g.$attr_accessor("marker"),t.defn(g,"$initialize",$=function(e,n){var r=$.$$p;return null==n&&(n=s),r&&($.$$p=null),o(this,t.find_super_dispatcher(this,"initialize",$,!1),[e,"list_item"],null),this.text=n,this.level=e.$level(),this.subs=t.const_get_relative(m,"NORMAL_SUBS").$dup()},$.$$arity=-2),t.defn(g,"$text?",c=function(){return this.text["$nil_or_empty?"]()["$!"]()},c.$$arity=0),t.defn(g,"$text",_=function(){return this.$apply_subs(this.text,this.subs)},_.$$arity=0),t.defn(g,"$text=",u=function(t){return this.text=t},u.$$arity=1),t.defn(g,"$simple?",d=function(){var e,n,r=s;return l(e=this.blocks["$empty?"]())?e:l(n=this.blocks.$size()["$=="](1)?t.const_get_relative(m,"List")["$==="](r=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?r["$outline?"]():n},d.$$arity=0),t.defn(g,"$compound?",h=function(){return this["$simple?"]()["$!"]()},h.$$arity=0),t.defn(g,"$fold_first",f=function(e,n){var r,i,$,a,o,c=s,_=s;return null==e&&(e=!1),null==n&&(n=!1),l(l(r=l(i=c=this.blocks["$[]"](0))?t.const_get_relative(m,"Block")["$==="](c):i)?l(i=($=c.$context()["$=="]("paragraph"))?e["$!"]():c.$context()["$=="]("paragraph"))?i:l($=l(a=l(o=n)?o:e["$!"]())?c.$context()["$=="]("literal"):a)?c["$option?"]("listparagraph"):$:r)&&(_=this.$blocks().$shift(),l(this.text["$nil_or_empty?"]())||_.$lines().$unshift(this.text),this.text=_.$source()),s},f.$$arity=-1),t.defn(g,"$to_s",p=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(l(t=this.blocks)?t:[]).$size()+"}>"},p.$$arity=0)}(r[0],t.const_get_relative(r,"AbstractBlock"),r)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var $,a,o,l=[],c=t.nil,_=(t.breaker,t.slice,t.module),u=t.klass,d=t.send,h=t.truthy,f=t.hash2,p=t.hash,g=t.gvars,v=t.range;return t.add_stubs(["$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_doctitle?","$attributes","$key?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$attribute_locked?","$set_attr","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$=~","$sub_attributes","$downcase","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$*","$read_lines_until","$match","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$sectname","$+","$to_i","$>","$line_info","$include?","$size","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$path","$lineno","$read_line","$===","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$lstrip","$keys","$chr","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$register","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$update","$process_method","$replace","$peek_line","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_item_list","$each","$catalog_inline_biblio_anchor","$instance_variable_get","$marker","$find","$next_description_list","$underline_style_section_titles","$is_section_title?","$atx_section_title?","$generate_id","$title","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$map!","$split","$pop","$build_block","$chop","$catalog_inline_anchors","$rekey","$index","$slice","$strip","$<","$next_table","$concat","$title?","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$gsub","$reader","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$delete_at","$casecmp","$sectname=","$special=","$numbered=","$special","$numbered","$update_attributes","$peek_lines","$setext_section_title?","$abs","$line_length","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$rstrip","$each_with_index","$map","$compact","$Array","$squeeze","$to_a","$process_attribute_entry","$skip_comment_lines","$advance","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$resolve_ordered_list_marker","$ord","$roman_numeral_to_int","$parse_colspecs","$create_columns","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$post_match","$close_cell","$cell_open?","$columns","$assign_column_widths","$has_header_option=","$partition_header_footer","$upto","$shorthand_property_syntax","$join","$each_char","$call","$sub!","$gsub!","$%","$begin"]),$=l,(a=_(l[0],"Asciidoctor")).$$proto,void function($,a,o){function l(){}var _,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt,it,st,$t,at,ot,lt,ct=l=u($,null,"Parser",l),_t=(ct.$$proto,[ct].concat(o));t.const_set(_t[0],"BlockMatchData",t.const_get_relative(_t,"Struct").$new("context","masq","tip","terminator")),t.const_set(_t[0],"TabRx",/\t/),t.const_set(_t[0],"TabIndentRx",/^\t+/),t.const_set(_t[0],"StartOfBlockProc",d(ct,"lambda",[],((_=function(e){var n,r,i=_.$$s||this;return null==e&&(e=c),h(n=h(r=e["$start_with?"]("["))?t.const_get_relative(_t,"BlockAttributeLineRx")["$match?"](e):r)?n:i["$is_delimited_block?"](e)}).$$s=ct,_.$$arity=1,_))),t.const_set(_t[0],"StartOfListProc",d(ct,"lambda",[],((m=function(e){return m.$$s,null==e&&(e=c),t.const_get_relative(_t,"AnyListRx")["$match?"](e)}).$$s=ct,m.$$arity=1,m))),t.const_set(_t[0],"StartOfBlockOrListProc",d(ct,"lambda",[],((y=function(e){var n,r,i,s=y.$$s||this;return null==e&&(e=c),h(n=h(r=s["$is_delimited_block?"](e))?r:h(i=e["$start_with?"]("["))?t.const_get_relative(_t,"BlockAttributeLineRx")["$match?"](e):i)?n:t.const_get_relative(_t,"AnyListRx")["$match?"](e)}).$$s=ct,y.$$arity=1,y))),t.const_set(_t[0],"NoOp",c),t.const_set(_t[0],"TableCellHorzAlignments",f(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(_t[0],"TableCellVertAlignments",f(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(_t[0],"TableCellStyles",f(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),t.defn(ct,"$initialize",b=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},b.$$arity=0),t.defs(ct,"$parse",x=function(e,n,r){var i,s,$=c,a=c;if(null==r&&(r=f([],{})),$=this.$parse_document_header(e,n),h(r["$[]"]("header_only")));else for(;h(e["$has_more_lines?"]());)s=this.$next_section(e,n,$),a=null==(i=t.to_ary(s))[0]?c:i[0],$=null==i[1]?c:i[1],h(a)&&n["$<<"](a);return n},x.$$arity=-3),t.defs(ct,"$parse_document_header",k=function(n,r){var i,s,$,a=c,o=c,l=c,_=c,u=c,f=c,g=c,v=c,m=c,y=c,b=c;return a=this.$parse_block_metadata_lines(n,r),h(h(i=$=this["$is_next_line_doctitle?"](n,a,r.$attributes()["$[]"]("leveloffset")))?a["$key?"]("title"):i)?r.$finalize_header(a,!1):(o=c,h((l=r.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(_=[o=l],d(r,"title=",t.to_a(_)),_[e(_.length,1)]),u=c,h($)&&(h(r.$sourcemap())&&(f=n.$cursor()),s=this.$parse_section_title(n,r),i=t.to_ary(s),r["$id="](null==i[0]?c:i[0]),null==i[1]||i[1],g=null==i[2]?c:i[2],null==i[3]||i[3],v=null==i[4]?c:i[4],h(o)||(_=[o=g],d(r,"title=",t.to_a(_)),_[e(_.length,1)]),h(h(i=v)?i:r["$attribute_locked?"]("compat-mode"))||r.$set_attr("compat-mode"),h(m=a.$delete("separator"))&&(h(r["$attribute_locked?"]("title-separator"))||r.$set_attr("title-separator",m)),h(f)&&(_=[f],d(r.$header(),"source_location=",t.to_a(_)),_[e(_.length,1)]),_=["doctitle",u=g],d(r.$attributes(),"[]=",t.to_a(_)),_[e(_.length,1)],h(r.$id())?(a.$delete(1),a.$delete("id")):(h(y=a.$delete(1))&&(b=p(1,y),this.$parse_style_attribute(b,n),h(b["$key?"]("id"))&&(_=["id",b["$[]"]("id")],d(a,"[]=",t.to_a(_)),_[e(_.length,1)])),_=[a.$delete("id")],d(r,"id=",t.to_a(_)),_[e(_.length,1)]),this.$parse_header_metadata(n,r)),h(h(i=(l=r.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?i:l["$=="](u))||(_=[o=l],d(r,"title=",t.to_a(_)),_[e(_.length,1)]),h(o)&&(_=["doctitle",o],d(r.$attributes(),"[]=",t.to_a(_)),_[e(_.length,1)]),r.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(n,r),r.$finalize_header(a))},k.$$arity=2),t.defs(ct,"$parse_manpage_header",w=function(r,i){var s,$=c,a=c,o=c;return h(t.const_get_relative(_t,"ManpageTitleVolnumRx")["$=~"](i.$attributes()["$[]"]("doctitle")))?($=["mantitle",i.$sub_attributes(((s=g["~"])===c?c:s["$[]"](1)).$downcase())],d(i.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manvolnum",(s=g["~"])===c?c:s["$[]"](2)],d(i.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]):(this.$warn("asciidoctor: ERROR: "+r.$prev_line_info()+": malformed manpage title"),$=["mantitle",i.$attributes()["$[]"]("doctitle")],d(i.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manvolnum","1"],d(i.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]),r.$skip_blank_lines(),h(this["$is_next_line_section?"](r,f([],{})))?this.$initialize_section(r,i,f([],{})).$level()["$=="](1)?(a=n(r.$read_lines_until(f(["break_on_blank_lines"],{break_on_blank_lines:!0}))," "),h(o=t.const_get_relative(_t,"ManpageNamePurposeRx").$match(a))?($=["manname",i.$sub_attributes(o["$[]"](1))],d(i.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manpurpose",o["$[]"](2)],d(i.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],i.$backend()["$=="]("manpage")?($=["docname",i.$attributes()["$[]"]("manname")],d(i.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["outfilesuffix","."+i.$attributes()["$[]"]("manvolnum")],d(i.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]):c):this.$warn("asciidoctor: ERROR: "+r.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+r.$prev_line_info()+": name section title must be at level 1"):this.$warn("asciidoctor: ERROR: "+r.$prev_line_info()+": name section expected")},w.$$arity=2),t.defs(ct,"$next_section",E=function(s,$,a){var o,l,_,u=c,p=c,g=c,v=c,m=c,y=c,b=c,x=c,k=c,w=c,E=c,A=c,O=c,S=c,R=c,T=c,M=c;for(null==a&&(a=f([],{})),u=p=g=!1,h(h(o=(l=$.$context()["$=="]("document"))?$.$blocks()["$empty?"]():$.$context()["$=="]("document"))?h(l=h(_=v=$["$has_header?"]())?_:a.$delete("invalid-header"))?l:this["$is_next_line_section?"](s,a)["$!"]():o)?(m=(y=$).$doctype(),h(h(o=v)?o:(l=m["$=="]("book"))?a["$[]"](1)["$!="]("abstract"):m["$=="]("book"))&&(u=p=t.const_get_relative(_t,"Block").$new($,"preamble",f(["content_model"],{content_model:"compound"})),h((o=m["$=="]("book"))?$["$attr?"]("preface-title"):m["$=="]("book"))&&(b=[$.$attr("preface-title")],d(u,"title=",t.to_a(b)),b[e(b.length,1)]),$["$<<"](u)),x=$,k=0,w=h($.$attributes()["$key?"]("fragment"))?c:m["$=="]("book")?[0,1]:[1]):(m=(y=$.$document()).$doctype(),x=this.$initialize_section(s,$,a),a=h(E=a["$[]"]("title"))?f(["title"],{title:E}):f([],{}),g=x.$sectname()["$=="]("part"),w=[r(k=x.$level(),1)]),s.$skip_blank_lines();h(s["$has_more_lines?"]());){if(this.$parse_block_metadata_lines(s,y,a),h(A=this["$is_next_line_section?"](s,a))){if(h(y["$attr?"]("leveloffset"))&&(A=r(A,y.$attr("leveloffset").$to_i())),!h(h(l=i(A,k))?l:(_=A["$=="](0))?x.$context()["$=="]("document"):A["$=="](0))){h((l=A["$=="](0))?m["$!="]("book"):A["$=="](0))&&this.$warn("asciidoctor: ERROR: "+s.$line_info()+": only book doctypes can contain level 0 sections");break}h((l=A["$=="](0))?m["$!="]("book"):A["$=="](0))?this.$warn("asciidoctor: ERROR: "+s.$line_info()+": only book doctypes can contain level 0 sections"):h(h(l=w)?w["$include?"](A)["$!"]():l)&&this.$warn("asciidoctor: WARNING: "+s.$line_info()+": section title out of sequence: expected "+(h(i(w.$size(),1))?"levels":"level")+" "+n(w," or ")+", got level "+A),_=this.$next_section(s,x,a),O=null==(l=t.to_ary(_))[0]?c:l[0],a=null==l[1]?c:l[1],x["$<<"](O)}else S=s.$line_info(),h(R=this.$next_block(s,h(l=p)?l:x,a,f(["parse_metadata"],{parse_metadata:!1})))&&(h(g)&&(h(x["$blocks?"]()["$!"]())?h(R.$style()["$!="]("partintro"))&&(R.$context()["$=="]("paragraph")?(b=["open"],d(R,"context=",t.to_a(b)),b[e(b.length,1)],b=["partintro"],d(R,"style=",t.to_a(b)),b[e(b.length,1)]):(p=t.const_get_relative(_t,"Block").$new(x,"open",f(["content_model"],{content_model:"compound"})),b=["partintro"],d(p,"style=",t.to_a(b)),b[e(b.length,1)],b=[p],d(R,"parent=",t.to_a(b)),b[e(b.length,1)],x["$<<"](p))):x.$blocks().$size()["$=="](1)&&(T=x.$blocks()["$[]"](0),h(h(l=p["$!"]())?T.$content_model()["$=="]("compound"):l)?this.$warn("asciidoctor: ERROR: "+S+": illegal block content outside of partintro block"):h(T.$content_model()["$!="]("compound"))&&(p=t.const_get_relative(_t,"Block").$new(x,"open",f(["content_model"],{content_model:"compound"})),b=["partintro"],d(p,"style=",t.to_a(b)),b[e(b.length,1)],x.$blocks().$shift(),T.$style()["$=="]("partintro")&&(b=["paragraph"],d(T,"context=",t.to_a(b)),b[e(b.length,1)],b=[c],d(T,"style=",t.to_a(b)),b[e(b.length,1)]),b=[p],d(T,"parent=",t.to_a(b)),b[e(b.length,1)],p["$<<"](T),b=[p],d(R,"parent=",t.to_a(b)),b[e(b.length,1)],x["$<<"](p)))),(h(l=p)?l:x)["$<<"](R),a=f([],{}));if(!h(l=s.$skip_blank_lines()))break}if(h(g))h(h(o=x["$blocks?"]())?x.$blocks()["$[]"](-1).$context()["$=="]("section"):o)||this.$warn("asciidoctor: ERROR: "+s.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(h(u))if(h(u["$blocks?"]())){if(h(h(o=h(l=t.const_get_relative(_t,"Compliance").$unwrap_standalone_preamble())?y.$blocks().$size()["$=="](1):l)?m["$!="]("book"):o))for(y.$blocks().$shift();h(M=u.$blocks().$shift());)b=[y],d(M,"parent=",t.to_a(b)),b[e(b.length,1)],y["$<<"](M)}else y.$blocks().$shift();return[h(x["$!="]($))?x:c,a.$dup()]},E.$$arity=-3),t.defs(ct,"$next_block",A=function($,a,o,l){try{var _,u,p,m,y,b,x,k,w,E,A,O,S,R,T=this,M=c,I=c,q=c,C=c,N=c,z=c,P=c,L=c,D=c,B=c,j=c,F=c,U=c,H=c,G=c,Y=c,W=c,X=c,K=c,V=c,J=c,Z=c,Q=c,tt=c,et=c,nt=c,rt=c,it=c,st=c,$t=c,at=c,ot=c,lt=c,ct=c,ut=c,dt=c,ht=c,ft=c,pt=c,gt=c,vt=c,mt=c,yt=c,bt=c,xt=c,kt=c,wt=c,Et=c,At=c,Ot=c;if(null==o&&(o=f([],{})),null==l&&(l=f([],{})),!h(M=$.$skip_blank_lines()))return c;if(h(h(_=I=l["$[]"]("text"))?i(M,0):_)&&(l.$delete("text"),I=!1),q=a.$document(),h(l.$fetch("parse_metadata",!0)))for(;h(T.$parse_block_metadata_line($,q,o,l));)$.$shift(),h(u=$.$skip_blank_lines())||t.ret(c);if(h(C=q.$extensions())&&(N=(_=[C["$blocks?"](),C["$block_macros?"]()])[0],z=_[1]),h(q.$sourcemap())&&(P=$.$cursor()),A=(_=[$.$path(),$.$lineno(),$.$read_line(),t.const_get_relative(_t,"ListItem")["$==="](a)])[0],O=_[1],L=_[2],S=_[3],D=B=j=F=c,U=h(o["$[]"](1))?T.$parse_style_attribute(o,$):c,h(H=T["$is_delimited_block?"](L,!0))&&(B=j=H.$context(),F=H.$terminator(),h(U["$!"]())?(G=["style",B.$to_s()],d(o,"[]=",t.to_a(G)),U=G[e(G.length,1)]):h(U["$!="](B.$to_s()))&&(h(H.$masq()["$include?"](U))?B=U.$to_sym():h(h(_=H.$masq()["$include?"]("admonition"))?t.const_get_relative(_t,"ADMONITION_STYLES")["$include?"](U):_)?B="admonition":h(h(_=N)?C["$registered_for_block?"](U,B):_)?B=U.$to_sym():(T.$warn("asciidoctor: WARNING: "+A+": line "+O+": invalid style for "+B+" block: "+U),U=B.$to_s()))),h(H));else for(;h(!0);){if(h(h(u=h(p=U)?t.const_get_relative(_t,"Compliance").$strict_verbatim_paragraphs():p)?t.const_get_relative(_t,"VERBATIM_STYLES")["$include?"](U):u)){B=U.$to_sym(),$.$unshift_line(L);break}if(h(I))Y=L["$start_with?"](" ",t.const_get_relative(_t,"TAB"));else if(W=t.const_get_relative(_t,"Compliance").$markdown_syntax(),h(L["$start_with?"](" "))){if(Y=(u=[!0," "])[0],X=u[1],h(h(u=h(p=W)?d(L.$lstrip(),"start_with?",t.to_a(t.const_get_relative(_t,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):p)?t.const_get_relative(_t,"MarkdownThematicBreakRx")["$match?"](L):u)){D=t.const_get_relative(_t,"Block").$new(a,"thematic_break",f(["content_model"],{content_model:"empty"}));break}}else if(h(L["$start_with?"](t.const_get_relative(_t,"TAB"))))u=[!0,t.const_get_relative(_t,"TAB")],Y=u[0],X=u[1];else{if(u=[!1,L.$chr()],Y=u[0],X=u[1],K=h(W)?t.const_get_relative(_t,"HYBRID_LAYOUT_BREAK_CHARS"):t.const_get_relative(_t,"LAYOUT_BREAK_CHARS"),h(h(u=K["$key?"](X))?h(W)?t.const_get_relative(_t,"ExtLayoutBreakRx")["$match?"](L):(p=L["$=="](n(X,V=L.$length())))?i(V,2):L["$=="](n(X,V=L.$length())):u)){D=t.const_get_relative(_t,"Block").$new(a,K["$[]"](X),f(["content_model"],{content_model:"empty"}));break}if(h(h(u=L["$end_with?"]("]"))?L["$include?"]("::"):u)){if(h(h(u=h(p=X["$=="]("i"))?p:L["$start_with?"]("video:","audio:"))?J=t.const_get_relative(_t,"BlockMediaMacroRx").$match(L):u)){if(Z=(u=[J["$[]"](1).$to_sym(),J["$[]"](2)])[0],Q=u[1],D=t.const_get_relative(_t,"Block").$new(a,Z,f(["content_model"],{content_model:"empty"})),et="video"["$==="](tt=Z)?["poster","width","height"]:"audio"["$==="](tt)?[]:["alt","width","height"],D.$parse_attributes(J["$[]"](3),et,f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:o})),h(o["$key?"]("style"))&&o.$delete("style"),h(h(u=Q["$include?"](t.const_get_relative(_t,"ATTR_REF_HEAD")))?(Q=D.$sub_attributes(Q,f(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():u))return q.$attributes().$fetch("attribute-missing",t.const_get_relative(_t,"Compliance").$attribute_missing())["$=="]("skip")?t.const_get_relative(_t,"Block").$new(a,"paragraph",f(["content_model","source"],{content_model:"simple",source:[L]})):(o.$clear(),c);Z["$=="]("image")&&(D.$document().$register("images",Q),h(u=o["$[]"]("alt"))||(G=["alt",h(p=U)?p:(G=["default-alt",t.const_get_relative(_t,"Helpers").$basename(Q,!0).$tr("_-"," ")],d(o,"[]=",t.to_a(G)),G[e(G.length,1)])],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),h((nt=o.$delete("scaledwidth"))["$nil_or_empty?"]())||(G=["scaledwidth",h(t.const_get_relative(_t,"TrailingDigitsRx")["$match?"](nt))?nt+"%":nt],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),G=[o.$delete("title")],d(D,"title=",t.to_a(G)),G[e(G.length,1)],D.$assign_caption(o.$delete("caption"),"figure")),G=["target",Q],d(o,"[]=",t.to_a(G)),G[e(G.length,1)];break}if(h(h(u=(p=X["$=="]("t"))?L["$start_with?"]("toc:"):X["$=="]("t"))?J=t.const_get_relative(_t,"BlockTocMacroRx").$match(L):u)){(D=t.const_get_relative(_t,"Block").$new(a,"toc",f(["content_model"],{content_model:"empty"}))).$parse_attributes(J["$[]"](1),[],f(["sub_result","into"],{sub_result:!1,into:o}));break}if(h(h(u=h(p=z)?J=t.const_get_relative(_t,"CustomBlockMacroRx").$match(L):p)?rt=C["$registered_for_block_macro?"](J["$[]"](1)):u)){if(Q=J["$[]"](2),it=J["$[]"](3),rt.$config()["$[]"]("content_model")["$=="]("attributes")?h(it["$empty?"]())||q.$parse_attributes(it,h(u=rt.$config()["$[]"]("pos_attrs"))?u:[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:o})):(G=["text",it],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),h(st=rt.$config()["$[]"]("default_attrs"))&&d(o,"update",[st],((m=function(t,e){return m.$$s,null==t&&(t=c),null==e&&(e=c),e}).$$s=T,m.$$arity=2,m)),h(D=rt.$process_method()["$[]"](a,Q,o))){o.$replace(D.$attributes());break}return o.$clear(),c}}}if(h(h(u=h(p=h(y=Y["$!"]())?t.const_get_relative(_t,"CALLOUT_LIST_HEADS")["$include?"](X=h(b=X)?b:L.$chr()):y)?t.const_get_relative(_t,"CalloutListSniffRx")["$match?"](L):p)?J=t.const_get_relative(_t,"CalloutListRx").$match(L):u)){for(D=t.const_get_relative(_t,"List").$new(a,"colist"),G=["style","arabic"],d(o,"[]=",t.to_a(G)),G[e(G.length,1)],$.$unshift_line(L),$t=1;h(h(p=J)?p:h(y=$["$has_more_lines?"]())?J=t.const_get_relative(_t,"CalloutListRx").$match($.$peek_line()):y);)at=$.$lineno(),J["$[]"](1)["$=="]($t.$to_s())||T.$warn("asciidoctor: WARNING: "+$.$path()+": line "+at+": callout list item index: expected "+$t+" got "+J["$[]"](1)),h(ot=T.$next_list_item($,D,J))&&(D["$<<"](ot),h((lt=q.$callouts().$callout_ids(D.$items().$size()))["$empty?"]())?T.$warn("asciidoctor: WARNING: "+$.$path()+": line "+at+": no callouts refer to list item "+D.$items().$size()):(G=["coids",lt],d(ot.$attributes(),"[]=",t.to_a(G)),G[e(G.length,1)])),$t=r($t,1),J=c;q.$callouts().$next_list();break}if(h(t.const_get_relative(_t,"UnorderedListRx")["$match?"](L))){$.$unshift_line(L),D=T.$next_item_list($,"ulist",a),(h(u=U)?u:h(p=t.const_get_relative(_t,"Section")["$==="](a))?a.$sectname():p)["$=="]("bibliography")&&(h(U)||(G=["style","bibliography"],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),d(D.$items(),"each",[],((x=function(t){var e=x.$$s||this;return null==t&&(t=c),e.$catalog_inline_biblio_anchor(t.$instance_variable_get("@text"),t,q)}).$$s=T,x.$$arity=1,x)));break}if(h(J=t.const_get_relative(_t,"OrderedListRx").$match(L))){$.$unshift_line(L),D=T.$next_item_list($,"olist",a),h(U)||(ct=D.$items()["$[]"](0).$marker(),h(ct["$start_with?"]("."))?(G=["style",(h(u=t.const_get_relative(_t,"ORDERED_LIST_STYLES")["$[]"](e(ct.$length(),1)))?u:"arabic").$to_s()],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]):(G=["style",(h(u=d(t.const_get_relative(_t,"ORDERED_LIST_STYLES"),"find",[],(k=function(e){return k.$$s,null==e&&(e=c),t.const_get_relative(_t,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](ct)},k.$$s=T,k.$$arity=1,k)))?u:"arabic").$to_s()],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]));break}if(h(J=t.const_get_relative(_t,"DescriptionListRx").$match(L))){$.$unshift_line(L),D=T.$next_description_list($,J,a);break}if(h(h(u=h(p=U["$=="]("float"))?p:U["$=="]("discrete"))?h(t.const_get_relative(_t,"Compliance").$underline_style_section_titles())?T["$is_section_title?"](L,$.$peek_line()):h(p=Y["$!"]())?T["$atx_section_title?"](L):p:u)){$.$unshift_line(L),p=T.$parse_section_title($,q),ut=null==(u=t.to_ary(p))[0]?c:u[0],dt=null==u[1]?c:u[1],ht=null==u[2]?c:u[2],ft=null==u[3]?c:u[3],null==u[4]||u[4],h(dt)&&(G=["reftext",dt],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),D=t.const_get_relative(_t,"Block").$new(a,"floating_title",f(["content_model"],{content_model:"empty"})),G=[ht],d(D,"title=",t.to_a(G)),G[e(G.length,1)],o.$delete("title"),G=[h(u=h(p=ut)?p:o["$[]"]("id"))?u:h(q.$attributes()["$key?"]("sectids"))?t.const_get_relative(_t,"Section").$generate_id(D.$title(),q):c],d(D,"id=",t.to_a(G)),G[e(G.length,1)],G=[ft],d(D,"level=",t.to_a(G)),G[e(G.length,1)];break}if(h(h(u=U)?U["$!="]("normal"):u)){if(h(t.const_get_relative(_t,"PARAGRAPH_STYLES")["$include?"](U))){B=U.$to_sym(),j="paragraph",$.$unshift_line(L);break}if(h(t.const_get_relative(_t,"ADMONITION_STYLES")["$include?"](U))){B="admonition",j="paragraph",$.$unshift_line(L);break}if(h(h(u=N)?C["$registered_for_block?"](U,"paragraph"):u)){B=U.$to_sym(),j="paragraph",$.$unshift_line(L);break}T.$warn("asciidoctor: WARNING: "+A+": line "+O+": invalid style for paragraph: "+U),U=c}if(pt=(u=M["$=="](0))?S:M["$=="](0),$.$unshift_line(L),h(h(u=Y)?U["$!"]():u))gt=T.$read_paragraph_lines($,pt,f(["skip_line_comments"],{skip_line_comments:I})),T["$adjust_indentation!"](gt),D=t.const_get_relative(_t,"Block").$new(a,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",source:gt,attributes:o})),h(S)&&D.$set_option("listparagraph");else{if(gt=T.$read_paragraph_lines($,pt,f(["skip_line_comments"],{skip_line_comments:!0})),h(I))h(h(u=Y)?U["$=="]("normal"):u)&&T["$adjust_indentation!"](gt),D=t.const_get_relative(_t,"Block").$new(a,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:gt,attributes:o}));else if(h(h(u=h(p=t.const_get_relative(_t,"ADMONITION_STYLE_HEADS")["$include?"](X))?L["$include?"](":"):p)?t.const_get_relative(_t,"AdmonitionParagraphRx")["$=~"](L):u))G=[0,(u=g["~"])===c?c:u.$post_match()],d(gt,"[]=",t.to_a(G)),G[e(G.length,1)],G=["name",vt=(G=["style",(u=g["~"])===c?c:u["$[]"](1)],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]).$downcase()],d(o,"[]=",t.to_a(G)),G[e(G.length,1)],G=["textlabel",h(u=o.$delete("caption"))?u:q.$attributes()["$[]"](vt+"-caption")],d(o,"[]=",t.to_a(G)),G[e(G.length,1)],D=t.const_get_relative(_t,"Block").$new(a,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:gt,attributes:o}));else if(h(h(u=h(p=W)?X["$=="](">"):p)?L["$start_with?"]("> "):u)){if(d(gt,"map!",[],((w=function(t){return w.$$s,null==t&&(t=c),t["$=="](">")?t["$[]"](v(1,-1,!1)):h(t["$start_with?"]("> "))?t["$[]"](v(2,-1,!1)):t}).$$s=T,w.$$arity=1,w)),h(gt["$[]"](-1)["$start_with?"]("-- ")))for(p=gt.$pop()["$[]"](v(3,-1,!1)).$split(", ",2),mt=null==(u=t.to_ary(p))[0]?c:u[0],yt=null==u[1]?c:u[1],h(mt)&&(G=["attribution",mt],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),h(yt)&&(G=["citetitle",yt],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]);h(gt["$[]"](-1)["$empty?"]());)gt.$pop();G=["style","quote"],d(o,"[]=",t.to_a(G)),G[e(G.length,1)],D=T.$build_block("quote","compound",!1,a,t.const_get_relative(_t,"Reader").$new(gt),o)}else if(h(h(u=h(p=(y=X["$=="]('"'))?i(gt.$size(),1):X["$=="]('"'))?gt["$[]"](-1)["$start_with?"]("-- "):p)?gt["$[]"](-2)["$end_with?"]('"'):u)){for(G=[0,L["$[]"](v(1,-1,!1))],d(gt,"[]=",t.to_a(G)),G[e(G.length,1)],p=gt.$pop()["$[]"](v(3,-1,!1)).$split(", ",2),mt=null==(u=t.to_ary(p))[0]?c:u[0],yt=null==u[1]?c:u[1],h(mt)&&(G=["attribution",mt],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),h(yt)&&(G=["citetitle",yt],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]);h(gt["$[]"](-1)["$empty?"]());)gt.$pop();G=[-1,gt["$[]"](-1).$chop()],d(gt,"[]=",t.to_a(G)),G[e(G.length,1)],G=["style","quote"],d(o,"[]=",t.to_a(G)),G[e(G.length,1)],D=t.const_get_relative(_t,"Block").$new(a,"quote",f(["content_model","source","attributes"],{content_model:"simple",source:gt,attributes:o}))}else h(h(u=Y)?U["$=="]("normal"):u)&&T["$adjust_indentation!"](gt),D=t.const_get_relative(_t,"Block").$new(a,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:gt,attributes:o}));T.$catalog_inline_anchors(n(gt,t.const_get_relative(_t,"LF")),D,q)}break}if(h(D));else if(h(h(_=B["$=="]("abstract"))?_:B["$=="]("partintro"))&&(B="open"),"admonition"["$==="](tt=B))G=["name",vt=U.$downcase()],d(o,"[]=",t.to_a(G)),G[e(G.length,1)],G=["textlabel",h(_=o.$delete("caption"))?_:q.$attributes()["$[]"](vt+"-caption")],d(o,"[]=",t.to_a(G)),G[e(G.length,1)],D=T.$build_block(B,"compound",F,a,$,o);else{if("comment"["$==="](tt))return T.$build_block(B,"skip",F,a,$,o),o.$clear(),c;if("example"["$==="](tt))D=T.$build_block(B,"compound",F,a,$,o);else if("listing"["$==="](tt)||"literal"["$==="](tt))D=T.$build_block(B,"verbatim",F,a,$,o);else if("source"["$==="](tt))t.const_get_relative(_t,"AttributeList").$rekey(o,[c,"language","linenums"]),h(o["$key?"]("language"))||h(q.$attributes()["$key?"]("source-language"))&&(G=["language",h(_=q.$attributes()["$[]"]("source-language"))?_:"text"],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),h(o["$key?"]("linenums"))||h(h(_=o["$key?"]("linenums-option"))?_:q.$attributes()["$key?"]("source-linenums-option"))&&(G=["linenums",""],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),h(o["$key?"]("indent"))||h(q.$attributes()["$key?"]("source-indent"))&&(G=["indent",q.$attributes()["$[]"]("source-indent")],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),D=T.$build_block("listing","verbatim",F,a,$,o);else if("fenced_code"["$==="](tt))G=["style","source"],d(o,"[]=",t.to_a(G)),G[e(G.length,1)],(V=L.$length())["$=="](3)?bt=c:h(xt=(bt=L.$slice(3,V)).$index(","))?h(i(xt,0))?(bt=bt.$slice(0,xt).$strip(),h(s(xt,e(V,4)))&&(G=["linenums",""],d(o,"[]=",t.to_a(G)),G[e(G.length,1)])):(bt=c,h(i(V,4))&&(G=["linenums",""],d(o,"[]=",t.to_a(G)),G[e(G.length,1)])):bt=bt.$lstrip(),h(bt["$nil_or_empty?"]())?h(q.$attributes()["$key?"]("source-language"))&&(G=["language",h(_=q.$attributes()["$[]"]("source-language"))?_:"text"],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]):(G=["language",bt],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),h(o["$key?"]("linenums"))||h(h(_=o["$key?"]("linenums-option"))?_:q.$attributes()["$key?"]("source-linenums-option"))&&(G=["linenums",""],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),h(o["$key?"]("indent"))||h(q.$attributes()["$key?"]("source-indent"))&&(G=["indent",q.$attributes()["$[]"]("source-indent")],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),F=F.$slice(0,3),D=T.$build_block("listing","verbatim",F,a,$,o);else if("pass"["$==="](tt))D=T.$build_block(B,"raw",F,a,$,o);else if("stem"["$==="](tt)||"latexmath"["$==="](tt)||"asciimath"["$==="](tt))B["$=="]("stem")&&(G=["style",h(kt=o["$[]"](2))?h(kt["$include?"]("tex"))?"latexmath":"asciimath":h((wt=q.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":wt],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),D=T.$build_block("stem","raw",F,a,$,o);else if("open"["$==="](tt)||"sidebar"["$==="](tt))D=T.$build_block(B,"compound",F,a,$,o);else if("table"["$==="](tt))Et=t.const_get_relative(_t,"Reader").$new($.$read_lines_until(f(["terminator","skip_line_comments"],{terminator:F,skip_line_comments:!0})),$.$cursor()),h(F["$start_with?"]("|","!"))||h(_=o["$[]"]("format"))||(G=["format",h(F["$start_with?"](","))?"csv":"dsv"],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),D=T.$next_table(Et,a,o);else if("quote"["$==="](tt)||"verse"["$==="](tt))t.const_get_relative(_t,"AttributeList").$rekey(o,[c,"attribution","citetitle"]),D=T.$build_block(B,B["$=="]("verse")?"verbatim":"compound",F,a,$,o);else if(h(h(_=N)?rt=C["$registered_for_block?"](B,j):_)){if(h((At=rt.$config()["$[]"]("content_model"))["$!="]("skip"))&&(h((Ot=h(_=rt.$config()["$[]"]("pos_attrs"))?_:[])["$empty?"]()["$!"]())&&t.const_get_relative(_t,"AttributeList").$rekey(o,[c].$concat(Ot)),h(st=rt.$config()["$[]"]("default_attrs"))&&d(st,"each",[],((E=function(n,r){var i;return E.$$s,null==n&&(n=c),null==r&&(r=c),h(i=o["$[]"](n))?i:(G=[n,r],d(o,"[]=",t.to_a(G)),G[e(G.length,1)])}).$$s=T,E.$$arity=2,E)),G=["cloaked-context",j],d(o,"[]=",t.to_a(G)),G[e(G.length,1)]),D=T.$build_block(B,At,F,a,$,o,f(["extension"],{extension:rt})),!h(D))return o.$clear(),c}else T.$raise("Unsupported block type "+B+" at "+$.$line_info())}return h(P)&&(G=[P],d(D,"source_location=",t.to_a(G)),G[e(G.length,1)]),h(o["$key?"]("title"))&&(G=[o.$delete("title")],d(D,"title=",t.to_a(G)),G[e(G.length,1)]),G=[o["$[]"]("style")],d(D,"style=",t.to_a(G)),G[e(G.length,1)],h(R=h(_=D.$id())?_:(G=[o["$[]"]("id")],d(D,"id=",t.to_a(G)),G[e(G.length,1)]))&&(h(q.$register("refs",[R,D,h(_=o["$[]"]("reftext"))?_:h(D["$title?"]())?D.$title():c]))||T.$warn("asciidoctor: WARNING: "+A+": line "+O+": id assigned to block already in use: "+R)),h(o["$empty?"]())||D.$attributes().$update(o),D.$lock_in_subs(),h(D["$sub?"]("callouts"))&&(h(T.$catalog_callouts(D.$source(),q))||D.$remove_sub("callouts")),D}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-3),t.defs(ct,"$read_paragraph_lines",O=function(n,r,i){var s=c,$=c;return null==i&&(i=f([],{})),s=["break_on_blank_lines",!0],d(i,"[]=",t.to_a(s)),s[e(s.length,1)],s=["break_on_list_continuation",!0],d(i,"[]=",t.to_a(s)),s[e(s.length,1)],s=["preserve_last_line",!0],d(i,"[]=",t.to_a(s)),s[e(s.length,1)],$=h(r)?h(t.const_get_relative(_t,"Compliance").$block_terminates_paragraph())?t.const_get_relative(_t,"StartOfBlockOrListProc"):t.const_get_relative(_t,"StartOfListProc"):h(t.const_get_relative(_t,"Compliance").$block_terminates_paragraph())?t.const_get_relative(_t,"StartOfBlockProc"):t.const_get_relative(_t,"NoOp"),d(n,"read_lines_until",[i],$.$to_proc())},O.$$arity=-3),t.defs(ct,"$is_delimited_block?",S=function(r,$){var a,o,l,_,u=c,d=c,f=c,p=c,g=c,m=c,y=c;if(null==$&&($=!1),!h(h(a=i(u=r.$length(),1))?t.const_get_relative(_t,"DELIMITED_BLOCK_HEADS")["$include?"](r.$slice(0,2)):a))return c;if(u["$=="](2))d=r,f=2;else{if(h((_=4,"number"==typeof(l=u)&&"number"==typeof _?l<=_:l["$<="](_)))?(d=r,f=u):(d=r.$slice(0,4),f=4),p=!1,h(t.const_get_relative(_t,"Compliance").$markdown_syntax())&&(g=f["$=="](4)?d.$chop():d)["$=="]("```")){if(h((a=f["$=="](4))?d["$end_with?"]("`"):f["$=="](4)))return c;d=g,f=3,p=!0}if(h((a=f["$=="](3))?p["$!"]():f["$=="](3)))return c}return h(t.const_get_relative(_t,"DELIMITED_BLOCKS")["$key?"](d))?h(h(a=s(f,4))?a:f["$=="](u))?!h($)||(o=t.const_get_relative(_t,"DELIMITED_BLOCKS")["$[]"](d),m=null==(a=t.to_ary(o))[0]?c:a[0],y=null==a[1]?c:a[1],t.const_get_relative(_t,"BlockMatchData").$new(m,y,d,d)):(""+d+n(d["$[]"](v(-1,-1,!1)),e(u,f)))["$=="](r)?!h($)||(o=t.const_get_relative(_t,"DELIMITED_BLOCKS")["$[]"](d),m=null==(a=t.to_ary(o))[0]?c:a[0],y=null==a[1]?c:a[1],t.const_get_relative(_t,"BlockMatchData").$new(m,y,d,r)):c:c},S.$$arity=-2),t.defs(ct,"$build_block",R=function(n,r,s,$,a,o,l){var _,u,p=c,g=c,v=c,m=c,y=c,b=c,x=c,k=c,w=c;if(null==l&&(l=f([],{})),r["$=="]("skip")?(p=(_=[!0,"simple"])[0],g=_[1]):r["$=="]("raw")?(p=(_=[!1,"simple"])[0],g=_[1]):(p=(_=[!1,r])[0],g=_[1]),h(s["$nil?"]())?(g["$=="]("verbatim")?v=a.$read_lines_until(f(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(r["$=="]("compound")&&(r="simple"),v=this.$read_paragraph_lines(a,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:p}))),m=c):h(g["$!="]("compound"))?(v=a.$read_lines_until(f(["terminator","skip_processing"],{terminator:s,skip_processing:p})),m=c):s["$=="](!1)?(v=c,m=a):(v=c,m=t.const_get_relative(_t,"Reader").$new(a.$read_lines_until(f(["terminator","skip_processing"],{terminator:s,skip_processing:p})),a.$cursor())),r["$=="]("verbatim"))h(y=o["$[]"]("indent"))?this["$adjust_indentation!"](v,y,h(_=o["$[]"]("tabsize"))?_:$.$document().$attributes()["$[]"]("tabsize")):h(i(b=(h(_=o["$[]"]("tabsize"))?_:$.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&this["$adjust_indentation!"](v,c,b);else if(r["$=="]("skip"))return c;if(h(x=l["$[]"]("extension"))){if(o.$delete("style"),!h(k=x.$process_method()["$[]"]($,h(_=m)?_:t.const_get_relative(_t,"Reader").$new(v),o.$dup())))return c;o.$replace(k.$attributes()),h((_=k.$content_model()["$=="]("compound"))?(v=k.$lines())["$nil_or_empty?"]()["$!"]():k.$content_model()["$=="]("compound"))&&(r="compound",m=t.const_get_relative(_t,"Reader").$new(v))}else k=t.const_get_relative(_t,"Block").$new($,n,f(["content_model","source","attributes"],{content_model:r,source:v,attributes:o}));return h(h(_=h(u=o["$key?"]("title"))?k.$context()["$!="]("admonition"):u)?$.$document().$attributes()["$key?"](k.$context()+"-caption"):_)&&(w=[o.$delete("title")],d(k,"title=",t.to_a(w)),w[e(w.length,1)],k.$assign_caption(o.$delete("caption"))),r["$=="]("compound")&&this.$parse_blocks(m,k),k},R.$$arity=-7),t.defs(ct,"$parse_blocks",T=function(t,e){for(var n,r,i=c;h(h(n=h(r=i=this.$next_block(t,e))?e["$<<"](i):r)?n:t["$has_more_lines?"]()););},T.$$arity=2),t.defs(ct,"$next_item_list",M=function(n,$,a){var o,l=c,_=c,u=c,f=c,p=c,g=c,v=c;for(l=t.const_get_relative(_t,"List").$new(a,$),a.$context()["$=="]($)?(_=[r(a.$level(),1)],d(l,"level=",t.to_a(_)),_[e(_.length,1)]):(_=[1],d(l,"level=",t.to_a(_)),_[e(_.length,1)]);h(h(o=n["$has_more_lines?"]())?u=t.const_get_relative(_t,"ListRxMap")["$[]"]($).$match(n.$peek_line()):o);){if(f=this.$resolve_list_marker($,u["$[]"](1)),h(h(o=l["$items?"]())?f["$!="](l.$items()["$[]"](0).$marker()):o))for(p=r(l.$level(),1),g=a;g.$context()["$=="]($);){if(f["$=="](g.$items()["$[]"](0).$marker())){p=g.$level();break}g=g.$parent()}else p=l.$level();if(h(h(o=l["$items?"]()["$!"]())?o:p["$=="](l.$level())))v=this.$next_list_item(n,l,u);else{if(h(s(p,l.$level())))break;h(i(p,l.$level()))&&l.$items()["$[]"](-1)["$<<"](this.$next_block(n,l))}if(h(v)&&l["$<<"](v),v=c,!h(o=n.$skip_blank_lines()))break}return l},M.$$arity=3),t.defs(ct,"$catalog_callouts",I=function(e,n){var r,i=c;return i=!1,h(e["$include?"]("<"))&&d(e,"scan",[t.const_get_relative(_t,"CalloutScanRx")],((r=function(){var t,e,s;return r.$$s,s=(t=[(e=g["~"])===c?c:e["$[]"](0),(e=g["~"])===c?c:e["$[]"](2)])[1],h(t[0]["$start_with?"]("\\"))||n.$callouts().$register(s),i=!0}).$$s=this,r.$$arity=0,r)),i},I.$$arity=2),t.defs(ct,"$catalog_inline_anchors",q=function(e,n,r){var i,s;return h(h(i=e["$include?"]("[["))?i:e["$include?"]("or:"))&&d(e,"scan",[t.const_get_relative(_t,"InlineAnchorScanRx")],((s=function(){var e,i=s.$$s||this,$=c,a=c;if(h($=(e=g["~"])===c?c:e["$[]"](1))){if(h(a=(e=g["~"])===c?c:e["$[]"](2))&&h(h(e=a["$include?"](t.const_get_relative(_t,"ATTR_REF_HEAD")))?(a=r.$sub_attributes(a))["$empty?"]():e))return c}else if($=(e=g["~"])===c?c:e["$[]"](3),h(a=(e=g["~"])===c?c:e["$[]"](4))&&(h(a["$include?"]("]"))&&(a=a.$gsub("\\]","]")),h(h(e=a["$include?"](t.const_get_relative(_t,"ATTR_REF_HEAD")))?(a=r.$sub_attributes(a))["$empty?"]():e)))return c;return h(r.$register("refs",[$,t.const_get_relative(_t,"Inline").$new(n,"anchor",a,f(["type","id"],{type:"ref",id:$})),a]))?c:i.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to anchor already in use: "+$)}).$$s=this,s.$$arity=0,s)),c},q.$$arity=3),t.defs(ct,"$catalog_inline_biblio_anchor",C=function(e,n,r){var i,s,$=c,a=c;return h(t.const_get_relative(_t,"InlineBiblioAnchorRx")["$=~"](e))&&(h(r.$register("refs",[$=(i=g["~"])===c?c:i["$[]"](1),t.const_get_relative(_t,"Inline").$new(n,"anchor",a="["+(h(i=(s=g["~"])===c?c:s["$[]"](2))?i:$)+"]",f(["type","id"],{type:"bibref",id:$})),a]))||this.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to bibliography anchor already in use: "+$)),c},C.$$arity=3),t.defs(ct,"$next_description_list",N=function(e,n,r){var i,s,$=c,a=c,o=c,l=c,_=c;for($=t.const_get_relative(_t,"List").$new(r,"dlist"),a=c,o=t.const_get_relative(_t,"DescriptionListSiblingRx")["$[]"](n["$[]"](2));h(h(i=n)?i:h(s=e["$has_more_lines?"]())?n=o.$match(e.$peek_line()):s);)s=this.$next_list_item(e,$,n,o),l=null==(i=t.to_ary(s))[0]?c:i[0],_=null==i[1]?c:i[1],h(h(i=a)?a["$[]"](-1)["$!"]():i)?(a.$pop(),a["$[]"](0)["$<<"](l),a["$<<"](_)):$.$items()["$<<"](a=[[l],_]),n=c;return $},N.$$arity=3),t.defs(ct,"$next_list_item",z=function(n,r,i,s){var $,a,o,l=c,_=c,u=c,p=c,g=c,m=c,y=c,b=c,x=c,k=c,w=c,E=c,A=c,O=c,S=c;if(null==s&&(s=c),(l=r.$context())["$=="]("dlist")?(_=t.const_get_relative(_t,"ListItem").$new(r,i["$[]"](1)),u=t.const_get_relative(_t,"ListItem").$new(r,i["$[]"](3)),p=i["$[]"](3)["$nil_or_empty?"]()["$!"]()):(g=i["$[]"](2),m=!1,h(($=l["$=="]("ulist"))?g["$start_with?"]("["):l["$=="]("ulist"))&&(h(g["$start_with?"]("[ ] "))?(m=!0,y=!1,g=g["$[]"](v(3,-1,!1)).$lstrip()):h(g["$start_with?"]("[x] ","[*] "))&&(m=!0,y=!0,g=g["$[]"](v(3,-1,!1)).$lstrip())),u=t.const_get_relative(_t,"ListItem").$new(r,g),h(m)&&(b=["checklist-option",""],d(r.$attributes(),"[]=",t.to_a(b)),b[e(b.length,1)],b=["checkbox",""],d(u.$attributes(),"[]=",t.to_a(b)),b[e(b.length,1)],h(y)&&(b=["checked",""],d(u.$attributes(),"[]=",t.to_a(b)),b[e(b.length,1)])),b=[s=h($=s)?$:this.$resolve_list_marker(l,i["$[]"](1),r.$items().$size(),!0,n)],d(u,"marker=",t.to_a(b)),b[e(b.length,1)],p=!0),n.$shift(),x=t.const_get_relative(_t,"Reader").$new(this.$read_lines_for_list_item(n,l,s,p),n.$cursor()),h(x["$has_more_lines?"]())){for(k=x.$skip_line_comments(),h(w=x.$peek_line())?(h(k["$empty?"]())||x.$unshift_lines(k),h(E=w["$empty?"]())?A=!1:(A=!0,l["$=="]("dlist")||(p=!1))):(E=!1,A=!1),O=f(["text"],{text:p["$!"]()});h(h(a=h(o=S=this.$next_block(x,u,f([],{}),O))?u["$<<"](S):o)?a:x["$has_more_lines?"]()););u.$fold_first(E,A)}return l["$=="]("dlist")?h(h($=u["$text?"]())?$:u["$blocks?"]())?[_,u]:[_,c]:u},z.$$arity=-4),t.defs(ct,"$read_lines_for_list_item",P=function(n,r,i,s){var $,a,o,l,_,u,p,v,m=c,y=c,b=c,x=c,k=c,w=c,E=c,A=c,O=c;for(null==i&&(i=c),null==s&&(s=!0),m=[],y="inactive",b=!1,x=c;h(n["$has_more_lines?"]())&&(k=n.$read_line(),!h(this["$is_sibling_list_item?"](k,r,i)));)if((w=h(m["$empty?"]())?c:m["$[]"](-1))["$=="](t.const_get_relative(_t,"LIST_CONTINUATION"))&&(y["$=="]("inactive")&&(y="active",s=!0,h(b)||(E=[-1,""],d(m,"[]=",t.to_a(E)),E[e(E.length,1)])),k["$=="](t.const_get_relative(_t,"LIST_CONTINUATION"))))h(y["$!="]("frozen"))&&(y="frozen",m["$<<"](k)),k=c;else{if(h(A=this["$is_delimited_block?"](k,!0))){if(!y["$=="]("active"))break;m["$<<"](k),m.$concat(n.$read_lines_until(f(["terminator","read_last_line"],{terminator:A.$terminator(),read_last_line:!0}))),y="inactive"}else{if(h(h(a=(o=r["$=="]("dlist"))?y["$!="]("active"):r["$=="]("dlist"))?t.const_get_relative(_t,"BlockAttributeLineRx")["$match?"](k):a))break;if(h((a=y["$=="]("active"))?k["$empty?"]()["$!"]():y["$=="]("active")))h(t.const_get_relative(_t,"LiteralParagraphRx")["$match?"](k))?(n.$unshift_line(k),m.$concat(d(n,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((l=function(t){var e=l.$$s||this;return null==t&&(t=c),r["$=="]("dlist")?e["$is_sibling_list_item?"](t,r,i):r["$=="]("dlist")}).$$s=this,l.$$arity=1,l))),y="inactive"):h(h(a=h(o=t.const_get_relative(_t,"BlockTitleRx")["$match?"](k))?o:t.const_get_relative(_t,"BlockAttributeLineRx")["$match?"](k))?a:t.const_get_relative(_t,"AttributeEntryRx")["$match?"](k))?m["$<<"](k):(h(O=d(h(b)?["dlist"]:t.const_get_relative(_t,"NESTABLE_LIST_CONTEXTS"),"find",[],((_=function(e){return _.$$s,null==e&&(e=c),t.const_get_relative(_t,"ListRxMap")["$[]"](e)["$match?"](k)}).$$s=this,_.$$arity=1,_)))&&(b=!0,h((a=O["$=="]("dlist"))?((o=g["~"])===c?c:o["$[]"](3))["$nil_or_empty?"]():O["$=="]("dlist"))&&(s=!1)),m["$<<"](k),y="inactive");else if(h(h(a=w)?w["$empty?"]():a)){if(h(k["$empty?"]())){if(!h(k=h(a=n.$skip_blank_lines())?n.$read_line():a))break;if(h(this["$is_sibling_list_item?"](k,r,i)))break}if(k["$=="](t.const_get_relative(_t,"LIST_CONTINUATION")))x=m.$size(),m["$<<"](k);else if(h(s)){if(h(this["$is_sibling_list_item?"](k,r,i)))break;if(h(O=d(t.const_get_relative(_t,"NESTABLE_LIST_CONTEXTS"),"find",[],((u=function(e){return u.$$s,null==e&&(e=c),t.const_get_relative(_t,"ListRxMap")["$[]"](e)["$=~"](k)}).$$s=this,u.$$arity=1,u))))m["$<<"](k),b=!0,h((a=O["$=="]("dlist"))?((o=g["~"])===c?c:o["$[]"](3))["$nil_or_empty?"]():O["$=="]("dlist"))&&(s=!1);else{if(!h(t.const_get_relative(_t,"LiteralParagraphRx")["$match?"](k)))break;n.$unshift_line(k),m.$concat(d(n,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((p=function(t){var e=p.$$s||this;return null==t&&(t=c),r["$=="]("dlist")?e["$is_sibling_list_item?"](t,r,i):r["$=="]("dlist")}).$$s=this,p.$$arity=1,p)))}}else h(b)||m.$pop(),m["$<<"](k),s=!0}else h(k["$empty?"]()["$!"]())&&(s=!0),h(O=d(h(b)?["dlist"]:t.const_get_relative(_t,"NESTABLE_LIST_CONTEXTS"),"find",[],((v=function(e){return v.$$s,null==e&&(e=c),t.const_get_relative(_t,"ListRxMap")["$[]"](e)["$=~"](k)}).$$s=this,v.$$arity=1,v)))&&(b=!0,h((a=O["$=="]("dlist"))?((o=g["~"])===c?c:o["$[]"](3))["$nil_or_empty?"]():O["$=="]("dlist"))&&(s=!1)),m["$<<"](k)}k=c}for(h(k)&&n.$unshift_line(k),h(x)&&m.$delete_at(x);h(h(a=m["$empty?"]()["$!"]())?m["$[]"](-1)["$empty?"]():a);)m.$pop();return h(h($=m["$empty?"]()["$!"]())?m["$[]"](-1)["$=="](t.const_get_relative(_t,"LIST_CONTINUATION")):$)&&m.$pop(),m},P.$$arity=-3),t.defs(ct,"$initialize_section",L=function(n,r,s){var $,a,o,l,_,u=this,p=c,g=c,v=c,m=c,y=c,b=c,x=c,k=c,w=c,E=c,A=c,O=c;return null==s&&(s=f([],{})),p=r.$document(),h(p.$sourcemap())&&(g=n.$cursor()),a=u.$parse_section_title(n,p),o=null==($=t.to_ary(a))[0]?c:$[0],v=null==$[1]?c:$[1],m=null==$[2]?c:$[2],y=null==$[3]?c:$[3],l=null==$[4]?c:$[4],h(v)?(b=["reftext",v],d(s,"[]=",t.to_a(b)),b[e(b.length,1)]):h(s["$key?"]("reftext"))&&(v=s["$[]"]("reftext")),x=h(s["$[]"](1))?u.$parse_style_attribute(s,n):c,h(x)?h(($=x["$=="]("abstract"))?p.$doctype()["$=="]("book"):x["$=="]("abstract"))?(k=($=["chapter",1])[0],y=$[1]):(k=($=[x,!0])[0],w=$[1],y["$=="](0)&&(y=1),E=x["$=="]("appendix")):(A=p.$doctype(),"book"["$==="](A)?k=y["$=="](0)?"part":y["$=="](1)?"chapter":"section":"manpage"["$==="](A)&&m.$casecmp("synopsis")["$=="](0)?(k=($=["synopsis",!0])[0],w=$[1]):k="section"),O=t.const_get_relative(_t,"Section").$new(r,y,!1),$=[o,m,k,g],O["$id="]($[0]),O["$title="]($[1]),O["$sectname="]($[2]),O["$source_location="]($[3]),h(w)?(b=[!0],d(O,"special=",t.to_a(b)),b[e(b.length,1)],h(E)&&(b=[!0],d(O,"numbered=",t.to_a(b)),b[e(b.length,1)])):h(h($=i(y,0))?p.$attributes()["$key?"]("sectnums"):$)&&(b=[!h(O.$special())||(($=r.$context()["$=="]("section"))?r.$numbered():r.$context()["$=="]("section"))],d(O,"numbered=",t.to_a(b)),b[e(b.length,1)]),h(_=h($=O.$id())?$:(b=[h(a=s["$[]"]("id"))?a:h(p.$attributes()["$key?"]("sectids"))?t.const_get_relative(_t,"Section").$generate_id(O.$title(),p):c],d(O,"id=",t.to_a(b)),b[e(b.length,1)]))&&(h(p.$register("refs",[_,O,h($=v)?$:O.$title()]))||u.$warn("asciidoctor: WARNING: "+n.$path()+": line "+e(n.$lineno(),h(l)?1:2)+": id assigned to section already in use: "+_)),O.$update_attributes(s),n.$skip_blank_lines(),O},L.$$arity=-3),t.defs(ct,"$is_next_line_section?",D=function(e,n){var r,i,s=c;return h(h(r=h(i=s=n["$[]"](1))?s["$start_with?"]("discrete","float"):i)?t.const_get_relative(_t,"DiscreteHeadingStyleRx")["$match?"](s):r)?c:h(e["$has_more_lines?"]())?h(t.const_get_relative(_t,"Compliance").$underline_style_section_titles())?d(this,"is_section_title?",t.to_a(e.$peek_lines(2,h(r=s)?s["$=="]("comment"):r))):this["$atx_section_title?"](e.$peek_line()):c},D.$$arity=2),t.defs(ct,"$is_next_line_doctitle?",B=function(t,e,n){var i,s=c;return h(n)?h(i=s=this["$is_next_line_section?"](t,e))?r(s,n.$to_i())["$=="](0):i:this["$is_next_line_section?"](t,e)["$=="](0)},B.$$arity=3),t.defs(ct,"$is_section_title?",j=function(t,e){var n,r=this;return null==e&&(e=c),h(n=r["$atx_section_title?"](t))?n:h(e["$nil_or_empty?"]())?c:r["$setext_section_title?"](t,e)},j.$$arity=-2),t.defs(ct,"$atx_section_title?",F=function(n){var r;return h(h(t.const_get_relative(_t,"Compliance").$markdown_syntax())?h(r=n["$start_with?"]("=","#"))?t.const_get_relative(_t,"ExtAtxSectionTitleRx")["$=~"](n):r:h(r=n["$start_with?"]("="))?t.const_get_relative(_t,"AtxSectionTitleRx")["$=~"](n):r)?e(((r=g["~"])===c?c:r["$[]"](1)).$length(),1):c},F.$$arity=1),t.defs(ct,"$setext_section_title?",U=function(r,i){var $,a,o,l,_,u=c;return h(h($=h(a=h(o=l=t.const_get_relative(_t,"SETEXT_SECTION_LEVELS")["$[]"](_=i.$chr()))?n(_,u=i.$length())["$=="](i):o)?t.const_get_relative(_t,"SetextSectionTitleRx")["$match?"](r):a)?s(e(this.$line_length(r),u).$abs(),2):$)?l:c},U.$$arity=2),t.defs(ct,"$parse_section_title",H=function(i,$){var a,o,l,_,u,d=c,f=c,p=c,v=c,m=c,y=c,b=c,x=c,k=c;return d=f=c,p=i.$read_line(),h(h(t.const_get_relative(_t,"Compliance").$markdown_syntax())?h(a=p["$start_with?"]("=","#"))?t.const_get_relative(_t,"ExtAtxSectionTitleRx")["$=~"](p):a:h(a=p["$start_with?"]("="))?t.const_get_relative(_t,"AtxSectionTitleRx")["$=~"](p):a)?(v=(a=[e(((o=g["~"])===c?c:o["$[]"](1)).$length(),1),(o=g["~"])===c?c:o["$[]"](2),!0])[0],m=a[1],y=a[2],h(h(a=h(o=m["$end_with?"]("]]"))?t.const_get_relative(_t,"InlineSectionAnchorRx")["$=~"](m):o)?((o=g["~"])===c?c:o["$[]"](1))["$!"]():a)&&(m=(a=[m.$slice(0,e(m.$length(),((o=g["~"])===c?c:o["$[]"](0)).$length())),(o=g["~"])===c?c:o["$[]"](2),(o=g["~"])===c?c:o["$[]"](3)])[0],d=a[1],f=a[2])):h(h(a=h(o=h(l=h(_=h(u=t.const_get_relative(_t,"Compliance").$underline_style_section_titles())?b=i.$peek_line(!0):u)?v=t.const_get_relative(_t,"SETEXT_SECTION_LEVELS")["$[]"](x=b.$chr()):_)?n(x,k=b.$length())["$=="](b):l)?m=h(l=t.const_get_relative(_t,"SetextSectionTitleRx")["$=~"](p))?(_=g["~"])===c?c:_["$[]"](1):l:o)?s(e(this.$line_length(p),k).$abs(),2):a)?(y=!1,h(h(a=h(o=m["$end_with?"]("]]"))?t.const_get_relative(_t,"InlineSectionAnchorRx")["$=~"](m):o)?((o=g["~"])===c?c:o["$[]"](1))["$!"]():a)&&(m=(a=[m.$slice(0,e(m.$length(),((o=g["~"])===c?c:o["$[]"](0)).$length())),(o=g["~"])===c?c:o["$[]"](2),(o=g["~"])===c?c:o["$[]"](3)])[0],d=a[1],f=a[2]),i.$shift()):this.$raise("Unrecognized section at "+i.$prev_line_info()),h($["$attr?"]("leveloffset"))&&(v=r(v,$.$attr("leveloffset").$to_i())),[d,f,m,v,y]},H.$$arity=2),h(t.const_get_relative(_t,"FORCE_UNICODE_LINE_LENGTH"))?t.defs(ct,"$line_length",G=function(e){return e.$scan(t.const_get_relative(_t,"UnicodeCharScanRx")).$size()},G.$$arity=1):t.defs(ct,"$line_length",Y=function(t){return t.$length()},Y.$$arity=1),t.defs(ct,"$parse_header_metadata",W=function(i,s){var $,a,o,l,_=c,u=c,p=c,g=c,m=c,y=c,b=c,x=c,k=c,w=c,E=c,A=c,O=c,S=c,R=c,T=c;if(null==s&&(s=c),this.$process_attribute_entries(i,s),_=($=[f([],{}),c,c])[0],u=$[1],p=$[2],h(h($=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():$)&&(h((g=this.$process_authors(i.$read_line()))["$empty?"]())||(h(s)&&(d(g,"each",[],((a=function(n,r){a.$$s;var i=c;return null==n&&(n=c),null==r&&(r=c),h(s.$attributes()["$key?"](n))?c:(i=[n,h(t.const_get_qualified("::","String")["$==="](r))?s.$apply_header_subs(r):r],d(s.$attributes(),"[]=",t.to_a(i)),i[e(i.length,1)])}).$$s=this,a.$$arity=2,a)),u=s.$attributes()["$[]"]("author"),p=s.$attributes()["$[]"]("authors")),_=g),this.$process_attribute_entries(i,s),m=f([],{}),h(h($=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():$)&&(y=i.$read_line(),h(b=t.const_get_relative(_t,"RevisionInfoLineRx").$match(y))?(h(b["$[]"](1))&&(x=["revnumber",b["$[]"](1).$rstrip()],d(m,"[]=",t.to_a(x)),x[e(x.length,1)]),h((k=b["$[]"](2).$strip())["$empty?"]())||(h(h($=b["$[]"](1)["$!"]())?k["$start_with?"]("v"):$)?(x=["revnumber",k["$[]"](v(1,-1,!1))],d(m,"[]=",t.to_a(x)),x[e(x.length,1)]):(x=["revdate",k],d(m,"[]=",t.to_a(x)),x[e(x.length,1)])),h(b["$[]"](3))&&(x=["revremark",b["$[]"](3).$rstrip()],d(m,"[]=",t.to_a(x)),x[e(x.length,1)])):i.$unshift_line(y)),h(m["$empty?"]())||(h(s)&&d(m,"each",[],((o=function(n,r){return o.$$s,null==n&&(n=c),null==r&&(r=c),h(s.$attributes()["$key?"](n))?c:(x=[n,s.$apply_header_subs(r)],d(s.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)])}).$$s=this,o.$$arity=2,o)),_.$update(m)),this.$process_attribute_entries(i,s),i.$skip_blank_lines()),h(s)){if(h(h($=s.$attributes()["$key?"]("author"))?(w=s.$attributes()["$[]"]("author"))["$!="](u):$))g=this.$process_authors(w,!0,!1);else if(h(h($=s.$attributes()["$key?"]("authors"))?(w=s.$attributes()["$[]"]("authors"))["$!="](p):$))g=this.$process_authors(w,!0);else{for(E=($=[[],1,"author_1",!1,!1])[0],A=$[1],O=$[2],S=$[3],R=$[4];h(s.$attributes()["$key?"](O));)(T=s.$attributes()["$[]"](O))["$=="](g["$[]"](O))?(E["$<<"](c),R=!0):(E["$<<"](T),S=!0),O="author_"+(A=r(A,1));h(S)?(h(R)&&d(E,"each_with_index",[],((l=function(i,s){var $,a=l.$$s||this,o=c;return null==i&&(i=c),null==s&&(s=c),h(i)?c:(x=[s,n(d([g["$[]"]("firstname_"+(o=r(s,1))),g["$[]"]("middlename_"+o),g["$[]"]("lastname_"+o)].$compact(),"map",[],($=function(t){return $.$$s,null==t&&(t=c),t.$tr(" ","_")},$.$$s=a,$.$$arity=1,$))," ")],d(E,"[]=",t.to_a(x)),x[e(x.length,1)])}).$$s=this,l.$$arity=2,l)),g=this.$process_authors(E,!0,!1)):g=f([],{})}h(g["$empty?"]())||(s.$attributes().$update(g),h(h($=s.$attributes()["$key?"]("email")["$!"]())?s.$attributes()["$key?"]("email_1"):$)&&(x=["email",s.$attributes()["$[]"]("email_1")],d(s.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)]))}return _},W.$$arity=-2),t.defs(ct,"$process_authors",X=function(n,i,s){var $,a,o,l,_=this,u=c;return null==i&&(i=!1),null==s&&(s=!0),u=f([],{}),o=["author","authorinitials","firstname","middlename","lastname","email"],l=h(s)?d(n.$split(";"),"map",[],(($=function(t){return $.$$s,null==t&&(t=c),t.$strip()}).$$s=_,$.$$arity=1,$)):_.$Array(n),d(l,"each_with_index",[],((a=function(n,s){var $,l,_,p,g=a.$$s||this,v=c,m=c,y=c,b=c,x=c,k=c,w=c,E=c;return null==n&&(n=c),null==s&&(s=c),h(n["$empty?"]())?c:(v=f([],{}),s["$=="](0)?d(o,"each",[],(($=function(n){var r;return $.$$s,null==n&&(n=c),r=[n.$to_sym(),n],d(v,"[]=",t.to_a(r)),r[e(r.length,1)]}).$$s=g,$.$$arity=1,$)):d(o,"each",[],((l=function(n){var i;return l.$$s,null==n&&(n=c),i=[n.$to_sym(),n+"_"+r(s,1)],d(v,"[]=",t.to_a(i)),i[e(i.length,1)]}).$$s=g,l.$$arity=1,l)),m=c,h(i)?(h(n["$include?"]("<"))&&(y=[v["$[]"]("author"),n.$tr("_"," ")],d(u,"[]=",t.to_a(y)),y[e(y.length,1)],n=n.$gsub(t.const_get_relative(_t,"XmlSanitizeRx"),"")),(m=n.$split(c,3)).$size()["$=="](3)&&m["$<<"](m.$pop().$squeeze(" "))):h(b=t.const_get_relative(_t,"AuthorInfoLineRx").$match(n))&&(m=b.$to_a()).$shift(),h(m)?(y=[v["$[]"]("firstname"),k=m["$[]"](0).$tr("_"," ")],d(u,"[]=",t.to_a(y)),x=y[e(y.length,1)],y=[v["$[]"]("authorinitials"),k.$chr()],d(u,"[]=",t.to_a(y)),y[e(y.length,1)],h(m["$[]"](1))&&(h(m["$[]"](2))?(y=[v["$[]"]("middlename"),w=m["$[]"](1).$tr("_"," ")],d(u,"[]=",t.to_a(y)),y[e(y.length,1)],y=[v["$[]"]("lastname"),E=m["$[]"](2).$tr("_"," ")],d(u,"[]=",t.to_a(y)),y[e(y.length,1)],x=r(r(r(r(k," "),w)," "),E),y=[v["$[]"]("authorinitials"),""+k.$chr()+w.$chr()+E.$chr()],d(u,"[]=",t.to_a(y)),y[e(y.length,1)]):(y=[v["$[]"]("lastname"),E=m["$[]"](1).$tr("_"," ")],d(u,"[]=",t.to_a(y)),y[e(y.length,1)],x=r(r(k," "),E),y=[v["$[]"]("authorinitials"),""+k.$chr()+E.$chr()],d(u,"[]=",t.to_a(y)),y[e(y.length,1)])),h(_=u["$[]"](v["$[]"]("author")))||(y=[v["$[]"]("author"),x],d(u,"[]=",t.to_a(y)),y[e(y.length,1)]),h(h(_=i)?_:m["$[]"](3)["$!"]())||(y=[v["$[]"]("email"),m["$[]"](3)],d(u,"[]=",t.to_a(y)),y[e(y.length,1)])):(y=[v["$[]"]("author"),(y=[v["$[]"]("firstname"),k=n.$squeeze(" ").$strip()],d(u,"[]=",t.to_a(y)),y[e(y.length,1)])],d(u,"[]=",t.to_a(y)),y[e(y.length,1)],y=[v["$[]"]("authorinitials"),k.$chr()],d(u,"[]=",t.to_a(y)),y[e(y.length,1)]),y=["authorcount",r(s,1)],d(u,"[]=",t.to_a(y)),y[e(y.length,1)],s["$=="](1)&&d(o,"each",[],((p=function(n){return p.$$s,null==n&&(n=c),h(u["$key?"](n))?(y=[n+"_1",u["$[]"](n)],d(u,"[]=",t.to_a(y)),y[e(y.length,1)]):c}).$$s=g,p.$$arity=1,p)),s["$=="](0)?(y=["authors",u["$[]"](v["$[]"]("author"))],d(u,"[]=",t.to_a(y)),y[e(y.length,1)]):(y=["authors",u["$[]"]("authors")+", "+u["$[]"](v["$[]"]("author"))],d(u,"[]=",t.to_a(y)),y[e(y.length,1)]))}).$$s=_,a.$$arity=2,a)),u},X.$$arity=-2),t.defs(ct,"$parse_block_metadata_lines",K=function(t,e,n,r){for(null==n&&(n=f([],{})),null==r&&(r=f([],{}));h(this.$parse_block_metadata_line(t,e,n,r))&&(t.$shift(),h(t.$skip_blank_lines())););return n},K.$$arity=-3),t.defs(ct,"$parse_block_metadata_line",V=function(r,i,s,$){var a,o,l=c,_=c,u=c,p=c,v=c;return null==g["~"]&&(g["~"]=c),null==$&&($=f([],{})),h(h(a=l=r.$peek_line())?h($["$[]"]("text"))?l["$start_with?"]("[","/"):_=l["$start_with?"]("[",".","/",":"):a)?h(l["$start_with?"]("["))?h(l["$start_with?"]("[["))?h(h(a=l["$end_with?"]("]]"))?t.const_get_relative(_t,"BlockAnchorRx")["$=~"](l):a)?(u=["id",(a=g["~"])===c?c:a["$[]"](1)],d(s,"[]=",t.to_a(u)),u[e(u.length,1)],h(p=(a=g["~"])===c?c:a["$[]"](2))&&(u=["reftext",h(p["$include?"](t.const_get_relative(_t,"ATTR_REF_HEAD")))?i.$sub_attributes(p):p],d(s,"[]=",t.to_a(u)),u[e(u.length,1)]),!0):c:h(h(a=l["$end_with?"]("]"))?t.const_get_relative(_t,"BlockAttributeListRx")["$=~"](l):a)?(i.$parse_attributes((a=g["~"])===c?c:a["$[]"](1),[],f(["sub_input","into"],{sub_input:!0,into:s})),!0):c:h(h(a=_)?l["$start_with?"]("."):a)?h(t.const_get_relative(_t,"BlockTitleRx")["$=~"](l))?(u=["title",(a=g["~"])===c?c:a["$[]"](1)],d(s,"[]=",t.to_a(u)),u[e(u.length,1)],!0):c:h(h(a=_["$!"]())?a:l["$start_with?"]("/"))?h(l["$start_with?"]("//"))?!!l["$=="]("//")||(h(h(a=_)?n("/",v=l.$length())["$=="](l):a)?v["$=="](3)?c:(r.$read_lines_until(f(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:l,skip_processing:!0})),!0):!h(l["$start_with?"]("///"))||c):c:h(h(a=h(o=_)?l["$start_with?"](":"):o)?t.const_get_relative(_t,"AttributeEntryRx")["$=~"](l):a)?(this.$process_attribute_entry(r,i,s,g["~"]),!0):c:c},V.$$arity=-4),t.defs(ct,"$process_attribute_entries",J=function(t,e,n){for(null==n&&(n=c),t.$skip_comment_lines();h(this.$process_attribute_entry(t,e,n));)t.$shift(),t.$skip_comment_lines()},J.$$arity=-3),t.defs(ct,"$process_attribute_entry",Z=function(n,r,i,s){var $,a,o=c,l=c,_=c,u=c;if(null==i&&(i=c),null==s&&(s=c),h(s=h($=s)?$:h(n["$has_more_lines?"]())?t.const_get_relative(_t,"AttributeEntryRx").$match(n.$peek_line()):c)){if(h((o=s["$[]"](2))["$nil_or_empty?"]()))o="";else if(h(o["$end_with?"](t.const_get_relative(_t,"LINE_CONTINUATION"),t.const_get_relative(_t,"LINE_CONTINUATION_LEGACY"))))for(l=($=[o.$slice(-2,2),o.$slice(0,e(o.$length(),2)).$rstrip()])[0],o=$[1];h(h(a=n.$advance())?(_=n.$peek_line().$lstrip())["$empty?"]()["$!"]():a)&&(h(u=_["$end_with?"](l))&&(_=_.$slice(0,e(_.$length(),2)).$rstrip()),o=""+o+(h(o["$end_with?"](t.const_get_relative(_t,"HARD_LINE_BREAK")))?t.const_get_relative(_t,"LF"):" ")+_,h(u)););return this.$store_attribute(s["$[]"](1),o,r,i),!0}return c},Z.$$arity=-3),t.defs(ct,"$store_attribute",Q=function(n,i,s,$){var a,o=c;return null==s&&(s=c),null==$&&($=c),h(n["$end_with?"]("!"))?(n=(a=[n.$chop(),c])[0],i=a[1]):h(n["$start_with?"]("!"))&&(n=(a=[n.$slice(1,n.$length()),c])[0],i=a[1]),(n=this.$sanitize_attribute_name(n))["$=="]("numbered")&&(n="sectnums"),h(s)?h(i)?(n["$=="]("leveloffset")&&(h(i["$start_with?"]("+"))?i=r(s.$attr("leveloffset",0).$to_i(),(h(a=i["$[]"](v(1,-1,!1)))?a:0).$to_i()).$to_s():h(i["$start_with?"]("-"))&&(i=e(s.$attr("leveloffset",0).$to_i(),(h(a=i["$[]"](v(1,-1,!1)))?a:0).$to_i()).$to_s())),h(o=s.$set_attribute(n,i))&&(i=o,h($)&&t.const_get_qualified(t.const_get_relative(_t,"Document"),"AttributeEntry").$new(n,i).$save_to($))):h(h(a=s.$delete_attribute(n))?$:a)&&t.const_get_qualified(t.const_get_relative(_t,"Document"),"AttributeEntry").$new(n,i).$save_to($):h($)&&t.const_get_qualified(t.const_get_relative(_t,"Document"),"AttributeEntry").$new(n,i).$save_to($),[n,i]},Q.$$arity=-3),t.defs(ct,"$resolve_list_marker",tt=function(t,e,n,r,i){return null==n&&(n=0),null==r&&(r=!1),null==i&&(i=c),t["$=="]("olist")?h(e["$start_with?"]("."))?e:this.$resolve_ordered_list_marker(e,n,r,i):t["$=="]("colist")?"<1>":e},tt.$$arity=-3),t.defs(ct,"$resolve_ordered_list_marker",et=function(e,n,i,s){var $,a,o,l=c,_=c;return null==n&&(n=0),null==i&&(i=!1),null==s&&(s=c),l=_=c,o=d(t.const_get_relative(_t,"ORDERED_LIST_STYLES"),"find",[],(($=function(n){return $.$$s,null==n&&(n=c),t.const_get_relative(_t,"OrderedListMarkerRxMap")["$[]"](n)["$match?"](e)}).$$s=this,$.$$arity=1,$)),"arabic"["$==="](o)?(h(i)&&(l=r(n,1),_=e.$to_i()),e="1."):"loweralpha"["$==="](o)?(h(i)&&(l=r("a"["$[]"](0).$ord(),n).$chr(),_=e.$chop()),e="a."):"upperalpha"["$==="](o)?(h(i)&&(l=r("A"["$[]"](0).$ord(),n).$chr(),_=e.$chop()),e="A."):"lowerroman"["$==="](o)?(h(i)&&(l=r(n,1),_=this.$roman_numeral_to_int(e.$chop())),e="i)"):"upperroman"["$==="](o)&&(h(i)&&(l=r(n,1),_=this.$roman_numeral_to_int(e.$chop())),e="I)"),h(h(a=i)?l["$!="](_):a)&&this.$warn("asciidoctor: WARNING: "+s.$line_info()+": list item index: expected "+l+", got "+_),e},et.$$arity=-2),t.defs(ct,"$is_sibling_list_item?",nt=function(e,n,r){var i=c,s=c,$=c;return h(t.const_get_qualified("::","Regexp")["$==="](r))?(i=r,s=!1):(i=t.const_get_relative(_t,"ListRxMap")["$[]"](n),s=r),!!h($=i.$match(e))&&(!h(s)||s["$=="](this.$resolve_list_marker(n,$["$[]"](1))))},nt.$$arity=3),t.defs(ct,"$next_table",rt=function(n,s,$){var a,o,l,_,u,f=c,p=c,g=c,v=c,m=c,y=c,b=c,x=c,k=c,w=c,E=c,A=c,O=c,S=c,R=c;for(f=t.const_get_relative(_t,"Table").$new(s,$),h($["$key?"]("title"))&&(p=[$.$delete("title")],d(f,"title=",t.to_a(p)),p[e(p.length,1)],f.$assign_caption($.$delete("caption"))),h(h(a=$["$key?"]("cols"))?(g=this.$parse_colspecs($["$[]"]("cols")))["$empty?"]()["$!"]():a)&&(f.$create_columns(g),v=!0),u=h(a=n.$skip_blank_lines())?a:0,y=(a=[(m=t.const_get_qualified(t.const_get_relative(_t,"Table"),"ParserContext").$new(n,f,$)).$format(),-1,c])[0],b=a[1],x=a[2],h(h(a=h(o=i(u,0))?o:$["$key?"]("header-option"))?a:$["$key?"]("noheader-option"))||(k=!0),a=!1;a||h(w=n.$read_line());){for(a=!1,h(h(o=i(b=r(b,1),0))?w["$empty?"]():o)?(w=c,h(x)&&(x=r(x,1))):y["$=="]("psv")&&(h(m["$starts_with_delimiter?"](w))?(w=w.$slice(1,w.$length()),m.$close_open_cell(),h(x)&&(x=c)):(l=this.$parse_cellspec(w,"start",m.$delimiter()),E=null==(o=t.to_ary(l))[0]?c:o[0],w=null==o[1]?c:o[1],h(E)?(m.$close_open_cell(E),h(x)&&(x=c)):h(h(o=x)?x["$=="](b):o)&&(k=(o=[!1,c])[0],x=o[1]))),h((o=b["$=="](0))?k:b["$=="](0))&&(h(h(o=n["$has_more_lines?"]())?n.$peek_line()["$empty?"]():o)?x=1:k=!1),o=!1;o||h(!0);){if(o=!1,!h(h(l=w)?A=m.$match_delimiter(w):l)){p=[""+m.$buffer()+w+t.const_get_relative(_t,"LF")],d(m,"buffer=",t.to_a(p)),p[e(p.length,1)],"csv"["$==="](O=y)?(p=[m.$buffer().$rstrip()+" "],d(m,"buffer=",t.to_a(p)),p[e(p.length,1)],h(m["$buffer_has_unclosed_quotes?"]())?(h(h(l=x)?b["$=="](0):l)&&(k=(l=[!1,c])[0],x=l[1]),m.$keep_cell_open()):m.$close_cell(!0)):"dsv"["$==="](O)?m.$close_cell(!0):m.$keep_cell_open();break}if("csv"["$==="](O=y)){if(h(m["$buffer_has_unclosed_quotes?"](A.$pre_match()))){if(h((w=m.$skip_past_delimiter(A))["$empty?"]()))break;o=!0}p=[""+m.$buffer()+A.$pre_match()],d(m,"buffer=",t.to_a(p)),p[e(p.length,1)]}else if("dsv"["$==="](O)){if(h(A.$pre_match()["$end_with?"]("\\"))){if(h((w=m.$skip_past_escaped_delimiter(A))["$empty?"]())){p=[""+m.$buffer()+t.const_get_relative(_t,"LF")],d(m,"buffer=",t.to_a(p)),p[e(p.length,1)],m.$keep_cell_open();break}o=!0}p=[""+m.$buffer()+A.$pre_match()],d(m,"buffer=",t.to_a(p)),p[e(p.length,1)]}else{if(h(A.$pre_match()["$end_with?"]("\\"))){if(h((w=m.$skip_past_escaped_delimiter(A))["$empty?"]())){p=[""+m.$buffer()+t.const_get_relative(_t,"LF")],d(m,"buffer=",t.to_a(p)),p[e(p.length,1)],m.$keep_cell_open();break}o=!0}_=this.$parse_cellspec(A.$pre_match()),E=null==(l=t.to_ary(_))[0]?c:l[0],S=null==l[1]?c:l[1],m.$push_cellspec(E),p=[""+m.$buffer()+S],d(m,"buffer=",t.to_a(p)),p[e(p.length,1)]}h((w=A.$post_match())["$empty?"]())&&(w=c),m.$close_cell()}if(h(m["$cell_open?"]()))h(n["$has_more_lines?"]())||m.$close_cell(!0);else if(!h(o=n.$skip_blank_lines()))break}return h(h(a=(R=f.$attributes(),h(o=R["$[]"]("colcount"))?o:(p=["colcount",f.$columns().$size()],d(R,"[]=",t.to_a(p)),p[e(p.length,1)]))["$=="](0))?a:v)||f.$assign_column_widths(),h(k)&&(p=[!0],d(f,"has_header_option=",t.to_a(p)),p[e(p.length,1)],p=["header-option",""],d($,"[]=",t.to_a(p)),p[e(p.length,1)],p=["options",h($["$key?"]("options"))?$["$[]"]("options")+",header":"header"],d($,"[]=",t.to_a(p)),p[e(p.length,1)]),f.$partition_header_footer($),f},rt.$$arity=3),t.defs(ct,"$parse_colspecs",it=function(n){var r,i,s=c;return h(n["$include?"](" "))&&(n=n.$delete(" ")),n["$=="](n.$to_i().$to_s())?d(t.const_get_qualified("::","Array"),"new",[n.$to_i()],((r=function(){return r.$$s,f(["width"],{width:1})}).$$s=this,r.$$arity=0,r)):(s=[],d(n.$split(",",-1),"each",[],((i=function(n){var r,$,a,o=i.$$s||this,l=c,_=c,u=c,p=c,g=c;return null==n&&(n=c),h(n["$empty?"]())?s["$<<"](f(["width"],{width:1})):h(l=t.const_get_relative(_t,"ColumnSpecRx").$match(n))?(_=f([],{}),h(l["$[]"](2))&&($=l["$[]"](2).$split("."),u=null==(r=t.to_ary($))[0]?c:r[0],p=null==r[1]?c:r[1],h(h(r=u["$nil_or_empty?"]()["$!"]())?t.const_get_relative(_t,"TableCellHorzAlignments")["$key?"](u):r)&&(g=["halign",t.const_get_relative(_t,"TableCellHorzAlignments")["$[]"](u)],d(_,"[]=",t.to_a(g)),g[e(g.length,1)]),h(h(r=p["$nil_or_empty?"]()["$!"]())?t.const_get_relative(_t,"TableCellVertAlignments")["$key?"](p):r)&&(g=["valign",t.const_get_relative(_t,"TableCellVertAlignments")["$[]"](p)],d(_,"[]=",t.to_a(g)),g[e(g.length,1)])),g=["width",h(l["$[]"](3))?l["$[]"](3).$to_i():1],d(_,"[]=",t.to_a(g)),g[e(g.length,1)],h(h(r=l["$[]"](4))?t.const_get_relative(_t,"TableCellStyles")["$key?"](l["$[]"](4)):r)&&(g=["style",t.const_get_relative(_t,"TableCellStyles")["$[]"](l["$[]"](4))],d(_,"[]=",t.to_a(g)),g[e(g.length,1)]),h(l["$[]"](1))?d(1,"upto",[l["$[]"](1).$to_i()],((a=function(){return a.$$s,s["$<<"](_.$dup())}).$$s=o,a.$$arity=0,a)):s["$<<"](_)):c}).$$s=this,i.$$arity=1,i)),s)},it.$$arity=1),t.defs(ct,"$parse_cellspec",st=function(n,r,i){var s,$,a,o=c,l=c,_=c,u=c,p=c,g=c;if(null==r&&(r="end"),null==i&&(i=c),o=(s=[c,""])[0],l=s[1],r["$=="]("start")){if(!h(n["$include?"](i)))return[c,n];if($=n.$split(i,2),_=null==(s=t.to_ary($))[0]?c:s[0],l=null==s[1]?c:s[1],!h(o=t.const_get_relative(_t,"CellSpecStartRx").$match(_)))return[c,n];if(h(o["$[]"](0)["$empty?"]()))return[f([],{}),l]}else{if(!h(o=t.const_get_relative(_t,"CellSpecEndRx").$match(n)))return[f([],{}),n];if(h(o["$[]"](0).$lstrip()["$empty?"]()))return[f([],{}),n.$rstrip()];l=o.$pre_match()}return a=f([],{}),h(o["$[]"](1))&&($=o["$[]"](1).$split("."),s=t.to_ary($),u=null==s[0]?c:s[0],p=null==s[1]?c:s[1],u=h(u["$nil_or_empty?"]())?1:u.$to_i(),p=h(p["$nil_or_empty?"]())?1:p.$to_i(),o["$[]"](2)["$=="]("+")?(u["$=="](1)||(g=["colspan",u],d(a,"[]=",t.to_a(g)),g[e(g.length,1)]),p["$=="](1)||(g=["rowspan",p],d(a,"[]=",t.to_a(g)),g[e(g.length,1)])):o["$[]"](2)["$=="]("*")&&(u["$=="](1)||(g=["repeatcol",u],d(a,"[]=",t.to_a(g)),g[e(g.length,1)]))),h(o["$[]"](3))&&($=o["$[]"](3).$split("."),s=t.to_ary($),u=null==s[0]?c:s[0],p=null==s[1]?c:s[1],h(h(s=u["$nil_or_empty?"]()["$!"]())?t.const_get_relative(_t,"TableCellHorzAlignments")["$key?"](u):s)&&(g=["halign",t.const_get_relative(_t,"TableCellHorzAlignments")["$[]"](u)],d(a,"[]=",t.to_a(g)),g[e(g.length,1)]),h(h(s=p["$nil_or_empty?"]()["$!"]())?t.const_get_relative(_t,"TableCellVertAlignments")["$key?"](p):s)&&(g=["valign",t.const_get_relative(_t,"TableCellVertAlignments")["$[]"](p)],d(a,"[]=",t.to_a(g)),g[e(g.length,1)])),h(h(s=o["$[]"](4))?t.const_get_relative(_t,"TableCellStyles")["$key?"](o["$[]"](4)):s)&&(g=["style",t.const_get_relative(_t,"TableCellStyles")["$[]"](o["$[]"](4))],d(a,"[]=",t.to_a(g)),g[e(g.length,1)]),[a,l]},st.$$arity=-2),t.defs(ct,"$parse_style_attribute",$t=function(i,s){var $,a,o,l,_,u=c,p=c,g=c,v=c,m=c,y=c,b=c,x=c,k=c;return null==s&&(s=c),h(h($=h(a=u=i["$[]"](1))?u["$include?"](" ")["$!"]():a)?t.const_get_relative(_t,"Compliance").$shorthand_property_syntax():$)?($=["style",[],f([],{})],p=$[0],g=$[1],v=$[2],m=d(this,"lambda",[],((o=function(){var n,r=o.$$s||this,i=c,$=c;return h(g["$empty?"]())?p["$=="]("style")?c:r.$warn("asciidoctor: WARNING:"+(h(s)?" "+s.$prev_line_info()+":":c)+" invalid empty "+p+" detected in style attribute"):("role"["$==="](i=p)||"option"["$==="](i)?(h(n=v["$[]"](p))?n:($=[p,[]],d(v,"[]=",t.to_a($)),$[e($.length,1)]))["$<<"](g.$join()):"id"["$==="](i)?(h(v["$key?"]("id"))&&r.$warn("asciidoctor: WARNING:"+(h(s)?" "+s.$prev_line_info()+":":c)+" multiple ids detected in style attribute"),$=[p,g.$join()],d(v,"[]=",t.to_a($)),$[e($.length,1)]):($=[p,g.$join()],d(v,"[]=",t.to_a($)),$[e($.length,1)]),g=[])}).$$s=this,o.$$arity=0,o)),d(u,"each_char",[],((l=function(t){l.$$s;var e,n,r=c;return null==t&&(t=c),h(h(e=h(n=t["$=="]("."))?n:t["$=="]("#"))?e:t["$=="]("%"))?(m.$call(),"."["$==="](r=t)?p="role":"#"["$==="](r)?p="id":"%"["$==="](r)?p="option":c):g["$<<"](t)}).$$s=this,l.$$arity=1,l)),p["$=="]("style")?(y=["style",u],d(i,"[]=",t.to_a(y)),y[e(y.length,1)]):(m.$call(),h(v["$key?"]("style"))&&(y=["style",v["$[]"]("style")],d(i,"[]=",t.to_a(y)),b=y[e(y.length,1)]),h(v["$key?"]("id"))&&(y=["id",v["$[]"]("id")],d(i,"[]=",t.to_a(y)),y[e(y.length,1)]),h(v["$key?"]("role"))&&(y=["role",n(v["$[]"]("role")," ")],d(i,"[]=",t.to_a(y)),y[e(y.length,1)]),h(v["$key?"]("option"))&&(d(x=v["$[]"]("option"),"each",[],((_=function(n){return _.$$s,null==n&&(n=c),y=[n+"-option",""],d(i,"[]=",t.to_a(y)),y[e(y.length,1)]}).$$s=this,_.$$arity=1,_)),h(k=i["$[]"]("options"))?(y=["options",n(r(x,k.$split(",")),",")],d(i,"[]=",t.to_a(y)),y[e(y.length,1)]):(y=["options",n(x,",")],d(i,"[]=",t.to_a(y)),y[e(y.length,1)])),b)):(y=["style",u],d(i,"[]=",t.to_a(y)),y[e(y.length,1)])},$t.$$arity=-2),t.defs(ct,"$adjust_indentation!",at=function(s,$,a){var o,l,_,u,f,p,v=this,m=c,y=c,b=c;return null==$&&($=0),null==a&&(a=0),h(s["$empty?"]())?c:(h(h(o=i(a=a.$to_i(),0))?s.$join()["$include?"](t.const_get_relative(_t,"TAB")):o)&&(m=n(" ",a),d(s,"map!",[],((l=function(i){var s,$,o=l.$$s||this,_=c;return null==i&&(i=c),h(i["$empty?"]())?i:(h(i["$start_with?"](t.const_get_relative(_t,"TAB")))&&(i=d(i,"sub",[t.const_get_relative(_t,"TabIndentRx")],((s=function(){var t;return s.$$s,n(m,((t=g["~"])===c?c:t["$[]"](0)).$length())}).$$s=o,s.$$arity=0,s))),h(i["$include?"](t.const_get_relative(_t,"TAB")))?(_=0,d(i,"gsub",[t.const_get_relative(_t,"TabRx")],(($=function(){$.$$s;var t=c,i=c;return null==g["~"]&&(g["~"]=c),(t=r(g["~"].$begin(0),_))["$%"](a)["$=="](0)?(_=r(_,e(a,1)),m):((i=e(a,t["$%"](a)))["$=="](1)||(_=r(_,e(i,1))),n(" ",i))}).$$s=o,$.$$arity=0,$))):i)}).$$s=v,l.$$arity=1,l))),h(h(o=$)?i($=$.$to_i(),-1):o)?(y=c,function(){var n=t.new_brk();try{d(s,"each",[],((_=function(r){var s,$;return _.$$s,null==r&&(r=c),h(r["$empty?"]())?c:($=e(r.$length(),r.$lstrip().$length()))["$=="](0)?(y=c,void t.brk(c,n)):h(h(s=y)?i($,y):s)?c:y=$}).$$s=v,_.$$brk=n,_.$$arity=1,_))}catch(t){if(t===n)return t.$v;throw t}}(),$["$=="](0)?h(y)&&d(s,"map!",[],((u=function(e){return u.$$s,null==e&&(e=c),h(e["$empty?"]())?e:e["$[]"](t.Range.$new(y,-1,!1))}).$$s=v,u.$$arity=1,u)):(b=n(" ",$),h(y)?d(s,"map!",[],((f=function(e){return f.$$s,null==e&&(e=c),h(e["$empty?"]())?e:r(b,e["$[]"](t.Range.$new(y,-1,!1)))}).$$s=v,f.$$arity=1,f)):d(s,"map!",[],((p=function(t){return p.$$s,null==t&&(t=c),h(t["$empty?"]())?t:r(b,t)}).$$s=v,p.$$arity=1,p))),c):c)},at.$$arity=-2),t.defs(ct,"$sanitize_attribute_name",ot=function(e){return e.$gsub(t.const_get_relative(_t,"InvalidAttributeNameCharsRx"),"").$downcase()},ot.$$arity=1),t.defs(ct,"$roman_numeral_to_int",lt=function(n){var $,a=c,o=c;return n=n.$downcase(),a=f(["i","v","x"],{i:1,v:5,x:10}),o=0,d(t.Range.$new(0,e(n.$length(),1),!1),"each",[],(($=function(l){var _,u;return $.$$s,null==l&&(l=c),u=a["$[]"](n["$[]"](t.Range.$new(l,l,!1))),o=h(h(_=s(r(l,1),n.$length()))?i(a["$[]"](n["$[]"](t.Range.$new(r(l,1),r(l,1),!1))),u):_)?e(o,u):r(o,u)}).$$s=this,$.$$arity=1,$)),o},lt.$$arity=1)}((o=[a].concat($))[0],0,o)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var r,i,s,$=[],a=t.nil,o=(t.breaker,t.slice,t.module),l=t.klass,c=t.truthy,_=t.hash2,u=t.range,d=t.send;return t.add_stubs(["$attr_accessor","$is_root?","$expand_path","$pwd","$==","$start_with?","$match?","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixify","$is_web_root?","$is_unc?","$slice","$+","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$size","$pop","$fetch","$warn","$<<","$end_with?","$uri_prefix","$length","$gsub"]),r=$,(i=o($[0],"Asciidoctor")).$$proto,void function(r,i,s){function $(){}var o,h,f,p,g,v,m,y,b,x,k,w=$=l(r,null,"PathResolver",$),E=w.$$proto,A=[w].concat(s);E.file_separator=E._partition_path_web=E._partition_path_sys=E.working_dir=a,t.const_set(A[0],"DOT","."),t.const_set(A[0],"DOT_DOT",".."),t.const_set(A[0],"DOT_SLASH","./"),t.const_set(A[0],"SLASH","/"),t.const_set(A[0],"BACKSLASH","\\"),t.const_set(A[0],"DOUBLE_SLASH","//"),t.const_set(A[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),w.$attr_accessor("file_separator"),w.$attr_accessor("working_dir"),t.defn(w,"$initialize",o=function(e,n){var r,i=this;return null==e&&(e=a),null==n&&(n=a),i.file_separator=c(e)?e:c(r=t.const_get_qualified(t.const_get_qualified("::","File"),"ALT_SEPARATOR"))?r:t.const_get_qualified(t.const_get_qualified("::","File"),"SEPARATOR"),c(n)?i.working_dir=c(i["$is_root?"](n))?n:t.const_get_qualified("::","File").$expand_path(n):i.working_dir=t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd()),r=[_([],{}),_([],{})],i._partition_path_sys=r[0],i._partition_path_web=r[1],r},o.$$arity=-1),t.const_get_relative(A,"RUBY_ENGINE")["$=="]("opal")&&t.defn(w,"$is_root?",h=function(e){var n,r;return c(n=c(r=e["$start_with?"](t.const_get_relative(A,"SLASH")))?r:t.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?e["$start_with?"]("file://"):t.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"))?n:(r=this.file_separator["$=="](t.const_get_relative(A,"BACKSLASH")))?t.const_get_relative(A,"WindowsRootRx")["$match?"](e):this.file_separator["$=="](t.const_get_relative(A,"BACKSLASH"))},h.$$arity=1),t.defn(w,"$is_unc?",f=function(e){return e["$start_with?"](t.const_get_relative(A,"DOUBLE_SLASH"))},f.$$arity=1),t.defn(w,"$is_web_root?",p=function(e){return e["$start_with?"](t.const_get_relative(A,"SLASH"))},p.$$arity=1),t.defn(w,"$posixify",g=function(e){return c(e["$nil_or_empty?"]())?"":c(e["$include?"](t.const_get_relative(A,"BACKSLASH")))?e.$tr(t.const_get_relative(A,"BACKSLASH"),t.const_get_relative(A,"SLASH")):e},g.$$arity=1),t.alias(w,"posixfy","posixify"),t.defn(w,"$expand_path",v=function(e){var n,r,i,s;return r=this.$partition_path(e),i=null==(n=t.to_ary(r))[0]?a:n[0],s=null==n[1]?a:n[1],null==n[2]||n[2],this.$join_path(i,s)},v.$$arity=1),t.defn(w,"$partition_path",m=function(n,r){var i,s,$,o,l,_=this,h=a,f=a,p=a;return null==r&&(r=a),c(i=(s=c(r)?_._partition_path_web:_._partition_path_sys)["$[]"](n))?i:(h=_.$posixify(n),f=c(r)?c(_["$is_web_root?"](h))?t.const_get_relative(A,"SLASH"):c(h["$start_with?"](t.const_get_relative(A,"DOT_SLASH")))?t.const_get_relative(A,"DOT_SLASH"):a:c(_["$is_root?"](h))?c(_["$is_unc?"](h))?t.const_get_relative(A,"DOUBLE_SLASH"):c(h["$start_with?"](t.const_get_relative(A,"SLASH")))?t.const_get_relative(A,"SLASH"):h.$slice(0,e(h.$index(t.const_get_relative(A,"SLASH")),1)):c(h["$start_with?"](t.const_get_relative(A,"DOT_SLASH")))?t.const_get_relative(A,"DOT_SLASH"):a,p=h.$split(t.const_get_relative(A,"SLASH")),f["$=="](t.const_get_relative(A,"DOUBLE_SLASH"))?p=p["$[]"](u(2,-1,!1)):c(f)&&p.$shift(),p.$delete(t.const_get_relative(A,"DOT")),$=[n,[p,f,h]],d(s,"[]=",t.to_a($)),$[(o=$.length,l=1,"number"==typeof o&&"number"==typeof l?o-l:o["$-"](l))])},m.$$arity=-2),t.defn(w,"$join_path",y=function(e,r){return null==r&&(r=a),c(r)?""+r+n(e,t.const_get_relative(A,"SLASH")):n(e,t.const_get_relative(A,"SLASH"))},y.$$arity=-2),t.defn(w,"$system_path",b=function(e,n,r,i){var s,$,o,l=this,u=a,h=a,f=a,p=a,g=a,v=a,m=a,y=a,b=a;if(null==n&&(n=a),null==r&&(r=a),null==i&&(i=_([],{})),c(r)&&(c(l["$is_root?"](r))||l.$raise(t.const_get_qualified("::","SecurityError"),"Jail is not an absolute path: "+r),r=l.$posixify(r)),c(e["$nil_or_empty?"]())?u=[]:($=l.$partition_path(e),u=null==(s=t.to_ary($))[0]?a:s[0],h=null==s[1]?a:s[1],null==s[2]||s[2]),c(u["$empty?"]())){if(c(n["$nil_or_empty?"]()))return c(r)?r:l.working_dir;if(!c(l["$is_root?"](n)))return l.$system_path(n,r,r,i);if(!c(r))return l.$expand_path(n)}return c(c(s=h)?h["$!="](t.const_get_relative(A,"DOT_SLASH")):s)&&(f=l.$join_path(u,h),c(c(s=r["$!"]())?s:f["$start_with?"](r)))?f:(n=c(n["$nil_or_empty?"]())?c(r)?r:l.working_dir:c(l["$is_root?"](n))?l.$posixify(n):l.$system_path(n,r,r,i),r["$=="](n)?($=l.$partition_path(r),s=t.to_ary($),p=null==s[0]?a:s[0],g=null==s[1]?a:s[1],null==s[2]||s[2],v=p.$dup()):c(r)?(c(n["$start_with?"](r))||l.$raise(t.const_get_qualified("::","SecurityError"),(c(s=i["$[]"]("target_name"))?s:"Start path")+" "+n+" is outside of jail: "+r+" (disallowed in safe mode)"),$=l.$partition_path(n),v=null==(s=t.to_ary($))[0]?a:s[0],m=null==s[1]?a:s[1],null==s[2]||s[2],$=l.$partition_path(r),s=t.to_ary($),p=null==s[0]?a:s[0],g=null==s[1]?a:s[1],null==s[2]||s[2]):($=l.$partition_path(n),v=null==(s=t.to_ary($))[0]?a:s[0],m=null==s[1]?a:s[1],null==s[2]||s[2],g=m),y=v.$dup(),b=!1,d(u,"each",[],((o=function(n){var s,$,l,_=o.$$s||this,u=a;return null==n&&(n=a),n["$=="](t.const_get_relative(A,"DOT_DOT"))?c(r)?c(($=y.$size(),l=p.$size(),"number"==typeof $&&"number"==typeof l?$>l:$["$>"](l)))?y.$pop():c((u=c(s=u)?s:i.$fetch("recover",!0))["$!"]())?_.$raise(t.const_get_qualified("::","SecurityError"),(c(s=i["$[]"]("target_name"))?s:"path")+" "+e+" refers to location outside jail: "+r+" (disallowed in safe mode)"):c(b["$!"]())?(_.$warn("asciidoctor: WARNING: "+(c(s=i["$[]"]("target_name"))?s:"path")+" has illegal reference to ancestor of jail, auto-recovering"),b=!0):a:y.$pop():y["$<<"](n)}).$$s=l,o.$$arity=1,o)),l.$join_path(y,g))},b.$$arity=-2),t.defn(w,"$web_path",x=function(e,n){var r,i,s,$,o=a,l=a,_=a,u=a;return null==n&&(n=a),e=this.$posixify(e),n=this.$posixify(n),o=a,c(c(r=n["$nil_or_empty?"]())?r:this["$is_web_root?"](e))||(e=c(n["$end_with?"](t.const_get_relative(A,"SLASH")))?""+n+e:""+n+t.const_get_relative(A,"SLASH")+e,c(o=t.const_get_relative(A,"Helpers").$uri_prefix(e))&&(e=e["$[]"](t.Range.$new(o.$length(),-1,!1)))),i=this.$partition_path(e,!0),$=null==(r=t.to_ary(i))[0]?a:r[0],l=null==r[1]?a:r[1],null==r[2]||r[2],_=[],d($,"each",[],((s=function(e){var n;return s.$$s,null==e&&(e=a),e["$=="](t.const_get_relative(A,"DOT_DOT"))?c(_["$empty?"]())?c(c(n=l)?l["$!="](t.const_get_relative(A,"DOT_SLASH")):n)?a:_["$<<"](e):_["$[]"](-1)["$=="](t.const_get_relative(A,"DOT_DOT"))?_["$<<"](e):_.$pop():_["$<<"](e)}).$$s=this,s.$$arity=1,s)),c((u=this.$join_path(_,l))["$include?"](" "))&&(u=u.$gsub(" ","%20")),c(o)?""+o+u:u},x.$$arity=-2),t.defn(w,"$relative_path",k=function(t,n){var r;return c(c(r=this["$is_root?"](t))?t["$start_with?"](n):r)?t.$slice(e(n.$length(),1),t.$length()):t},k.$$arity=2)}((s=[i].concat(r))[0],0,s)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}t.top;var $,a,o,l=[],c=t.nil,_=(t.breaker,t.slice,t.module),u=t.klass,d=t.truthy,h=t.hash2,f=t.range,p=t.send,g=t.gvars,v=t.hash;return t.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$empty?","$nil_or_empty?","$peek_line","$>","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$*","$read_lines","$unshift","$start_with?","$length","$push","$read_lines_until","$size","$clear","$[]=","$new","$line_info","$to_i","$fetch","$attributes","$<","$catalog","$key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$strip","$pop_include","$downcase","$warn","$none?","$any?","$all?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$pwd","$base_dir","$join","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$each","$map","$/","$concat","$to_a","$uniq","$sort","$slice","$open","$each_line","$infinite?","$push_include","$delete","$value?","$rindex","$force_encoding","$chomp","$delete_at","$nil?","$keys","$read","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),$=l,(a=_(l[0],"Asciidoctor")).$$proto,function(s,$,a){function o(){}var l,_,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G=o=u(s,null,"Reader",o),Y=G.$$proto,W=[G].concat(a);Y.file=Y.dir=Y.lines=Y.process_lines=Y.look_ahead=Y.unescape_next_line=Y.lineno=Y.path=Y.source_lines=c,function(e,n,r){function i(){}var s,$,a=i=u(e,null,"Cursor",i);a.$$proto,[a].concat(r),a.$attr_accessor("file"),a.$attr_accessor("dir"),a.$attr_accessor("path"),a.$attr_accessor("lineno"),t.defn(a,"$initialize",s=function(t,e,n,r){return null==e&&(e=c),null==n&&(n=c),null==r&&(r=c),this.file=t,this.dir=e,this.path=n,this.lineno=r},s.$$arity=-2),t.defn(a,"$line_info",$=function(){return this.$path()+": line "+this.$lineno()},$.$$arity=0),t.alias(a,"to_s","line_info")}(W[0],0,W),G.$attr_reader("file"),G.$attr_reader("dir"),G.$attr_reader("path"),G.$attr_reader("lineno"),G.$attr_reader("source_lines"),G.$attr_accessor("process_lines"),t.defn(G,"$initialize",l=function(e,n,r){var i,s,$=this;return null==e&&(e=c),null==n&&(n=c),null==r&&(r=h([],{})),d(n["$!"]())?($.file=$.dir=c,$.path="<stdin>",$.lineno=1):d(t.const_get_qualified("::","String")["$==="](n))?($.file=n,s=t.const_get_qualified("::","File").$split($.file),i=t.to_ary(s),$.dir=null==i[0]?c:i[0],$.path=null==i[1]?c:i[1],$.lineno=1):($.file=n.$file(),$.dir=n.$dir(),$.path=d(i=n.$path())?i:"<stdin>",d($.file)&&(d($.dir)||($.dir=t.const_get_qualified("::","File").$dirname($.file),$.dir["$=="](".")&&($.dir=c)),d(n.$path())||($.path=t.const_get_qualified("::","File").$basename($.file))),$.lineno=d(i=n.$lineno())?i:1),$.lines=d(e)?$.$prepare_lines(e,r):[],$.source_lines=$.lines.$dup(),$.look_ahead=0,$.process_lines=!0,$.unescape_next_line=!1},l.$$arity=-1),t.defn(G,"$prepare_lines",_=function(e,n){return null==n&&(n=h([],{})),d(t.const_get_qualified("::","String")["$==="](e))?d(n["$[]"]("normalize"))?t.const_get_relative(W,"Helpers").$normalize_lines_from_string(e):e.$split(t.const_get_relative(W,"LF"),-1):d(n["$[]"]("normalize"))?t.const_get_relative(W,"Helpers").$normalize_lines_array(e):e.$dup()},_.$$arity=-2),t.defn(G,"$process_line",g=function(t){return d(this.process_lines)&&(this.look_ahead=e(this.look_ahead,1)),t},g.$$arity=1),t.defn(G,"$has_more_lines?",v=function(){return!d(this.lines["$empty?"]())||(this.look_ahead=0,!1)},v.$$arity=0),t.defn(G,"$empty?",m=function(){return!!d(this.lines["$empty?"]())&&(this.look_ahead=0,!0)},m.$$arity=0),t.alias(G,"eof?","empty?"),t.defn(G,"$next_line_empty?",y=function(){return this.$peek_line()["$nil_or_empty?"]()},y.$$arity=0),t.defn(G,"$peek_line",b=function(t){var e,r=c;return null==t&&(t=!1),d(d(e=t)?e:n(this.look_ahead,0))?d(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](f(1,-1,!1)):this.lines["$[]"](0):d(this.lines["$empty?"]())?(this.look_ahead=0,c):d(r=this.$process_line(this.lines["$[]"](0)))?r:this.$peek_line()},b.$$arity=-1),t.defn(G,"$peek_lines",x=function(e,n){var i,s,$=this,a=c;return null==n&&(n=!1),s=$.look_ahead,a=[],function(){var s=t.new_brk();try{p(e,"times",[],((i=function(){var e,$=i.$$s||this;if(null==$.lineno&&($.lineno=c),d(e=d(n)?$.$shift():$.$read_line()))return a["$<<"](e);d(n)&&($.lineno=r($.lineno,1)),t.brk(c,s)}).$$s=$,i.$$brk=s,i.$$arity=0,i))}catch(t){if(t===s)return t.$v;throw t}}(),d(a["$empty?"]())||($.$unshift_all(a),d(n)&&($.look_ahead=s)),a},x.$$arity=-2),t.defn(G,"$read_line",k=function(){var t;return d(d(t=n(this.look_ahead,0))?t:this["$has_more_lines?"]())?this.$shift():c},k.$$arity=0),t.defn(G,"$read_lines",w=function(){var t=c;for(t=[];d(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},w.$$arity=0),t.alias(G,"readlines","read_lines"),t.defn(G,"$read",E=function(){return i(this.$read_lines(),t.const_get_relative(W,"LF"))},E.$$arity=0),t.defn(G,"$advance",A=function(){return!!d(this.$shift())},A.$$arity=0),t.defn(G,"$unshift_line",O=function(t){return this.$unshift(t),c},O.$$arity=1),t.alias(G,"restore_line","unshift_line"),t.defn(G,"$unshift_lines",S=function(t){return this.$unshift_all(t),c},S.$$arity=1),t.alias(G,"restore_lines","unshift_lines"),t.defn(G,"$replace_next_line",R=function(t){return this.$shift(),this.$unshift(t),c},R.$$arity=1),t.alias(G,"replace_line","replace_next_line"),t.defn(G,"$skip_blank_lines",T=function(){var t=c,n=c;if(d(this["$empty?"]()))return c;for(t=0;d(n=this.$peek_line());){if(!d(n["$empty?"]()))return t;this.$shift(),t=e(t,1)}},T.$$arity=0),t.defn(G,"$skip_comment_lines",M=function(){var e,r=c,s=c,$=c;if(d(this["$empty?"]()))return[];for(r=[];d(d(e=s=this.$peek_line())?s["$empty?"]()["$!"]():e)&&d(s["$start_with?"]("//"));)if(d(s["$start_with?"]("///"))){if(!d(d(e=n($=s.$length(),3))?s["$=="](i("/",$)):e))break;r["$<<"](this.$shift()),p(r,"push",t.to_a(this.$read_lines_until(h(["terminator","read_last_line","skip_processing"],{terminator:s,read_last_line:!0,skip_processing:!0}))))}else r["$<<"](this.$shift());return r},M.$$arity=0),t.defn(G,"$skip_line_comments",I=function(){var t,e=c,n=c;if(d(this["$empty?"]()))return[];for(e=[];d(d(t=n=this.$peek_line())?n["$empty?"]()["$!"]():t)&&d(n["$start_with?"]("//"));)e["$<<"](this.$shift());return e},I.$$arity=0),t.defn(G,"$terminate",q=function(){return this.lineno=e(this.lineno,this.lines.$size()),this.lines.$clear(),this.look_ahead=0,c},q.$$arity=0),t.defn(G,"$read_lines_until",C=function(e){var n,i,s,$,a,o=C.$$p,l=o||c,_=c,u=c,f=c,g=c,v=c,m=c,y=c,b=c,x=c,k=c;for(null==e&&(e=h([],{})),o&&(C.$$p=null),_=[],d(e["$[]"]("skip_first_line"))&&this.$shift(),d(d(n=this.process_lines)?e["$[]"]("skip_processing"):n)?(this.process_lines=!1,u=!0):u=!1,d(f=e["$[]"]("terminator"))?(g=!1,v=!1):(g=e["$[]"]("break_on_blank_lines"),v=e["$[]"]("break_on_list_continuation")),a=e["$[]"]("skip_line_comments"),m=!1,y=!1,b=!1;d(d(i=b["$!"]())?x=this.$read_line():i);)b=function(){for(;d(!0);)return!(!d(d(s=f)?x["$=="](f):s)&&!d(d(s=g)?x["$empty?"]():s)&&(d(d(s=d($=v)?m:$)?x["$=="](t.const_get_relative(W,"LIST_CONTINUATION")):s)?(k=["preserve_last_line",!0],p(e,"[]=",t.to_a(k)),k[r(k.length,1)],0):!d((s=l!==c)?t.yield1(l,x):l!==c)));return c}(),d(b)?(d(e["$[]"]("read_last_line"))&&(_["$<<"](x),m=!0),d(e["$[]"]("preserve_last_line"))&&(this.$unshift(x),y=!0)):d(d(i=d(s=a)?x["$start_with?"]("//"):s)?x["$start_with?"]("///")["$!"]():i)||(_["$<<"](x),m=!0);return d(u)&&(this.process_lines=!0,d(d(n=y)?f["$!"]():n)&&(this.look_ahead=r(this.look_ahead,1))),_},C.$$arity=-1),t.defn(G,"$shift",N=function(){return this.lineno=e(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=r(this.look_ahead,1)),this.lines.$shift()},N.$$arity=0),t.defn(G,"$unshift",z=function(t){return this.lineno=r(this.lineno,1),this.look_ahead=e(this.look_ahead,1),this.lines.$unshift(t)},z.$$arity=1),t.defn(G,"$unshift_all",P=function(n){return this.lineno=r(this.lineno,n.$size()),this.look_ahead=e(this.look_ahead,n.$size()),p(this.lines,"unshift",t.to_a(n))},P.$$arity=1),t.defn(G,"$cursor",L=function(){return t.const_get_relative(W,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},L.$$arity=0),t.defn(G,"$line_info",D=function(){return this.path+": line "+this.lineno},D.$$arity=0),t.alias(G,"next_line_info","line_info"),t.defn(G,"$prev_line_info",B=function(){return this.path+": line "+r(this.lineno,1)},B.$$arity=0),t.defn(G,"$lines",j=function(){return this.lines.$dup()},j.$$arity=0),t.defn(G,"$string",F=function(){return i(this.lines,t.const_get_relative(W,"LF"))},F.$$arity=0),t.defn(G,"$source",U=function(){return i(this.source_lines,t.const_get_relative(W,"LF"))},U.$$arity=0),t.defn(G,"$to_s",H=function(){return this.$line_info()},H.$$arity=0)}((o=[a].concat($))[0],0,o),void function($,a,o){function l(){}var _,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N=l=u($,a,"PreprocessorReader",l),z=N.$$proto,P=[N].concat(o);z.document=z.lineno=z.process_lines=z.look_ahead=z.skipping=z.include_stack=z.conditional_stack=z.path=z.include_processor_extensions=z.maxdepth=z.dir=z.path_resolver=z.lines=z.file=z.includes=z.unescape_next_line=c,N.$attr_reader("include_stack"),N.$attr_reader("includes"),t.defn(N,"$initialize",_=function(e,n,r,i){var s,$,a=_.$$p,o=c;return null==n&&(n=c),null==r&&(r=c),null==i&&(i=h([],{})),a&&(_.$$p=null),this.document=e,p(this,t.find_super_dispatcher(this,"initialize",_,!1),[n,r,i],null),o=e.$attributes().$fetch("max-include-depth",64).$to_i(),d(($=0,"number"==typeof(s=o)&&"number"==typeof $?s<$:s["$<"]($)))&&(o=0),this.maxdepth=h(["abs","rel"],{abs:o,rel:o}),this.include_stack=[],this.includes=e.$catalog()["$[]"]("includes"),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=c},_.$$arity=-2),t.defn(N,"$prepare_lines",m=function(n,s){var $,a,o,l=m.$$p,_=c,u=c,f=c,g=c,v=c,y=c,b=c;for(null==s&&(s=h([],{})),l&&(m.$$p=null),b=0,o=arguments.length,y=new Array(o);b<o;b++)y[b]=arguments[b];if(_=p(this,t.find_super_dispatcher(this,"prepare_lines",m,!1),y,l),d(d($=this.document)?this.document.$attributes()["$key?"]("skip-front-matter"):$)&&d(u=this["$skip_front_matter!"](_))&&(f=["front-matter",i(u,t.const_get_relative(P,"LF"))],p(this.document.$attributes(),"[]=",t.to_a(f)),f[r(f.length,1)]),d(s.$fetch("condense",!0))){for(;d(d(a=g=_["$[]"](0))?g["$empty?"]():a);)d(a=_.$shift())&&(this.lineno=e(this.lineno,1));for(;d(d(a=v=_["$[]"](-1))?v["$empty?"]():a);)_.$pop()}return d(s["$[]"]("indent"))&&t.const_get_relative(P,"Parser")["$adjust_indentation!"](_,s["$[]"]("indent"),this.document.$attr("tabsize")),_},m.$$arity=-2),t.defn(N,"$process_line",y=function(n){var r,i;return d(this.process_lines)?d(n["$empty?"]())?(this.look_ahead=e(this.look_ahead,1),n):d(d(r=d(i=n["$end_with?"]("]"))?n["$start_with?"]("[")["$!"]():i)?n["$include?"]("::"):r)?d(d(r=n["$include?"]("if"))?t.const_get_relative(P,"ConditionalDirectiveRx")["$=~"](n):r)?((r=g["~"])===c?c:r["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),n["$[]"](f(1,-1,!1))):d(this.$preprocess_conditional_directive((r=g["~"])===c?c:r["$[]"](2),(r=g["~"])===c?c:r["$[]"](3),(r=g["~"])===c?c:r["$[]"](4),(r=g["~"])===c?c:r["$[]"](5)))?(this.$shift(),c):(this.look_ahead=e(this.look_ahead,1),n):d(this.skipping)?(this.$shift(),c):d(d(r=n["$start_with?"]("inc","\\inc"))?t.const_get_relative(P,"IncludeDirectiveRx")["$=~"](n):r)?((r=g["~"])===c?c:r["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),n["$[]"](f(1,-1,!1))):d(this.$preprocess_include_directive((r=g["~"])===c?c:r["$[]"](2),((r=g["~"])===c?c:r["$[]"](3)).$strip()))?c:(this.look_ahead=e(this.look_ahead,1),n):(this.look_ahead=e(this.look_ahead,1),n):d(this.skipping)?(this.$shift(),c):(this.look_ahead=e(this.look_ahead,1),n):n},y.$$arity=1),t.defn(N,"$has_more_lines?",b=function(){return!!d(this.$peek_line())},b.$$arity=0),t.defn(N,"$empty?",x=function(){return!d(this.$peek_line())},x.$$arity=0),t.alias(N,"eof?","empty?"),t.defn(N,"$peek_line",k=function(e){var n,r,i=k.$$p,s=c,$=c;for(null==e&&(e=!1),i&&(k.$$p=null),$=0,r=arguments.length,s=new Array(r);$<r;$++)s[$]=arguments[$];return d(n=p(this,t.find_super_dispatcher(this,"peek_line",k,!1),s,i))?n:d(this.include_stack["$empty?"]())?c:(this.$pop_include(),this.$peek_line(e))},k.$$arity=-1),t.defn(N,"$preprocess_conditional_directive",w=function(e,n,i,s){var $,a,o,l,_,u,f,v,m=this,y=c,b=c,x=c,k=c,w=c,E=c;if(d(v=n["$empty?"]())||(n=n.$downcase()),d(d($=d(a=v)?d(o=e["$=="]("ifdef"))?o:e["$=="]("ifndef"):a)?$:d(a=s)?e["$=="]("endif"):a))return!1;if(e["$=="]("endif"))return d(m.conditional_stack["$empty?"]())?m.$warn("asciidoctor: ERROR: "+m.$line_info()+": unmatched macro: endif::"+n+"[]"):d(d($=v)?$:n["$=="]((y=m.conditional_stack["$[]"](-1))["$[]"]("target")))?(m.conditional_stack.$pop(),m.skipping=!d(m.conditional_stack["$empty?"]())&&m.conditional_stack["$[]"](-1)["$[]"]("skipping")):m.$warn("asciidoctor: ERROR: "+m.$line_info()+": mismatched macro: endif::"+n+"[], expected endif::"+y["$[]"]("target")+"[]"),!0;if(d(m.skipping))b=!1;else if("ifdef"["$==="](x=e))b=","["$==="](x=i)?p(n.$split(",",-1),"none?",[],((l=function(t){var e=l.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$key?"](t)}).$$s=m,l.$$arity=1,l)):"+"["$==="](x)?p(n.$split("+",-1),"any?",[],((_=function(t){var e=_.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=m,_.$$arity=1,_)):m.document.$attributes()["$key?"](n)["$!"]();else if("ifndef"["$==="](x))b=","["$==="](x=i)?p(n.$split(",",-1),"any?",[],((u=function(t){var e=u.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$key?"](t)}).$$s=m,u.$$arity=1,u)):"+"["$==="](x)?p(n.$split("+",-1),"all?",[],((f=function(t){var e=f.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$key?"](t)}).$$s=m,f.$$arity=1,f)):m.document.$attributes()["$key?"](n);else if("ifeval"["$==="](x)){if(!d(d($=v)?t.const_get_relative(P,"EvalExpressionRx")["$=~"](s.$strip()):$))return!1;k=($=[(a=g["~"])===c?c:a["$[]"](1),(a=g["~"])===c?c:a["$[]"](2),(a=g["~"])===c?c:a["$[]"](3)])[0],w=$[1],E=$[2],k=m.$resolve_expr_val(k),E=m.$resolve_expr_val(E),b=w["$=="]("!=")?k.$send("==",E):k.$send(w.$to_sym(),E)["$!"]()}return d(d($=e["$=="]("ifeval"))?$:s["$!"]())?(d(b)&&(m.skipping=!0),m.conditional_stack["$<<"](h(["target","skip","skipping"],{target:n,skip:b,skipping:m.skipping}))):d(d($=m.skipping)?$:b)||(m.$replace_next_line(s.$rstrip()),m.$unshift(""),d(s["$start_with?"]("include::"))&&(m.look_ahead=r(m.look_ahead,1))),!0},w.$$arity=4),t.defn(N,"$preprocess_include_directive",E=function($,a){var o,l,_,u,f,m,y,b,x,k=this,w=c,E=c,A=c,O=c,S=c,R=c,T=c,M=c,I=c,q=c,C=c,N=c,z=c,L=c,D=c,B=c,j=c,F=c,U=c,H=c,G=c,Y=c,W=c,X=c,K=c;if(d(d(o=(w=$)["$include?"](t.const_get_relative(P,"ATTR_REF_HEAD")))?(w=k.document.$sub_attributes($,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():o))return k.$shift(),k.document.$attributes().$fetch("attribute-missing",t.const_get_relative(P,"Compliance").$attribute_missing())["$=="]("skip")&&k.$unshift("Unresolved directive in "+k.path+" - include::"+$+"["+a+"]"),!0;if(d(d(o=k["$include_processors?"]())?E=p(k.include_processor_extensions,"find",[],((l=function(t){return l.$$s,null==t&&(t=c),t.$instance()["$handles?"](w)}).$$s=k,l.$$arity=1,l)):o))return k.$shift(),E.$process_method()["$[]"](k.document,k,w,t.const_get_relative(P,"AttributeList").$new(a).$parse()),!0;if(d(s(k.document.$safe(),t.const_get_qualified(t.const_get_relative(P,"SafeMode"),"SECURE"))))return k.$replace_next_line("link:"+w+"[]"),!0;if(d(n(A=k.maxdepth["$[]"]("abs"),0))){if(d(s(k.include_stack.$size(),A)))return k.$warn("asciidoctor: ERROR: "+k.$line_info()+": maximum include depth of "+k.maxdepth["$[]"]("rel")+" exceeded"),!1;if(d(d(o=t.const_get_qualified("::","RUBY_ENGINE_OPAL"))?t.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):o))O="file",S=R=d(d(o=k.include_stack["$empty?"]())?t.const_get_qualified("::","Dir").$pwd()["$=="](k.document.$base_dir()):o)?w:t.const_get_qualified("::","File").$join(k.dir,w);else if(d(t.const_get_relative(P,"Helpers")["$uriish?"](w))){if(!d(k.document.$attributes()["$key?"]("allow-uri-read")))return k.$replace_next_line("link:"+w+"[]"),!0;O="uri",S=R=w,d(k.document.$attributes()["$key?"]("cache-uri"))?d((_=t.const_get_qualified("::","OpenURI","skip_raise"))&&(o=t.const_get_qualified(_,"Cache","skip_raise"))?"constant":c)||t.const_get_relative(P,"Helpers").$require_library("open-uri/cached","open-uri-cached"):d(t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&t.const_get_qualified("::","OpenURI")}else{if(O="file",S=k.document.$normalize_system_path(w,k.dir,c,h(["target_name"],{target_name:"include file"})),!d(t.const_get_qualified("::","File")["$file?"](S)))return k.$warn("asciidoctor: WARNING: "+k.$line_info()+": include file not found: "+S),k.$replace_next_line("Unresolved directive in "+k.path+" - include::"+w+"["+a+"]"),!0;R=(k.path_resolver=d(u=k.path_resolver)?u:t.const_get_relative(P,"PathResolver").$new()).$relative_path(S,k.document.$base_dir())}if(u=[c,c,h([],{})],T=u[0],M=u[1],I=u[2],d(a["$empty?"]())||(I=t.const_get_relative(P,"AttributeList").$new(a).$parse(),d(I["$key?"]("lines"))?(T=[],p(I["$[]"]("lines").$split(t.const_get_relative(P,"DataDelimiterRx")),"each",[],((f=function(e){var n,r,i,s,$,a=f.$$s||this,o=c,l=c;return null==e&&(e=c),d(e["$include?"](".."))?(r=p(e.$split("..",2),"map",[],((i=function(t){return i.$$s,null==t&&(t=c),t.$to_i()}).$$s=a,i.$$arity=1,i)),o=null==(n=t.to_ary(r))[0]?c:n[0],(l=null==n[1]?c:n[1])["$=="](-1)?(T["$<<"](o),T["$<<"](($=0,"number"==typeof(s=1)&&"number"==typeof $?s/$:s["$/"]($)))):T.$concat(t.const_get_qualified("::","Range").$new(o,l).$to_a())):T["$<<"](e.$to_i())}).$$s=k,f.$$arity=1,f)),T=d(T["$empty?"]())?c:T.$sort().$uniq()):d(I["$key?"]("tag"))?d((q=I["$[]"]("tag"))["$empty?"]())||(d(q["$start_with?"]("!"))?q["$=="]("!")||(M=v(q.$slice(1,q.$length()),!1)):M=v(q,!0)):d(I["$key?"]("tags"))&&(M=h([],{}),p(I["$[]"]("tags").$split(t.const_get_relative(P,"DataDelimiterRx")),"each",[],((m=function(e){m.$$s;var n=c;return null==e&&(e=c),d(e["$empty?"]())?c:d(e["$start_with?"]("!"))?e["$=="]("!")?c:(n=[e.$slice(1,e.$length()),!1],p(M,"[]=",t.to_a(n)),n[r(n.length,1)]):(n=[e,!0],p(M,"[]=",t.to_a(n)),n[r(n.length,1)])}).$$s=k,m.$$arity=1,m)),d(M["$empty?"]())&&(M=c))),d(T)){C=(u=[[],c,0])[0],N=u[1],z=u[2];try{!function(){var n=t.new_brk();try{p(k,"open",[S,"r"],((y=function(n){var r,i=y.$$s||this;return null==n&&(n=c),function(){var s=t.new_brk();try{return p(n,"each_line",[],((r=function(n){r.$$s;var i,$=c;return null==n&&(n=c),z=e(z,1),$=T["$[]"](0),d(d(i=t.const_get_qualified("::","Float")["$==="]($))?$["$infinite?"]():i)?(N=d(i=N)?i:z,C["$<<"](n)):(z["$=="]($)&&(N=d(i=N)?i:z,C["$<<"](n),T.$shift()),d(T["$empty?"]())?void t.brk(c,s):c)}).$$s=i,r.$$brk=s,r.$$arity=1,r))}catch(t){if(t===s)return t.$v;throw t}}()}).$$s=k,y.$$brk=n,y.$$arity=1,y))}catch(t){if(t===n)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[t.const_get_relative(P,"StandardError")]))throw e;try{return k.$warn("asciidoctor: WARNING: "+k.$line_info()+": include "+O+" not readable: "+S),k.$replace_next_line("Unresolved directive in "+k.path+" - include::"+w+"["+a+"]"),!0}finally{t.pop_exception()}}k.$shift(),d(N)&&k.$push_include(C,S,R,N,I)}else if(d(M)){u=[[],c,0,[],t.const_get_qualified("::","Set").$new(),c],C=u[0],N=u[1],z=u[2],L=u[3],D=u[4],B=u[5],d(M["$key?"]("**"))?d(M["$key?"]("*"))?(j=F=M.$delete("**"),U=M.$delete("*")):j=F=U=M.$delete("**"):(j=F=M["$value?"](!0)["$!"](),U=M.$delete("*")),d(d(u=H=S.$rindex("."))?G=t.const_get_relative(P,"CIRCUMFIX_COMMENTS")["$[]"](S.$slice(H,S.$length())):u)&&(Y=r((W="[] "+G["$[]"]("suffix")).$length(),2));try{p(k,"open",[S,"r"],((b=function(n){var i,s=b.$$s||this;return null==n&&(n=c),p(n,"each_line",[],((i=function(n){var s,$,a,o,l,_=i.$$s||this,u=c,h=c,f=c;return null==n&&(n=c),z=e(z,1),d(t.const_get_relative(P,"FORCE_ENCODING"))&&n.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8")),d(d(s=d($=(u=n.$chomp())["$end_with?"]("[]"))?$:d(a=d(o=W)?u["$end_with?"](W):o)?u=u.$slice(0,r(u.$length(),Y)):a)?t.const_get_relative(P,"TagDirectiveRx")["$=~"](u):s)?d((s=g["~"])===c?c:s["$[]"](1))?(h=(s=g["~"])===c?c:s["$[]"](2))["$=="](B)?(L.$pop(),$=d(L["$empty?"]())?[c,F]:L["$[]"](-1),s=t.to_ary($),B=null==s[0]?c:s[0],j=null==s[1]?c:s[1],$):d(M["$key?"](h))?d(f=p(L,"rindex",[],((l=function(t,e){return l.$$s,null==t&&(t=c),null==e&&(e=c),t["$=="](h)}).$$s=_,l.$$arity=2,l)))?(f["$=="](0)?L.$shift():L.$delete_at(f),_.$warn("asciidoctor: WARNING: "+w+": line "+z+": mismatched end tag in include: expected "+B+", found "+h)):_.$warn("asciidoctor: WARNING: "+w+": line "+z+": unexpected end tag in include: "+h):c:d(M["$key?"](h=(s=g["~"])===c?c:s["$[]"](2)))?(D["$<<"](h),L["$<<"]([B=h,j=M["$[]"](h)])):d(U["$nil?"]()["$!"]())?(j=!d(d(s=B)?j["$!"]():s)&&U,L["$<<"]([B=h,j])):c:d(j)?(N=d(s=N)?s:z,C["$<<"](n)):c}).$$s=s,i.$$arity=1,i))}).$$s=k,b.$$arity=1,b))}catch(e){if(!t.rescue(e,[t.const_get_relative(P,"StandardError")]))throw e;try{return k.$warn("asciidoctor: WARNING: "+k.$line_info()+": include "+O+" not readable: "+S),k.$replace_next_line("Unresolved directive in "+k.path+" - include::"+w+"["+a+"]"),!0}finally{t.pop_exception()}}d((X=r(M.$keys().$to_a(),D.$to_a()))["$empty?"]())||k.$warn("asciidoctor: WARNING: "+k.$line_info()+": tag"+(d(n(X.$size(),1))?"s":c)+" '"+i(X,",")+"' not found in include "+O+": "+S),k.$shift(),d(N)&&k.$push_include(C,S,R,N,I)}else try{K=O["$=="]("file")?t.const_get_qualified("::","IO").$read(S):p(k,"open",[S,"r"],((x=function(t){return x.$$s,null==t&&(t=c),t.$read()}).$$s=k,x.$$arity=1,x)),k.$shift(),k.$push_include(K,S,R,1,I)}catch(e){if(!t.rescue(e,[t.const_get_relative(P,"StandardError")]))throw e;try{return k.$warn("asciidoctor: WARNING: "+k.$line_info()+": include "+O+" not readable: "+S),k.$replace_next_line("Unresolved directive in "+k.path+" - include::"+w+"["+a+"]"),!0}finally{t.pop_exception()}}return!0}return!1},E.$$arity=2),t.defn(N,"$push_include",A=function(n,i,s,$,a){var o,l,_=c,u=c;return null==i&&(i=c),null==s&&(s=c),null==$&&($=1),null==a&&(a=h([],{})),this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]),d(i)?(this.file=i,this.dir=t.const_get_relative(P,"File").$dirname(i),this.process_lines=t.const_get_relative(P,"ASCIIDOC_EXTENSIONS")["$[]"](t.const_get_qualified("::","File").$extname(i))):(this.file=c,this.dir=".",this.process_lines=!0),d(s)?this.includes["$<<"](t.const_get_relative(P,"Helpers").$rootname(this.path=s)):this.path="<stdin>",this.lineno=$,d(a["$key?"]("depth"))&&(_=a["$[]"]("depth").$to_i(),d((l=0,"number"==typeof(o=_)&&"number"==typeof l?o<=l:o["$<="](l)))&&(_=1),this.maxdepth=h(["abs","rel"],{abs:e(r(this.include_stack.$size(),1),_),rel:_})),d((this.lines=this.$prepare_lines(n,h(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:a["$[]"]("indent")})))["$empty?"]())?this.$pop_include():(d(a["$key?"]("leveloffset"))&&(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+a["$[]"]("leveloffset")),this.lines["$<<"](""),d(u=this.document.$attr("leveloffset"))?this.lines["$<<"](":leveloffset: "+u):this.lines["$<<"](":leveloffset!:"),this.lineno=r(this.lineno,2)),this.look_ahead=0),this},A.$$arity=-2),t.defn(N,"$pop_include",O=function(){var e,r;return d(n(this.include_stack.$size(),0))?(r=this.include_stack.$pop(),e=t.to_ary(r),this.lines=null==e[0]?c:e[0],this.file=null==e[1]?c:e[1],this.dir=null==e[2]?c:e[2],this.path=null==e[3]?c:e[3],this.lineno=null==e[4]?c:e[4],this.maxdepth=null==e[5]?c:e[5],this.process_lines=null==e[6]?c:e[6],this.look_ahead=0,c):c},O.$$arity=0),t.defn(N,"$include_depth",S=function(){return this.include_stack.$size()},S.$$arity=0),t.defn(N,"$exceeded_max_depth?",R=function(){var t,e;return!!d(d(t=n(e=this.maxdepth["$[]"]("abs"),0))?s(this.include_stack.$size(),e):t)&&this.maxdepth["$[]"]("rel")},R.$$arity=0),t.defn(N,"$shift",T=function(){var e,n=T.$$p,r=c,i=c;for(n&&(T.$$p=null),i=0,e=arguments.length,r=new Array(e);i<e;i++)r[i]=arguments[i];return d(this.unescape_next_line)?(this.unescape_next_line=!1,p(this,t.find_super_dispatcher(this,"shift",T,!1),r,n)["$[]"](f(1,-1,!1))):p(this,t.find_super_dispatcher(this,"shift",T,!1),r,n)},T.$$arity=0),t.defn(N,"$skip_front_matter!",M=function(n,r){var i,s=c,$=c;if(null==r&&(r=!0),s=c,n["$[]"](0)["$=="]("---")){for($=n.$dup(),s=[],n.$shift(),d(r)&&(this.lineno=e(this.lineno,1));d(d(i=n["$empty?"]()["$!"]())?n["$[]"](0)["$!="]("---"):i);)s["$<<"](n.$shift()),d(r)&&(this.lineno=e(this.lineno,1));d(n["$empty?"]())?(p(n,"unshift",t.to_a($)),d(r)&&(this.lineno=0),s=c):(n.$shift(),d(r)&&(this.lineno=e(this.lineno,1)))}return s},M.$$arity=-2),t.defn(N,"$resolve_expr_val",I=function(e){var n,r,i=c;return d(d(n=d(r=e["$start_with?"]('"'))?e["$end_with?"]('"'):r)?n:d(r=e["$start_with?"]("'"))?e["$end_with?"]("'"):r)?(i=!0,e=e["$[]"](f(1,-1,!0))):i=!1,d(e["$include?"](t.const_get_relative(P,"ATTR_REF_HEAD")))&&(e=this.document.$sub_attributes(e,h(["attribute_missing"],{attribute_missing:"drop"}))),d(i)?e:d(e["$empty?"]())?c:!!e["$=="]("true")||!e["$=="]("false")&&(d(e.$rstrip()["$empty?"]())?" ":d(e["$include?"]("."))?e.$to_f():e.$to_i())},I.$$arity=1),t.defn(N,"$include_processors?",q=function(){var t;return d(this.include_processor_extensions["$nil?"]())?d(d(t=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():t)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},q.$$arity=0),t.defn(N,"$to_s",C=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+i(p(this.include_stack,"map",[],((t=function(e){return t.$$s,null==e&&(e=c),e.$to_s()}).$$s=this,t.$$arity=1,t)),", ")+"]}>"},C.$$arity=0)}(o[0],t.const_get_relative(o,"Reader"),o)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var r,i,s,$=[],a=t.nil,o=(t.breaker,t.slice,t.module),l=t.klass,c=t.send,_=t.truthy,u=t.hash2;return t.add_stubs(["$attr_accessor","$attr_reader","$+","$level","$>","$==","$context","$special","$generate_id","$title","$sectnum","$reftext","$!","$empty?","$===","$sprintf","$sub_quotes","$compat_mode","$[]","$attributes","$enumerate_section","$class","$object_id","$inspect","$size","$gsub","$downcase","$tr_s","$end_with?","$chop","$start_with?","$slice","$length","$key?","$catalog","$unique_id_start_index"]),r=$,(i=o($[0],"Asciidoctor")).$$proto,void function(r,i,s){function $(){}var o,d,h,f,p,g,v,m=$=l(r,i,"Section",$),y=m.$$proto,b=[m].concat(s);y.level=y.document=y.parent=y.number=y.numbered=y.sectname=y.title=y.blocks=a,m.$attr_accessor("index"),m.$attr_accessor("sectname"),m.$attr_accessor("special"),m.$attr_accessor("numbered"),m.$attr_reader("caption"),t.defn(m,"$initialize",o=function(r,i,s,$){var l,d,h=o.$$p;return null==r&&(r=a),null==i&&(i=a),null==s&&(s=!0),null==$&&($=u([],{})),h&&(o.$$p=null),c(this,t.find_super_dispatcher(this,"initialize",o,!1),[r,"section",$],null),this.level=_(i)?i:_(r)?e(r.$level(),1):1,this.numbered=_(l=s)?n(this.level,0):l,this.special=_(l=_(d=r)?r.$context()["$=="]("section"):d)?r.$special():l,this.index=0,this.number=1},o.$$arity=-1),t.alias(m,"name","title"),t.defn(m,"$generate_id",d=function(){return t.const_get_relative(b,"Section").$generate_id(this.$title(),this.document)},d.$$arity=0),t.defn(m,"$sectnum",h=function(t,e){var r,i,s;return null==t&&(t="."),null==e&&(e=a),e=_(r=e)?r:e["$=="](!1)?"":t,_(_(r=_(i=_(s=this.level)?n(this.level,1):s)?this.parent:i)?this.parent.$context()["$=="]("section"):r)?""+this.parent.$sectnum(t)+this.number+e:""+this.number+e},h.$$arity=-1),t.defn(m,"$xreftext",f=function(t){var e,n=this,r=a,i=a,s=a,$=a,o=a;return null==t&&(t=a),_(_(e=r=n.$reftext())?r["$empty?"]()["$!"]():e)?r:_(t)?_(n.numbered)?"full"["$==="](i=t)?($=_(_(e=(s=n.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?n.$sprintf(n.$sub_quotes("_%s_"),n.$title()):n.$sprintf(n.$sub_quotes(_(n.document.$compat_mode())?"``%s''":'"`%s`"'),n.$title()),_(o=n.document.$attributes()["$[]"](s+"-refsig"))?o+" "+n.$sectnum(".",",")+" "+$:n.$sectnum(".",",")+" "+$):"short"["$==="](i)?_(o=n.document.$attributes()["$[]"](n.sectname+"-refsig"))?o+" "+n.$sectnum(".",""):n.$sectnum(".",""):_(_(e=(s=n.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?n.$sprintf(n.$sub_quotes("_%s_"),n.$title()):n.$title():_(_(e=(s=n.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?n.$sprintf(n.$sub_quotes("_%s_"),n.$title()):n.$title():n.$title()},f.$$arity=-1),t.defn(m,"$<<",p=function(e){var n,r=p.$$p,i=a,s=a;for(r&&(p.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return e.$context()["$=="]("section")&&this.$enumerate_section(e),c(this,t.find_super_dispatcher(this,"<<",p,!1),i,r)},p.$$arity=1),t.defn(m,"$to_s",g=function(){var e,n=this,r=g.$$p,i=a,s=a,$=a;for(r&&(g.$$p=null),$=0,e=arguments.length,s=new Array(e);$<e;$++)s[$]=arguments[$];return _(n.title)?(i=_(n.numbered)?n.$sectnum()+" "+n.title:n.title,"#<"+n.$class()+"@"+n.$object_id()+" {level: "+n.level+", title: "+i.$inspect()+", blocks: "+n.blocks.$size()+"}>"):c(n,t.find_super_dispatcher(n,"to_s",g,!1),s,r)},g.$$arity=0),t.defs(m,"$generate_id",v=function(n,r){var i,s=a,$=a,o=a,l=a,c=a,u=a,d=a;if(s=r.$attributes(),$=_(i=s["$[]"]("idseparator"))?i:"_",l=""+(o=_(i=s["$[]"]("idprefix"))?i:"_")+n.$downcase().$gsub(t.const_get_relative(b,"InvalidSectionIdCharsRx"),$),_($["$empty?"]()));else if(l=l.$tr_s($,$),_(l["$end_with?"]($))&&(l=l.$chop()),_(o["$empty?"]()))for(;_(l["$start_with?"]($));)l=l.$slice(1,l.$length());if(_(r.$catalog()["$[]"]("ids")["$key?"](l))){for(c=(i=[r.$catalog()["$[]"]("ids"),t.const_get_relative(b,"Compliance").$unique_id_start_index()])[0],u=i[1];_(c["$key?"](d=""+l+$+u));)u=e(u,1);return d}return l},v.$$arity=2)}((s=[i].concat(r))[0],t.const_get_relative(s,"AbstractBlock"),s)},Opal.modules["asciidoctor/stylesheets"]=function(t){t.top;var e,n,r,i=[],s=t.nil,$=(t.breaker,t.slice,t.module),a=t.klass,o=t.truthy,l=t.hash2,c=t.send;return t.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$sub","$css","$[]=","$-","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),e=i,(n=$(i[0],"Asciidoctor")).$$proto,void function(e,n,r){function i(){}var $,_,u,d,h,f,p,g,v,m,y,b,x,k,w=i=a(e,null,"Stylesheets",i),E=w.$$proto,A=[w].concat(r);E.primary_stylesheet_data=E.coderay_stylesheet_data=E.pygments_stylesheet_data=s,t.const_set(A[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(A[0],"DEFAULT_PYGMENTS_STYLE","default"),t.const_set(A[0],"STYLESHEETS_DATA_PATH",t.const_get_qualified("::","File").$join(t.const_get_relative(A,"DATA_PATH"),"stylesheets")),w.__instance__=w.$new(),t.defs(w,"$instance",$=function(){return null==this.__instance__&&(this.__instance__=s),this.__instance__},$.$$arity=0),t.defn(w,"$primary_stylesheet_name",_=function(){return t.const_get_relative(A,"DEFAULT_STYLESHEET_NAME")},_.$$arity=0),t.defn(w,"$primary_stylesheet_data",u=function(){var e;return e=t.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?t.const_get_relative([],"File").$join(__dirname,"css"):"css",!1!==($a=w.primary_stylesheet_data)&&$a!==s&&null!=$a?$a:w.primary_stylesheet_data=t.const_get_relative([],"IO").$read(t.const_get_relative([],"File").$join(e,"asciidoctor.css")).$chomp()},u.$$arity=0),t.defn(w,"$embed_primary_stylesheet",d=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},d.$$arity=0),t.defn(w,"$write_primary_stylesheet",h=function(e){return null==e&&(e="."),t.const_get_qualified("::","IO").$write(t.const_get_qualified("::","File").$join(e,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},h.$$arity=-1),t.defn(w,"$coderay_stylesheet_name",f=function(){return"coderay-asciidoctor.css"},f.$$arity=0),t.defn(w,"$coderay_stylesheet_data",p=function(){var e;return this.coderay_stylesheet_data=o(e=this.coderay_stylesheet_data)?e:t.const_get_qualified("::","IO").$read(t.const_get_qualified("::","File").$join(t.const_get_relative(A,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},p.$$arity=0),t.defn(w,"$embed_coderay_stylesheet",g=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},g.$$arity=0),t.defn(w,"$write_coderay_stylesheet",v=function(e){return null==e&&(e="."),t.const_get_qualified("::","IO").$write(t.const_get_qualified("::","File").$join(e,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},v.$$arity=-1),t.defn(w,"$pygments_stylesheet_name",m=function(e){var n;return null==e&&(e=s),"pygments-"+(o(n=e)?n:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE"))+".css"},m.$$arity=-1),t.defn(w,"$pygments_stylesheet_data",y=function(e){var n,r,i,$,a=s;return null==e&&(e=s),o(this.$load_pygments())?o(n=(this.pygments_stylesheet_data=o(r=this.pygments_stylesheet_data)?r:l([],{}))["$[]"](o(r=e)?r:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE")))?n:(a=[o(r=e)?r:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE"),t.const_get_qualified("::","Pygments").$css(".listingblock .pygments",l(["classprefix","style"],{classprefix:"tok-",style:o(r=e)?r:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],c(this.pygments_stylesheet_data=o(r=this.pygments_stylesheet_data)?r:l([],{}),"[]=",t.to_a(a)),a[(i=a.length,$=1,"number"==typeof i&&"number"==typeof $?i-$:i["$-"]($))]):"/* Pygments styles disabled. Pygments is not available. */"},y.$$arity=-1),t.defn(w,"$embed_pygments_stylesheet",b=function(t){return null==t&&(t=s),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},b.$$arity=-1),t.defn(w,"$write_pygments_stylesheet",x=function(e,n){return null==e&&(e="."),null==n&&(n=s),t.const_get_qualified("::","IO").$write(t.const_get_qualified("::","File").$join(e,this.$pygments_stylesheet_name(n)),this.$pygments_stylesheet_data(n))},x.$$arity=-1),t.defn(w,"$load_pygments",k=function(){return!!o(t.const_get_qualified("::","Pygments","skip_raise")?"constant":s)||t.const_get_relative(A,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},k.$$arity=0)}((r=[n].concat(e))[0],0,r)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var a,o,l,c=[],_=t.nil,u=(t.breaker,t.slice,t.module),d=t.klass,h=t.send,f=t.truthy,p=t.hash2,g=t.range;return t.add_stubs(["$attr_accessor","$attr_reader","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$header_row?","$table","$delete","$!","$rstrip","$start_with?","$slice","$length","$strip","$split","$include?","$readlines","$unshift","$nil?","$apply_subs","$convert","$map","$text","$to_s","$to_set","$cursor","$nested?","$document","$warn","$prev_line_info","$nil_or_empty?","$escape","$columns","$match","$pre_match","$post_match","$chop","$buffer","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$line_info","$squeeze","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$!=","$close_row","$rows","$effective_column_visits"]),a=c,(o=u(c[0],"Asciidoctor")).$$proto,function(a,o,l){function c(){}var u,p,g,v,m,y=c=d(a,o,"Table",c),b=y.$$proto,x=[y].concat(l);b.attributes=b.document=b.has_header_option=b.rows=b.columns=_,function(e,n,r){function i(){}var s,$,a=i=d(e,null,"Rows",i),o=a.$$proto;[a].concat(r),o.head=o.foot=o.body=_,a.$attr_accessor("head","foot","body"),t.defn(a,"$initialize",s=function(t,e,n){return null==t&&(t=[]),null==e&&(e=[]),null==n&&(n=[]),this.head=t,this.foot=e,this.body=n},s.$$arity=-1),t.alias(a,"[]","send"),t.defn(a,"$by_section",$=function(){return[["head",this.head],["foot",this.foot],["body",this.body]]},$.$$arity=0)}(x[0],0,x),y.$attr_accessor("columns"),y.$attr_accessor("rows"),y.$attr_accessor("has_header_option"),y.$attr_reader("caption"),t.defn(y,"$initialize",u=function($,a){var o,l,c=u.$$p,d=_,p=_,g=_;return c&&(u.$$p=null),h(this,t.find_super_dispatcher(this,"initialize",u,!1),[$,"table"],null),this.rows=t.const_get_relative(x,"Rows").$new(),this.columns=[],this.has_header_option=a["$key?"]("header-option"),f(d=a["$[]"]("width"))?f(f(o=e(p=d.$to_i(),100))?o:n(p,1))&&(f((o=p["$=="](0))?f(l=d["$=="]("0"))?l:d["$=="]("0%"):p["$=="](0))||(p=100)):p=100,g=["tablepcwidth",p],h(this.attributes,"[]=",t.to_a(g)),g[r(g.length,1)],f(this.document.$attributes()["$key?"]("pagewidth"))&&(f(o=this.attributes["$[]"]("tableabswidth"))||(g=["tableabswidth",i(s(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()],h(this.attributes,"[]=",t.to_a(g)),g[r(g.length,1)])),f(a["$key?"]("rotate-option"))?(g=["orientation","landscape"],h(a,"[]=",t.to_a(g)),g[r(g.length,1)]):_},u.$$arity=2),t.defn(y,"$header_row?",p=function(){var t;return f(t=this.has_header_option)?this.rows.$body()["$empty?"]():t},p.$$arity=0),t.defn(y,"$create_columns",g=function(e){var n,i=_,s=_,a=_;return i=[],s=0,h(e,"each",[],((n=function(e){var r=n.$$s||this;return null==e&&(e=_),s=$(s,e["$[]"]("width")),i["$<<"](t.const_get_relative(x,"Column").$new(r,i.$size(),e))}).$$s=this,n.$$arity=1,n)),f((this.columns=i)["$empty?"]())||(a=["colcount",i.$size()],h(this.attributes,"[]=",t.to_a(a)),a[r(a.length,1)],this.$assign_column_widths(s["$=="](0)?_:s)),_},g.$$arity=1),t.defn(y,"$assign_column_widths",v=function(t){var e,n,a,o=_,l=_;return null==t&&(t=_),a=10["$**"](4),o=l=0,f(t)?h(this.columns,"each",[],((e=function(n){return e.$$s,null==n&&(n=_),o=$(o,l=n.$assign_width(_,t,a))}).$$s=this,e.$$arity=1,e)):((l=s(s(i(100,a),this.columns.$size()).$to_i(),a)).$to_i()["$=="](l)&&(l=l.$to_i()),h(this.columns,"each",[],((n=function(t){return n.$$s,null==t&&(t=_),o=$(o,t.$assign_width(l))}).$$s=this,n.$$arity=1,n))),o["$=="](100)||this.columns["$[]"](-1).$assign_width(s(i($(r(100,o),l),a).$round(),a)),_},v.$$arity=-1),t.defn(y,"$partition_header_footer",m=function(n){var i,s,$=_,a=_,o=_;return $=["rowcount",this.rows.$body().$size()],h(this.attributes,"[]=",t.to_a($)),$[r($.length,1)],a=this.rows.$body().$size(),f(f(i=e(a,0))?this.has_header_option:i)&&(o=this.rows.$body().$shift(),a=r(a,1),h(o,"each",[],((s=function(e){return s.$$s,null==e&&(e=_),$=[_],h(e,"style=",t.to_a($)),$[r($.length,1)]}).$$s=this,s.$$arity=1,s)),$=[[o]],h(this.rows,"head=",t.to_a($)),$[r($.length,1)]),f(f(i=e(a,0))?n["$key?"]("footer-option"):i)&&($=[[this.rows.$body().$pop()]],h(this.rows,"foot=",t.to_a($)),$[r($.length,1)]),_},m.$$arity=1)}((l=[o].concat(a))[0],t.const_get_relative(l,"AbstractBlock"),l),function(e,n,a){function o(){}var l,c,u=o=d(e,n,"Column",o),g=u.$$proto;[u].concat(a),g.attributes=_,u.$attr_accessor("style"),t.defn(u,"$initialize",l=function(e,n,i){var s=l.$$p,a=_;return null==i&&(i=p([],{})),s&&(l.$$p=null),h(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"column"],null),this.style=i["$[]"]("style"),a=["colnumber",$(n,1)],h(i,"[]=",t.to_a(a)),a[r(a.length,1)],f(i["$[]"]("width"))||(a=["width",1],h(i,"[]=",t.to_a(a)),a[r(a.length,1)]),f(i["$[]"]("halign"))||(a=["halign","left"],h(i,"[]=",t.to_a(a)),a[r(a.length,1)]),f(i["$[]"]("valign"))||(a=["valign","top"],h(i,"[]=",t.to_a(a)),a[r(a.length,1)]),this.$update_attributes(i)},l.$$arity=-3),t.alias(u,"table","parent"),t.defn(u,"$assign_width",c=function(e,n,$){var a=_;return null==n&&(n=_),null==$&&($=1e4),f(n)&&(e=s(i(i(s(this.attributes["$[]"]("width").$to_f(),n),100),$).$to_i(),$)).$to_i()["$=="](e)&&(e=e.$to_i()),a=["colpcwidth",e],h(this.attributes,"[]=",t.to_a(a)),a[r(a.length,1)],f(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(a=["colabswidth",i(s(e,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],h(this.attributes,"[]=",t.to_a(a)),a[r(a.length,1)]),e},c.$$arity=-2)}(t.const_get_relative(l,"Table"),t.const_get_relative(l,"AbstractNode"),l),function(e,i,s){function $(){}var a,o,l,c,u,g=$=d(e,i,"Cell",$),v=g.$$proto,m=[g].concat(s);v.document=v.text=v.style=v.inner_document=v.colspan=v.rowspan=v.attributes=_,g.$attr_accessor("style"),g.$attr_accessor("colspan"),g.$attr_accessor("rowspan"),t.alias(g,"column","parent"),g.$attr_reader("inner_document"),t.defn(g,"$initialize",a=function(e,i,s,$){var o,l=a.$$p,c=_,u=_,d=_,g=_,v=_,y=_,b=_;if(null==s&&(s=p([],{})),null==$&&($=p([],{})),l&&(a.$$p=null),h(this,t.find_super_dispatcher(this,"initialize",a,!1),[e,"cell"],null),f(e)?(c=f(u=e.$table()["$header_row?"]())?_:e.$attributes()["$[]"]("style"),this.$update_attributes(e.$attributes())):u=c=_,f(s)){if(this.colspan=s.$delete("colspan"),this.rowspan=s.$delete("rowspan"),f(f(o=u)?o:s["$key?"]("style")["$!"]())||(c=s["$[]"]("style")),f($["$[]"]("strip_text")))if(f(f(o=c["$=="]("literal"))?o:c["$=="]("verse")))for(i=i.$rstrip();f(i["$start_with?"](t.const_get_relative(m,"LF")));)i=i.$slice(1,r(i.$length(),1));else i=i.$strip();this.$update_attributes(s)}else this.colspan=_,this.rowspan=_;return c["$=="]("asciidoc")&&(d=this.document.$attributes().$delete("doctitle"),g=i.$split(t.const_get_relative(m,"LF"),-1),f(g["$empty?"]())||f((v=g["$[]"](0))["$include?"]("::"))&&(y=t.const_get_relative(m,"PreprocessorReader").$new(this.document,[v]).$readlines(),f((o=v["$=="](y["$[]"](0)))?n(y.$size(),2):v["$=="](y["$[]"](0)))||(g.$shift(),f(y["$empty?"]())||h(g,"unshift",t.to_a(y)))),this.inner_document=t.const_get_relative(m,"Document").$new(g,p(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:$["$[]"]("cursor")})),f(d["$nil?"]())||(b=["doctitle",d],h(this.document.$attributes(),"[]=",t.to_a(b)),b[r(b.length,1)])),this.text=i,this.style=c},a.$$arity=-3),t.defn(g,"$text",o=function(){var e=this;return e.$apply_subs(e.text,e.style["$=="]("literal")?t.const_get_relative(m,"BASIC_SUBS"):t.const_get_relative(m,"NORMAL_SUBS"))},o.$$arity=0),t.defn(g,"$text=",l=function(t){return this.text=t},l.$$arity=1),t.defn(g,"$content",c=function(){var e;return this.style["$=="]("asciidoc")?this.inner_document.$convert():h(this.$text().$split(t.const_get_relative(m,"BlankLineRx")),"map",[],((e=function(n){var r,i=e.$$s||this;return null==i.style&&(i.style=_),null==n&&(n=_),f(f(r=i.style["$!"]())?r:i.style["$=="]("header"))?n:t.const_get_relative(m,"Inline").$new(i.$parent(),"quoted",n,p(["type"],{type:i.style})).$convert()}).$$s=this,e.$$arity=1,e))},c.$$arity=0),t.defn(g,"$to_s",u=function(){var e,n,r=u.$$p,i=_,s=_;for(r&&(u.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return h(this,t.find_super_dispatcher(this,"to_s",u,!1),i,r).$to_s()+" - [text: "+this.text+", colspan: "+(f(e=this.colspan)?e:1)+", rowspan: "+(f(e=this.rowspan)?e:1)+", attributes: "+this.attributes+"]"},u.$$arity=0)}(t.const_get_relative(l,"Table"),t.const_get_relative(l,"AbstractNode"),l),void function(n,i,s){function a(){}var o,l,c,u,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q=a=d(n,null,"ParserContext",a),C=q.$$proto,N=[q].concat(s);C.delimiter=C.delimiter_re=C.buffer=C.cellspecs=C.cell_open=C.format=C.last_cursor=C.table=C.current_row=C.colcount=C.column_visits=C.active_rowspans=C.linenum=_,t.const_set(N[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(N[0],"DELIMITERS",p(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),q.$attr_accessor("table"),q.$attr_accessor("format"),q.$attr_reader("colcount"),q.$attr_accessor("buffer"),q.$attr_reader("delimiter"),q.$attr_reader("delimiter_re"),t.defn(q,"$initialize",o=function(e,n,r){var i,s,$=_,a=_;return null==r&&(r=p([],{})),this.reader=e,this.table=n,this.last_cursor=e.$cursor(),f(r["$key?"]("format"))?f(t.const_get_relative(N,"FORMATS")["$include?"]($=r["$[]"]("format")))?$["$=="]("tsv")?this.format="csv":f((i=(this.format=$)["$=="]("psv"))?n.$document()["$nested?"]():(this.format=$)["$=="]("psv"))&&($="!sv"):(this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": illegal table format: "+$),i=["psv",f(n.$document()["$nested?"]())?"!sv":"psv"],this.format=i[0],$=i[1]):(i=["psv",f(n.$document()["$nested?"]())?"!sv":"psv"],this.format=i[0],$=i[1]),f(r["$key?"]("separator"))?f((a=r["$[]"]("separator"))["$nil_or_empty?"]())?(s=t.const_get_relative(N,"DELIMITERS")["$[]"]($),i=t.to_ary(s),this.delimiter=null==i[0]?_:i[0],this.delimiter_re=null==i[1]?_:i[1]):a["$=="]("\\t")?(s=t.const_get_relative(N,"DELIMITERS")["$[]"]("tsv"),i=t.to_ary(s),this.delimiter=null==i[0]?_:i[0],this.delimiter_re=null==i[1]?_:i[1]):(i=[a,new RegExp(t.const_get_qualified("::","Regexp").$escape(a))],this.delimiter=i[0],this.delimiter_re=i[1]):(s=t.const_get_relative(N,"DELIMITERS")["$[]"]($),i=t.to_ary(s),this.delimiter=null==i[0]?_:i[0],this.delimiter_re=null==i[1]?_:i[1]),this.colcount=f(n.$columns()["$empty?"]())?-1:n.$columns().$size(),this.buffer="",this.cellspecs=[],this.cell_open=!1,this.active_rowspans=[0],this.column_visits=0,this.current_row=[],this.linenum=-1},o.$$arity=-3),t.defn(q,"$starts_with_delimiter?",l=function(t){return t["$start_with?"](this.delimiter)},l.$$arity=1),t.defn(q,"$match_delimiter",c=function(t){return this.delimiter_re.$match(t)},c.$$arity=1),t.defn(q,"$skip_past_delimiter",u=function(t){return this.buffer=""+this.buffer+t.$pre_match()+this.delimiter,t.$post_match()},u.$$arity=1),t.defn(q,"$skip_past_escaped_delimiter",v=function(t){return this.buffer=""+this.buffer+t.$pre_match().$chop()+this.delimiter,t.$post_match()},v.$$arity=1),t.defn(q,"$buffer_has_unclosed_quotes?",m=function(t){var e,n,r=this,i=_,s=_;return null==t&&(t=_),!!f((i=f(t)?$(r.$buffer(),t).$strip():r.$buffer().$strip())["$start_with?"]('"'))&&(f(f(e=f(n=s=i["$end_with?"]('"'))?i["$end_with?"]('""'):n)?e:i["$start_with?"]('""'))?f(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:s["$!"]())},m.$$arity=-1),t.defn(q,"$take_cellspec",y=function(){return this.cellspecs.$shift()},y.$$arity=0),t.defn(q,"$push_cellspec",b=function(t){var e;return null==t&&(t=p([],{})),this.cellspecs["$<<"](f(e=t)?e:p([],{})),_},b.$$arity=-1),t.defn(q,"$keep_cell_open",x=function(){return this.cell_open=!0,_},x.$$arity=0),t.defn(q,"$mark_cell_closed",k=function(){return this.cell_open=!1,_},k.$$arity=0),t.defn(q,"$cell_open?",w=function(){return this.cell_open},w.$$arity=0),t.defn(q,"$cell_closed?",E=function(){return this.cell_open["$!"]()},E.$$arity=0),t.defn(q,"$close_open_cell",A=function(t){return null==t&&(t=p([],{})),this.$push_cellspec(t),f(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),_},A.$$arity=-1),t.defn(q,"$close_cell",O=function(n){try{var i,s,a=_,o=_,l=_,c=_;return null==n&&(n=!1),this.format["$=="]("psv")?(a=!0,o=this.buffer,this.buffer="",f(l=this.$take_cellspec())?c=f(i=l.$delete("repeatcol"))?i:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),l=p([],{}),c=1)):(a=!1,o=this.buffer.$strip(),this.buffer="",l=_,c=1,this.format["$=="]("csv")&&f(f(i=o["$empty?"]()["$!"]())?o["$include?"]('"'):i)&&(f(f(i=o["$start_with?"]('"'))?o["$end_with?"]('"'):i)&&(o=o["$[]"](g(1,-1,!0)).$strip()),o=o.$squeeze('"'))),h(1,"upto",[c],((s=function(i){var u,d,g,v,m=s.$$s||this,y=_,b=_,x=_,k=_;return null==m.colcount&&(m.colcount=_),null==m.table&&(m.table=_),null==m.current_row&&(m.current_row=_),null==m.last_cursor&&(m.last_cursor=_),null==m.reader&&(m.reader=_),null==m.column_visits&&(m.column_visits=_),null==m.linenum&&(m.linenum=_),null==i&&(i=_),m.colcount["$=="](-1)?(m.table.$columns()["$<<"](y=t.const_get_qualified(t.const_get_relative(N,"Table"),"Column").$new(m.table,r($(m.table.$columns().$size(),i),1))),f(f(u=f(d=l)?l["$key?"]("colspan"):d)?e(b=r(l["$[]"]("colspan").$to_i(),1),0):u)&&(x=m.table.$columns().$size(),h(b,"times",[],((g=function(e){var n=g.$$s||this;return null==n.table&&(n.table=_),null==e&&(e=_),n.table.$columns()["$<<"](t.const_get_qualified(t.const_get_relative(N,"Table"),"Column").$new(n.table,$(x,e)))}).$$s=m,g.$$arity=1,g)))):f(y=m.table.$columns()["$[]"](m.current_row.$size()))||(m.$warn("asciidoctor: ERROR: "+m.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),t.ret(_)),k=t.const_get_qualified(t.const_get_relative(N,"Table"),"Cell").$new(y,o,l,p(["cursor","strip_text"],{cursor:m.last_cursor,strip_text:a})),m.last_cursor=m.reader.$cursor(),f(f(u=k.$rowspan()["$!"]())?u:k.$rowspan()["$=="](1))||m.$activate_rowspan(k.$rowspan(),f(u=k.$colspan())?u:1),m.column_visits=$(m.column_visits,f(u=k.$colspan())?u:1),m.current_row["$<<"](k),f(f(u=m["$end_of_row?"]())?f(d=f(v=m.colcount["$!="](-1))?v:e(m.linenum,0))?d:f(v=n)?i["$=="](c):v:u)?m.$close_row():_}).$$s=this,s.$$arity=1,s)),this.cell_open=!1,_}catch(e){if(e===t.returner)return e.$v;throw e}},O.$$arity=-1),t.defn(q,"$close_row",S=function(){var e=_;return this.table.$rows().$body()["$<<"](this.current_row),this.colcount["$=="](-1)&&(this.colcount=this.column_visits),this.column_visits=0,this.current_row=[],this.active_rowspans.$shift(),f(this.active_rowspans["$[]"](0))||(e=[0,0],h(this.active_rowspans,"[]=",t.to_a(e)),e[r(e.length,1)]),_},S.$$arity=0),t.defn(q,"$activate_rowspan",R=function(e,n){var i;return h(1..$upto(r(e,1)),"each",[],((i=function(e){var s,a,o=i.$$s||this;return null==o.active_rowspans&&(o.active_rowspans=_),null==e&&(e=_),a=[e,$(f(s=o.active_rowspans["$[]"](e))?s:0,n)],h(o.active_rowspans,"[]=",t.to_a(a)),a[r(a.length,1)]}).$$s=this,i.$$arity=1,i)),_},R.$$arity=2),t.defn(q,"$end_of_row?",T=function(){var t;return f(t=this.colcount["$=="](-1))?t:this.$effective_column_visits()["$=="](this.colcount)},T.$$arity=0),t.defn(q,"$effective_column_visits",M=function(){return $(this.column_visits,this.active_rowspans["$[]"](0))},M.$$arity=0),t.defn(q,"$advance",I=function(){return this.linenum=$(this.linenum,1)},I.$$arity=0)}(t.const_get_relative(l,"Table"),0,l)},Opal.modules["asciidoctor/converter/composite"]=function(t){t.top;var e,n,r,i=[],s=t.nil,$=(t.breaker,t.slice,t.module),a=t.klass,o=t.send,l=t.truthy,c=t.hash2;return t.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$find_converter","$[]=","$-","$handles?","$raise"]),e=i,(n=$(i[0],"Asciidoctor")).$$proto,r=[n].concat(e),void function(e,n,r){function i(){}var $,_,u,d,h=i=a(e,n,"CompositeConverter",i),f=h.$$proto;[h].concat(r),f.converter_map=f.converters=s,h.$attr_reader("converters"),t.defn(h,"$initialize",$=function(t,e){var n,r,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var a=1;a<i;a++)r[a-1]=arguments[a];return this.backend=t,o(this.converters=r.$flatten().$compact(),"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=s),l(t["$respond_to?"]("composed"))?t.$composed(e):s}).$$s=this,n.$$arity=1,n)),this.converter_map=c([],{})},$.$$arity=-2),t.defn(h,"$convert",_=function(t,e,n){var r;return null==e&&(e=s),null==n&&(n=c([],{})),e=l(r=e)?r:t.$node_name(),this.$converter_for(e).$convert(t,e,n)},_.$$arity=-2),t.alias(h,"convert_with_options","convert"),t.defn(h,"$converter_for",u=function(e){var n,r,i,$=s;return l(n=this.converter_map["$[]"](e))?n:($=[e,this.$find_converter(e)],o(this.converter_map,"[]=",t.to_a($)),$[(r=$.length,i=1,"number"==typeof r&&"number"==typeof i?r-i:r["$-"](i))])},u.$$arity=1),t.defn(h,"$find_converter",d=function(e){try{var n;return o(this.converters,"each",[],((n=function(r){if(n.$$s,null==r&&(r=s),!l(r["$handles?"](e)))return s;t.ret(r)}).$$s=this,n.$$arity=1,n)),this.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},d.$$arity=1)}(t.const_get_relative(r,"Converter"),t.const_get_qualified(t.const_get_relative(r,"Converter"),"Base"),r)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var $,a,o,l=[],c=t.nil,_=(t.breaker,t.slice,t.module),u=t.klass,d=t.send,h=t.hash2,f=t.truthy,p=t.range;return t.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$include?","$gsub","$extname","$doctitle","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$sectnum","$<","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$read_svg_contents","$alt","$image_uri","$encode_quotes","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$by_section","$rows","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$type","$attributes","$catalog","$xreftext","$target","$join","$map","$chop","$read_contents","$sub","$match","$length"]),$=l,(a=_(l[0],"Asciidoctor")).$$proto,o=[a].concat($),void function($,a,o){function l(){}var _,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,nt,rt,it,st,$t=l=u($,a,"Html5Converter",l),at=$t.$$proto,ot=[$t].concat(o);at.xml_mode=at.void_element_slash=at.stylesheets=at.xrefstyle=c,rt=[["","",!1]],d(t.const_set(ot[0],"QUOTE_TAGS",h(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",t.to_a(rt)),st=1,"number"==typeof(it=rt.length)&&"number"==typeof st||it["$-"](st),t.const_set(ot[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),t.const_set(ot[0],"SvgStartTagRx",/^<svg[^>]*>/),t.const_set(ot[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/),t.defn($t,"$initialize",_=function(e,n){var r=this;return null==n&&(n=h([],{})),r.xml_mode=n["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=f(r.xml_mode)?"/":c,r.stylesheets=t.const_get_relative(ot,"Stylesheets").$instance()},_.$$arity=-2),t.defn($t,"$document",g=function(r){var i,s,$,a,o,l,_,u,g,v,m,y,b,x,k=this,w=c,E=c,A=c,O=c,S=c,R=c,T=c,M=c,I=c,q=c,C=c,N=c,z=c,P=c,L=c,D=c,B=c,j=c;return l=k.void_element_slash,_="<br"+l+">",f((w=r.$attr("asset-uri-scheme","https"))["$empty?"]())||(w+=":"),u=w+"//cdnjs.cloudflare.com/ajax/libs",g=f((b=r.$safe(),x=t.const_get_qualified(t.const_get_relative(ot,"SafeMode"),"SECURE"),i="number"==typeof b&&"number"==typeof x?b>=x:b["$>="](x)))?i:r["$attr?"]("linkcss"),E=["<!DOCTYPE html>"],v=f(r["$attr?"]("nolang"))?c:' lang="'+r.$attr("lang","en")+'"',E["$<<"]("<html"+(f(k.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':c)+v+">"),E["$<<"]('<head>\n<meta charset="'+r.$attr("encoding","UTF-8")+'"'+l+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+l+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+l+'>\n<meta name="generator" content="Asciidoctor '+r.$attr("asciidoctor-version")+'"'+l+">"),f(r["$attr?"]("app-name"))&&E["$<<"]('<meta name="application-name" content="'+r.$attr("app-name")+'"'+l+">"),f(r["$attr?"]("description"))&&E["$<<"]('<meta name="description" content="'+r.$attr("description")+'"'+l+">"),f(r["$attr?"]("keywords"))&&E["$<<"]('<meta name="keywords" content="'+r.$attr("keywords")+'"'+l+">"),f(r["$attr?"]("authors"))&&E["$<<"]('<meta name="author" content="'+(f((A=r.$attr("authors"))["$include?"]("<"))?A.$gsub(t.const_get_relative(ot,"XmlSanitizeRx"),""):A)+'"'+l+">"),f(r["$attr?"]("copyright"))&&E["$<<"]('<meta name="copyright" content="'+r.$attr("copyright")+'"'+l+">"),f(r["$attr?"]("favicon"))&&(f((O=r.$attr("favicon"))["$empty?"]())?(O=(i=["favicon.ico","image/x-icon"])[0],S=i[1]):S=(R=t.const_get_qualified("::","File").$extname(O))["$=="](".ico")?"image/x-icon":"image/"+R["$[]"](p(1,-1,!1)),E["$<<"]('<link rel="shortcut icon" type="'+S+'" href="'+O+'">')),E["$<<"]("<title>"+r.$doctitle(h(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),f(t.const_get_relative(ot,"DEFAULT_STYLESHEET_KEYS")["$include?"](r.$attr("stylesheet")))?(f(T=r.$attr("webfonts"))&&E["$<<"]('<link rel="stylesheet" href="'+w+"//fonts.googleapis.com/css?family="+(f(T["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":T)+'"'+l+">"),f(g)?E["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(t.const_get_relative(ot,"DEFAULT_STYLESHEET_NAME"),r.$attr("stylesdir",""),!1)+'"'+l+">"):E["$<<"](k.stylesheets.$embed_primary_stylesheet())):f(r["$attr?"]("stylesheet"))&&(f(g)?E["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(r.$attr("stylesheet"),r.$attr("stylesdir",""))+'"'+l+">"):E["$<<"]("<style>\n"+r.$read_asset(r.$normalize_system_path(r.$attr("stylesheet"),r.$attr("stylesdir","")),h(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),f(r["$attr?"]("icons","font"))&&(f(r["$attr?"]("iconfont-remote"))?E["$<<"]('<link rel="stylesheet" href="'+r.$attr("iconfont-cdn",u+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+l+">"):(M=r.$attr("iconfont-name","font-awesome")+".css",E["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(M,r.$attr("stylesdir",""),!1)+'"'+l+">"))),I=m=r.$attr("source-highlighter"),"coderay"["$==="](I)?r.$attr("coderay-css","class")["$=="]("class")&&(f(g)?E["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(k.stylesheets.$coderay_stylesheet_name(),r.$attr("stylesdir",""),!1)+'"'+l+">"):E["$<<"](k.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](I)&&r.$attr("pygments-css","class")["$=="]("class")&&(q=r.$attr("pygments-style"),f(g)?E["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(k.stylesheets.$pygments_stylesheet_name(q),r.$attr("stylesdir",""),!1)+'"'+l+">"):E["$<<"](k.stylesheets.$embed_pygments_stylesheet(q))),f((C=r.$docinfo())["$empty?"]())||E["$<<"](C),E["$<<"]("</head>"),N=[],f(r.$id())&&N["$<<"]('id="'+r.$id()+'"'),f(f(i=f(s=f($=y=r["$sections?"]())?r["$attr?"]("toc-class"):$)?r["$attr?"]("toc"):s)?r["$attr?"]("toc-placement","auto"):i)?N["$<<"]('class="'+r.$doctype()+" "+r.$attr("toc-class")+" toc-"+r.$attr("toc-position","header")+'"'):N["$<<"]('class="'+r.$doctype()+'"'),f(r["$attr?"]("max-width"))&&N["$<<"]('style="max-width: '+r.$attr("max-width")+';"'),E["$<<"]("<body "+e(N," ")+">"),f(r.$noheader())||(E["$<<"]('<div id="header">'),r.$doctype()["$=="]("manpage")?(E["$<<"]("<h1>"+r.$doctitle()+" Manual Page</h1>"),f(f(i=f(s=y)?r["$attr?"]("toc"):s)?r["$attr?"]("toc-placement","auto"):i)&&E["$<<"]('<div id="toc" class="'+r.$attr("toc-class","toc")+'">\n<div id="toctitle">'+r.$attr("toc-title")+"</div>\n"+k.$outline(r)+"\n</div>"),E["$<<"]("<h2>"+r.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+r.$attr("manname")+" - "+r.$attr("manpurpose")+"</p>\n</div>")):(f(r["$has_header?"]())&&(f(r.$notitle())||E["$<<"]("<h1>"+r.$header().$title()+"</h1>"),z=[],f(r["$attr?"]("author"))&&(z["$<<"]('<span id="author" class="author">'+r.$attr("author")+"</span>"+_),f(r["$attr?"]("email"))&&z["$<<"]('<span id="email" class="email">'+r.$sub_macros(r.$attr("email"))+"</span>"+_),f(n(P=r.$attr("authorcount").$to_i(),1))&&d(t.Range.$new(2,P,!1),"each",[],((a=function(t){return a.$$s,null==t&&(t=c),z["$<<"]('<span id="author'+t+'" class="author">'+r.$attr("author_"+t)+"</span>"+_),f(r["$attr?"]("email_"+t))?z["$<<"]('<span id="email'+t+'" class="email">'+r.$sub_macros(r.$attr("email_"+t))+"</span>"+_):c}).$$s=k,a.$$arity=1,a))),f(r["$attr?"]("revnumber"))&&z["$<<"]('<span id="revnumber">'+(f(i=r.$attr("version-label"))?i:"").$downcase()+" "+r.$attr("revnumber")+(f(r["$attr?"]("revdate"))?",":"")+"</span>"),f(r["$attr?"]("revdate"))&&z["$<<"]('<span id="revdate">'+r.$attr("revdate")+"</span>"),f(r["$attr?"]("revremark"))&&z["$<<"](_+'<span id="revremark">'+r.$attr("revremark")+"</span>"),f(z["$empty?"]())||(E["$<<"]('<div class="details">'),E.$concat(z),E["$<<"]("</div>"))),f(f(i=f(s=y)?r["$attr?"]("toc"):s)?r["$attr?"]("toc-placement","auto"):i)&&E["$<<"]('<div id="toc" class="'+r.$attr("toc-class","toc")+'">\n<div id="toctitle">'+r.$attr("toc-title")+"</div>\n"+k.$outline(r)+"\n</div>")),E["$<<"]("</div>")),E["$<<"]('<div id="content">\n'+r.$content()+"\n</div>"),f(f(i=r["$footnotes?"]())?r["$attr?"]("nofootnotes")["$!"]():i)&&(E["$<<"]('<div id="footnotes">\n<hr'+l+">"),d(r.$footnotes(),"each",[],((o=function(t){return o.$$s,null==t&&(t=c),E["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=k,o.$$arity=1,o)),E["$<<"]("</div>")),f(r.$nofooter())||(E["$<<"]('<div id="footer">'),E["$<<"]('<div id="footer-text">'),f(r["$attr?"]("revnumber"))&&E["$<<"](r.$attr("version-label")+" "+r.$attr("revnumber")+_),f(f(i=r["$attr?"]("last-update-label"))?r["$attr?"]("reproducible")["$!"]():i)&&E["$<<"](r.$attr("last-update-label")+" "+r.$attr("docdatetime")),E["$<<"]("</div>"),E["$<<"]("</div>")),f((C=r.$docinfo("footer"))["$empty?"]())||E["$<<"](C),"highlightjs"["$==="](I=m)||"highlight.js"["$==="](I)?(L=r.$attr("highlightjsdir",u+"/highlight.js/9.12.0"),E["$<<"]('<link rel="stylesheet" href="'+L+"/styles/"+r.$attr("highlightjs-theme","github")+'.min.css"'+l+">"),E["$<<"]('<script src="'+L+'/highlight.min.js"><\/script>\n<script>hljs.initHighlighting()<\/script>')):"prettify"["$==="](I)&&(D=r.$attr("prettifydir",u+"/prettify/r298"),E["$<<"]('<link rel="stylesheet" href="'+D+"/"+r.$attr("prettify-theme","prettify")+'.min.css"'+l+">"),E["$<<"]('<script src="'+D+'/prettify.min.js"><\/script>\n<script>prettyPrint()<\/script>')),f(r["$attr?"]("stem"))&&(B=r.$attr("eqnums","none"),f(B["$empty?"]())&&(B="AMS"),j=' equationNumbers: { autoNumber: "'+B+'" } ',E["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+t.const_get_relative(ot,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+t.const_get_relative(ot,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+t.const_get_relative(ot,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+j+'}\n});\n<\/script>\n<script src="'+u+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),E["$<<"]("</body>"),E["$<<"]("</html>"),e(E,t.const_get_relative(ot,"LF"))},g.$$arity=1),t.defn($t,"$embedded",v=function(n){var r,i,s,$,a=c,o=c,l=c;return a=[],n.$doctype()["$=="]("manpage")?(f(n.$notitle())||(o=f(n.$id())?' id="'+n.$id()+'"':c,a["$<<"]("<h1"+o+">"+n.$doctitle()+" Manual Page</h1>")),a["$<<"]("<h2>"+n.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+n.$attr("manname")+" - "+n.$attr("manpurpose")+"</p>\n</div>")):f(f(r=n["$has_header?"]())?n.$notitle()["$!"]():r)&&(o=f(n.$id())?' id="'+n.$id()+'"':c,a["$<<"]("<h1"+o+">"+n.$header().$title()+"</h1>")),f(f(r=f(i=f(s=n["$sections?"]())?n["$attr?"]("toc"):s)?(l=n.$attr("toc-placement"))["$!="]("macro"):i)?l["$!="]("preamble"):r)&&a["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+this.$outline(n)+"\n</div>"),a["$<<"](n.$content()),f(f(r=n["$footnotes?"]())?n["$attr?"]("nofootnotes")["$!"]():r)&&(a["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),d(n.$footnotes(),"each",[],(($=function(t){return $.$$s,null==t&&(t=c),a["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=this,$.$$arity=1,$)),a["$<<"]("</div>")),e(a,t.const_get_relative(ot,"LF"))},v.$$arity=1),t.defn($t,"$outline",m=function(n,s){var $,a,o,l,_=c,u=c;return null==s&&(s=h([],{})),f(n["$sections?"]())?(o=f($=s["$[]"]("sectnumlevels"))?$:n.$document().$attr("sectnumlevels",3).$to_i(),l=f($=s["$[]"]("toclevels"))?$:n.$document().$attr("toclevels",2).$to_i(),_=n.$sections(),u=['<ul class="sectlevel'+_["$[]"](0).$level()+'">'],d(_,"each",[],((a=function(t){var e,n,s=a.$$s||this,$=c,_=c;return null==t&&(t=c),n=t.$level(),$=f(t.$caption())?t.$captioned_title():f(f(e=t.$numbered())?r(n,o):e)?t.$sectnum()+" "+t.$title():t.$title(),f(f(e=i(n,l))?_=s.$outline(t,h(["toclevels","secnumlevels"],{toclevels:l,secnumlevels:o})):e)?(u["$<<"]('<li><a href="#'+t.$id()+'">'+$+"</a>"),u["$<<"](_),u["$<<"]("</li>")):u["$<<"]('<li><a href="#'+t.$id()+'">'+$+"</a></li>")}).$$s=this,a.$$arity=1,a)),u["$<<"]("</ul>"),e(u,t.const_get_relative(ot,"LF"))):c},m.$$arity=-2),t.defn($t,"$section",y=function(t){var e,n,i,$=c,a=c,o=c,l=c,_=c,u=c,d=c,h=c;return i="h"+s($=t.$level(),1),a=o=l=_=c,f(t.$id())&&(a=' id="'+(u=t.$id())+'"',f((d=t.$document())["$attr?"]("sectanchors"))&&(o='<a class="anchor" href="#'+u+'"></a>'),f(d["$attr?"]("sectlinks"))&&(l='<a class="link" href="#'+u+'">',_="</a>")),$["$=="](0)?"<h1"+a+' class="sect0">'+o+l+t.$title()+_+"</h1>\n"+t.$content():"<div"+(f(h=t.$role())?' class="sect'+$+" "+h+'"':' class="sect'+$+'"')+">\n<"+i+a+">"+o+l+(f(f(e=f(n=t.$numbered())?t.$caption()["$!"]():n)?r($,t.$document().$attr("sectnumlevels",3).$to_i()):e)?t.$sectnum()+" ":c)+t.$captioned_title()+_+"</"+i+">\n"+($["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>"},y.$$arity=1),t.defn($t,"$admonition",b=function(t){var e,n,r,i,s,$=c;return n=f(t.$id())?' id="'+t.$id()+'"':c,r=t.$attr("name"),i=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":c,$=f(t.$document()["$attr?"]("icons"))?f(f(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+r+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(r)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+n+' class="admonitionblock '+r+(f(e=s=t.$role())?" "+s:e)+'">\n<table>\n<tr>\n<td class="icon">\n'+$+'\n</td>\n<td class="content">\n'+i+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},b.$$arity=1),t.defn($t,"$audio",x=function(t){var n,r,i,s,$,a,o,l,_=this;return r=_.xml_mode,i=f(t.$id())?' id="'+t.$id()+'"':c,s=' class="'+e(["audioblock",t.$role()].$compact()," ")+'"',$=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":c,a=t.$attr("start",c,!1),o=t.$attr("end",c,!1),l=f(f(n=a)?n:o)?"#t="+a+(f(o)?",":c)+o:c,"<div"+i+s+">\n"+$+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+l+'"'+(f(t["$option?"]("autoplay"))?_.$append_boolean_attribute("autoplay",r):c)+(f(t["$option?"]("nocontrols"))?c:_.$append_boolean_attribute("controls",r))+(f(t["$option?"]("loop"))?_.$append_boolean_attribute("loop",r):c)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},x.$$arity=1),t.defn($t,"$colist",k=function(n){var r,i,$,a,o,l=c,_=c,u=c;return l=[],a=f(n.$id())?' id="'+n.$id()+'"':c,o=' class="'+e(["colist",n.$style(),n.$role()].$compact()," ")+'"',l["$<<"]("<div"+a+o+">"),f(n["$title?"]())&&l["$<<"]('<div class="title">'+n.$title()+"</div>"),f(n.$document()["$attr?"]("icons"))?(l["$<<"]("<table>"),r=[n.$document()["$attr?"]("icons","font"),0],_=r[0],u=r[1],d(n.$items(),"each",[],((i=function(e){var r=i.$$s||this,$=c;return null==r.void_element_slash&&(r.void_element_slash=c),null==e&&(e=c),u=s(u,1),$=f(_)?'<i class="conum" data-value="'+u+'"></i><b>'+u+"</b>":'<img src="'+n.$icon_uri("callouts/"+u)+'" alt="'+u+'"'+r.void_element_slash+">",l["$<<"]("<tr>\n<td>"+$+"</td>\n<td>"+e.$text()+(f(e["$blocks?"]())?s(t.const_get_relative(ot,"LF"),e.$content()):"")+"</td>\n</tr>")}).$$s=this,i.$$arity=1,i)),l["$<<"]("</table>")):(l["$<<"]("<ol>"),d(n.$items(),"each",[],(($=function(e){return $.$$s,null==e&&(e=c),l["$<<"]("<li>\n<p>"+e.$text()+"</p>"+(f(e["$blocks?"]())?s(t.const_get_relative(ot,"LF"),e.$content()):"")+"\n</li>")}).$$s=this,$.$$arity=1,$)),l["$<<"]("</ol>")),l["$<<"]("</div>"),e(l,t.const_get_relative(ot,"LF"))},k.$$arity=1),t.defn($t,"$dlist",w=function(n){var r,i,s,$,a,o,l=c,_=c,u=c,h=c,p=c;return l=[],a=f(n.$id())?' id="'+n.$id()+'"':c,o=' class="'+e((_=n.$style(),"qanda"["$==="](_)?["qlist","qanda",n.$role()]:"horizontal"["$==="](_)?["hdlist",n.$role()]:["dlist",n.$style(),n.$role()]).$compact()," ")+'"',l["$<<"]("<div"+a+o+">"),f(n["$title?"]())&&l["$<<"]('<div class="title">'+n.$title()+"</div>"),_=n.$style(),"qanda"["$==="](_)?(l["$<<"]("<ol>"),d(n.$items(),"each",[],((r=function(e,n){var i,s=r.$$s||this;return null==e&&(e=c),null==n&&(n=c),l["$<<"]("<li>"),d([].concat(t.to_a(e)),"each",[],((i=function(t){return i.$$s,null==t&&(t=c),l["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=s,i.$$arity=1,i)),f(n)&&(f(n["$text?"]())&&l["$<<"]("<p>"+n.$text()+"</p>"),f(n["$blocks?"]())&&l["$<<"](n.$content())),l["$<<"]("</li>")}).$$s=this,r.$$arity=2,r)),l["$<<"]("</ol>")):"horizontal"["$==="](_)?(u=this.void_element_slash,l["$<<"]("<table>"),f(f(i=n["$attr?"]("labelwidth"))?i:n["$attr?"]("itemwidth"))&&(l["$<<"]("<colgroup>"),h=f(n["$attr?"]("labelwidth"))?' style="width: '+n.$attr("labelwidth").$chomp("%")+'%;"':c,l["$<<"]("<col"+h+u+">"),h=f(n["$attr?"]("itemwidth"))?' style="width: '+n.$attr("itemwidth").$chomp("%")+'%;"':c,l["$<<"]("<col"+h+u+">"),l["$<<"]("</colgroup>")),d(n.$items(),"each",[],((s=function(e,r){var i,$,a=s.$$s||this,o=c;return null==e&&(e=c),null==r&&(r=c),l["$<<"]("<tr>"),l["$<<"]('<td class="hdlist1'+(f(n["$option?"]("strong"))?" strong":c)+'">'),o=[].concat(t.to_a(e)),$=o["$[]"](-1),d(o,"each",[],((i=function(t){return i.$$s,null==t&&(t=c),l["$<<"](t.$text()),f(t["$!="]($))?l["$<<"]("<br"+u+">"):c}).$$s=a,i.$$arity=1,i)),l["$<<"]("</td>"),l["$<<"]('<td class="hdlist2">'),f(r)&&(f(r["$text?"]())&&l["$<<"]("<p>"+r.$text()+"</p>"),f(r["$blocks?"]())&&l["$<<"](r.$content())),l["$<<"]("</td>"),l["$<<"]("</tr>")}).$$s=this,s.$$arity=2,s)),l["$<<"]("</table>")):(l["$<<"]("<dl>"),p=f(n.$style())?c:' class="hdlist1"',d(n.$items(),"each",[],(($=function(e,n){var r,i=$.$$s||this;return null==e&&(e=c),null==n&&(n=c),d([].concat(t.to_a(e)),"each",[],((r=function(t){return r.$$s,null==t&&(t=c),l["$<<"]("<dt"+p+">"+t.$text()+"</dt>")}).$$s=i,r.$$arity=1,r)),f(n)?(l["$<<"]("<dd>"),f(n["$text?"]())&&l["$<<"]("<p>"+n.$text()+"</p>"),f(n["$blocks?"]())&&l["$<<"](n.$content()),l["$<<"]("</dd>")):c}).$$s=this,$.$$arity=2,$)),l["$<<"]("</dl>")),l["$<<"]("</div>"),e(l,t.const_get_relative(ot,"LF"))},w.$$arity=1),t.defn($t,"$example",E=function(t){var e,n,r,i;return n=f(t.$id())?' id="'+t.$id()+'"':c,r=f(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":c,"<div"+n+' class="exampleblock'+(f(e=i=t.$role())?" "+i:e)+'">\n'+r+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},E.$$arity=1),t.defn($t,"$floating_title",A=function(t){var n;return"<"+(n="h"+s(t.$level(),1))+(f(t.$id())?' id="'+t.$id()+'"':c)+' class="'+e([t.$style(),t.$role()].$compact()," ")+'">'+t.$title()+"</"+n+">"},A.$$arity=1),t.defn($t,"$image",O=function(n){var r,s,$,a,o,l,_,u=this,d=c,h=c,p=c,g=c,v=c,m=c,y=c,b=c;return d=n.$attr("target"),a=f(n["$attr?"]("width"))?' width="'+n.$attr("width")+'"':c,o=f(n["$attr?"]("height"))?' height="'+n.$attr("height")+'"':c,f(f(r=f(s=f($=n["$attr?"]("format","svg",!1))?$:d["$include?"](".svg"))?i(n.$document().$safe(),t.const_get_qualified(t.const_get_relative(ot,"SafeMode"),"SECURE")):s)?f(s=h=n["$option?"]("inline"))?s:p=n["$option?"]("interactive"):r)&&(f(h)?g=f(r=u.$read_svg_contents(n,d))?r:'<span class="alt">'+n.$alt()+"</span>":f(p)&&(v=f(n["$attr?"]("fallback"))?'<img src="'+n.$image_uri(n.$attr("fallback"))+'" alt="'+u.$encode_quotes(n.$alt())+'"'+a+o+u.void_element_slash+">":'<span class="alt">'+n.$alt()+"</span>",g='<object type="image/svg+xml" data="'+n.$image_uri(d)+'"'+a+o+">"+v+"</object>")),g=f(r=g)?r:'<img src="'+n.$image_uri(d)+'" alt="'+u.$encode_quotes(n.$alt())+'"'+a+o+u.void_element_slash+">",f(n["$attr?"]("link"))&&(f(n["$attr?"]("window"))&&(m=' target="'+(y=n.$attr("window"))+'"'+(f(f(r=y["$=="]("_blank"))?r:n["$option?"]("noopener"))?' rel="noopener"':"")),g='<a class="image" href="'+n.$attr("link")+'"'+m+">"+g+"</a>"),l=f(n.$id())?' id="'+n.$id()+'"':c,_=' class="'+e(["imageblock",n.$role()].$compact()," ")+'"',b=[],f(n["$attr?"]("align"))&&b["$<<"]("text-align: "+n.$attr("align")),f(n["$attr?"]("float"))&&b["$<<"]("float: "+n.$attr("float")),"<div"+l+_+(f(b["$empty?"]())?c:' style="'+e(b,";")+'"')+'>\n<div class="content">\n'+g+"\n</div>"+(f(n["$title?"]())?'\n<div class="title">'+n.$captioned_title()+"</div>":c)+"\n</div>"},O.$$arity=1),t.defn($t,"$listing",S=function(t){var e,n,r,i,s,$=c,a=c,o=c,l=c,_=c,u=c;return n=f(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),t.$style()["$=="]("source")?(a=f($=t.$attr("language",c,!1))?' data-lang="'+$+'"':c,o=t.$document().$attr("source-highlighter"),"coderay"["$==="](o)?l=' class="CodeRay highlight'+(f(n)?" nowrap":c)+'"':"pygments"["$==="](o)?l=' class="pygments highlight'+(f(n)?" nowrap":c)+'"':"highlightjs"["$==="](o)||"highlight.js"["$==="](o)?(l=' class="highlightjs highlight'+(f(n)?" nowrap":c)+'"',f($)&&(a=' class="language-'+$+' hljs"'+a)):"prettify"["$==="](o)?(l=' class="prettyprint highlight'+(f(n)?" nowrap":c)+(f(t["$attr?"]("linenums",c,!1))?" linenums":c)+'"',f($)&&(a=' class="language-'+$+'"'+a)):"html-pipeline"["$==="](o)?(l=f($)?' lang="'+$+'"':c,a=c):(l=' class="highlight'+(f(n)?" nowrap":c)+'"',f($)&&(a=' class="language-'+$+'"'+a)),_="<pre"+l+"><code"+a+">",u="</code></pre>"):(_="<pre"+(f(n)?' class="nowrap"':c)+">",u="</pre>"),r=f(t.$id())?' id="'+t.$id()+'"':c,i=f(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":c,"<div"+r+' class="listingblock'+(f(e=s=t.$role())?" "+s:e)+'">\n'+i+'<div class="content">\n'+_+t.$content()+u+"\n</div>\n</div>"},S.$$arity=1),t.defn($t,"$literal",R=function(t){var e,n,r,i,s;return n=f(t.$id())?' id="'+t.$id()+'"':c,r=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":c,i=f(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+n+' class="literalblock'+(f(e=s=t.$role())?" "+s:e)+'">\n'+r+'<div class="content">\n<pre'+(f(i)?' class="nowrap"':c)+">"+t.$content()+"</pre>\n</div>\n</div>"},R.$$arity=1),t.defn($t,"$stem",T=function(e){var n,r,i,s,$,a,o,l=c;return i=f(e.$id())?' id="'+e.$id()+'"':c,s=f(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":c,r=t.const_get_relative(ot,"BLOCK_MATH_DELIMITERS")["$[]"](e.$style().$to_sym()),$=null==(n=t.to_ary(r))[0]?c:n[0],a=null==n[1]?c:n[1],f(f(n=(l=e.$content())["$start_with?"]($))?l["$end_with?"](a):n)||(l=""+$+l+a),"<div"+i+' class="stemblock'+(f(n=o=e.$role())?" "+o:n)+'">\n'+s+'<div class="content">\n'+l+"\n</div>\n</div>"},T.$$arity=1),t.defn($t,"$olist",M=function(n){var r,i,s,$,a,o,l=this,_=c,u=c;return _=[],i=f(n.$id())?' id="'+n.$id()+'"':c,s=' class="'+e(["olist",n.$style(),n.$role()].$compact()," ")+'"',_["$<<"]("<div"+i+s+">"),f(n["$title?"]())&&_["$<<"]('<div class="title">'+n.$title()+"</div>"),$=f(u=n.$list_marker_keyword())?' type="'+u+'"':c,a=f(n["$attr?"]("start"))?' start="'+n.$attr("start")+'"':c,o=f(n["$option?"]("reversed"))?l.$append_boolean_attribute("reversed",l.xml_mode):c,_["$<<"]('<ol class="'+n.$style()+'"'+$+a+o+">"),d(n.$items(),"each",[],((r=function(t){return r.$$s,null==t&&(t=c),_["$<<"]("<li>"),_["$<<"]("<p>"+t.$text()+"</p>"),f(t["$blocks?"]())&&_["$<<"](t.$content()),_["$<<"]("</li>")}).$$s=l,r.$$arity=1,r)),_["$<<"]("</ol>"),_["$<<"]("</div>"),e(_,t.const_get_relative(ot,"LF"))},M.$$arity=1),t.defn($t,"$open",I=function(t){var e,r,i,s=c,$=c,a=c,o=c;return(s=t.$style())["$=="]("abstract")?f((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):($=f(t.$id())?' id="'+t.$id()+'"':c,a=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":c,"<div"+$+' class="quoteblock abstract'+(f(e=o=t.$role())?" "+o:e)+'">\n'+a+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):f((e=s["$=="]("partintro"))?f(r=f(i=n(t.$level(),0))?i:t.$parent().$context()["$!="]("section"))?r:t.$document().$doctype()["$!="]("book"):s["$=="]("partintro"))?(this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),""):($=f(t.$id())?' id="'+t.$id()+'"':c,a=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":c,"<div"+$+' class="openblock'+(f(f(e=s)?s["$!="]("open"):e)?" "+s:"")+(f(e=o=t.$role())?" "+o:e)+'">\n'+a+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},I.$$arity=1),t.defn($t,"$page_break",q=function(t){return'<div style="page-break-after: always;"></div>'},q.$$arity=1),t.defn($t,"$paragraph",C=function(t){var e,n;return e=f(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"',n=f(t.$id())?'id="'+t.$id()+'" '+e:e,f(t["$title?"]())?"<div "+n+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+n+">\n<p>"+t.$content()+"</p>\n</div>"},C.$$arity=1),t.defn($t,"$preamble",N=function(t){var e,n,r=c,i=c;return i=f(f(e=f(n=(r=t.$document())["$attr?"]("toc-placement","preamble"))?r["$sections?"]():n)?r["$attr?"]("toc"):e)?'\n<div id="toc" class="'+r.$attr("toc-class","toc")+'">\n<div id="toctitle">'+r.$attr("toc-title")+"</div>\n"+this.$outline(r)+"\n</div>":c,'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+i+"\n</div>"},N.$$arity=1),t.defn($t,"$quote",z=function(t){var n,r,i,s,$,a,o=this,l=c,_=c;return r=f(t.$id())?' id="'+t.$id()+'"':c,i=' class="'+e(["quoteblock",t.$role()].$compact()," ")+'"',s=f(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":c,$=f(t["$attr?"]("attribution"))?t.$attr("attribution"):c,a=f(t["$attr?"]("citetitle"))?t.$attr("citetitle"):c,f(f(n=$)?n:a)?(l=f(a)?"<cite>"+a+"</cite>":c,_='\n<div class="attribution">\n'+(f($)?"&#8212; "+$+(f(a)?"<br"+o.void_element_slash+">\n":c):c)+l+"\n</div>"):_=c,"<div"+r+i+">"+s+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+_+"\n</div>"},z.$$arity=1),t.defn($t,"$thematic_break",P=function(t){return"<hr"+this.void_element_slash+">"},P.$$arity=1),t.defn($t,"$sidebar",L=function(t){var e,n,r,i;return n=f(t.$id())?' id="'+t.$id()+'"':c,r=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":c,"<div"+n+' class="sidebarblock'+(f(e=i=t.$role())?" "+i:e)+'">\n<div class="content">\n'+r+t.$content()+"\n</div>\n</div>"},L.$$arity=1),t.defn($t,"$table",D=function(r){var i,s,$,a,o,l,_,u,h=c,p=c,g=c,v=c,m=c;return h=[],o=f(r.$id())?' id="'+r.$id()+'"':c,p=["tableblock","frame-"+r.$attr("frame","all"),"grid-"+r.$attr("grid","all")],g=[],f(f(i=r["$option?"]("autowidth"))?r["$attr?"]("width",c,!1)["$!"]():i)||(f(r["$attr?"]("tablepcwidth",100))?p["$<<"]("spread"):g["$<<"]("width: "+r.$attr("tablepcwidth")+"%;")),f(l=r.$role())&&p["$<<"](l),_=' class="'+e(p," ")+'"',f(r["$attr?"]("float"))&&g["$<<"]("float: "+r.$attr("float")+";"),u=f(g["$empty?"]())?c:' style="'+e(g," ")+'"',h["$<<"]("<table"+o+_+u+">"),f(r["$title?"]())&&h["$<<"]('<caption class="title">'+r.$captioned_title()+"</caption>"),f(n(r.$attr("rowcount"),0))&&(v=this.void_element_slash,h["$<<"]("<colgroup>"),f(r["$option?"]("autowidth"))?(m="<col"+v+">",d(r.$columns().$size(),"times",[],((s=function(){return s.$$s,h["$<<"](m)}).$$s=this,s.$$arity=0,s))):d(r.$columns(),"each",[],(($=function(t){return $.$$s,null==t&&(t=c),h["$<<"]('<col style="width: '+t.$attr("colpcwidth")+'%;"'+v+">")}).$$s=this,$.$$arity=1,$)),h["$<<"]("</colgroup>"),d(r.$rows().$by_section(),"each",[],((a=function(t,n){var i,s=a.$$s||this;return null==t&&(t=c),null==n&&(n=c),f(n["$empty?"]())?c:(h["$<<"]("<t"+t+">"),d(n,"each",[],((i=function(n){var s,$=i.$$s||this;return null==n&&(n=c),h["$<<"]("<tr>"),d(n,"each",[],((s=function(n){s.$$s;var i,$,a,o,l,_,u=c,d=c;return null==n&&(n=c),t["$=="]("head")?u=n.$text():(d=n.$style(),u="asciidoc"["$==="](d)?"<div>"+n.$content()+"</div>":"verse"["$==="](d)?'<div class="verse">'+n.$text()+"</div>":"literal"["$==="](d)?'<div class="literal"><pre>'+n.$text()+"</pre></div>":f((u=n.$content())["$empty?"]())?"":'<p class="tableblock">'+e(u,'</p>\n<p class="tableblock">')+"</p>"),$=f(f(i=t["$=="]("head"))?i:n.$style()["$=="]("header"))?"th":"td",a=' class="tableblock halign-'+n.$attr("halign")+" valign-"+n.$attr("valign")+'"',o=f(n.$colspan())?' colspan="'+n.$colspan()+'"':c,l=f(n.$rowspan())?' rowspan="'+n.$rowspan()+'"':c,_=f(r.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+r.$document().$attr("cellbgcolor")+';"':c,h["$<<"]("<"+$+a+o+l+_+">"+u+"</"+$+">")}).$$s=$,s.$$arity=1,s)),h["$<<"]("</tr>")}).$$s=s,i.$$arity=1,i)),h["$<<"]("</t"+t+">"))}).$$s=this,a.$$arity=2,a))),h["$<<"]("</table>"),e(h,t.const_get_relative(ot,"LF"))},D.$$arity=1),t.defn($t,"$toc",B=function(t){var e,n,r,i,s=c,$=c,a=c;return f(f(e=f(n=(s=t.$document())["$attr?"]("toc-placement","macro"))?s["$sections?"]():n)?s["$attr?"]("toc"):e)?(f(t.$id())?($=' id="'+t.$id()+'"',a=' id="'+t.$id()+'title"'):($=' id="toc"',a=' id="toctitle"'),r=f(t["$title?"]())?t.$title():s.$attr("toc-title"),i=f(t["$attr?"]("levels"))?t.$attr("levels").$to_i():c,"<div"+$+' class="'+(f(t["$role?"]())?t.$role():s.$attr("toc-class","toc"))+'">\n<div'+a+' class="title">'+r+"</div>\n"+this.$outline(s,h(["toclevels"],{toclevels:i}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},B.$$arity=1),t.defn($t,"$ulist",j=function(n){var r,i,s,$=c,a=c,o=c,l=c,_=c;return $=[],i=f(n.$id())?' id="'+n.$id()+'"':c,a=["ulist",n.$style(),n.$role()].$compact(),o=c,l=c,f(s=n["$option?"]("checklist"))?(a.$unshift(a.$shift(),"checklist"),_=' class="checklist"',f(n["$option?"]("interactive"))?f(this.xml_mode)?(o='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> '):(o='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):f(n.$document()["$attr?"]("icons","font"))?(o='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(o="&#10003; ",l="&#10063; ")):_=f(n.$style())?' class="'+n.$style()+'"':c,$["$<<"]("<div"+i+' class="'+e(a," ")+'">'),f(n["$title?"]())&&$["$<<"]('<div class="title">'+n.$title()+"</div>"),$["$<<"]("<ul"+_+">"),d(n.$items(),"each",[],((r=function(t){var e;return r.$$s,null==t&&(t=c),$["$<<"]("<li>"),f(f(e=s)?t["$attr?"]("checkbox"):e)?$["$<<"]("<p>"+(f(t["$attr?"]("checked"))?o:l)+t.$text()+"</p>"):$["$<<"]("<p>"+t.$text()+"</p>"),f(t["$blocks?"]())&&$["$<<"](t.$content()),$["$<<"]("</li>")}).$$s=this,r.$$arity=1,r)),$["$<<"]("</ul>"),$["$<<"]("</div>"),e($,t.const_get_relative(ot,"LF"))},j.$$arity=1),t.defn($t,"$verse",F=function(t){var n,r,i,s,$,a,o=this,l=c,_=c;return r=f(t.$id())?' id="'+t.$id()+'"':c,i=' class="'+e(["verseblock",t.$role()].$compact()," ")+'"',s=f(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":c,$=f(t["$attr?"]("attribution"))?t.$attr("attribution"):c,a=f(t["$attr?"]("citetitle"))?t.$attr("citetitle"):c,f(f(n=$)?n:a)?(l=f(a)?"<cite>"+a+"</cite>":c,_='\n<div class="attribution">\n'+(f($)?"&#8212; "+$+(f(a)?"<br"+o.void_element_slash+">\n":c):c)+l+"\n</div>"):_=c,"<div"+r+i+">"+s+'\n<pre class="content">'+t.$content()+"</pre>"+_+"\n</div>"},F.$$arity=1),t.defn($t,"$video",U=function(n){var r,i,s,$,a,o,l,_,u,d=this,h=c,p=c,g=c,v=c,m=c,y=c,b=c,x=c,k=c,w=c,E=c,A=c,O=c,S=c,R=c,T=c,M=c,I=c,q=c,C=c,N=c,z=c,P=c,L=c,D=c;return s=d.xml_mode,$=f(n.$id())?' id="'+n.$id()+'"':c,a=["videoblock",n.$role()].$compact(),o=' class="'+e(a," ")+'"',l=f(n["$title?"]())?'\n<div class="title">'+n.$title()+"</div>":c,_=f(n["$attr?"]("width"))?' width="'+n.$attr("width")+'"':c,u=f(n["$attr?"]("height"))?' height="'+n.$attr("height")+'"':c,h=n.$attr("poster"),"vimeo"["$==="](h)?(f((p=n.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(p+=":"),g=f(n["$attr?"]("start",c,!1))?"#at="+n.$attr("start"):c,v="?",m=f(n["$option?"]("autoplay"))?v+"autoplay=1":c,f(m)&&(v="&amp;"),y=f(n["$option?"]("loop"))?v+"loop=1":c,"<div"+$+o+">"+l+'\n<div class="content">\n<iframe'+_+u+' src="'+p+"//player.vimeo.com/video/"+n.$attr("target")+g+m+y+'" frameborder="0"'+(f(n["$option?"]("nofullscreen"))?c:d.$append_boolean_attribute("allowfullscreen",s))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](h)?(f((p=n.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(p+=":"),b=f(n["$option?"]("related"))?1:0,x=f(n["$attr?"]("start",c,!1))?"&amp;start="+n.$attr("start"):c,k=f(n["$attr?"]("end",c,!1))?"&amp;end="+n.$attr("end"):c,m=f(n["$option?"]("autoplay"))?"&amp;autoplay=1":c,y=f(n["$option?"]("loop"))?"&amp;loop=1":c,w=f(n["$option?"]("nocontrols"))?"&amp;controls=0":c,f(n["$option?"]("nofullscreen"))?(E="&amp;fs=0",A=c):(E=c,A=d.$append_boolean_attribute("allowfullscreen",s)),O=f(n["$option?"]("modest"))?"&amp;modestbranding=1":c,S=f(n["$attr?"]("theme",c,!1))?"&amp;theme="+n.$attr("theme"):c,R=f(n["$attr?"]("lang"))?"&amp;hl="+n.$attr("lang"):c,i=n.$attr("target").$split("/",2),r=t.to_ary(i),T=null==r[0]?c:r[0],M=null==r[1]?c:r[1],f(M=f(r=M)?r:n.$attr("list",c,!1))?I="&amp;list="+M:(i=T.$split(",",2),r=t.to_ary(i),T=null==r[0]?c:r[0],q=null==r[1]?c:r[1],I=f(q=f(r=q)?r:n.$attr("playlist",c,!1))?"&amp;playlist="+q:f(y)?"&amp;playlist="+T:c),"<div"+$+o+">"+l+'\n<div class="content">\n<iframe'+_+u+' src="'+p+"//www.youtube.com/embed/"+T+"?rel="+b+x+k+m+y+w+I+E+O+S+R+'" frameborder="0"'+A+"></iframe>\n</div>\n</div>"):(C=f((N=n.$attr("poster",c,!1))["$nil_or_empty?"]())?c:' poster="'+n.$media_uri(N)+'"',z=f((N=n.$attr("preload",c,!1))["$nil_or_empty?"]())?c:' preload="'+N+'"',P=n.$attr("start",c,!1),L=n.$attr("end",c,!1),D=f(f(r=P)?r:L)?"#t="+P+(f(L)?",":c)+L:c,"<div"+$+o+">"+l+'\n<div class="content">\n<video src="'+n.$media_uri(n.$attr("target"))+D+'"'+_+u+C+(f(n["$option?"]("autoplay"))?d.$append_boolean_attribute("autoplay",s):c)+(f(n["$option?"]("nocontrols"))?c:d.$append_boolean_attribute("controls",s))+(f(n["$option?"]("loop"))?d.$append_boolean_attribute("loop",s):c)+z+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},U.$$arity=1),t.defn($t,"$inline_anchor",H=function(e){var n,r,i=this,s=c,$=c,a=c,o=c,l=c,_=c,u=c;return s=e.$type(),"xref"["$==="](s)?(f(f(n=$=e.$text())?n:$=e.$attributes()["$[]"]("path"))||($=f(t.const_get_relative(ot,"AbstractNode")["$==="](a=e.$document().$catalog()["$[]"]("refs")["$[]"](o=e.$attributes()["$[]"]("refid"))))&&f(n=a.$xreftext(i.xrefstyle=f(r=i.xrefstyle)?r:e.$document().$attributes()["$[]"]("xrefstyle")))?n:"["+o+"]"),'<a href="'+e.$target()+'">'+$+"</a>"):"ref"["$==="](s)?'<a id="'+e.$id()+'"></a>':"link"["$==="](s)?(l=f(e.$id())?[' id="'+e.$id()+'"']:[],f(_=e.$role())&&l["$<<"](' class="'+_+'"'),f(e["$attr?"]("title",c,!1))&&l["$<<"](' title="'+e.$attr("title")+'"'),f(e["$attr?"]("window",c,!1))&&l["$<<"](' target="'+(u=e.$attr("window"))+'"'+(f(f(n=u["$=="]("_blank"))?n:e["$option?"]("noopener"))?' rel="noopener"':"")),'<a href="'+e.$target()+'"'+l.$join()+">"+e.$text()+"</a>"):"bibref"["$==="](s)?'<a id="'+e.$id()+'"></a>'+e.$text():i.$warn("asciidoctor: WARNING: unknown anchor type: "+e.$type().$inspect())},H.$$arity=1),t.defn($t,"$inline_break",G=function(t){return t.$text()+"<br"+this.void_element_slash+">"},G.$$arity=1),t.defn($t,"$inline_button",Y=function(t){return'<b class="button">'+t.$text()+"</b>"},Y.$$arity=1),t.defn($t,"$inline_callout",W=function(t){return f(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":f(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":'<b class="conum">('+t.$text()+")</b>"},W.$$arity=1),t.defn($t,"$inline_footnote",X=function(t){var e;return f(e=t.$attr("index",c,!1))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(f(t.$id())?' id="_footnote_'+t.$id()+'"':c)+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":c},X.$$arity=1),t.defn($t,"$inline_image",K=function(e){var n,r,s,$,a,o,l,_=this,u=c,p=c,g=c,v=c,m=c,y=c,b=c,x=c,k=c,w=c,E=c,A=c;return f((n=(u=e.$type())["$=="]("icon"))?e.$document()["$attr?"]("icons","font"):(u=e.$type())["$=="]("icon"))?(p="fa fa-"+e.$target(),d(h(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],((r=function(t,n){return r.$$s,null==t&&(t=c),null==n&&(n=c),f(e["$attr?"](t))?p=p+" "+n+e.$attr(t):c}).$$s=_,r.$$arity=2,r)),g=f(e["$attr?"]("title"))?' title="'+e.$attr("title")+'"':c,v='<i class="'+p+'"'+g+"></i>"):f((n=u["$=="]("icon"))?e.$document()["$attr?"]("icons")["$!"]():u["$=="]("icon"))?v="["+e.$alt()+"]":(m=e.$target(),y=d(["width","height","title"],"map",[],(s=function(t){return s.$$s,null==t&&(t=c),f(e["$attr?"](t))?" "+t+'="'+e.$attr(t)+'"':c},s.$$s=_,s.$$arity=1,s)).$join(),f(f(n=f($=f(a=u["$!="]("icon"))?f(o=e["$attr?"]("format","svg",!1))?o:m["$include?"](".svg"):a)?i(e.$document().$safe(),t.const_get_qualified(t.const_get_relative(ot,"SafeMode"),"SECURE")):$)?f($=b=e["$option?"]("inline"))?$:x=e["$option?"]("interactive"):n)&&(f(b)?v=f(n=_.$read_svg_contents(e,m))?n:'<span class="alt">'+e.$alt()+"</span>":f(x)&&(k=f(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+_.$encode_quotes(e.$alt())+'"'+y+_.void_element_slash+">":'<span class="alt">'+e.$alt()+"</span>",v='<object type="image/svg+xml" data="'+e.$image_uri(m)+'"'+y+">"+k+"</object>")),v=f(n=v)?n:'<img src="'+(u["$=="]("icon")?e.$icon_uri(m):e.$image_uri(m))+'" alt="'+_.$encode_quotes(e.$alt())+'"'+y+_.void_element_slash+">"),f(e["$attr?"]("link"))&&(f(e["$attr?"]("window"))&&(w=' target="'+(E=e.$attr("window"))+'"'+(f(f(n=E["$=="]("_blank"))?n:e["$option?"]("noopener"))?' rel="noopener"':"")),v='<a class="image" href="'+e.$attr("link")+'"'+w+">"+v+"</a>"),p=f(A=e.$role())?u+" "+A:u,l=f(e["$attr?"]("float"))?' style="float: '+e.$attr("float")+'"':c,'<span class="'+p+'"'+l+">"+v+"</span>"},K.$$arity=1),t.defn($t,"$inline_indexterm",V=function(t){return t.$type()["$=="]("visible")?t.$text():""},V.$$arity=1),t.defn($t,"$inline_kbd",J=function(t){var n=c;return(n=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+n["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+e(n,"</kbd>+<kbd>")+"</kbd></span>"},J.$$arity=1),t.defn($t,"$inline_menu",Z=function(t){var n,r,i,s,$=c;return r="</b>"+(n=f(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ')+'<b class="submenu">',i=t.$attr("menu"),f((s=t.$attr("submenus"))["$empty?"]())?f($=t.$attr("menuitem",c,!1))?'<span class="menuseq"><b class="menu">'+i+"</b>"+n+'<b class="menuitem">'+$+"</b></span>":'<b class="menuref">'+i+"</b>":'<span class="menuseq"><b class="menu">'+i+"</b>"+n+'<b class="submenu">'+e(s,r)+"</b>"+n+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},Z.$$arity=1),t.defn($t,"$inline_quoted",Q=function(e){var n,r,i,s,$=c,a=c;return r=t.const_get_relative(ot,"QUOTE_TAGS")["$[]"](e.$type()),$=null==(n=t.to_ary(r))[0]?c:n[0],i=null==n[1]?c:n[1],s=null==n[2]?c:n[2],a=f(e.$role())?f(s)?$.$chop()+' class="'+e.$role()+'">'+e.$text()+i:'<span class="'+e.$role()+'">'+$+e.$text()+i+"</span>":""+$+e.$text()+i,f(e.$id())?'<a id="'+e.$id()+'"></a>'+a:a},Q.$$arity=1),t.defn($t,"$append_boolean_attribute",tt=function(t,e){return f(e)?" "+t+'="'+t+'"':" "+t},tt.$$arity=2),t.defn($t,"$encode_quotes",et=function(t){return f(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},et.$$arity=1),t.defn($t,"$read_svg_contents",nt=function(e,n){var r,i=c,s=c,$=c;return f(i=e.$read_contents(n,h(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(f(i["$start_with?"]("<svg"))||(i=i.$sub(t.const_get_relative(ot,"SvgPreambleRx"),"")),s=$=c,d(["width","height"],"each",[],((r=function(n){return r.$$s,null==n&&(n=c),f(e["$attr?"](n))?(f($)||($=(s=i.$match(t.const_get_relative(ot,"SvgStartTagRx"))["$[]"](0)).$gsub(t.const_get_relative(ot,"DimensionAttributeRx"),"")),$=$.$chop()+" "+n+'="'+e.$attr(n)+'px">'):c}).$$s=this,r.$$arity=1,r)),f($)&&(i=""+$+i["$[]"](t.Range.$new(s.$length(),-1,!1)))),i},nt.$$arity=2)}(t.const_get_relative(o,"Converter"),t.const_get_qualified(t.const_get_relative(o,"Converter"),"BuiltIn"),o)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var s,$,a,o,l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U,H,G,Y,W,X,K,V,J,Z,Q=[],tt=t.nil,et=(t.breaker,t.slice,t.module),nt=t.klass,rt=t.truthy,it=t.hash2,st=t.send,$t=t.hash;return t.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$==","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$>","$key?","$attributes","$special","$context","$numbered","$generate_id","$title","$id=","$update_attributes","$create_block","$===","$next_block","$dup","$<<","$has_more_lines?","$each","$define_method","$unshift","$shift","$send","$empty?","$size","$call","$option","$flatten","$respond_to?","$include?","$to_s","$split","$to_i","$compact","$inspect","$attr_accessor","$to_set","$!","$resolve_regexp","$match?","$method","$register","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$private","$tr","$join","$map","$capitalize","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$resolve_class","$<","$update_config","$push","$as_symbol","$name=","$pop","$-@","$next_auto_id","$generate_name","$class_for_name","$const_defined?"]),s=Q,(J=et(Q[0],"Asciidoctor")).$$proto,Z=[J].concat(s),u=Z[0],d=Z,(K=et(u,"Extensions")).$$proto,function(i,s,$){function a(){}var o,l,c,_,u,d,h,f,p,g=a=nt(i,null,"Processor",a),v=g.$$proto,m=[g].concat($);v.config=tt,function(n,r){n.$$proto;var i,s,$,a=[n].concat(r);t.defn(n,"$config",i=function(){var t;return null==this.config&&(this.config=tt),this.config=rt(t=this.config)?t:it([],{})},i.$$arity=0),t.defn(n,"$option",s=function(n,r){var i;return i=[n,r],st(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},s.$$arity=2),t.defn(n,"$use_dsl",$=function(){return rt(this.$name()["$nil_or_empty?"]())?rt((t.Module.$$nesting=a,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):tt:rt((t.Module.$$nesting=a,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):tt},$.$$arity=0),t.alias(n,"extend_dsl","use_dsl"),t.alias(n,"include_dsl","use_dsl")}(t.get_singleton_class(g),m),g.$attr_reader("config"),t.defn(g,"$initialize",o=function(t){return null==t&&(t=it([],{})),this.config=this.$class().$config().$merge(t)},o.$$arity=-1),t.defn(g,"$update_config",l=function(t){return this.config.$update(t)},l.$$arity=1),t.defn(g,"$process",c=function(e){var n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];return this.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},c.$$arity=-1),t.defn(g,"$create_section",_=function(i,s,$,a){var o,l,c,_=tt,u=tt,d=tt,h=tt,f=tt,p=tt,g=tt,v=tt;return null==a&&(a=it([],{})),_=i.$document(),u=(o=[_.$doctype(),rt(l=a["$[]"]("level"))?l:n(i.$level(),1)])[0],d=o[1],rt(h=$.$delete("style"))?rt((o=h["$=="]("abstract"))?u["$=="]("book"):h["$=="]("abstract"))?(f=(o=["chapter",1])[0],d=o[1]):(f=(o=[h,!0])[0],p=o[1],d["$=="](0)&&(d=1)):u["$=="]("book")?f=d["$=="](0)?"part":d["$=="](1)?"chapter":"section":rt((o=u["$=="]("manpage"))?s.$casecmp("synopsis")["$=="](0):u["$=="]("manpage"))?(f=(o=["synopsis",!0])[0],p=o[1]):f="section",g=t.const_get_relative(m,"Section").$new(i,d,!1),o=[s,f],g["$title="](o[0]),g["$sectname="](o[1]),rt(p)?(v=[!0],st(g,"special=",t.to_a(v)),v[e(v.length,1)],rt(a.$fetch("numbered",h["$=="]("appendix")))&&(v=[!0],st(g,"numbered=",t.to_a(v)),v[e(v.length,1)])):rt(a.$fetch("numbered",rt(o=r(d,0))?_.$attributes()["$key?"]("sectnums"):o))&&(v=[!rt(g.$special())||((o=i.$context()["$=="]("section"))?i.$numbered():i.$context()["$=="]("section"))],st(g,"numbered=",t.to_a(v)),v[e(v.length,1)]),(c=$.$delete("id"))["$=="](!1)||(v=[(v=["id",rt(o=c)?o:rt(_.$attributes()["$key?"]("sectids"))?t.const_get_relative(m,"Section").$generate_id(g.$title(),_):tt],st($,"[]=",t.to_a(v)),v[e(v.length,1)])],st(g,"id=",t.to_a(v)),v[e(v.length,1)]),g.$update_attributes($),g},_.$$arity=-4),t.defn(g,"$create_block",u=function(e,n,r,i,s){return null==s&&(s=it([],{})),t.const_get_relative(m,"Block").$new(e,n,it(["source","attributes"],{source:r,attributes:i}).$merge(s))},u.$$arity=-5),t.defn(g,"$create_image_block",d=function(t,e,n){return null==n&&(n=it([],{})),this.$create_block(t,"image",tt,e,n)},d.$$arity=-3),t.defn(g,"$create_inline",h=function(e,n,r,i){return null==i&&(i=it([],{})),t.const_get_relative(m,"Inline").$new(e,n,r,i)},h.$$arity=-4),t.defn(g,"$parse_content",f=function(e,n,r){var i,s,$=tt,a=tt;for(null==r&&(r=tt),$=rt(t.const_get_relative(m,"Reader")["$==="](n))?n:t.const_get_relative(m,"Reader").$new(n);rt(rt(i=rt(s=a=t.const_get_relative(m,"Parser").$next_block($,e,rt(r)?r.$dup():it([],{})))?e["$<<"](a):s)?i:$["$has_more_lines?"]()););return e},f.$$arity=-3),st([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],((p=function(e,n,r){var i,s=p.$$s||this;return null==e&&(e=tt),null==n&&(n=tt),null==r&&(r=tt),st(s,"define_method",[e],((i=function(e){var s,$=i.$$s||this,a=arguments.length,o=a-0;o<0&&(o=0),s=new Array(o);for(var l=0;l<a;l++)s[l-0]=arguments[l];return s.$unshift(s.$shift(),r),st($,"send",[n].concat(t.to_a(s)))}).$$s=s,i.$$arity=-1,i))}).$$s=g,p.$$arity=3,p))}((V=[K].concat(d))[0],0,V),$=V[0],a=V,(_=et($,"ProcessorDsl")).$$proto,[_].concat(a),t.defn(_,"$option",o=function(n,r){var i;return i=[n,r],st(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},o.$$arity=2),t.defn(_,"$process",l=function(e){var n,r,i=l.$$p,s=i||tt;null==this.process_block&&(this.process_block=tt);var $=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i&&(l.$$p=null),s!==tt?(rt(r["$empty?"]())||this.$raise(t.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.process_block=s):rt(null!=(n=this.process_block)&&n!==tt?"instance-variable":tt)?st(this.process_block,"call",t.to_a(r)):this.$raise(t.const_get_qualified("::","NotImplementedError"))},l.$$arity=-1),t.defn(_,"$process_block_given?",c=function(){var t;return null!=(t=this.process_block)&&t!==tt?"instance-variable":tt},c.$$arity=0),h=V[0],f=V,(b=et(h,"SyntaxDsl")).$$proto,x=[b].concat(f),b.$include(t.const_get_relative(x,"ProcessorDsl")),t.defn(b,"$named",p=function(e){return rt(t.const_get_relative(x,"Processor")["$==="](this))?this.name=e:this.$option("name",e)},p.$$arity=1),t.alias(b,"match_name","named"),t.defn(b,"$content_model",g=function(t){return this.$option("content_model",t)},g.$$arity=1),t.alias(b,"parse_content_as","content_model"),t.alias(b,"parses_content_as","content_model"),t.defn(b,"$positional_attrs",v=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return this.$option("pos_attrs",e.$flatten())},v.$$arity=-1),t.alias(b,"name_attributes","positional_attrs"),t.alias(b,"name_positional_attributes","positional_attrs"),t.defn(b,"$default_attrs",m=function(t){return this.$option("default_attrs",t)},m.$$arity=1),t.defn(b,"$resolves_attributes",y=function(n){var i,s,$,a,o=this,l=tt,c=tt,_=tt,u=arguments.length,d=u-0;d<0&&(d=0),a=new Array(d);for(var h=0;h<u;h++)a[h-0]=arguments[h];return rt(r(a.$size(),1))||rt((a=a.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(a=[a]),(!0)["$==="](l=a)?(o.$option("pos_attrs",[]),o.$option("default_attrs",it([],{}))):t.const_get_qualified("::","Array")["$==="](l)?(i=[[],it([],{})],c=i[0],_=i[1],st(a,"each",[],((s=function(n){s.$$s;var r,i,$=tt,a=tt,o=tt,l=tt;return null==n&&(n=tt),rt((n=n.$to_s())["$include?"]("="))?(i=n.$split("=",2),$=null==(r=t.to_ary(i))[0]?tt:r[0],a=null==r[1]?tt:r[1],rt($["$include?"](":"))&&(i=$.$split(":",2),r=t.to_ary(i),o=null==r[0]?tt:r[0],$=null==r[1]?tt:r[1],l=[o=o["$=="]("@")?c.$size():o.$to_i(),$],st(c,"[]=",t.to_a(l)),l[e(l.length,1)]),l=[$,a],st(_,"[]=",t.to_a(l)),l[e(l.length,1)]):rt(n["$include?"](":"))?(i=n.$split(":",2),r=t.to_ary(i),o=null==r[0]?tt:r[0],$=null==r[1]?tt:r[1],l=[o=o["$=="]("@")?c.$size():o.$to_i(),$],st(c,"[]=",t.to_a(l)),l[e(l.length,1)]):c["$<<"](n)}).$$s=o,s.$$arity=1,s)),o.$option("pos_attrs",c.$compact()),o.$option("default_attrs",_)):t.const_get_qualified("::","Hash")["$==="](l)?(i=[[],it([],{})],c=i[0],_=i[1],st(a,"each",[],(($=function(n,r){$.$$s;var i,s,a=tt,o=tt,l=tt;return null==n&&(n=tt),null==r&&(r=tt),rt((a=n.$to_s())["$include?"](":"))&&(s=a.$split(":",2),i=t.to_ary(s),o=null==i[0]?tt:i[0],a=null==i[1]?tt:i[1],l=[o=o["$=="]("@")?c.$size():o.$to_i(),a],st(c,"[]=",t.to_a(l)),l[e(l.length,1)]),rt(r)?(l=[a,r],st(_,"[]=",t.to_a(l)),l[e(l.length,1)]):tt}).$$s=o,$.$$arity=2,$)),o.$option("pos_attrs",c.$compact()),o.$option("default_attrs",_)):o.$raise(t.const_get_qualified("::","ArgumentError"),"unsupported attributes specification for macro: "+a.$inspect())},y.$$arity=-1),t.alias(b,"resolve_attributes","resolves_attributes"),function(e,n,r){function i(){}var s,$=i=nt(e,n,"Preprocessor",i);$.$$proto,[$].concat(r),t.defn($,"$process",s=function(e,n){return this.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},s.$$arity=2)}(V[0],t.const_get_relative(V,"Processor"),V),t.const_set(t.const_get_relative(V,"Preprocessor"),"DSL",t.const_get_relative(V,"ProcessorDsl")),function(e,n,r){function i(){}var s,$=i=nt(e,n,"TreeProcessor",i);$.$$proto,[$].concat(r),t.defn($,"$process",s=function(e){return this.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},s.$$arity=1)}(V[0],t.const_get_relative(V,"Processor"),V),t.const_set(t.const_get_relative(V,"TreeProcessor"),"DSL",t.const_get_relative(V,"ProcessorDsl")),t.const_set(V[0],"Treeprocessor",t.const_get_relative(V,"TreeProcessor")),function(e,n,r){function i(){}var s,$=i=nt(e,n,"Postprocessor",i);$.$$proto,[$].concat(r),t.defn($,"$process",s=function(e,n){return this.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},s.$$arity=2)}(V[0],t.const_get_relative(V,"Processor"),V),t.const_set(t.const_get_relative(V,"Postprocessor"),"DSL",t.const_get_relative(V,"ProcessorDsl")),function(e,n,r){function i(){}var s,$,a=i=nt(e,n,"IncludeProcessor",i);a.$$proto,[a].concat(r),t.defn(a,"$process",s=function(e,n,r,i){return this.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},s.$$arity=4),t.defn(a,"$handles?",$=function(t){return!0},$.$$arity=1)}(V[0],t.const_get_relative(V,"Processor"),V),k=V[0],w=V,(A=et(k,"IncludeProcessorDsl")).$$proto,O=[A].concat(w),A.$include(t.const_get_relative(O,"ProcessorDsl")),t.defn(A,"$handles?",E=function(e){var n,r,i=E.$$p,s=i||tt;null==this.handles_block&&(this.handles_block=tt);var $=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i&&(E.$$p=null),s!==tt?(rt(r["$empty?"]())||this.$raise(t.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.handles_block=s):!rt((n=this.handles_block,null!=n&&n!==tt?"instance-variable":tt))||this.handles_block.$call(r["$[]"](0))},E.$$arity=-1),t.const_set(t.const_get_relative(V,"IncludeProcessor"),"DSL",t.const_get_relative(V,"IncludeProcessorDsl")),function(n,r,i){function s(){}var $,a,o=s=nt(n,r,"DocinfoProcessor",s),l=o.$$proto;[o].concat(i),l.config=tt,o.$attr_accessor("location"),t.defn(o,"$initialize",$=function(n){var r,i=$.$$p,s=tt;return null==n&&(n=it([],{})),i&&($.$$p=null),st(this,t.find_super_dispatcher(this,"initialize",$,!1),[n],null),rt(r=this.config["$[]"]("location"))?r:(s=["location","head"],st(this.config,"[]=",t.to_a(s)),s[e(s.length,1)])},$.$$arity=-1),t.defn(o,"$process",a=function(e){return this.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},a.$$arity=1)}(V[0],t.const_get_relative(V,"Processor"),V),S=V[0],R=V,(M=et(S,"DocinfoProcessorDsl")).$$proto,I=[M].concat(R),M.$include(t.const_get_relative(I,"ProcessorDsl")),t.defn(M,"$at_location",T=function(t){return this.$option("location",t)},T.$$arity=1),t.const_set(t.const_get_relative(V,"DocinfoProcessor"),"DSL",t.const_get_relative(V,"DocinfoProcessorDsl")),function(n,r,i){function s(){}var $,a,o=s=nt(n,r,"BlockProcessor",s),l=o.$$proto;[o].concat(i),l.config=tt,o.$attr_accessor("name"),t.defn(o,"$initialize",$=function(n,r){var i,s,a=$.$$p,o=tt;return null==n&&(n=tt),null==r&&(r=it([],{})),a&&($.$$p=null),st(this,t.find_super_dispatcher(this,"initialize",$,!1),[r],null),this.name=rt(i=n)?i:this.config["$[]"]("name"),s=this.config["$[]"]("contexts"),t.const_get_qualified("::","NilClass")["$==="](s)?rt(i=this.config["$[]"]("contexts"))||(o=["contexts",["open","paragraph"].$to_set()],st(this.config,"[]=",t.to_a(o)),o[e(o.length,1)]):t.const_get_qualified("::","Symbol")["$==="](s)?(o=["contexts",[this.config["$[]"]("contexts")].$to_set()],st(this.config,"[]=",t.to_a(o)),o[e(o.length,1)]):(o=["contexts",this.config["$[]"]("contexts").$to_set()],st(this.config,"[]=",t.to_a(o)),o[e(o.length,1)]),rt(i=this.config["$[]"]("content_model"))?i:(o=["content_model","compound"],st(this.config,"[]=",t.to_a(o)),o[e(o.length,1)])},$.$$arity=-1),t.defn(o,"$process",a=function(e,n,r){return this.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},a.$$arity=3)}(V[0],t.const_get_relative(V,"Processor"),V),q=V[0],C=V,(z=et(q,"BlockProcessorDsl")).$$proto,P=[z].concat(C),z.$include(t.const_get_relative(P,"SyntaxDsl")),t.defn(z,"$contexts",N=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return this.$option("contexts",e.$flatten().$to_set())},N.$$arity=-1),t.alias(z,"on_contexts","contexts"),t.alias(z,"on_context","contexts"),t.alias(z,"bound_to","contexts"),t.const_set(t.const_get_relative(V,"BlockProcessor"),"DSL",t.const_get_relative(V,"BlockProcessorDsl")),function(n,r,i){function s(){}var $,a,o=s=nt(n,r,"MacroProcessor",s),l=o.$$proto;[o].concat(i),l.config=tt,o.$attr_accessor("name"),t.defn(o,"$initialize",$=function(n,r){var i,s=$.$$p,a=tt;return null==n&&(n=tt),null==r&&(r=it([],{})),s&&($.$$p=null),st(this,t.find_super_dispatcher(this,"initialize",$,!1),[r],null),this.name=rt(i=n)?i:this.config["$[]"]("name"),rt(i=this.config["$[]"]("content_model"))?i:(a=["content_model","attributes"],st(this.config,"[]=",t.to_a(a)),a[e(a.length,1)])},$.$$arity=-1),t.defn(o,"$process",a=function(e,n,r){return this.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},a.$$arity=3)}(V[0],t.const_get_relative(V,"Processor"),V),L=V[0],D=V,(j=et(L,"MacroProcessorDsl")).$$proto,F=[j].concat(D),j.$include(t.const_get_relative(F,"SyntaxDsl")),t.defn(j,"$resolves_attributes",B=function(e){var n,r,i=B.$$p,s=tt,$=tt,a=arguments.length,o=a-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<a;l++)n[l-0]=arguments[l];for(i&&(B.$$p=null),$=0,r=arguments.length,s=new Array(r);$<r;$++)s[$]=arguments[$];return rt(n.$size()["$=="](1)?n["$[]"](0)["$!"]():n.$size()["$=="](1))?(this.$option("content_model","text"),tt):(st(this,t.find_super_dispatcher(this,"resolves_attributes",B,!1),s,i),this.$option("content_model","attributes"))},B.$$arity=-1),t.alias(j,"resolve_attributes","resolves_attributes"),function(t,e,n){function r(){}var i=r=nt(t,e,"BlockMacroProcessor",r);i.$$proto,[i].concat(n)}(V[0],t.const_get_relative(V,"MacroProcessor"),V),t.const_set(t.const_get_relative(V,"BlockMacroProcessor"),"DSL",t.const_get_relative(V,"MacroProcessorDsl")),function(n,r,i){function s(){}var $,a,o=s=nt(n,r,"InlineMacroProcessor",s),l=o.$$proto,c=[o].concat(i);l.config=l.name=tt,t.class_variable_set(s,"@@rx_cache",it([],{})),t.defn(o,"$regexp",$=function(){var n,r=tt;return rt(n=this.config["$[]"]("regexp"))?n:(r=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],st(this.config,"[]=",t.to_a(r)),r[e(r.length,1)])},$.$$arity=0),t.defn(o,"$resolve_regexp",a=function(n,r){var i,$,a=tt;return rt(t.const_get_relative(c,"MacroNameRx")["$match?"](n))||this.$raise(t.const_get_qualified("::","ArgumentError"),"invalid name for inline macro: "+n),rt(i=(null==($=s.$$cvars["@@rx_cache"])?tt:$)["$[]"]([n,r]))?i:(a=[[n,r],new RegExp("\\\\?"+n+":"+(r["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],st(null==($=s.$$cvars["@@rx_cache"])?tt:$,"[]=",t.to_a(a)),a[e(a.length,1)])},a.$$arity=2)}(V[0],t.const_get_relative(V,"MacroProcessor"),V),U=V[0],H=V,(W=et(U,"InlineMacroProcessorDsl")).$$proto,X=[W].concat(H),W.$include(t.const_get_relative(X,"MacroProcessorDsl")),t.defn(W,"$with_format",G=function(t){return this.$option("format",t)},G.$$arity=1),t.alias(W,"using_format","with_format"),t.defn(W,"$matches",Y=function(t){return this.$option("regexp",t)},Y.$$arity=1),t.alias(W,"match","matches"),t.alias(W,"matching","matches"),t.const_set(t.const_get_relative(V,"InlineMacroProcessor"),"DSL",t.const_get_relative(V,"InlineMacroProcessorDsl")),function(e,n,r){function i(){}var s,$=i=nt(e,null,"Extension",i);$.$$proto,[$].concat(r),$.$attr_reader("kind"),$.$attr_reader("config"),$.$attr_reader("instance"),t.defn($,"$initialize",s=function(t,e,n){return this.kind=t,this.instance=e,this.config=n},s.$$arity=3)}(V[0],0,V),function(e,n,r){function i(){}var s,$=i=nt(e,n,"ProcessorExtension",i);$.$$proto,[$].concat(r),$.$attr_reader("process_method"),t.defn($,"$initialize",s=function(e,n,r){var i,$=s.$$p;return null==r&&(r=tt),$&&(s.$$p=null),st(this,t.find_super_dispatcher(this,"initialize",s,!1),[e,n,n.$config()],null),this.process_method=rt(i=r)?i:n.$method("process")},s.$$arity=-3)}(V[0],t.const_get_relative(V,"Extension"),V),function(e,n,r){function i(){}var s,$=i=nt(e,null,"Group",i),a=($.$$proto,[$].concat(r));(function(e,n){e.$$proto;var r,i=[e].concat(n);t.defn(e,"$register",r=function(e){return null==e&&(e=tt),t.const_get_relative(i,"Extensions").$register(e,this)},r.$$arity=-1)})(t.get_singleton_class($),a),t.defn($,"$activate",s=function(e){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},s.$$arity=1)}(V[0],0,V),function(s,$,a){function o(){}var l,c,_,u,d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I,q,C,N,z,P,L,D,B,j,F,U=o=nt(s,null,"Registry",o),H=U.$$proto,G=[U].concat(a);H.groups=H.preprocessor_extensions=H.tree_processor_extensions=H.postprocessor_extensions=H.include_processor_extensions=H.docinfo_processor_extensions=H.block_extensions=H.block_macro_extensions=H.inline_macro_extensions=tt,U.$attr_reader("document"),U.$attr_reader("groups"),t.defn(U,"$initialize",l=function(t){return null==t&&(t=it([],{})),this.groups=t,this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=tt,this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=tt,this.document=tt},l.$$arity=-1),t.defn(U,"$activate",c=function(e){var r;return this.document=e,st(n(t.const_get_relative(G,"Extensions").$groups().$values(),this.groups.$values()),"each",[],((r=function(e){var n=r.$$s||this,i=tt;return null==e&&(e=tt),i=e,t.const_get_qualified("::","Proc")["$==="](i)?(i=e.$arity(),(0)["$==="](i)||(-1)["$==="](i)?st(n,"instance_exec",[],e.$to_proc()):1["$==="](i)?e.$call(n):tt):t.const_get_qualified("::","Class")["$==="](i)?e.$new().$activate(n):e.$activate(n)}).$$s=this,r.$$arity=1,r)),this},c.$$arity=1),t.defn(U,"$preprocessor",_=function(t){var e,n=_.$$p,r=n||tt,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];return n&&(_.$$p=null),st(this,"add_document_processor",["preprocessor",e],r.$to_proc())},_.$$arity=-1),t.defn(U,"$preprocessors?",u=function(){return this.preprocessor_extensions["$!"]()["$!"]()},u.$$arity=0),t.defn(U,"$preprocessors",d=function(){return this.preprocessor_extensions},d.$$arity=0),t.defn(U,"$tree_processor",h=function(t){var e,n=h.$$p,r=n||tt,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];return n&&(h.$$p=null),st(this,"add_document_processor",["tree_processor",e],r.$to_proc())},h.$$arity=-1),t.defn(U,"$tree_processors?",f=function(){return this.tree_processor_extensions["$!"]()["$!"]()},f.$$arity=0),t.defn(U,"$tree_processors",p=function(){return this.tree_processor_extensions},p.$$arity=0),t.alias(U,"treeprocessor","tree_processor"),t.alias(U,"treeprocessors?","tree_processors?"),t.alias(U,"treeprocessors","tree_processors"),t.defn(U,"$postprocessor",g=function(t){var e,n=g.$$p,r=n||tt,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];return n&&(g.$$p=null),st(this,"add_document_processor",["postprocessor",e],r.$to_proc())},g.$$arity=-1),t.defn(U,"$postprocessors?",v=function(){return this.postprocessor_extensions["$!"]()["$!"]()},v.$$arity=0),t.defn(U,"$postprocessors",m=function(){return this.postprocessor_extensions},m.$$arity=0),t.defn(U,"$include_processor",y=function(t){var e,n=y.$$p,r=n||tt,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];return n&&(y.$$p=null),st(this,"add_document_processor",["include_processor",e],r.$to_proc())},y.$$arity=-1),t.defn(U,"$include_processors?",b=function(){return this.include_processor_extensions["$!"]()["$!"]()},b.$$arity=0),t.defn(U,"$include_processors",x=function(){return this.include_processor_extensions},x.$$arity=0),t.defn(U,"$docinfo_processor",k=function(t){var e,n=k.$$p,r=n||tt,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];return n&&(k.$$p=null),st(this,"add_document_processor",["docinfo_processor",e],r.$to_proc())},k.$$arity=-1),t.defn(U,"$docinfo_processors?",w=function(t){var e;return null==t&&(t=tt),!!rt(this.docinfo_processor_extensions)&&(!rt(t)||st(this.docinfo_processor_extensions,"any?",[],((e=function(n){return e.$$s,null==n&&(n=tt),n.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)))},w.$$arity=-1),t.defn(U,"$docinfo_processors",E=function(t){var e;return null==t&&(t=tt),rt(this.docinfo_processor_extensions)?rt(t)?st(this.docinfo_processor_extensions,"select",[],((e=function(n){return e.$$s,null==n&&(n=tt),n.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)):this.docinfo_processor_extensions:tt},E.$$arity=-1),t.defn(U,"$block",A=function(t){var e,n=A.$$p,r=n||tt,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];return n&&(A.$$p=null),st(this,"add_syntax_processor",["block",e],r.$to_proc())},A.$$arity=-1),t.defn(U,"$blocks?",O=function(){return this.block_extensions["$!"]()["$!"]()},O.$$arity=0),t.defn(U,"$registered_for_block?",S=function(t,e){var n=tt;return!!rt(n=this.block_extensions["$[]"](t.$to_sym()))&&!!rt(n.$config()["$[]"]("contexts")["$include?"](e))&&n},S.$$arity=2),t.defn(U,"$find_block_extension",R=function(t){return this.block_extensions["$[]"](t.$to_sym())},R.$$arity=1),t.defn(U,"$block_macro",T=function(t){var e,n=T.$$p,r=n||tt,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];return n&&(T.$$p=null),st(this,"add_syntax_processor",["block_macro",e],r.$to_proc())},T.$$arity=-1),t.defn(U,"$block_macros?",M=function(){return this.block_macro_extensions["$!"]()["$!"]()},M.$$arity=0),t.defn(U,"$registered_for_block_macro?",I=function(t){var e;return!!rt(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},I.$$arity=1),t.defn(U,"$find_block_macro_extension",q=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},q.$$arity=1),t.defn(U,"$inline_macro",C=function(t){var e,n=C.$$p,r=n||tt,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var $=0;$<i;$++)e[$-0]=arguments[$];return n&&(C.$$p=null),st(this,"add_syntax_processor",["inline_macro",e],r.$to_proc())},C.$$arity=-1),t.defn(U,"$inline_macros?",N=function(){return this.inline_macro_extensions["$!"]()["$!"]()},N.$$arity=0),t.defn(U,"$registered_for_inline_macro?",z=function(t){var e;return!!rt(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},z.$$arity=1),t.defn(U,"$find_inline_macro_extension",P=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},P.$$arity=1),t.defn(U,"$inline_macros",L=function(){return this.inline_macro_extensions.$values()},L.$$arity=0),U.$private(),t.defn(U,"$add_document_processor",D=function(e,n){var r,s,$,a,o=this,l=D.$$p,c=l||tt,_=tt,u=tt,d=tt,h=tt,f=tt,p=tt,g=tt,v=tt,m=tt;return l&&(D.$$p=null),_=e.$to_s().$tr("_"," "),a=st(_.$split(),"map",[],(r=function(t){return r.$$s,null==t&&(t=tt),t.$capitalize()},r.$$s=o,r.$$arity=1,r)).$join().$to_sym(),u=t.const_get_relative(G,"Extensions").$const_get(a),d=rt(t.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":tt)?t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(a):tt,h=rt(s=o.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?s:o.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),(f=c!==tt?(p=o.$resolve_args(n,1),g=u.$new(p),rt(u.$constants().$grep("DSL"))&&g.$extend(u.$const_get("DSL")),st(g,"instance_exec",[],c.$to_proc()),g.$freeze(),rt(g["$process_block_given?"]())||o.$raise(t.const_get_qualified("::","ArgumentError"),"No block specified to process "+_+" extension at "+c.$source_location()),t.const_get_relative(G,"ProcessorExtension").$new(e,g)):($=o.$resolve_args(n,2),s=t.to_ary($),g=null==s[0]?tt:s[0],p=null==s[1]?tt:s[1],rt(v=t.const_get_relative(G,"Extensions").$resolve_class(g))?(rt(rt(s=i(v,u))?s:rt($=d)?i(v,d):$)||o.$raise(t.const_get_qualified("::","ArgumentError"),"Invalid type for "+_+" extension: "+g),(m=v.$new(p)).$freeze(),t.const_get_relative(G,"ProcessorExtension").$new(e,m)):rt(rt(s=u["$==="](g))?s:rt($=d)?d["$==="](g):$)?(g.$update_config(p),g.$freeze(),t.const_get_relative(G,"ProcessorExtension").$new(e,g)):o.$raise(t.const_get_qualified("::","ArgumentError"),"Invalid arguments specified for registering "+_+" extension: "+n))).$config()["$[]"]("position")["$=="](">>")?h.$unshift(f):h["$<<"](f)},D.$$arity=2),t.defn(U,"$add_syntax_processor",B=function(n,r){var s,$,a,o,l,c=this,_=B.$$p,u=_||tt,d=tt,h=tt,f=tt,p=tt,g=tt,v=tt,m=tt,y=tt,b=tt;return _&&(B.$$p=null),d=n.$to_s().$tr("_"," "),o=st(d.$split(),"map",[],(s=function(t){return s.$$s,null==t&&(t=tt),t.$capitalize()},s.$$s=c,s.$$arity=1,s)).$push("Processor").$join().$to_sym(),h=t.const_get_relative(G,"Extensions").$const_get(o),f=rt(t.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":tt)?t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(o):tt,l=rt($=c.$instance_variable_get(("@"+n+"_extensions").$to_sym()))?$:c.$instance_variable_set(("@"+n+"_extensions").$to_sym(),it([],{})),u!==tt?(a=c.$resolve_args(r,2),$=t.to_ary(a),p=null==$[0]?tt:$[0],g=null==$[1]?tt:$[1],v=h.$new(c.$as_symbol(p),g),rt(h.$constants().$grep("DSL"))&&v.$extend(h.$const_get("DSL")),u.$arity()["$=="](1)?t.yield1(u,v):st(v,"instance_exec",[],u.$to_proc()),rt(p=c.$as_symbol(v.$name()))||c.$raise(t.const_get_qualified("::","ArgumentError"),"No name specified for "+d+" extension at "+u.$source_location()),rt(v["$process_block_given?"]())||c.$raise(t.const_get_qualified("::","NoMethodError"),"No block specified to process "+d+" extension at "+u.$source_location()),v.$freeze(),m=[p,t.const_get_relative(G,"ProcessorExtension").$new(n,v)],st(l,"[]=",t.to_a(m)),m[e(m.length,1)]):(a=c.$resolve_args(r,3),$=t.to_ary(a),v=null==$[0]?tt:$[0],p=null==$[1]?tt:$[1],g=null==$[2]?tt:$[2],rt(y=t.const_get_relative(G,"Extensions").$resolve_class(v))?(rt(rt($=i(y,h))?$:rt(a=f)?i(y,f):a)||c.$raise(t.const_get_qualified("::","ArgumentError"),"Class specified for "+d+" extension does not inherit from "+h+": "+v),b=y.$new(c.$as_symbol(p),g),rt(p=c.$as_symbol(b.$name()))||c.$raise(t.const_get_qualified("::","ArgumentError"),"No name specified for "+d+" extension: "+v),b.$freeze(),m=[p,t.const_get_relative(G,"ProcessorExtension").$new(n,b)],st(l,"[]=",t.to_a(m)),m[e(m.length,1)]):rt(rt($=h["$==="](v))?$:rt(a=f)?f["$==="](v):a)?(v.$update_config(g),rt(p=rt(p)?(m=[c.$as_symbol(p)],st(v,"name=",t.to_a(m)),m[e(m.length,1)]):c.$as_symbol(v.$name()))||c.$raise(t.const_get_qualified("::","ArgumentError"),"No name specified for "+d+" extension: "+v),v.$freeze(),m=[p,t.const_get_relative(G,"ProcessorExtension").$new(n,v)],st(l,"[]=",t.to_a(m)),m[e(m.length,1)]):c.$raise(t.const_get_qualified("::","ArgumentError"),"Invalid arguments specified for registering "+d+" extension: "+r))},B.$$arity=2),t.defn(U,"$resolve_args",j=function(s,$){var a,o=tt;return a=rt(t.const_get_qualified("::","Hash")["$==="](s["$[]"](-1)))?s.$pop():it([],{}),$["$=="](1)?a:(rt(r(o=e(e($,1),s.$size()),0))?s=n(s,t.const_get_qualified("::","Array").$new(o)):rt(i(o,0))&&s.$pop(o["$-@"]()),s["$<<"](a),s)},j.$$arity=2),t.defn(U,"$as_symbol",F=function(t){return rt(t)?t.$to_sym():tt},F.$$arity=1)}(V[0],0,V),void function(r,i){r.$$proto;var s,$,a,o,l,c,_,u,d,h=[r].concat(i);t.defn(r,"$generate_name",s=function(){return"extgrp"+this.$next_auto_id()},s.$$arity=0),t.defn(r,"$next_auto_id",$=function(){var t;return null==this.auto_id&&(this.auto_id=tt),this.auto_id=rt(t=this.auto_id)?t:-1,this.auto_id=n(this.auto_id,1)},$.$$arity=0),t.defn(r,"$groups",a=function(){var t;return null==this.groups&&(this.groups=tt),this.groups=rt(t=this.groups)?t:it([],{})},a.$$arity=0),t.defn(r,"$create",o=function(e){var n,r=o.$$p,i=r||tt;return null==e&&(e=tt),r&&(o.$$p=null),i!==tt?t.const_get_relative(h,"Registry").$new($t(rt(n=e)?n:this.$generate_name(),i)):t.const_get_relative(h,"Registry").$new()},o.$$arity=-1),t.alias(r,"build_registry","create"),t.defn(r,"$register",l=function(n){var r,i,s,$,a=l.$$p,o=a||tt,c=tt,_=tt,u=tt,d=arguments.length,h=d-0;h<0&&(h=0),i=new Array(h);for(var f=0;f<d;f++)i[f-0]=arguments[f];return a&&(l.$$p=null),s=i.$size(),o!==tt?c=o:rt(_=i.$pop())?c=rt(r=this.$resolve_class(_))?r:_:this.$raise(t.const_get_qualified("::","ArgumentError"),"Extension group to register not specified"),u=rt(r=i.$pop())?r:this.$generate_name(),rt(i["$empty?"]())||this.$raise(t.const_get_qualified("::","ArgumentError"),"Wrong number of arguments ("+s+" for 1..2)"),$=[u.$to_sym(),c],st(this.$groups(),"[]=",t.to_a($)),$[e($.length,1)]},l.$$arity=-1),t.defn(r,"$unregister_all",c=function(){return this.groups=it([],{}),tt},c.$$arity=0),t.defn(r,"$unregister",_=function(t){var e,n,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<r;s++)n[s-0]=arguments[s];return st(n,"each",[],((e=function(t){var n=e.$$s||this;return null==n.groups&&(n.groups=tt),null==t&&(t=tt),n.groups.$delete(t.$to_sym())}).$$s=this,e.$$arity=1,e)),tt},_.$$arity=-1),t.defn(r,"$resolve_class",u=function(e){var n=this,r=tt;return r=e,t.const_get_qualified("::","Class")["$==="](r)?e:t.const_get_qualified("::","String")["$==="](r)?n.$class_for_name(e):tt},u.$$arity=1),t.defn(r,"$class_for_name",d=function(e){var n,r=tt;return r=t.const_get_qualified("::","Object"),st(e.$split("::"),"each",[],((n=function(i){var s,$,a=n.$$s||this;return null==i&&(i=tt),rt(rt(s=i["$empty?"]())?s:rt($=r["$const_defined?"](i))?t.const_get_qualified("::","Module")["$==="](r=r.$const_get(i)):$)?tt:a.$raise(t.const_get_qualified("::","NameError"),"Could not resolve class for name: "+e)}).$$s=this,n.$$arity=1,n)),rt(t.const_get_qualified("::","Class")["$==="](r))||this.$raise(t.const_get_qualified("::","NameError"),"Could not resolve class for name: "+e),r},d.$$arity=1)}(t.get_singleton_class(K),V)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions")},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var i=t.top,s=[],$=t.nil,a=(t.breaker,t.slice,t.truthy),o=t.gvars,l=t.module,c=t.hash2,_=t.send,u=t.hash;null==o[":"]&&(o[":"]=$),t.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$slice","$merge","$inject","$*","$to_a","$dup","$insert","$start","$===","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$read_asset","$file?","$write_coderay_stylesheet","$write_pygments_stylesheet"]),a(t.const_get_relative(s,"RUBY_ENGINE","skip_raise")?"constant":$)||t.const_set(s[0],"RUBY_ENGINE","unknown"),t.const_set(s[0],"RUBY_ENGINE_OPAL",t.const_get_relative(s,"RUBY_ENGINE")["$=="]("opal")),t.const_set(s[0],"RUBY_ENGINE_JRUBY",t.const_get_relative(s,"RUBY_ENGINE")["$=="]("jruby")),t.const_set(s[0],"RUBY_MIN_VERSION_1_9",e(t.const_get_relative(s,"RUBY_VERSION"),"1.9")),t.const_set(s[0],"RUBY_MIN_VERSION_2",e(t.const_get_relative(s,"RUBY_VERSION"),"2")),i.$require("set"),t.const_get_relative(s,"RUBY_ENGINE")["$=="]("opal")&&i.$require("asciidoctor/js"),o[":"].$unshift(t.const_get_relative(s,"File").$dirname("asciidoctor")),function(i,o){var d,h,f,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,I=l(s[0],"Asciidoctor"),q=(I.$$proto,[I].concat(o)),C=$,N=$,z=$;t.const_set(q[0],"RUBY_ENGINE",t.const_get_qualified("::","RUBY_ENGINE")),p=q[0],g=q,(k=l(p,"SafeMode")).$$proto,w=[k].concat(g),t.const_set(w[0],"UNSAFE",0),t.const_set(w[0],"SAFE",1),t.const_set(w[0],"SERVER",10),t.const_set(w[0],"SECURE",20),x=c([],{}),_((t.Module.$$nesting=w,k.$constants()),"each",[],((v=function(e){var r,i=v.$$s||this;return null==e&&(e=$),r=[i.$const_get(e),e.$to_s().$downcase()],_(x,"[]=",t.to_a(r)),r[n(r.length,1)]}).$$s=k,v.$$arity=1,v)),k.names_by_value=x,t.defs(k,"$value_for_name",m=function(t){return this.$const_get(t.$upcase())},m.$$arity=1),t.defs(k,"$name_for_value",y=function(t){return null==this.names_by_value&&(this.names_by_value=$),this.names_by_value["$[]"](t)},y.$$arity=1),t.defs(k,"$names",b=function(){return null==this.names_by_value&&(this.names_by_value=$),this.names_by_value.$values()},b.$$arity=0),O=q[0],S=q,(T=l(O,"Compliance")).$$proto,M=[T].concat(S),T.keys=t.const_get_qualified("::","Set").$new(),E=t.get_singleton_class(T),A=M,E.$$proto,[E].concat(A),E.$attr_reader("keys"),t.defs(T,"$define",R=function(e,n){return null==this.keys&&(this.keys=$),this.$instance_variable_set("@"+e,n),(r=t.get_singleton_class(this),i=M,r.$$proto,[r].concat(i),r).$send("attr_accessor",e),this.keys["$<<"](e),$;var r,i},R.$$arity=2),T.$define("block_terminates_paragraph",!0),T.$define("strict_verbatim_paragraphs",!0),T.$define("underline_style_section_titles",!0),T.$define("unwrap_standalone_preamble",!0),T.$define("attribute_missing","skip"),T.$define("attribute_undefined","drop-line"),T.$define("shorthand_property_syntax",!0),T.$define("unique_id_start_index",2),T.$define("markdown_syntax",!0),t.const_set(q[0],"ROOT_PATH",t.const_get_qualified("::","File").$dirname(t.const_get_qualified("::","File").$dirname(t.const_get_qualified("::","File").$expand_path("asciidoctor")))),t.const_set(q[0],"DATA_PATH",t.const_get_qualified("::","File").$join(t.const_get_relative(q,"ROOT_PATH"),"data"));try{t.const_set(q[0],"USER_HOME",t.const_get_qualified("::","Dir").$home())}catch(e){if(!t.rescue(e,[t.const_get_relative(q,"StandardError")]))throw e;try{t.const_set(q[0],"USER_HOME",a(d=t.const_get_qualified("::","ENV")["$[]"]("HOME"))?d:t.const_get_qualified("::","Dir").$pwd())}finally{t.pop_exception()}}t.const_set(q[0],"COERCE_ENCODING",a(d=t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())?t.const_get_qualified("::","RUBY_MIN_VERSION_1_9"):d),t.const_set(q[0],"FORCE_ENCODING",a(d=t.const_get_relative(q,"COERCE_ENCODING"))?t.const_get_qualified("::","Encoding").$default_external()["$!="](t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8")):d),t.const_set(q[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(q[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(q[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(q[0],"FORCE_UNICODE_LINE_LENGTH",t.const_get_qualified("::","RUBY_MIN_VERSION_1_9")["$!"]()),t.const_set(q[0],"LF",t.const_set(q[0],"EOL","\n")),t.const_set(q[0],"NULL","\0"),t.const_set(q[0],"TAB","\t"),t.const_set(q[0],"DEFAULT_DOCTYPE","article"),t.const_set(q[0],"DEFAULT_BACKEND","html5"),t.const_set(q[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(q[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(q[0],"BACKEND_ALIASES",c(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(q[0],"DEFAULT_PAGE_WIDTHS",c(["docbook"],{docbook:425})),t.const_set(q[0],"DEFAULT_EXTENSIONS",c(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(q[0],"ASCIIDOC_EXTENSIONS",c([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),t.const_set(q[0],"SETEXT_SECTION_LEVELS",c(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(q[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(q[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set()),t.const_set(q[0],"CALLOUT_LIST_HEADS",["<","1","2","3","4","5","6","7","8","9","0"].$to_set()),t.const_set(q[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(q[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(q[0],"DELIMITED_BLOCKS",c(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",t.const_get_qualified("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",t.const_get_qualified("::","Set").$new()],",===":["table",t.const_get_qualified("::","Set").$new()],":===":["table",t.const_get_qualified("::","Set").$new()],"!===":["table",t.const_get_qualified("::","Set").$new()],"////":["comment",t.const_get_qualified("::","Set").$new()],"```":["fenced_code",t.const_get_qualified("::","Set").$new()]})),t.const_set(q[0],"DELIMITED_BLOCK_HEADS",_(t.const_get_relative(q,"DELIMITED_BLOCKS").$keys(),"map",[],(h=function(t){h.$$s;return null==t&&(t=$),t.$slice(0,2)},h.$$s=I,h.$$arity=1,h)).$to_set()),t.const_set(q[0],"LAYOUT_BREAK_CHARS",c(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(q[0],"MARKDOWN_THEMATIC_BREAK_CHARS",c(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(q[0],"HYBRID_LAYOUT_BREAK_CHARS",t.const_get_relative(q,"LAYOUT_BREAK_CHARS").$merge(t.const_get_relative(q,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(q[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(q[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(q[0],"ORDERED_LIST_KEYWORDS",c(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(q[0],"ATTR_REF_HEAD","{"),t.const_set(q[0],"LIST_CONTINUATION","+"),t.const_set(q[0],"HARD_LINE_BREAK"," +"),t.const_set(q[0],"LINE_CONTINUATION"," \\"),t.const_set(q[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(q[0],"BLOCK_MATH_DELIMITERS",c(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(q[0],"INLINE_MATH_DELIMITERS",c(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),t.const_set(q[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_set(q[0],"CIRCUMFIX_COMMENTS",_(u(["/*","*/"],[".css"],["(*","*)"],[".ml",".mli",".nb"],["\x3c!--","--\x3e"],[".html",".xhtml",".xml",".xsl"],["<%--","--%>"],[".asp",".jsp"]),"inject",[c([],{})],((f=function(e,r){var i,s,a,o,l=f.$$s||this;return null==r&&(r=$),r=t.to_ary(r),i=t.slice.call(r,0,r.length),null==(s=i.splice(0,1)[0])&&(s=$),null==(a=i.splice(0,1)[0])&&(a=$),null==e&&(e=$),_(a,"each",[],((o=function(r){var i;o.$$s;return null==r&&(r=$),i=[r,c(["prefix","suffix"],{prefix:s["$[]"](0),suffix:s["$[]"](-1)})],_(e,"[]=",t.to_a(i)),i[n(i.length,1)]}).$$s=l,o.$$arity=1,o)),e}).$$s=I,f.$$arity=2,f.$$has_top_level_mlhs_arg=!0,f))),t.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal"),t.const_set(q[0],"AuthorInfoLineRx",new RegExp("^("+t.const_get_relative(q,"CG_WORD")+"["+t.const_get_relative(q,"CC_WORD")+"\\-'.]*)(?: +("+t.const_get_relative(q,"CG_WORD")+"["+t.const_get_relative(q,"CC_WORD")+"\\-'.]*))?(?: +("+t.const_get_relative(q,"CG_WORD")+"["+t.const_get_relative(q,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(q[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/),t.const_set(q[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/),t.const_set(q[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/),t.const_set(q[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/),t.const_set(q[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/),t.const_set(q[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]*)\]$/),t.const_set(q[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\]$/),t.const_set(q[0],"AttributeEntryRx",/^:(!?\w[^\n]*?):(?:[ \t]+([^\n]*))?$/),t.const_set(q[0],"InvalidAttributeNameCharsRx",/[^\w\-]/),t.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(q[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/),t.const_set(q[0],"AttributeReferenceRx",/(\\)?\{(\w+[-\w]*|(set|counter2?):[^\n]+?)(\\)?\}/),t.const_set(q[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+t.const_get_relative(q,"CC_ALPHA")+"_:]["+t.const_get_relative(q,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$")),t.const_set(q[0],"BlockAttributeListRx",new RegExp("^\\[(|["+t.const_get_relative(q,"CC_WORD")+".#%{,\"'].*)\\]$")),t.const_set(q[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+t.const_get_relative(q,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+t.const_get_relative(q,"CC_ALPHA")+"_:]["+t.const_get_relative(q,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$")),t.const_set(q[0],"BlockTitleRx",/^\.([^ \t.][^\n]*)$/),t.const_set(q[0],"AdmonitionParagraphRx",new RegExp("^("+r(t.const_get_relative(q,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+")),t.const_set(q[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/),t.const_set(q[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),t.const_set(q[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),t.const_set(q[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+t.const_get_relative(q,"CG_WORD")+"+.*)[^.].*?)$")),t.const_set(q[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+t.const_get_relative(q,"CC_ALPHA")+"_:]["+t.const_get_relative(q,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$")),t.const_set(q[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+t.const_get_relative(q,"CC_WORD")+"]+?")),t.const_set(q[0],"DiscreteHeadingStyleRx",/^(?:discrete|float)\b/),t.const_set(q[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/),t.const_set(q[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/),t.const_set(q[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/),t.const_set(q[0],"OrderedListMarkerRxMap",c(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(q[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:{2,4}|;;)(?:[ \t]+([^\n]*))?$/),t.const_set(q[0],"DescriptionListSiblingRx",c(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/})),t.const_set(q[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/),t.const_set(q[0],"CalloutListSniffRx",/^<?\d+>/),t.const_set(q[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),t.const_set(q[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),t.const_set(q[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+t.const_get_relative(q,"CC_EOL")+")")),t.const_set(q[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+t.const_get_relative(q,"CC_EOL")+")")),t.const_set(q[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+t.const_get_relative(q,"CC_EOL")+")"),t.const_set(q[0],"ListRxMap",c(["ulist","olist","dlist","colist"],{ulist:t.const_get_relative(q,"UnorderedListRx"),olist:t.const_get_relative(q,"OrderedListRx"),dlist:t.const_get_relative(q,"DescriptionListRx"),colist:t.const_get_relative(q,"CalloutListRx")})),t.const_set(q[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),t.const_set(q[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(q[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(q[0],"CustomBlockMacroRx",new RegExp("^("+t.const_get_relative(q,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$")),t.const_set(q[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]*)\]$/),t.const_set(q[0],"BlockTocMacroRx",/^toc::\[([^\n]*)\]$/),t.const_set(q[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+t.const_get_relative(q,"CC_ALPHA")+"_:]["+t.const_get_relative(q,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+t.const_get_relative(q,"CC_ALPHA")+"_:]["+t.const_get_relative(q,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))")),t.const_set(q[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+t.const_get_relative(q,"CC_ALPHA")+"_:]["+t.const_get_relative(q,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+t.const_get_relative(q,"CC_ALPHA")+"_:]["+t.const_get_relative(q,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])")),t.const_set(q[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+t.const_get_relative(q,"CC_ALPHA")+"_:]["+t.const_get_relative(q,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]")),t.const_set(q[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+t.const_get_relative(q,"CG_WORD")+"["+t.const_get_relative(q,"CC_WORD")+".%+-]*@"+t.const_get_relative(q,"CG_ALNUM")+"["+t.const_get_relative(q,"CC_ALNUM")+".-]*\\."+t.const_get_relative(q,"CG_ALPHA")+"{2,4}\\b")),t.const_set(q[0],"InlineFootnoteMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(q[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(q[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+t.const_get_relative(q,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(q[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(q[0],"LinkInlineRx",new RegExp("(^|link:|"+t.const_get_relative(q,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(q[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(q[0],"MacroNameRx",new RegExp("^"+t.const_get_relative(q,"CG_WORD")+"+$")),t.const_set(q[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(q[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+t.const_get_relative(q,"CG_WORD")+"|["+t.const_get_relative(q,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])?\\]","m")),t.const_set(q[0],"MenuInlineRx",new RegExp('\\\\?"(['+t.const_get_relative(q,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(q[0],"PassInlineRx",u(!1,["+","`",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)\\4)(?!"+t.const_get_relative(q,"CG_WORD")+")","m")],!0,["`",$,new RegExp("(^|[^`"+t.const_get_relative(q,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+t.const_get_relative(q,"CC_ALL")+"*?\\S)\\4)(?![`"+t.const_get_relative(q,"CC_WORD")+"])","m")])),t.const_set(q[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+t.const_get_relative(q,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(q[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+t.const_get_relative(q,"CC_WORD")+"#/.:{]"+t.const_get_relative(q,"CC_ALL")+"*?)&gt;&gt;|xref:(["+t.const_get_relative(q,"CC_WORD")+"#/.:{]"+t.const_get_relative(q,"CC_ALL")+"*?)\\[("+t.const_get_relative(q,"CC_ALL")+"*?[^\\\\])?\\])","m")),t.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(q[0],"HardLineBreakRx",/^(.*) \+$/m),t.const_set(q[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(q[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(q[0],"BlankLineRx",/\n{2,}/),t.const_set(q[0],"DataDelimiterRx",/[,;]/),t.const_set(q[0],"TrailingDigitsRx",/\d+$/),t.const_set(q[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(q[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),t.const_set(q[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(q[0],"SubModifierSniffRx",/[+-]/),t.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal"),t.const_set(q[0],"UriSniffRx",new RegExp("^"+t.const_get_relative(q,"CG_ALPHA")+"["+t.const_get_relative(q,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(q[0],"UriTerminatorRx",/[);:]$/),t.const_set(q[0],"XmlSanitizeRx",/<[^>]+>/),t.const_set(q[0],"INTRINSIC_ATTRIBUTES",c(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),N=(C=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+t.const_get_relative(q,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)\\*(?!"+t.const_get_relative(q,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+t.const_get_relative(q,"CC_ALL")+'*?\\S)`"(?!'+t.const_get_relative(q,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)`'(?!"+t.const_get_relative(q,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+t.const_get_relative(q,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)`(?!["+t.const_get_relative(q,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+t.const_get_relative(q,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)_(?!"+t.const_get_relative(q,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+t.const_get_relative(q,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)#(?!"+t.const_get_relative(q,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]).$dup(),z=[2,["double","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)''(?!"+t.const_get_relative(q,"CG_WORD")+")","m")]],_(N,"[]=",t.to_a(z)),z[n(z.length,1)],z=[3,["single","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)'(?!"+t.const_get_relative(q,"CG_WORD")+")","m")]],_(N,"[]=",t.to_a(z)),z[n(z.length,1)],z=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+t.const_get_relative(q,"CC_ALL")+"+?)\\+\\+","m")]],_(N,"[]=",t.to_a(z)),z[n(z.length,1)],z=[5,["monospaced","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)\\+(?!"+t.const_get_relative(q,"CG_WORD")+")","m")]],_(N,"[]=",t.to_a(z)),z[n(z.length,1)],N.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+t.const_get_relative(q,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+t.const_get_relative(q,"CC_ALL")+"*?\\S)'(?!"+t.const_get_relative(q,"CG_WORD")+")","m")]),t.const_set(q[0],"QUOTE_SUBS",u(!1,C,!0,N)),C=$,N=$,t.const_set(q[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+t.const_get_relative(q,"CG_WORD")+")\\\\?--(?="+t.const_get_relative(q,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+t.const_get_relative(q,"CG_ALNUM")+")\\\\?'(?="+t.const_get_relative(q,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),function(i,s){i.$$proto;var o,l,u,d,h=[i].concat(s);t.defn(i,"$load",o=function(e,i){var s,o,l,u,d,f=this,p=$,g=$,v=$,m=$,y=$,b=$,x=$,k=$,w=$,E=$,A=$,O=$,S=$;null==i&&(i=c([],{}));try{if(i=i.$dup(),a(p=i["$[]"]("timings"))&&p.$start("read"),a((g=i["$[]"]("attributes"))["$!"]())?g=c([],{}):a(a(s=t.const_get_qualified("::","Hash")["$==="](g))?s:a(o=t.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?t.const_get_qualified(t.const_get_qualified(t.const_get_qualified("::","Java"),"JavaUtil"),"Map")["$==="](g):o)?g=g.$dup():a(t.const_get_qualified("::","Array")["$==="](g))?(s=[c([],{}),g],g=s[0],v=s[1],_(v,"each",[],((l=function(e){var r,i,s,o,c;l.$$s;return null==e&&(e=$),i=e.$split("=",2),s=null==(r=t.to_ary(i))[0]?$:r[0],o=null==r[1]?$:r[1],c=[s,a(r=o)?r:""],_(g,"[]=",t.to_a(c)),c[n(c.length,1)]}).$$s=f,l.$$arity=1,l))):a(t.const_get_qualified("::","String")["$==="](g))?(s=[c([],{}),g.$gsub(t.const_get_relative(h,"SpaceDelimiterRx"),"\\1"+t.const_get_relative(h,"NULL")).$gsub(t.const_get_relative(h,"EscapedSpaceRx"),"\\1").$split(t.const_get_relative(h,"NULL"))],g=s[0],v=s[1],_(v,"each",[],((u=function(e){var r,i,s,o,l;u.$$s;return null==e&&(e=$),i=e.$split("=",2),s=null==(r=t.to_ary(i))[0]?$:r[0],o=null==r[1]?$:r[1],l=[s,a(r=o)?r:""],_(g,"[]=",t.to_a(l)),l[n(l.length,1)]}).$$s=f,u.$$arity=1,u))):a(a(s=g["$respond_to?"]("keys"))?g["$respond_to?"]("[]"):s)?g=t.const_get_qualified("::","Hash")["$[]"](_(g.$keys(),"map",[],((d=function(t){d.$$s;return null==t&&(t=$),[t,g["$[]"](t)]}).$$s=f,d.$$arity=1,d))):f.$raise(t.const_get_qualified("::","ArgumentError"),"illegal type for attributes option: "+r(g.$class().$ancestors()," < ")),m=$,a(t.const_get_qualified("::","File")["$==="](e)))y=t.const_get_qualified("::","File").$expand_path(e.$path()),b=a(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?t.const_get_qualified("::","Time").$at(f.$Integer(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():e.$mtime(),m=e.$readlines(),x=["docfile",y],_(g,"[]=",t.to_a(x)),x[n(x.length,1)],x=["docdir",t.const_get_qualified("::","File").$dirname(y)],_(g,"[]=",t.to_a(x)),x[n(x.length,1)],x=["docname",t.const_get_relative(h,"Helpers").$basename(y,(x=["docfilesuffix",t.const_get_qualified("::","File").$extname(y)],_(g,"[]=",t.to_a(x)),x[n(x.length,1)]))],_(g,"[]=",t.to_a(x)),x[n(x.length,1)],a(k=g["$[]"]("docdate"))?a(s=g["$[]"]("docyear"))||(x=["docyear",k.$index("-")["$=="](4)?k.$slice(0,4):$],_(g,"[]=",t.to_a(x)),x[n(x.length,1)]):(x=["docdate",b.$strftime("%Y-%m-%d")],_(g,"[]=",t.to_a(x)),k=x[n(x.length,1)],a(s=g["$[]"]("docyear"))||(x=["docyear",b.$year().$to_s()],_(g,"[]=",t.to_a(x)),x[n(x.length,1)])),w=a(s=g["$[]"]("doctime"))?s:(x=["doctime",b.$strftime("%H:%M:%S %Z")],_(g,"[]=",t.to_a(x)),x[n(x.length,1)]),x=["docdatetime",k+" "+w],_(g,"[]=",t.to_a(x)),x[n(x.length,1)];else if(a(e["$respond_to?"]("readlines"))){try{e.$rewind()}catch(e){if(!t.rescue(e,[t.const_get_relative(h,"StandardError")]))throw e;t.pop_exception()}m=e.$readlines()}else a(t.const_get_qualified("::","String")["$==="](e))?m=a(t.const_get_qualified("::","RUBY_MIN_VERSION_2"))?e.$lines():e.$each_line().$to_a():a(t.const_get_qualified("::","Array")["$==="](e))?m=e.$dup():f.$raise(t.const_get_qualified("::","ArgumentError"),"unsupported input type: "+e.$class());return a(p)&&(p.$record("read"),p.$start("parse")),x=["attributes",g],_(i,"[]=",t.to_a(x)),x[n(x.length,1)],E=i["$[]"]("parse")["$=="](!1)?t.const_get_relative(h,"Document").$new(m,i):t.const_get_relative(h,"Document").$new(m,i).$parse(),a(p)&&p.$record("parse"),E}catch(e){if(!t.rescue(e,[t.const_get_relative(h,"StandardError")]))throw e;A=e;try{try{O="asciidoctor: FAILED: "+(a(s=g["$[]"]("docfile"))?s:"<stdin>")+": Failed to load AsciiDoc document",a(A["$respond_to?"]("exception"))?(S=A.$exception(O+" - "+A.$message())).$set_backtrace(A.$backtrace()):(S=A.$class().$new(O,A),x=[A.$stack_trace()],_(S,"stack_trace=",t.to_a(x)),x[n(x.length,1)])}catch(e){if(!t.rescue(e,[t.const_get_relative(h,"StandardError")]))throw e;try{S=A}finally{t.pop_exception()}}return f.$raise(S)}finally{t.pop_exception()}}},o.$$arity=-2),t.defn(i,"$load_file",l=function(e,n){var r;return null==n&&(n=c([],{})),_(t.const_get_qualified("::","File"),"open",[e],((r=function(t){var e=r.$$s||this;return null==t&&(t=$),e.$load(t,n)}).$$s=this,r.$$arity=1,r))},l.$$arity=-2),t.defn(i,"$convert",u=function(r,i){var s,o,l,u,d,f,p,g,v,m,y,b=$,x=$,k=$,w=$,E=$,A=$,O=$,S=$,R=$,T=$,M=$,I=$,q=$,C=$,N=$,z=$,P=$,L=$,D=$,B=$,j=$,F=$,U=$;if(null==i&&(i=c([],{})),(i=i.$dup()).$delete("parse"),b=i.$delete("to_file"),x=i.$delete("to_dir"),f=!!a(s=i.$delete("mkdirs"))&&s,k=i["$[]"]("timings"),(!0)["$==="](p=b)||$["$==="](p))w=a(s=x["$!"]())?t.const_get_qualified("::","File")["$==="](r):s,E=!1,A=x,b=$;else if((!1)["$==="](p))w=!1,E=!1,A=!1,b=$;else{if("/dev/null"["$==="](p))return this.$load(r,i);w=!1,A=!a(E=b["$respond_to?"]("write"))&&b}return a(i["$key?"]("header_footer"))||a(a(s=w)?s:A)&&(O=["header_footer",!0],_(i,"[]=",t.to_a(O)),O[n(O.length,1)]),a(w)?(S=t.const_get_qualified("::","File").$expand_path(r.$path()),O=["to_dir",R=t.const_get_qualified("::","File").$dirname(S)],_(i,"[]=",t.to_a(O)),O[n(O.length,1)]):a(A)?a(x)?a(b)?(O=["to_dir",t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","File").$join(x,b,".."))],_(i,"[]=",t.to_a(O)),O[n(O.length,1)]):(O=["to_dir",t.const_get_qualified("::","File").$expand_path(x)],_(i,"[]=",t.to_a(O)),O[n(O.length,1)]):a(b)&&(O=["to_dir",t.const_get_qualified("::","File").$expand_path(b,"..")],_(i,"[]=",t.to_a(O)),O[n(O.length,1)]):(O=["to_dir",$],_(i,"[]=",t.to_a(O)),O[n(O.length,1)]),T=this.$load(r,i),a(w)?(M=t.const_get_qualified("::","File").$join(R,""+T.$attributes()["$[]"]("docname")+T.$outfilesuffix()))["$=="](S)&&this.$raise(t.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+M):a(A)?(I=a(i["$key?"]("base_dir"))?t.const_get_qualified("::","File").$expand_path(i["$[]"]("base_dir")):t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd()),q=a(e(T.$safe(),t.const_get_qualified(t.const_get_relative(h,"SafeMode"),"SAFE")))?I:$,a(x)?(R=T.$normalize_system_path(x,I,q,c(["target_name","recover"],{target_name:"to_dir",recover:!1})),a(b)?(M=T.$normalize_system_path(b,R,$,c(["target_name","recover"],{target_name:"to_dir",recover:!1})),R=t.const_get_qualified("::","File").$dirname(M)):M=t.const_get_qualified("::","File").$join(R,""+T.$attributes()["$[]"]("docname")+T.$outfilesuffix())):a(b)&&(M=T.$normalize_system_path(b,I,q,c(["target_name","recover"],{target_name:"to_dir",recover:!1})),R=t.const_get_qualified("::","File").$dirname(M)),a(a(s=t.const_get_qualified("::","File")["$==="](r))?M["$=="](t.const_get_qualified("::","File").$expand_path(r.$path())):s)&&this.$raise(t.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+M),a(t.const_get_qualified("::","File")["$directory?"](R))||(a(f)?t.const_get_relative(h,"Helpers").$mkdir_p(R):this.$raise(t.const_get_qualified("::","IOError"),"target directory does not exist: "+x))):(M=b,R=$),a(k)&&k.$start("convert"),g=a(a(s=M)?E["$!"]():s)?c(["outfile","outdir"],{outfile:M,outdir:R}):c([],{}),v=T.$convert(g),a(k)&&k.$record("convert"),a(M)?(a(k)&&k.$start("write"),T.$write(v,M),a(k)&&k.$record("write"),a(a(s=a(o=a(l=a(u=a(d=E["$!"]())?(m=T.$safe(),y=t.const_get_qualified(t.const_get_relative(h,"SafeMode"),"SECURE"),"number"==typeof m&&"number"==typeof y?m<y:m["$<"](y)):d)?T["$attr?"]("linkcss"):u)?T["$attr?"]("copycss"):l)?T["$attr?"]("basebackend-html"):o)?(a(o=C=T.$attr("stylesdir"))?t.const_get_relative(h,"Helpers")["$uriish?"](C):o)["$!"]():s)&&(N=!1,z=!1,a(P=T.$attr("stylesheet"))&&(a(t.const_get_relative(h,"DEFAULT_STYLESHEET_KEYS")["$include?"](P))?N=!0:a(t.const_get_relative(h,"Helpers")["$uriish?"](P)["$!"]())&&(z=!0)),L=a(s=T["$attr?"]("source-highlighter","coderay"))?T.$attr("coderay-css","class")["$=="]("class"):s,D=a(s=T["$attr?"]("source-highlighter","pygments"))?T.$attr("pygments-css","class")["$=="]("class"):s,a(a(s=a(o=a(l=N)?l:z)?o:L)?s:D)&&(B=T.$normalize_system_path(C,R,a(e(T.$safe(),t.const_get_qualified(t.const_get_relative(h,"SafeMode"),"SAFE")))?R:$),a(f)&&t.const_get_relative(h,"Helpers").$mkdir_p(B),a(N)?t.const_get_relative(h,"Stylesheets").$instance().$write_primary_stylesheet(B):a(z)&&(j=a((j=T.$attr("copycss"))["$empty?"]())?T.$normalize_system_path(P):T.$normalize_system_path(j),F=T.$normalize_system_path(P,B,a(e(T.$safe(),t.const_get_qualified(t.const_get_relative(h,"SafeMode"),"SAFE")))?R:$),a(a(s=j["$!="](F))?U=T.$read_asset(j,c(["warn_on_failure","label"],{warn_on_failure:t.const_get_qualified("::","File")["$file?"](F)["$!"](),label:"stylesheet"})):s)&&t.const_get_qualified("::","IO").$write(F,U)),a(L)?t.const_get_relative(h,"Stylesheets").$instance().$write_coderay_stylesheet(B):a(D)&&t.const_get_relative(h,"Stylesheets").$instance().$write_pygments_stylesheet(B,T.$attr("pygments-style")))),T):v},u.$$arity=-2),t.alias(i,"render","convert"),t.defn(i,"$convert_file",d=function(e,n){var r;return null==n&&(n=c([],{})),_(t.const_get_qualified("::","File"),"open",[e],((r=function(t){var e=r.$$s||this;return null==t&&(t=$),e.$convert(t,n)}).$$s=this,r.$$arity=1,r))},d.$$arity=-2),t.alias(i,"render_file","convert_file"),t.const_get_relative(h,"RUBY_ENGINE")["$=="]("opal")}(t.get_singleton_class(I),q),t.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal")&&(I.$require("asciidoctor/timings"),I.$require("asciidoctor/version"))}(0,s),i.$require("asciidoctor/core_ext"),i.$require("asciidoctor/helpers"),i.$require("asciidoctor/substitutors"),i.$require("asciidoctor/abstract_node"),i.$require("asciidoctor/abstract_block"),i.$require("asciidoctor/attribute_list"),i.$require("asciidoctor/block"),i.$require("asciidoctor/callouts"),i.$require("asciidoctor/converter"),i.$require("asciidoctor/document"),i.$require("asciidoctor/inline"),i.$require("asciidoctor/list"),i.$require("asciidoctor/parser"),i.$require("asciidoctor/path_resolver"),i.$require("asciidoctor/reader"),i.$require("asciidoctor/section"),i.$require("asciidoctor/stylesheets"),i.$require("asciidoctor/table"),t.const_get_relative(s,"RUBY_ENGINE")["$=="]("opal")&&i.$require("asciidoctor/js/postscript")}(Opal);var e=function(t){return t&&!t.smap?Opal.hash(t):t},n=function(t){for(var e,n={},r=0,i=t.$$keys,s=t.$$smap,$=i.length;r<$;r++)n[e=i[r]]=s[e];return n},r=function(t){if(t=e(t)){var n=t["$[]"]("attributes");n&&"object"==typeof n&&"Object"===n.constructor.name&&(t=t.$dup())["$[]="]("attributes",e(n))}return t},i=Opal.Asciidoctor.$$class;i.$$proto.getCoreVersion=function(){return this.$$const.VERSION},i.$$proto.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var n=this.$convert(t,r(e));return n===Opal.nil?"":n},i.$$proto.convertFile=function(t,e){return this.$convert_file(t,r(e))},i.$$proto.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,r(e))},i.$$proto.loadFile=function(t,e){return this.$load_file(t,r(e))};var s=Opal.Asciidoctor.AbstractBlock;s.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?"":t},s.$$proto.getCaptionedTitle=function(){return this.$captioned_title()},s.$$proto.getStyle=function(){return this.style},s.$$proto.getCaption=function(){return this.$caption()},s.$$proto.setCaption=function(t){this.caption=t},s.$$proto.getLevel=function(){return this.level},s.$$proto.getBlocks=function(){return this.blocks},s.$$proto.getContent=function(){return this.$content()},s.$$proto.convert=function(){return this.$convert()},s.$$proto.findBy=function(t,n){return void 0===n&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof n?Opal.send(this,"find_by",[e(t)],n):this.$find_by(e(t))},s.$$proto.getLineNumber=function(){var t=this.$lineno();if(t!==Opal.nil)return t};var $=Opal.Asciidoctor.Block;$.$$proto.getSource=function(){return this.$source()},$.$$proto.getSourceLines=function(){return this.$lines()};var a=Opal.Asciidoctor.AbstractNode;a.$$proto.getAttributes=function(){return n(this.attributes)},a.$$proto.getAttribute=function(t,e,n){var r=this.$attr(t,e,n);if(r!==Opal.nil)return r},a.$$proto.isAttribute=function(t,e,n){var r=this["$attr?"](t,e,n);if(r!==Opal.nil)return r},a.$$proto.setAttribute=function(t,e,n){return void 0===n&&(n=!0),this.$set_attr(t,e,n)},a.$$proto.removeAttribute=function(t){var e=this.$remove_attr(t);if(e!==Opal.nil)return e},a.$$proto.getDocument=function(){return this.$document()},a.$$proto.isInline=function(){return this["$inline?"]()},a.$$proto.isBlock=function(){return this["$block?"]()},a.$$proto.isRole=function(t){return this["$role?"](t)},a.$$proto.getRole=function(){return this.$role()},a.$$proto.hasRole=function(t){return this["$has_role?"](t)},a.$$proto.getRoles=function(){return this.$roles()},a.$$proto.addRole=function(t){return this.$add_role(t)},a.$$proto.removeRole=function(t){return this.$remove_role(t)},a.$$proto.isReftext=function(){return this["$reftext?"]()},a.$$proto.getReftext=function(){return this.$reftext()},a.$$proto.getContext=function(){var t=this.context;return t&&"function"==typeof t.$to_s?t.$to_s():t},a.$$proto.getId=function(){return this.id},a.$$proto.isOption=function(t){return this["$option?"](t)},a.$$proto.setOption=function(t){return this.$set_option(t)},a.$$proto.getIconUri=function(t){return this.$icon_uri(t)},a.$$proto.getMediaUri=function(t,e){return this.$media_uri(t,e)},a.$$proto.getImageUri=function(t,e){return this.$image_uri(t,e)},a.$$proto.getConverter=function(){return this.$converter()},a.$$proto.readContents=function(t,n){return this.$read_contents(t,e(n))},a.$$proto.readAsset=function(t,n){return this.$read_asset(t,e(n))},a.$$proto.normalizeWebPath=function(t,e,n){return this.$normalize_web_path(t,e,n)},a.$$proto.normalizeSystemPath=function(t,n,r,i){return this.$normalize_system_path(t,n,r,e(i))},a.$$proto.normalizeAssetPath=function(t,e,n){return this.$normalize_asset_path(t,e,n)};var o=Opal.Asciidoctor.Document;o.$$proto.getHeader=function(){return this.header},o.$$proto.setAttribute=function(t,e){return this.$set_attribute(t,e)},o.$$proto.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},o.$$proto.convert=function(t){var n=this.$convert(e(t));return n===Opal.nil?"":n},o.$$proto.write=function(t,e){return this.$write(t,e)},o.$$proto.getAuthor=function(){return this.$author()},o.$$proto.getSource=function(){return this.$source()},o.$$proto.getSourceLines=function(){return this.$source_lines()},o.$$proto.isNested=function(){return this["$nested?"]()},o.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},o.$$proto.getFootnotes=function(){return this.$footnotes()},o.$$proto.isEmbedded=function(){return this["$embedded?"]()},o.$$proto.hasExtensions=function(){return this["$extensions?"]()},o.$$proto.getDoctype=function(){return this.$doctype()},o.$$proto.getBackend=function(){return this.$backend()},o.$$proto.isBasebackend=function(t){return this["$basebackend?"](t)},o.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},o.$$proto.setTitle=function(t){return this["$title="](t)},o.$$proto.getDocumentTitle=function(t){var n=this.$doctitle(e(t));return n===Opal.nil?void 0:n},o.$$proto.getDoctitle=function(t){return this.getDocumentTitle(t)},o.$$proto.getCatalog=function(){return n(this.catalog)},o.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")},o.$$proto.getRevdate=function(){return this.getRevisionDate()},o.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")},o.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")},o.RevisionInfo=function(t,e,n){this.date=t,this.number=e,this.remark=n};var l=o.RevisionInfo;l.prototype.getDate=function(){return this.date},l.prototype.getNumber=function(){return this.number},l.prototype.getRemark=function(){return this.remark},l.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},o.$$proto.getRevisionInfo=function(){return new o.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},o.$$proto.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},o.$$proto.getNotitle=function(){return this.$notitle()},o.$$proto.getNoheader=function(){return this.$noheader()},o.$$proto.getNofooter=function(){return this.$nofooter()},o.$$proto.hasHeader=function(){return this["$header?"]()},o.$$proto.deleteAttribute=function(t){return this.$delete_attribute(t)},o.$$proto.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},o.$$proto.parse=function(t){return this.$parse(t)},o.$$proto.getDocinfo=function(t,e){return this.$docinfo(t,e)},o.$$proto.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},o.$$proto.counterIncrement=function(t,e){return this.$counter_increment(t,e)},o.$$proto.counter=function(t,e){return this.$counter(t,e)},o.$$proto.getSafe=function(){return this.$safe},o.$$proto.getCompatMode=function(){return this.$compat_mode},o.$$proto.getSourcemap=function(){return this.$sourcemap},o.$$proto.getReferences=function(){return this.$references},o.$$proto.getCounters=function(){return this.$counters},o.$$proto.getCallouts=function(){return this.$callouts},o.$$proto.getBaseDir=function(){return this.base_dir},o.$$proto.getOptions=function(){return this.$options},o.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix},o.$$proto.getParentDocument=function(){return this.$parent_document},o.$$proto.getReader=function(){return this.$reader},o.$$proto.getConverter=function(){return this.$converter},o.$$proto.getExtensions=function(){return this.$extensions};var c=o.Title;c.$$proto.getMain=function(){return this.main},c.$$proto.getCombined=function(){return this.combined},c.$$proto.getSubtitle=function(){return this.subtitle},c.$$proto.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},c.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};var _=Opal.Asciidoctor.Inline;_.$$proto.convert=function(){return this.$convert()},_.$$proto.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},_.$$proto.getType=function(){return this.$type()},_.$$proto.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t},Opal.Asciidoctor.List.$$proto.getItems=function(){return this.blocks},Opal.Asciidoctor.ListItem.$$proto.getText=function(){return this.$text()};var u=Opal.Asciidoctor.Reader;u.$$proto.pushInclude=function(t,e,n,r,i){return this.$push_include(t,e,n,r,i)},u.$$proto.getCursor=function(){return this.$cursor()},u.$$proto.getLines=function(){return this.$lines()};var d=function(t){return t.$$arity=t.length,t},h=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=h,h.create=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"build_registry",null,d(t)):"function"==typeof e?Opal.send(this,"build_registry",[t],d(e)):this.$build_registry()},h.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,d(t)):Opal.send(this,"register",[t],d(e))},h.unregisterAll=function(){this.$unregister_all()};var f=h.Registry;f.$$proto.block=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"block",null,d(t)):Opal.send(this,"block",[t],d(e))},f.$$proto.inlineMacro=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"inline_macro",null,d(t)):Opal.send(this,"inline_macro",[t],d(e))},f.$$proto.includeProcessor=function(t){return Opal.send(this,"include_processor",null,d(t))},f.$$proto.blockMacro=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"block_macro",null,d(t)):Opal.send(this,"block_macro",[t],d(e))},f.$$proto.treeProcessor=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"treeprocessor",null,d(t)):Opal.send(this,"treeprocessor",[t],d(e))},f.$$proto.postprocessor=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"postprocessor",null,d(t)):Opal.send(this,"postprocessor",[t],d(e))},f.$$proto.preprocessor=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"preprocessor",null,d(t)):Opal.send(this,"preprocessor",[t],d(e))},f.$$proto.docinfoProcessor=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"docinfo_processor",null,d(t)):Opal.send(this,"docinfo_processor",[t],d(e))};var p=h.Processor;p.$$proto.process=function(t){return Opal.send(this,"process",null,d(t))},p.$$proto.named=function(t){return this.$named(t)},p.$$proto.createBlock=function(t,n,r,i,s){return this.$create_block(t,n,r,e(i),e(s))},p.$$proto.createInline=function(t,n,r,i){return this.$create_inline(t,n,r,e(i))},p.$$proto.parseContent=function(t,e,n){return this.$parse_content(t,e,n)},p.$$proto.positionalAttributes=function(t){return this.$positional_attrs(t)},h.BlockProcessor.$$proto.onContext=function(t){return this.$on_context(t)};h.BlockMacroProcessor;h.IncludeProcessor.$$proto.handles=function(t){return Opal.send(this,"handles?",null,d(t))};h.TreeProcessor,h.Postprocessor,h.Preprocessor;h.DocinfoProcessor.$$proto.atLocation=function(t){this.$at_location(t)};return i.$$proto.getVersion=function(){return"1.5.6-preview.5"},Opal.Asciidoctor});