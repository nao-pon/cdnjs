!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("hoist-non-inferno-statics"),require("inferno"),require("redux")):"function"==typeof define&&define.amd?define(["exports","hoist-non-inferno-statics","inferno","redux"],e):e((t.Inferno=t.Inferno||{},t.Inferno.Redux=t.Inferno.Redux||{}),t.hoistNonReactStatics,t.Inferno,t.redux)}(this,function(t,e,n,r){"use strict";function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}e=e&&e.hasOwnProperty("default")?e.default:e;var i=function(){},s={clear:function(){},notify:function(){},subscribe:function(t){return i}},p=function(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=s};p.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},p.prototype.notifyNestedSubs=function(){this.listeners.notify()},p.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},p.prototype.trySubscribe=function(){var t,e;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(t=[],e=[],{clear:function(){e=null,t=null},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&null!==t&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}))},p.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)};var u=0,a={},c=function(){},d=function(t,e){var n={error:null,props:{},run:function(r){try{var o=t(e.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}},shouldComponentUpdate:!1};return n},h=function(t,e){if(!t)throw new Error(e)};function f(t){return"ConnectAdvanced("+t+")"}function l(t,r){var i=r.getDisplayName;void 0===i&&(i=f);var s=r.methodName;void 0===s&&(s="connectAdvanced");var l=r.renderCountProp;void 0===l&&(l=null);var v=r.shouldHandleStateChanges;void 0===v&&(v=!0);var y=r.storeKey;void 0===y&&(y="store");var b=r.withRef;void 0===b&&(b=!1);var m=o(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),P=y+"Subscription",S=u++;return function(r){h("function"==typeof r,"You must pass a component to the function returned by connect. Instead received "+r);var o=r.displayName||r.name||"Component",u=i(o),f=Object.assign({},m,{WrappedComponent:r,displayName:u,getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:v,storeKey:y,withRef:b,wrappedComponentName:o}),O=function(e){function o(t,n){e.call(this,t,n),this.version=S,this.state={},this.renderCount=0,this.store=this.props[y]||this.context[y],this.propsMode=Boolean(t[y]),this.setWrappedInstance=this.setWrappedInstance.bind(this),h(!!this.store,'Could not find "'+y+'" in either the context or props of "'+u+'". Either wrap the root component in a <Provider>, or explicitly pass "'+y+'" as a prop to "'+u+'".'),this.initSelector(),this.initSubscription()}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[P]=e||this.context[P],t},o.prototype.componentDidMount=function(){v&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},o.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=c,this.store=null,this.selector.run=c,this.selector.shouldComponentUpdate=!1},o.prototype.getWrappedInstance=function(){return h(b,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+s+"() call."),this.wrappedInstance},o.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},o.prototype.initSelector=function(){var e=t(this.store.dispatch,f);this.selector=d(e,this.store),this.selector.run(this.props)},o.prototype.initSubscription=function(){if(v){var t=(this.propsMode?this.props:this.context)[P];this.subscription=new p(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(a)):this.notifyNestedSubs()},o.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.prototype.isSubscribed=function(){return Boolean(this.subscription&&this.subscription.isSubscribed())},o.prototype.addExtraProps=function(t){if(!l)return t;var e=Object.assign({},t);return l&&(e[l]=this.renderCount++),this.propsMode&&this.subscription&&(e[P]=this.subscription),e},o.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return n.createComponentVNode(2,r,this.addExtraProps(t.props),null,b?this.setWrappedInstance:null)},o}(n.Component);return O.displayName=u,O.WrappedComponent=r,e(O,r)}}"undefined"==typeof window||window.document;var v=Array.isArray,y=function(t){function e(e,n){t.call(this,e,n),this.store=e.store}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},e.prototype.render=function(){if(function(t){return void 0===t}(e=this.props.children)||function(t){return null===t}(e)||1!==(t=this.props.children,v(t)?t:t?[t]:t).length)throw Error("Inferno Error: Only one child is allowed within the `Provider` component");var t,e;return this.props.children},e}(n.Component);y.displayName="Provider";var b=Object.prototype.hasOwnProperty,m=function(t,e){if(t===e)return!0;var n=0,r=0;for(var o in t){if(b.call(t,o)&&t[o]!==e[o])return!1;n++}for(var i in e)b.call(e,i)&&r++;return n===r},P=function(t){return function(e,n){var r=t(e,n),o=function(){return r};return o.dependsOnOwnProps=!1,o}},S=function(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?!!t.dependsOnOwnProps:1!==t.length},O=function(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=S(t),r.mapToProps=function(e,n){r.mapToProps=t;var o=r(e,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=S(o),o=r(e,n)),o},r}},w=[function(t){return"function"==typeof t?O(t):void 0},function(t){return t?void 0:P(function(t){return{dispatch:t}})},function(t){return t&&"object"==typeof t?P(function(e){return r.bindActionCreators(t,e)}):void 0}],C=[function(t){return"function"==typeof t?O(t):void 0},function(t){return t?void 0:P(function(){return{}})}],g=function(t,e,n){return Object.assign({},n,t,e)},N=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,s=!1;return function(e,n,p){var u=t(e,n,p);return s?o&&i(u,r)||(r=u):(s=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return g}}],E=function(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,s=o(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),p=n(t,s),u=r(t,s),a=i(t,s);return(s.pure?function(t,e,n,r,o){var i,s,p,u,a,c=o.areStatesEqual,d=o.areOwnPropsEqual,h=o.areStatePropsEqual,f=!1;return function(o,l){return f?function(o,f){var l,v,y=!d(f,s),b=!c(o,i);return i=o,s=f,y&&b?(p=t(i,s),e.dependsOnOwnProps&&(u=e(r,s)),a=n(p,u,s)):y?(t.dependsOnOwnProps&&(p=t(i,s)),e.dependsOnOwnProps&&(u=e(r,s)),a=n(p,u,s)):b?(l=t(i,s),v=!h(l,p),p=l,v&&(a=n(p,u,s)),a):a}(o,l):(p=t(i=o,s=l),u=e(r,s),a=n(p,u,s),f=!0,a)}}:function(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}})(p,u,a,t,s)},x=function(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}},q=function(t,e){return t===e},M=function(t){void 0===t&&(t={});var e=t.connectHOC;void 0===e&&(e=l);var n=t.mapStateToPropsFactories;void 0===n&&(n=C);var r=t.mapDispatchToPropsFactories;void 0===r&&(r=w);var i=t.mergePropsFactories;void 0===i&&(i=N);var s=t.selectorFactory;return void 0===s&&(s=E),function(t,p,u,a){void 0===a&&(a={});var c=a.pure;void 0===c&&(c=!0);var d=a.areStatesEqual;void 0===d&&(d=q);var h=a.areOwnPropsEqual;void 0===h&&(h=m);var f=a.areStatePropsEqual;void 0===f&&(f=m);var l=a.areMergedPropsEqual;void 0===l&&(l=m);var v=o(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=x(t,n,"mapStateToProps"),b=x(p,r,"mapDispatchToProps"),P=x(u,i,"mergeProps");return e(s,Object.assign({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:!!t,areMergedPropsEqual:l,areOwnPropsEqual:h,areStatePropsEqual:f,areStatesEqual:d,initMapDispatchToProps:b,initMapStateToProps:y,initMergeProps:P,pure:c},v))}}();t.Provider=y,t.connectAdvanced=l,t.connect=M,Object.defineProperty(t,"__esModule",{value:!0})});
