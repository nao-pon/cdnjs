!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["react","react-dom"],t);else{var r="object"==typeof exports?t(require("react"),require("react-dom")):t(e.react,e["react-dom"]);for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(this,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_4__){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(2)},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(e,t,r){!function(){function e(e,t){t.forceUpdate=e.forceUpdate.bind(e)}function o(e,t){i.extend(t,e)}var n=document.registerElement||document.register;if(!n)throw new Error("No custom element support or polyfill found!");n=n.bind(document);var a=window.React||r(1),c=window.ReactDOM||r(4),i=r(3);t.registerReact=function(t,r){function p(e,t){var o=a.createElement(r,t);return e.reactiveElement=o,c.render(o,e,t.onRender)}var u,s=Object.create(HTMLElement.prototype);s.createdCallback=function(){var t=i.getProps(this);t.children=i.getChildren(this),u=p(this,t),null!==u&&(o(u,u.props.container),e(u,u.props.container),i.getterSetter(this,"props",function(){return u.props},function(e){u=p(this,e)}))},s.detachedCallback=function(){c.unmountComponentAtNode(this)},s.attributeChangedCallback=function(e,t,r){var o=i.getProps(this);u=p(this,o)},n(t,{prototype:s})},t.utils=i,document.registerReact=t.registerReact}()},function(module,exports,__webpack_require__){var React=window.React||__webpack_require__(1),getAllProperties=function(e){for(var t={};e&&e!==React.Component.prototype&&e!==Object.prototype;){for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++)t[r[o]]=null;e=Object.getPrototypeOf(e)}return delete t.constructor,Object.keys(t)};exports.extend=function(e,t){for(var r=getAllProperties(t),o=0;o<r.length;o++){var n=r[o];if(!(n in e)){var a=t[n];e[n]=a}}},exports.getProps=function(e){for(var t={},r=0;r<e.attributes.length;r++){var o=e.attributes[r],n=exports.attributeNameToPropertyName(o.name);t[n]=exports.parseAttributeValue(o.value)}return t.container=e,t},exports.getterSetter=function(e,t,r,o){Object.defineProperty?Object.defineProperty(e,t,{get:r,set:o}):document.__defineGetter__&&(e.__defineGetter__(t,r),e.__defineSetter__(t,o)),e["get"+t]=r,e["set"+t]=o},exports.attributeNameToPropertyName=function(e){return e.replace(/^(x|data)[-_:]/i,"").replace(/[-_:](.)/g,function(e,t){return t.toUpperCase()})},exports.parseAttributeValue=function(value){if(!value)return null;value=value.replace(/[\n\r]/g,"");var pointerRegexp=/^{.*?}$/i,jsonRegexp=/^{{2}.*}{2}$/,jsonArrayRegexp=/^{\[.*\]}$/,pointerMatches=value.match(pointerRegexp),jsonMatches=value.match(jsonRegexp)||value.match(jsonArrayRegexp);return jsonMatches?value=JSON.parse(jsonMatches[0].replace(/^{|}$/g,"")):pointerMatches&&(value=eval(pointerMatches[0].replace(/[{}]/g,""))),value},exports.getChildren=function(e){for(var t=document.createDocumentFragment();e.childNodes.length;)t.appendChild(e.childNodes[0]);return t},exports.shallowCopy=function(e,t){for(var r in t)e[r]=t[r];return e}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_4__}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9yZWFjdGl2ZS1lbGVtZW50cy5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDVkN2Q0OWFkZTY3ZTE2ZDAwOWNiIiwid2VicGFjazovLy8uL2luZGV4LmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0aXZlLWVsZW1lbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1kb21cIiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiZXhwb3NlRGVmYXVsdE1ldGhvZHMiLCJyZWFjdENvbXBvbmVudCIsImN1c3RvbUVsZW1lbnQiLCJmb3JjZVVwZGF0ZSIsImJpbmQiLCJleHBvc2VNZXRob2RzIiwidXRpbHMiLCJleHRlbmQiLCJyZWdpc3RlckVsZW1lbnQiLCJkb2N1bWVudCIsInJlZ2lzdGVyIiwiRXJyb3IiLCJSZWFjdCIsIndpbmRvdyIsIlJlYWN0RE9NIiwicmVnaXN0ZXJSZWFjdCIsImVsZW1lbnROYW1lIiwiUmVhY3RDb21wb25lbnQiLCJjcmVhdGUiLCJwYXJlbnQiLCJwcm9wcyIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicmVhY3RpdmVFbGVtZW50IiwicmVuZGVyIiwib25SZW5kZXIiLCJyZWFjdEVsZW1lbnQiLCJlbGVtZW50UHJvdG90eXBlIiwiT2JqZWN0IiwiSFRNTEVsZW1lbnQiLCJwcm90b3R5cGUiLCJjcmVhdGVkQ2FsbGJhY2siLCJnZXRQcm9wcyIsImNoaWxkcmVuIiwiZ2V0Q2hpbGRyZW4iLCJjb250YWluZXIiLCJnZXR0ZXJTZXR0ZXIiLCJkZXRhY2hlZENhbGxiYWNrIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIm5hbWUiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiZ2V0QWxsUHJvcGVydGllcyIsIm9iaiIsIkNvbXBvbmVudCIsInByb3BOYW1lcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJsZW5ndGgiLCJnZXRQcm90b3R5cGVPZiIsImNvbnN0cnVjdG9yIiwia2V5cyIsImV4dGVuc2libGUiLCJleHRlbmRpbmciLCJwcm9wIiwidmFsIiwiZWwiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lIiwicGFyc2VBdHRyaWJ1dGVWYWx1ZSIsInZhbHVlIiwidmFyaWFibGVQYXJlbnQiLCJ2YXJpYWJsZU5hbWUiLCJnZXR0ZXJGdW5jdGlvbiIsInNldHRlckZ1bmN0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJzZXQiLCJfX2RlZmluZUdldHRlcl9fIiwiX19kZWZpbmVTZXR0ZXJfXyIsImF0dHJpYnV0ZU5hbWUiLCJyZXBsYWNlIiwieCIsImNociIsInRvVXBwZXJDYXNlIiwicG9pbnRlclJlZ2V4cCIsImpzb25SZWdleHAiLCJqc29uQXJyYXlSZWdleHAiLCJwb2ludGVyTWF0Y2hlcyIsIm1hdGNoIiwianNvbk1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJldmFsIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY2hpbGROb2RlcyIsImFwcGVuZENoaWxkIiwic2hhbGxvd0NvcHkiLCJiIiwia2V5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLG1C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QSxhQUVBLElBQUFJLGVBQUEsV0FDQUMsV0FBQSxlQUNBQyxnQkFBQSxhQUVBQyxlQUFBbEIsTUFBQW1CLE1BQUFKLGVBQ0FLLFlBQUFwQixNQUFBbUIsTUFBQUgsYUFBQWhCLE1BQUFtQixNQUFBRixnQkFRQSxPQU5BRyxhQUNBcEIsTUFBQXFCLEtBQUFDLE1BQUFGLFlBQUEsR0FBQVQsUUFBQSxTQUF1RCxLQUNsRE8saUJBQ0xsQixNQUFBdUIsS0FBQUwsZUFBQSxHQUFBUCxRQUFBLFFBQW1ELE1BR25EWCxPQUdBakYsUUFBQXNELFlBQUEsU0FBQXNCLEdBRUEsSUFEQSxHQUFBNkIsR0FBQTVFLFNBQUE2RSx5QkFDQTlCLEVBQUErQixXQUFBdkMsUUFDQXFDLEVBQUFHLFlBQUFoQyxFQUFBK0IsV0FBQSxHQUVBLE9BQUFGLElBR0F6RyxRQUFBNkcsWUFBQSxTQUFBeEcsRUFBQXlHLEdBQ0EsT0FBQUMsS0FBQUQsR0FBQXpHLEVBQUEwRyxHQUFBRCxFQUFBQyxFQUNBLE9BQUExRyxLTGlKTSxTQUFVSixFQUFRRCxHTW5QeEJDLEVBQUFELFFBQUFTIiwiZmlsZSI6InJlYWN0aXZlLWVsZW1lbnRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCIsIFwicmVhY3QtZG9tXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSkgOiBmYWN0b3J5KHJvb3RbXCJyZWFjdFwiXSwgcm9vdFtcInJlYWN0LWRvbVwiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80X18pIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIiwgXCJyZWFjdC1kb21cIl0sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKSA6IGZhY3Rvcnkocm9vdFtcInJlYWN0XCJdLCByb290W1wicmVhY3QtZG9tXCJdKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQoZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgcmVnaXN0ZXJFbGVtZW50ID0gZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50IHx8IGRvY3VtZW50LnJlZ2lzdGVyO1xuXHRcblx0ICAgIGlmIChyZWdpc3RlckVsZW1lbnQpIHtcblx0ICAgICAgICByZWdpc3RlckVsZW1lbnQgPSByZWdpc3RlckVsZW1lbnQuYmluZChkb2N1bWVudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY3VzdG9tIGVsZW1lbnQgc3VwcG9ydCBvciBwb2x5ZmlsbCBmb3VuZCEnKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgUmVhY3QgPSB3aW5kb3cuUmVhY3QgfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0ICAgIHZhciBSZWFjdERPTSA9IHdpbmRvdy5SZWFjdERPTSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHQgICAgdmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdCAgICBleHBvcnRzLnJlZ2lzdGVyUmVhY3QgPSBmdW5jdGlvbiAoZWxlbWVudE5hbWUsIFJlYWN0Q29tcG9uZW50KSB7XG5cdCAgICAgICAgdmFyIGVsZW1lbnRQcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSk7XG5cdCAgICAgICAgdmFyIHJlYWN0RWxlbWVudDtcblx0XG5cdCAgICAgICAgZnVuY3Rpb24gY3JlYXRlKHBhcmVudCwgcHJvcHMpIHtcblx0ICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0Q29tcG9uZW50LCBwcm9wcyk7XG5cdCAgICAgICAgICAgIHBhcmVudC5yZWFjdGl2ZUVsZW1lbnQgPSBlbGVtZW50O1xuXHQgICAgICAgICAgICByZXR1cm4gUmVhY3RET00ucmVuZGVyKGVsZW1lbnQsIHBhcmVudCwgcHJvcHMub25SZW5kZXIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZWxlbWVudFByb3RvdHlwZS5jcmVhdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9IHV0aWxzLmdldFByb3BzKHRoaXMpO1xuXHQgICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IHV0aWxzLmdldENoaWxkcmVuKHRoaXMpO1xuXHQgICAgICAgICAgICByZWFjdEVsZW1lbnQgPSBjcmVhdGUodGhpcywgcHJvcHMpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHJlYWN0RWxlbWVudCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgZXhwb3NlTWV0aG9kcyhyZWFjdEVsZW1lbnQsIHJlYWN0RWxlbWVudC5wcm9wcy5jb250YWluZXIpO1xuXHQgICAgICAgICAgICAgICAgZXhwb3NlRGVmYXVsdE1ldGhvZHMocmVhY3RFbGVtZW50LCByZWFjdEVsZW1lbnQucHJvcHMuY29udGFpbmVyKTtcblx0ICAgICAgICAgICAgICAgIFxuXHQgICAgICAgICAgICAgICAgdXRpbHMuZ2V0dGVyU2V0dGVyKHRoaXMsICdwcm9wcycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhY3RFbGVtZW50LnByb3BzO1xuXHQgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHByb3BzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9ICAgICAgICAgICAgXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgZWxlbWVudFByb3RvdHlwZS5kZXRhY2hlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGVsZW1lbnRQcm90b3R5cGUuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrID0gZnVuY3Rpb24gKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSB1dGlscy5nZXRQcm9wcyh0aGlzKTtcblx0ICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZWdpc3RlckVsZW1lbnQoZWxlbWVudE5hbWUsIHtwcm90b3R5cGU6IGVsZW1lbnRQcm90b3R5cGV9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgZnVuY3Rpb24gZXhwb3NlRGVmYXVsdE1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG5cdCAgICAgICAgY3VzdG9tRWxlbWVudC5mb3JjZVVwZGF0ZSA9IHJlYWN0Q29tcG9uZW50LmZvcmNlVXBkYXRlLmJpbmQocmVhY3RDb21wb25lbnQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGV4cG9zZU1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG5cdCAgICAgICAgdXRpbHMuZXh0ZW5kKGN1c3RvbUVsZW1lbnQsIHJlYWN0Q29tcG9uZW50KTtcblx0ICAgIH1cblx0XG5cdCAgICBleHBvcnRzLnV0aWxzID0gdXRpbHM7XG5cdFxuXHQgICAgZG9jdW1lbnQucmVnaXN0ZXJSZWFjdCA9IGV4cG9ydHMucmVnaXN0ZXJSZWFjdDtcblx0fSgpKVxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBSZWFjdCA9IHdpbmRvdy5SZWFjdCB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIGdldEFsbFByb3BlcnRpZXMgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB7fTtcblx0ICAgIHdoaWxlIChvYmogJiYgb2JqICE9PSBSZWFjdC5Db21wb25lbnQucHJvdG90eXBlICYmIG9iaiAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuXHQgICAgICAgIHZhciBwcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lc1tpXV0gPSBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBvYmogPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcblx0ICAgIH1cblx0ICAgIGRlbGV0ZSBwcm9wcy5jb25zdHJ1Y3Rvcjtcblx0ICAgIHJldHVybiBPYmplY3Qua2V5cyhwcm9wcyk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmV4dGVuZCA9IGZ1bmN0aW9uIChleHRlbnNpYmxlLCBleHRlbmRpbmcpIHtcblx0ICAgIHZhciBwcm9wcyA9IGdldEFsbFByb3BlcnRpZXMoZXh0ZW5kaW5nKTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgcHJvcCA9IHByb3BzW2ldO1xuXHQgICAgICAgIGlmICghKHByb3AgaW4gZXh0ZW5zaWJsZSkpIHtcblx0ICAgICAgICAgICAgdmFyIHZhbCA9IGV4dGVuZGluZ1twcm9wXTtcblx0ICAgICAgICAgICAgZXh0ZW5zaWJsZVtwcm9wXSA9IHZhbDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldFByb3BzID0gZnVuY3Rpb24gKGVsKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB7fTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgYXR0cmlidXRlID0gZWwuYXR0cmlidXRlc1tpXTtcblx0ICAgICAgICB2YXIgbmFtZSA9IGV4cG9ydHMuYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lKGF0dHJpYnV0ZS5uYW1lKTtcblx0ICAgICAgICBwcm9wc1tuYW1lXSA9IGV4cG9ydHMucGFyc2VBdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGUudmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHByb3BzLmNvbnRhaW5lciA9IGVsO1xuXHRcblx0ICAgIHJldHVybiBwcm9wcztcblx0fTtcblx0XG5cdGV4cG9ydHMuZ2V0dGVyU2V0dGVyID0gZnVuY3Rpb24gKHZhcmlhYmxlUGFyZW50LCB2YXJpYWJsZU5hbWUsIGdldHRlckZ1bmN0aW9uLCBzZXR0ZXJGdW5jdGlvbikge1xuXHQgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuXHQgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YXJpYWJsZVBhcmVudCwgdmFyaWFibGVOYW1lLCB7XG5cdCAgICAgICAgICAgIGdldDogZ2V0dGVyRnVuY3Rpb24sXG5cdCAgICAgICAgICAgIHNldDogc2V0dGVyRnVuY3Rpb25cblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYgKGRvY3VtZW50Ll9fZGVmaW5lR2V0dGVyX18pIHtcblx0ICAgICAgICB2YXJpYWJsZVBhcmVudC5fX2RlZmluZUdldHRlcl9fKHZhcmlhYmxlTmFtZSwgZ2V0dGVyRnVuY3Rpb24pO1xuXHQgICAgICAgIHZhcmlhYmxlUGFyZW50Ll9fZGVmaW5lU2V0dGVyX18odmFyaWFibGVOYW1lLCBzZXR0ZXJGdW5jdGlvbik7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyaWFibGVQYXJlbnRbJ2dldCcgKyB2YXJpYWJsZU5hbWVdID0gZ2V0dGVyRnVuY3Rpb247XG5cdCAgICB2YXJpYWJsZVBhcmVudFsnc2V0JyArIHZhcmlhYmxlTmFtZV0gPSBzZXR0ZXJGdW5jdGlvbjtcblx0fTtcblx0XG5cdGV4cG9ydHMuYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lID0gZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcblx0ICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lXG5cdCAgICAgICAgLnJlcGxhY2UoL14oeHxkYXRhKVstXzpdL2ksICcnKVxuXHQgICAgICAgIC5yZXBsYWNlKC9bLV86XSguKS9nLCBmdW5jdGlvbiAoeCwgY2hyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjaHIudG9VcHBlckNhc2UoKTtcblx0ICAgICAgICB9KTtcblx0fTtcblx0XG5cdGV4cG9ydHMucGFyc2VBdHRyaWJ1dGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgaWYgKCF2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFN1cHBvcnQgYXR0cmlidXRlIHZhbHVlcyB3aXRoIG5ld2xpbmVzXG5cdCAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1tcXG5cXHJdL2csICcnKTtcblx0XG5cdCAgICB2YXIgcG9pbnRlclJlZ2V4cCA9IC9eey4qP30kL2ksXG5cdCAgICAgICAganNvblJlZ2V4cCA9IC9ee3syfS4qfXsyfSQvLFxuXHQgICAgICAgIGpzb25BcnJheVJlZ2V4cCA9IC9ee1xcWy4qXFxdfSQvO1xuXHRcblx0ICAgIHZhciBwb2ludGVyTWF0Y2hlcyA9IHZhbHVlLm1hdGNoKHBvaW50ZXJSZWdleHApLFxuXHQgICAgICAgIGpzb25NYXRjaGVzID0gdmFsdWUubWF0Y2goanNvblJlZ2V4cCkgfHwgdmFsdWUubWF0Y2goanNvbkFycmF5UmVnZXhwKTtcblx0XG5cdCAgICBpZiAoanNvbk1hdGNoZXMpIHtcblx0ICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoanNvbk1hdGNoZXNbMF0ucmVwbGFjZSgvXnt8fSQvZywgJycpKTtcblx0ICAgIH0gZWxzZSBpZiAocG9pbnRlck1hdGNoZXMpIHtcblx0ICAgICAgICB2YWx1ZSA9IGV2YWwocG9pbnRlck1hdGNoZXNbMF0ucmVwbGFjZSgvW3t9XS9nLCAnJykpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZ2V0Q2hpbGRyZW4gPSBmdW5jdGlvbiAoZWwpIHtcblx0ICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0ICAgIHdoaWxlIChlbC5jaGlsZE5vZGVzLmxlbmd0aCkge1xuXHQgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsLmNoaWxkTm9kZXNbMF0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZyYWdtZW50O1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5zaGFsbG93Q29weSA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gYikgYVtrZXldID0gYltrZXldO1xuXHQgICAgcmV0dXJuIGE7XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXztcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pXG59KTtcbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVhY3RpdmUtZWxlbWVudHMubWluLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgNWQ3ZDQ5YWRlNjdlMTZkMDA5Y2IiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vc3JjL3JlYWN0aXZlLWVsZW1lbnRzJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyZWFjdFwiXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVnaXN0ZXJFbGVtZW50ID0gZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50IHx8IGRvY3VtZW50LnJlZ2lzdGVyO1xuXG4gICAgaWYgKHJlZ2lzdGVyRWxlbWVudCkge1xuICAgICAgICByZWdpc3RlckVsZW1lbnQgPSByZWdpc3RlckVsZW1lbnQuYmluZChkb2N1bWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjdXN0b20gZWxlbWVudCBzdXBwb3J0IG9yIHBvbHlmaWxsIGZvdW5kIScpO1xuICAgIH1cblxuICAgIHZhciBSZWFjdCA9IHdpbmRvdy5SZWFjdCB8fCByZXF1aXJlKCdyZWFjdCcpO1xuICAgIHZhciBSZWFjdERPTSA9IHdpbmRvdy5SZWFjdERPTSB8fCByZXF1aXJlKCdyZWFjdC1kb20nKTtcbiAgICB2YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbiAgICBleHBvcnRzLnJlZ2lzdGVyUmVhY3QgPSBmdW5jdGlvbiAoZWxlbWVudE5hbWUsIFJlYWN0Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50UHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUpO1xuICAgICAgICB2YXIgcmVhY3RFbGVtZW50O1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZShwYXJlbnQsIHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3RDb21wb25lbnQsIHByb3BzKTtcbiAgICAgICAgICAgIHBhcmVudC5yZWFjdGl2ZUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0RE9NLnJlbmRlcihlbGVtZW50LCBwYXJlbnQsIHByb3BzLm9uUmVuZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnRQcm90b3R5cGUuY3JlYXRlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdXRpbHMuZ2V0UHJvcHModGhpcyk7XG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IHV0aWxzLmdldENoaWxkcmVuKHRoaXMpO1xuICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcblxuICAgICAgICAgICAgaWYgKHJlYWN0RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGV4cG9zZU1ldGhvZHMocmVhY3RFbGVtZW50LCByZWFjdEVsZW1lbnQucHJvcHMuY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBleHBvc2VEZWZhdWx0TWV0aG9kcyhyZWFjdEVsZW1lbnQsIHJlYWN0RWxlbWVudC5wcm9wcy5jb250YWluZXIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHV0aWxzLmdldHRlclNldHRlcih0aGlzLCAncHJvcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFjdEVsZW1lbnQucHJvcHM7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RWxlbWVudCA9IGNyZWF0ZSh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgIH07XG5cbiAgICAgICAgZWxlbWVudFByb3RvdHlwZS5kZXRhY2hlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBlbGVtZW50UHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHV0aWxzLmdldFByb3BzKHRoaXMpO1xuICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckVsZW1lbnQoZWxlbWVudE5hbWUsIHtwcm90b3R5cGU6IGVsZW1lbnRQcm90b3R5cGV9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZXhwb3NlRGVmYXVsdE1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG4gICAgICAgIGN1c3RvbUVsZW1lbnQuZm9yY2VVcGRhdGUgPSByZWFjdENvbXBvbmVudC5mb3JjZVVwZGF0ZS5iaW5kKHJlYWN0Q29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBvc2VNZXRob2RzIChyZWFjdENvbXBvbmVudCwgY3VzdG9tRWxlbWVudCkge1xuICAgICAgICB1dGlscy5leHRlbmQoY3VzdG9tRWxlbWVudCwgcmVhY3RDb21wb25lbnQpO1xuICAgIH1cblxuICAgIGV4cG9ydHMudXRpbHMgPSB1dGlscztcblxuICAgIGRvY3VtZW50LnJlZ2lzdGVyUmVhY3QgPSBleHBvcnRzLnJlZ2lzdGVyUmVhY3Q7XG59KCkpXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9yZWFjdGl2ZS1lbGVtZW50cy5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgUmVhY3QgPSB3aW5kb3cuUmVhY3QgfHwgcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIGdldEFsbFByb3BlcnRpZXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHByb3BzID0ge307XG4gICAgd2hpbGUgKG9iaiAmJiBvYmogIT09IFJlYWN0LkNvbXBvbmVudC5wcm90b3R5cGUgJiYgb2JqICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgIHZhciBwcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVzW2ldXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgfVxuICAgIGRlbGV0ZSBwcm9wcy5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpO1xufTtcblxuZXhwb3J0cy5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5zaWJsZSwgZXh0ZW5kaW5nKSB7XG4gICAgdmFyIHByb3BzID0gZ2V0QWxsUHJvcGVydGllcyhleHRlbmRpbmcpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgaWYgKCEocHJvcCBpbiBleHRlbnNpYmxlKSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IGV4dGVuZGluZ1twcm9wXTtcbiAgICAgICAgICAgIGV4dGVuc2libGVbcHJvcF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnRzLmdldFByb3BzID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgdmFyIHByb3BzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGVsLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgIHZhciBuYW1lID0gZXhwb3J0cy5hdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUoYXR0cmlidXRlLm5hbWUpO1xuICAgICAgICBwcm9wc1tuYW1lXSA9IGV4cG9ydHMucGFyc2VBdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGUudmFsdWUpO1xuICAgIH1cblxuICAgIHByb3BzLmNvbnRhaW5lciA9IGVsO1xuXG4gICAgcmV0dXJuIHByb3BzO1xufTtcblxuZXhwb3J0cy5nZXR0ZXJTZXR0ZXIgPSBmdW5jdGlvbiAodmFyaWFibGVQYXJlbnQsIHZhcmlhYmxlTmFtZSwgZ2V0dGVyRnVuY3Rpb24sIHNldHRlckZ1bmN0aW9uKSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFyaWFibGVQYXJlbnQsIHZhcmlhYmxlTmFtZSwge1xuICAgICAgICAgICAgZ2V0OiBnZXR0ZXJGdW5jdGlvbixcbiAgICAgICAgICAgIHNldDogc2V0dGVyRnVuY3Rpb25cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRvY3VtZW50Ll9fZGVmaW5lR2V0dGVyX18pIHtcbiAgICAgICAgdmFyaWFibGVQYXJlbnQuX19kZWZpbmVHZXR0ZXJfXyh2YXJpYWJsZU5hbWUsIGdldHRlckZ1bmN0aW9uKTtcbiAgICAgICAgdmFyaWFibGVQYXJlbnQuX19kZWZpbmVTZXR0ZXJfXyh2YXJpYWJsZU5hbWUsIHNldHRlckZ1bmN0aW9uKTtcbiAgICB9XG5cbiAgICB2YXJpYWJsZVBhcmVudFsnZ2V0JyArIHZhcmlhYmxlTmFtZV0gPSBnZXR0ZXJGdW5jdGlvbjtcbiAgICB2YXJpYWJsZVBhcmVudFsnc2V0JyArIHZhcmlhYmxlTmFtZV0gPSBzZXR0ZXJGdW5jdGlvbjtcbn07XG5cbmV4cG9ydHMuYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lID0gZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICByZXR1cm4gYXR0cmlidXRlTmFtZVxuICAgICAgICAucmVwbGFjZSgvXih4fGRhdGEpWy1fOl0vaSwgJycpXG4gICAgICAgIC5yZXBsYWNlKC9bLV86XSguKS9nLCBmdW5jdGlvbiAoeCwgY2hyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH0pO1xufTtcblxuZXhwb3J0cy5wYXJzZUF0dHJpYnV0ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTdXBwb3J0IGF0dHJpYnV0ZSB2YWx1ZXMgd2l0aCBuZXdsaW5lc1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvW1xcblxccl0vZywgJycpO1xuXG4gICAgdmFyIHBvaW50ZXJSZWdleHAgPSAvXnsuKj99JC9pLFxuICAgICAgICBqc29uUmVnZXhwID0gL157ezJ9Lip9ezJ9JC8sXG4gICAgICAgIGpzb25BcnJheVJlZ2V4cCA9IC9ee1xcWy4qXFxdfSQvO1xuXG4gICAgdmFyIHBvaW50ZXJNYXRjaGVzID0gdmFsdWUubWF0Y2gocG9pbnRlclJlZ2V4cCksXG4gICAgICAgIGpzb25NYXRjaGVzID0gdmFsdWUubWF0Y2goanNvblJlZ2V4cCkgfHwgdmFsdWUubWF0Y2goanNvbkFycmF5UmVnZXhwKTtcblxuICAgIGlmIChqc29uTWF0Y2hlcykge1xuICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoanNvbk1hdGNoZXNbMF0ucmVwbGFjZSgvXnt8fSQvZywgJycpKTtcbiAgICB9IGVsc2UgaWYgKHBvaW50ZXJNYXRjaGVzKSB7XG4gICAgICAgIHZhbHVlID0gZXZhbChwb2ludGVyTWF0Y2hlc1swXS5yZXBsYWNlKC9be31dL2csICcnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuZXhwb3J0cy5nZXRDaGlsZHJlbiA9IGZ1bmN0aW9uIChlbCkge1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICB3aGlsZSAoZWwuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWwuY2hpbGROb2Rlc1swXSk7XG4gICAgfVxuICAgIHJldHVybiBmcmFnbWVudDtcbn07XG5cbmV4cG9ydHMuc2hhbGxvd0NvcHkgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGZvciAodmFyIGtleSBpbiBiKSBhW2tleV0gPSBiW2tleV07XG4gICAgcmV0dXJuIGE7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJlYWN0LWRvbVwiXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=