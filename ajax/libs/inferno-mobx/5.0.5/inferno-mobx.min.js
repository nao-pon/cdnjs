!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mobx"),require("inferno"),require("hoist-non-inferno-statics")):"function"==typeof define&&define.amd?define(["exports","mobx","inferno","hoist-non-inferno-statics"],t):t((e.Inferno=e.Inferno||{},e.Inferno.Mobx=e.Inferno.Mobx||{}),null,e.Inferno,null)}(this,function(e,t,n,o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var r=function(){this.listeners=[]};function i(e){console.error(e)}r.prototype.on=function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}},r.prototype.emit=function(e){for(var t=this.listeners,n=0,o=t.length;n<o;n++)t[n](e)},"undefined"==typeof window||window.document;var s=!1,a=!1,c=!1,p=new r;function u(e){var t=e.$LI.dom;p.emit({component:e,event:"render",node:t,renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart})}var f=new r;function d(e,t,n){void 0===n&&(n=!1);var o=e[t],r=m[t],i=o?!0===n?function(){r.apply(this,arguments),o.apply(this,arguments)}:function(){o.apply(this,arguments),r.apply(this,arguments)}:r;e[t]=i}function l(e,t){if(null==e||null==t||"object"!=typeof e||"object"!=typeof t)return e!==t;var n,o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(var r=o.length-1;r>=0;r--)if(t[n=o[r]]!==e[n])return!0;return!1}var m={componentWillMount:function(){var e=this;if(!0!==a){var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID,r=!1;h.call(this,"props"),h.call(this,"state");var i=this,c=this.render.bind(this),p=function(){return c(i.props,i.state,i.context)},u=null,d=!1,m=function(){var n;d=!1;var o=null;if(u.track(function(){s&&(e.__$mobRenderStart=Date.now());try{o=t._allowStateChanges(!1,p)}catch(e){n=e}s&&(e.__$mobRenderEnd=Date.now())}),n)throw f.emit(n),n;return o};this.render=function(){return(u=new t.Reaction(n+"#"+o+".render()",function(){d||(d=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e.__$mobxIsUnmounted&&(r||(e.$UPD=!0,e.forceUpdate(),e.$UPD=!1)))})).reactComponent=e,m.$mobx=u,e.render=m,m()}}function h(e){var n=this[e],o=t.createAtom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return o.reportObserved(),n},set:function(e){l(n,e)?(n=e,r=!0,o.reportChanged(),r=!1):n=e}})}},componentWillUnmount:function(){if(!0!==a&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,s)){var e=this.$LI.dom;p.emit({component:this,event:"destroy",node:e})}},componentDidMount:function(){s&&u(this)},componentDidUpdate:function(){s&&u(this)},shouldComponentUpdate:function(e,t){return a&&i("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||l(this.props,e)}};function h(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return c||(c=!0,i('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?_.apply(null,e)(h(t)):function(t){return h(e,t)};var o,r=e;if(!0===r.isMobxInjector&&i("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!("function"!=typeof r||r.prototype&&r.prototype.render))return h(((o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e,t,n){return r(e,n)},t}(n.Component)).displayName=r.displayName||r.name,o.defaultProps=r.defaultProps,o));if(!r)throw new Error("Please pass a valid component to 'observer'");return function(e){d(e,"componentWillMount",!0),["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(t){d(e,t)}),e.shouldComponentUpdate||(e.shouldComponentUpdate=m.shouldComponentUpdate)}(r.prototype||r),r.isMobXReactObserver=!0,r}var v=h(function(e){return(0,e.children)()});v.displayName="Observer";var y={isMobxInjector:{configurable:!0,enumerable:!0,value:!0,writable:!0}};function b(e,t,r){var i="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");r&&(i+="-with-"+r);var s=function(o){function r(e,t){o.call(this,e,t),this.storeRef=this.storeRef.bind(this)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.storeRef=function(e){this.wrappedInstance=e},r.prototype.render=function(o,r,i){var s,a={};for(s in o)a[s]=o[s];var c=e(i.mobxStores||{},a,i)||{};for(s in c)a[s]=c[s];return n.createComponentVNode(2,t,a,null,function(e){return!(e.prototype&&e.prototype.render)}(t)?null:this.storeRef)},r}(n.Component);return s.displayName=i,s.isMobxInjector=!1,o(s,t),s.wrappedComponent=t,Object.defineProperties(s,y),s}function _(){var e,t=arguments;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=b(e,t);return n.isMobxInjector=!1,(n=h(n)).isMobxInjector=!0,n};for(var n=[],o=0;o<arguments.length;o++)n.push(t[o]);return e=function(e){return function(t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];i in n||(n[i]=t[i])}return n}}(n),function(t){return b(e,t,n.join("-"))}}var x={children:!0,key:!0,ref:!0},g=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e,t,n){return e.children},t.prototype.getChildContext=function(){var e={},t=this.props,n=this.context.mobxStores;if(n)for(var o in n)e[o]=n[o];for(var r in t)void 0===x[r]&&"suppressChangedStoreWarning"!==r&&(e[r]=t[r]);return{mobxStores:e}},t}(n.Component);e.errorsReporter=f,e.inject=_,e.observer=h,e.onError=function(e){return f.on(e)},e.EventEmitter=r,e.Observer=v,e.Provider=g,e.renderReporter=p,e.trackComponents=function(){s?(s=!1,p.listeners.length=0):(s=!0,i("Do not turn trackComponents on in production, its expensive. For tracking dom nodes you need inferno-compat."))},e.useStaticRendering=function(e){a=e},Object.defineProperty(e,"__esModule",{value:!0})});
