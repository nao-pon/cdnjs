!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mobx"),require("inferno"),require("hoist-non-inferno-statics")):"function"==typeof define&&define.amd?define(["exports","mobx","inferno","hoist-non-inferno-statics"],t):t((e.Inferno=e.Inferno||{},e.Inferno.Mobx=e.Inferno.Mobx||{}),e.mobx,e.Inferno,e.hoistNonReactStatics)}(this,function(e,t,n,o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var r=function(){this.listeners=[]};r.prototype.on=function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}},r.prototype.emit=function(e){for(var t=this.listeners,n=0,o=t.length;n<o;n++)t[n](e)};"undefined"==typeof window||window.document;function i(e){console.error(e)}var s=!1,a=!1,c=!1,p=new WeakMap,u=new r;function d(e){var t=e.$LI.dom;t&&p.set(t,e),u.emit({component:e,event:"render",node:t,renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart})}var f=new r;function l(e,t,n){void 0===n&&(n=!1);var o=e[t],r=h[t],i=o?!0===n?function(){r.apply(this,arguments),o.apply(this,arguments)}:function(){o.apply(this,arguments),r.apply(this,arguments)}:r;e[t]=i}function m(e,t){if(null==e||null==t||"object"!=typeof e||"object"!=typeof t)return e!==t;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(var o,r=n.length-1;r>=0;r--)if(t[o=n[r]]!==e[o])return!0;return!1}var h={componentWillMount:function(){var e=this;if(!0!==a){var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID,r=!1;h.call(this,"props"),h.call(this,"state");var i=this,c=this.render.bind(this),p=function(){return c(i.props,i.state,i.context)},u=null,d=!1,l=function(){d=!1;var n,o=null;if(u.track(function(){s&&(e.__$mobRenderStart=Date.now());try{o=t.extras.allowStateChanges(!1,p)}catch(e){n=e}s&&(e.__$mobRenderEnd=Date.now())}),n)throw f.emit(n),n;return o};this.render=function(){return(u=new t.Reaction(n+"#"+o+".render()",function(){d||(d=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e.__$mobxIsUnmounted&&(r||(e.$UPD=!0,e.forceUpdate(),e.$UPD=!1)))})).reactComponent=e,l.$mobx=u,e.render=l,l()}}function h(e){var n=this[e],o=new t.Atom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return o.reportObserved(),n},set:function(e){m(n,e)?(n=e,r=!0,o.reportChanged(),r=!1):n=e}})}},componentWillUnmount:function(){if(!0!==a&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,s)){var e=this.$LI.dom;e&&p.delete(e),u.emit({component:this,event:"destroy",node:e})}},componentDidMount:function(){s&&d(this)},componentDidUpdate:function(){s&&d(this)},shouldComponentUpdate:function(e,t){return a&&i("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||m(this.props,e)}};function v(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return c||(c=!0,i('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?x.apply(null,e)(v(t)):function(t){return v(e,t)};var o=e;if(!0===o.isMobxInjector&&i("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!("function"!=typeof o||o.prototype&&o.prototype.render))return v(((a=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e,t,n){return o(e,n)},t}(n.Component)).displayName=o.displayName||o.name,a.defaultProps=o.defaultProps,a));if(!o)throw new Error("Please pass a valid component to 'observer'");var r=o.prototype||o;l(s=r,"componentWillMount",!0),["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(e){l(s,e)}),s.shouldComponentUpdate||(s.shouldComponentUpdate=h.shouldComponentUpdate);var s;return o.isMobXReactObserver=!0,o;var a}var y=v(function(e){return(0,e.children)()});y.displayName="Observer";var b={isMobxInjector:{configurable:!0,enumerable:!0,value:!0,writable:!0}};function _(e,t,r){var i="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");r&&(i+="-with-"+r);var s=function(o){function r(e,t){o.call(this,e,t),this.storeRef=this.storeRef.bind(this)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.storeRef=function(e){this.wrappedInstance=e},r.prototype.render=function(o,r,i){var s,a={};for(s in o)a[s]=o[s];var c=e(i.mobxStores||{},a,i)||{};for(s in c)a[s]=c[s];return n.createComponentVNode(2,t,a,null,(p=t).prototype&&p.prototype.render?this.storeRef:null);var p},r}(n.Component);return s.displayName=i,s.isMobxInjector=!1,o(s,t),s.wrappedComponent=t,Object.defineProperties(s,b),s}function x(){var e,t=arguments;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=_(e,t);return n.isMobxInjector=!1,(n=v(n)).isMobxInjector=!0,n};for(var n=[],o=0;o<arguments.length;o++)n.push(t[o]);return r=n,e=function(e,t){for(var n=0,o=r.length;n<o;n++){var i=r[n];i in t||(t[i]=e[i])}return t},function(t){return _(e,t,n.join("-"))};var r}var w=new Set;w.add("children"),w.add("key"),w.add("ref");var g=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){return e.children},t.prototype.getChildContext=function(){var e={},t=this.props,n=this.context.mobxStores;if(n)for(var o in n)e[o]=n[o];for(var r in t)w.has(r)||"suppressChangedStoreWarning"===r||(e[r]=t[r]);return{mobxStores:e}},t}(n.Component);e.componentByNodeRegistery=p,e.errorsReporter=f,e.inject=x,e.observer=v,e.onError=function(e){return f.on(e)},e.EventEmitter=r,e.Observer=y,e.Provider=g,e.renderReporter=u,e.trackComponents=function(){s?(s=!1,u.listeners.length=0):(s=!0,n.options.findDOMNodeEnabled=!0,i("Do not turn trackComponents on in production, its expensive. For tracking dom nodes you need inferno-compat."))},e.useStaticRendering=function(e){a=e},Object.defineProperty(e,"__esModule",{value:!0})});
