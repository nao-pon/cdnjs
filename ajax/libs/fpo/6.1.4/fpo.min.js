!function(n,r,t){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&module.exports?module.exports=t():r[n]=t(n,r)}("FPO",this,function(n,r){"use strict";function t({v:n}){return n}function e({v:n}){return function(){return n}}function f({v:n,props:r=[]}){var t={};for(let e of r)W(n,e)&&(t[e]=n[e]);return t}function o({v:n,props:r=[]}){var t={};for(let e of r)t[e]=n[e];return t}function u({fn:n,props:r=[]}){return function(t={}){return n(f({v:t,props:r}))}}function i(n,r=0){return r=Number(r),function(...t){return n(...t.slice(0,Math.max(0,r)))}}function c({fn:n,n:r=1}){return r=Number(r),function t(e){return function(f={}){var o=Object.keys(f).length>0?Object.assign({},e,f):e;return Object.keys(o).length>=r?n(o):t(o)}}({})}function a(n,r=Math.max(1,n.length)){return r=Number(r),function t(e){return function(...f){var o=f.length>0?e.concat(f):e;return o.length>=r?n(...o):t(o)}}([])}function p({fn:n}){return function(...r){return!n(...r)}}function s({fn:n,props:r=n.toString().replace(/^(?:(?:function.*\(([^]*?)\))|(?:([^\(\)]+?)\s*=>)|(?:\(([^]*?)\)\s*=>))[^]+$/,"$1$2$3").split(/\s*,\s*/).map(n=>n.replace(/[=\s].*$/,""))}){return function(t){return n(...r.map(function(n){return t[n]}))}}function l({fn:n,props:r=[]}){return function(...t){for(var e={},f=0,o=0;f<r.length&&o<t.length;)e[r[f++]]=t[o++];return n(e)}}function v({prop:n="",v:r={}}){return r[n]}function y({prop:n="",o:r={},v:t}){return r=Object.assign({},r),r[n]=t,r}function b({props:n={},v:r}){var t={},e=Object.keys(n);for(let f of e)f in r&&(t[n[f]]=r[f]);for(let n of Object.keys(r))~e.indexOf(n)||(t[n]=r[n]);return t}function d({fn:n,arr:r=[]}){var t=[];for(let[e,f]of r.entries())n({v:f,i:e,arr:r})&&(t[t.length]=f);return t}function g({fn:n,o:r={}}){var t={};for(let e of Object.keys(r))n({v:r[e],i:e,o:r})&&(t[e]=r[e]);return t}function O({fn:n,arr:r=[]}){return d({fn:p({fn:n}),arr:r})}function j({fn:n,o:r={}}){return g({fn:p({fn:n}),o:r})}function h({fn:n,arr:r=[]}){var t=[];for(let[e,f]of r.entries())t[e]=n({v:f,i:e,arr:r});return t}function m({fn:n,o:r={}}){var t={};for(let e of Object.keys(r))t[e]=n({v:r[e],i:e,o:r});return t}function k({fn:n,arr:r=[]}){var t=[];for(let[e,f]of r.entries())t=t.concat(n({v:f,i:e,arr:r}));return t}function A({fn:n,o:r={}}){var t={};for(let e of Object.keys(r)){let f=n({v:r[e],i:e,o:r});"object"!=typeof f||Array.isArray(f)?t[e]=f:Object.assign(t,f)}return t}function M({fn:n,v:r,arr:t=[]}){var e=t,f=0;void 0===r&&t.length>0&&(r=t[0],t=t.slice(1),f++);for(let o of t)r=n({acc:r,v:o,i:f++,arr:e});return r}function N({fn:n,v:r,o:t={}}){var e=Object.keys(t);void 0===r&&e.length>0&&(r=t[e[0]],e=e.slice(1));for(let f of e)r=n({acc:r,v:t[f],i:f,o:t});return r}function I({fn:n,v:r,arr:t=[]}){var e=t,f=t.length-1;void 0===r&&t.length>0&&(r=t[f],t=t.slice(0,f),f--);for(let o=t.length-1;o>=0;o--)r=n({acc:r,v:t[o],i:f--,arr:e});return r}function R({v:n=[],n:r=1/0}){r=Number(r);var t=[];for(let e of n)t=t.concat(r>0?r>1&&Array.isArray(e)?R({v:e,n:r-1}):e:[e]);return t}function x({arr1:n=[],arr2:r=[]}){for(var t=[],e=0,f=0;e<n.length&&f<r.length;)t.push([n[e++],r[f++]]);return t}function P({fn:n}){return function(...r){for(var t=n(...r);"function"==typeof t;)t=t();return t}}function S({fn:n,co:r,v:t,arr:e=[]}){return M({fn:n({v:r}),v:t,arr:e})}function $(n,r,t,e=[]){var f=n(r);return X.std.reduce(f,t,e)}function w(n){var{fn:r,v:t}=n;return W(n,"v")&&t?function({acc:n,v:e}){return t({acc:n,v:r({v:e})})}:function({v:n}){return w({fn:r,v:n})}}function z(n){var{fn:r,v:t}=n;return W(n,"v")&&t?function({acc:n,v:e}={}){return r({v:e})?t({acc:n,v:e}):n}:function({v:n}){return z({fn:r,v:n})}}function J({acc:n,v:r}){return String(n)+r}function q(n,r){return String(n)+r}function F({acc:n,v:r}){return n.push(r),n}function L(n,r){return n.push(r),n}function B({acc:n,v:r}){return+n+ +r}function C(n,r){return+n+ +r}function D({acc:n,v:r}){return!!n&&!!r}function E(n,r){return!!n&&!!r}function G({v:n=[]}){return!n||"object"!=typeof n&&"string"!=typeof n?n:n[0]}function H({v:n=[]}){if(n&&("object"==typeof n||"string"==typeof n)){if("function"==typeof n.slice)return n.slice(1);return f({v:n,props:Object.keys(n).filter(n=>"0"!=n)})}return n}function K({v:n=[],n:r=1}){return!n||"object"!=typeof n&&"string"!=typeof n||"function"!=typeof n.slice?[]:n.slice(0,r)}function Q({fn:n,n:r=n.length}){var t={};return Number(r)>1?function(...r){var e=r[0],f=1==r.length&&(null==e||"object"!=typeof e&&"function"!=typeof e)?e:JSON.stringify(r);return f in t?t[f]:t[f]=n(...r)}:function(r,...e){var f=null==r||"object"!=typeof r&&"function"!=typeof r?r:JSON.stringify(r);return f in t?t[f]:t[f]=n(r,...e)}}function T({fn:n,args:r={}}){var t={};for(let n of Object.keys(r))t[r[n]]=n;return function(r){return n(b({v:r,props:t}))}}function U(n,r){X[r]=X[n],X.std[r]=X.std[n]}function V(n,r){return function(t){return t=Object.assign({},t),t.fn=s({fn:t.fn,props:r}),n(t)}}function W(n,r){return Object.hasOwnProperty.call(n,r)}var X={identity:c({fn:t,n:1}),constant:c({fn:e,n:1}),pick:c({fn:f,n:2}),pickAll:c({fn:o,n:2}),nAry:c({fn:u,n:2}),unary:c({fn:function({fn:n,prop:r=""}){return u({fn:n,props:[r]})},n:2}),binary:c({fn:function({fn:n,props:[r="",t=""]=[]}){return u({fn:n,props:[r,t]})},n:2}),curry:c({fn:function({fn:n,n:r=1}){return r=Number(r),function t(e){return function(f={}){var o=Object.keys(f),u=o.length>0?Object.assign({},e,{[o[0]]:f[o[0]]}):e;return Object.keys(u).length>=r?n(u):t(u)}}({})},n:1}),curryMultiple:c({fn:c,n:1}),uncurry:c({fn:function({fn:n}){return function(r={}){var t=n;for(let n of Object.keys(r))t=t({[n]:r[n]});return t}},n:1}),partial:c({fn:function({fn:n,args:r={}}){return function(t={}){return n(Object.assign({},r,t))}},n:2}),complement:c({fn:p,n:1}),apply:c({fn:s,n:1}),unapply:c({fn:l,n:2}),compose:c({fn:function({fns:n=[]}){return function({v:r}){for(let t=n.length-1;t>=0;t--)r=n[t]({v:r});return r}},n:1}),pipe:c({fn:function({fns:n=[]}){return function({v:r}){for(let t of n)r=t({v:r});return r}},n:1}),prop:c({fn:v,n:2}),setProp:c({fn:y,n:3}),reassoc:c({fn:b,n:2}),filterIn:c({fn:d,n:2}),filterInObj:c({fn:g,n:2}),filterOut:c({fn:O,n:2}),filterOutObj:c({fn:j,n:2}),map:c({fn:h,n:2}),mapObj:c({fn:m,n:2}),flatMap:c({fn:k,n:2}),flatMapObj:c({fn:A,n:2}),ap:c({fn:function({fns:n=[],arr:r=[]}){var e=[];if(0==n.length&&(n=[t]),1==n.length)return h({fn:n[0],arr:r});for(let t of n)e=e.concat(h({fn:t,arr:r}));return e},n:2}),reduce:c({fn:M,n:2}),reduceObj:c({fn:N,n:2}),reduceRight:c({fn:I,n:2}),flatten:c({fn:R,n:1}),zip:c({fn:x,n:2}),trampoline:c({fn:P,n:1}),transducers:{transduce:c({fn:S,n:4}),into:c({fn:function({fn:n,v:r,arr:t=[]}){return S({fn:n,co:"string"==typeof r?J:"number"==typeof r?B:"boolean"==typeof r?D:Array.isArray(r)?F:X.transducers.default,v:r,arr:t})},n:3}),map:c({fn:w,n:1}),filter:c({fn:z,n:1}),string:c({fn:J,n:2}),array:c({fn:F,n:2}),number:c({fn:B,n:2}),booleanAnd:c({fn:D,n:2}),booleanOr:c({fn:function({acc:n,v:r}){return!!n||!!r},n:2}),default:c({fn:({acc:n})=>n,n:1})},head:c({fn:G,n:1}),tail:c({fn:H,n:1}),take:c({fn:K,n:1}),memoize:c({fn:Q,n:1}),remap:c({fn:T,n:2})};return X.std={identity:a(l({fn:t,props:["v"]}),1),constant:a(l({fn:e,props:["v"]}),1),pick:a(l({fn:f,props:["props","v"]}),2),pickAll:a(l({fn:o,props:["props","v"]}),2),nAry:a(i,2),unary:a(function(n){return i(n,1)},1),binary:a(function(n){return i(n,2)},1),curry:a(function(n,r=Math.max(1,n.length)){return r=Number(r),function t(e){return function(...f){var o=f.length>0?e.concat([f[0]]):e;return o.length>=r?n(...o):t(o)}}([])},1),curryMultiple:a(a,1),uncurry:a(function(n){return function(...r){var t=n;for(let n of r)t=t(n);return t}},1),partial:a(function(n,r=[]){return function(...t){return n(...r,...t)}},2),partialRight:a(function(n,r=[]){return function(...t){return n(...t,...r)}},2),complement:a(l({fn:p,props:["fn"]}),1),apply:a(function(n){return function(r){return n(...r)}},1),unapply:a(function(n){return function(...r){return n(r)}},1),compose:a(function(n=[]){return function(r){for(let t=n.length-1;t>=0;t--)r=n[t](r);return r}},1),pipe:a(function(n=[]){return function(r){for(let t of n)r=t(r);return r}},1),prop:a(l({fn:v,props:["prop","v"]}),2),setProp:a(l({fn:y,props:["prop","o","v"]}),3),reassoc:a(l({fn:b,props:["props","v"]}),2),filterIn:a(l({fn:V(d,["v","i","arr"]),props:["fn","arr"]}),2),filterInObj:a(l({fn:V(g,["v","i","o"]),props:["fn","o"]}),2),filterOut:a(l({fn:V(O,["v","i","arr"]),props:["fn","arr"]}),2),filterOutObj:a(l({fn:V(j,["v","i","o"]),props:["fn","o"]}),2),map:a(l({fn:V(h,["v","i","arr"]),props:["fn","arr"]}),2),mapObj:a(l({fn:V(m,["v","i","o"]),props:["fn","o"]}),2),flatMap:a(l({fn:V(k,["v","i","arr"]),props:["fn","arr"]}),2),flatMapObj:a(l({fn:V(A,["v","i","o"]),props:["fn","o"]}),2),ap:a(function(n=[],r=[]){var t=[];if(0==n.length&&(n=[X.std.identity]),1==n.length)return X.std.map(n[0],r);for(let e of n)t=t.concat(X.std.map(e,r));return t},2),reduce:a(l({fn:V(M,["acc","v","i","arr"]),props:["fn","v","arr"]}),3),reduceObj:a(l({fn:V(N,["acc","v","i","o"]),props:["fn","v","o"]}),3),reduceRight:a(l({fn:V(I,["acc","v","i","arr"]),props:["fn","v","arr"]}),3),flatten:a(l({fn:R,props:["v","n"]}),1),zip:a(l({fn:x,props:["arr1","arr2"]}),2),trampoline:a(l({fn:P,props:["fn"]}),1),transducers:{transduce:a($,4),into:a(function(n,r,t=[]){return $(n,"string"==typeof r?q:"number"==typeof r?C:"boolean"==typeof r?E:Array.isArray(r)?L:X.std.transducers.default,r,t)},3),map:a(function(n,r){return function(t,e){return r(t,n(e))}},2),filter:a(function(n,r){return function(t,e){return n(e)?r(t,e):t}},2),string:a(q,2),array:a(L,2),number:a(C,2),booleanAnd:a(E,2),booleanOr:a(function(n,r){return!!n||!!r},2),default:a(n=>n,1)},flip:a(function(n){return function(r,t,...e){return n(t,r,...e)}},1),reverseArgs:a(function(n){return function(...r){return n(...r.reverse())}},1),head:a(l({fn:G,props:["v"]}),1),tail:a(l({fn:H,props:["v"]}),1),take:a(l({fn:K,props:["v","n"]}),1),memoize:a(l({fn:Q,props:["fn","n"]}),1),remap:a(l({fn:T,props:["fn","args"]}),2)},U("constant","always"),U("pipe","flow"),U("pipe","sequence"),U("compose","flowRight"),U("apply","spread"),U("unapply","gather"),U("setProp","assoc"),U("filterIn","filter"),U("filterIn","keep"),U("filterInObj","filterObj"),U("filterInObj","keepObj"),U("filterOut","reject"),U("filterOutObj","rejectObj"),U("flatMap","chain"),U("flatMapObj","chainObj"),U("reduce","fold"),U("reduceObj","foldObj"),U("reduce","foldL"),U("reduceRight","foldR"),X.partialRight=X.partial,X.transducers.boolean=X.transducers.booleanAnd,X.std.transducers.boolean=X.std.transducers.booleanAnd,X});