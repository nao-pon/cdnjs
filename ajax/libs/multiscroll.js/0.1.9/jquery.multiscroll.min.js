/*!
 * multiscroll.js 0.1.9
 * https://github.com/alvarotrigo/multiscroll.js
 * @license MIT licensed
 *
 * Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo
 */
!function(z,R,F,Y,I){z.fn.multiscroll=function(v){var o=z.fn.multiscroll;v=z.extend({verticalCentered:!0,scrollingSpeed:700,easing:"easeInQuart",menu:!1,sectionsColor:[],anchors:[],navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],loopBottom:!1,loopTop:!1,css3:!1,paddingTop:0,paddingBottom:0,fixedElements:null,normalScrollElements:null,keyboardScrolling:!0,touchSensitivity:5,sectionSelector:".ms-section",leftSelector:".ms-left",rightSelector:".ms-right",afterLoad:null,onLeave:null,afterRender:null,afterResize:null},v);var h=600,n=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),i="ontouchstart"in R||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints;".ms-right"!==v.rightSelector&&z(v.rightSelector).addClass("ms-right"),".ms-left"!==v.leftSelector&&z(v.leftSelector).addClass("ms-left");var s,a,l,u=z(".ms-left").find(".ms-section").length,g=!1,r=z(R).height();function e(){var e=R.location.hash.replace("#","");if(e.length){var t=z(".ms-left").find('[data-anchor="'+e+'"]');("undefined"==typeof lastScrolledDestiny||e!==lastScrolledDestiny)&&S(t)}}function t(e){e.preventDefault();var t=z(this).parent().index();S(z(".ms-left .ms-section").eq(t))}function c(){var e=z(this).data("tooltip");z('<div class="multiscroll-tooltip '+v.navigationPosition+'">'+e+"</div>").hide().appendTo(z(this)).fadeIn(200)}function m(){z(this).find(".multiscroll-tooltip").fadeOut(200,function(){z(this).remove()})}w(),L(),v.css3&&(v.css3=function(){var e,t=F.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var o in F.body.insertBefore(t,null),n)t.style[o]!==I&&(t.style[o]="translate3d(1px,1px,1px)",e=R.getComputedStyle(t).getPropertyValue(n[o]));return F.body.removeChild(t),e!==I&&0<e.length&&"none"!==e}()),z("html, body").css({overflow:"hidden",height:"100%"}),".ms-section"!==v.sectionSelector&&z(v.sectionSelector).each(function(){z(this).addClass("ms-section")}),v.navigation&&(z("body").append('<div id="multiscroll-nav"><ul></ul></div>'),(s=z("#multiscroll-nav")).css("color",v.navigationColor),s.addClass(v.navigationPosition)),z(".ms-right, .ms-left").css({width:"50%",position:"absolute",height:"100%","-ms-touch-action":"none"}),z(".ms-right").css({right:"1px",top:"0","-ms-touch-action":"none","touch-action":"none"}),z(".ms-left").css({left:"0",top:"0","-ms-touch-action":"none","touch-action":"none"}),z(".ms-left .ms-section, .ms-right .ms-section").each(function(){var e,t=z(this).index();if((v.paddingTop||v.paddingBottom)&&z(this).css("padding",v.paddingTop+" 0 "+v.paddingBottom+" 0"),void 0!==v.sectionsColor[t]&&z(this).css("background-color",v.sectionsColor[t]),void 0!==v.anchors[t]&&z(this).attr("data-anchor",v.anchors[t]),v.verticalCentered&&(e=z(this)).addClass("ms-table").wrapInner('<div class="ms-tableCell" style="height: '+C(e)+'px" />'),z(this).closest(".ms-left").length&&v.navigation){var n="";v.anchors.length&&(n=v.anchors[t]);var o=v.navigationTooltips[t];void 0===o&&(o=""),v.navigation&&s.find("ul").append('<li data-tooltip="'+o+'"><a href="#'+n+'"><span></span></a></li>')}}),z(".ms-right").html(z(".ms-right").find(".ms-section").get().reverse()),z(".ms-left .ms-section, .ms-right .ms-section").each(function(){var e=z(this).index();z(this).css({height:"100%"}),!e&&v.navigation&&s.find("li").eq(e).find("a").addClass("active")}).promise().done(function(){z(".ms-left .ms-section.active").length||(z(".ms-right").find(".ms-section").last().addClass("active"),z(".ms-left").find(".ms-section").first().addClass("active")),v.navigation&&s.css("margin-top","-"+s.height()/2+"px"),z.isFunction(v.afterRender)&&v.afterRender.call(this),p(),y(),z(R).on("load",function(){var e,t;e=R.location.hash.replace("#",""),t=z('.ms-left .ms-section[data-anchor="'+e+'"]'),e.length&&S(t)})}),z(R).on("hashchange",e),z(F).keydown(function(e){clearTimeout(l);var t=z(F.activeElement);if(!t.is("textarea")&&!t.is("input")&&!t.is("select")&&v.keyboardScrolling){var n=e.which;-1<z.inArray(n,[40,38,32,33,34])&&e.preventDefault(),l=setTimeout(function(){!function(e){var t=e.shiftKey;switch(e.which){case 38:case 33:o.moveSectionUp();break;case 32:if(t){o.moveSectionUp();break}case 40:case 34:o.moveSectionDown();break;case 36:o.moveTo(1);break;case 35:o.moveTo(z(".ms-left .ms-section").length);break;default:;}}(e)},150)}}),z(F).mousedown(function(e){if(1==e.button)return e.preventDefault(),!1}),z(F).on("click","#multiscroll-nav a",t),z(F).on({mouseenter:c,mouseleave:m},"#multiscroll-nav li"),v.normalScrollElements&&(z(F).on("mouseenter",v.normalScrollElements,function(){o.setMouseWheelScrolling(!1)}),z(F).on("mouseleave",v.normalScrollElements,function(){o.setMouseWheelScrolling(!0)})),z(R).on("resize",function(){if(n){var e=z(F.activeElement);if(!e.is("textarea")&&!e.is("input")&&!e.is("select")){var t=$window.height();Y.abs(t-d)>20*Y.max(d,t)/100&&(f(!0),d=t)}}else clearTimeout(a),a=setTimeout(function(){f(!0)},350)});var d=windowsHeight;function f(e){r=z(R).height(),z(".ms-tableCell").each(function(){z(this).css({height:C(z(this).parent())})}),v.scrollOverflow&&scrollBarHandler.createScrollBarForAll(),p(),z.isFunction(v.afterResize)&&v.afterResize.call(this)}function p(){v.css3?(b(z(".ms-left"),"translate3d(0px, -"+z(".ms-left").find(".ms-section.active").position().top+"px, 0px)",!1),b(z(".ms-right"),"translate3d(0px, -"+z(".ms-right").find(".ms-section.active").position().top+"px, 0px)",!1)):(z(".ms-left").css("top",-z(".ms-left").find(".ms-section.active").position().top),z(".ms-right").css("top",-z(".ms-right").find(".ms-section.active").position().top))}function S(e){var t=e.index(),n=z(".ms-right").find(".ms-section").eq(u-1-t),o=e.data("anchor"),i=z(".ms-left .ms-section.active").index()+1,s=function(e){var t=z(".ms-left .ms-section.active").index(),n=e.index();if(n<t)return"up";return"down"}(e);g=!0;var a,l,r,c=e.position().top,m=n.position().top;if(n.addClass("active").siblings().removeClass("active"),e.addClass("active").siblings().removeClass("active"),function(e){v.anchors.length&&(location.hash=e);y()}(o),v.css3){z.isFunction(v.onLeave)&&v.onLeave.call(this,i,t+1,s);var d="translate3d(0px, -"+c+"px, 0px)",f="translate3d(0px, -"+m+"px, 0px)";b(z(".ms-left"),d,!0),b(z(".ms-right"),f,!0),setTimeout(function(){z.isFunction(v.afterLoad)&&v.afterLoad.call(this,o,t+1),setTimeout(function(){g=!1},h)},v.scrollingSpeed)}else z.isFunction(v.onLeave)&&v.onLeave.call(this,i,t+1,s),z(".ms-left").animate({top:-c},v.scrollingSpeed,v.easing,function(){z.isFunction(v.afterLoad)&&v.afterLoad.call(this,o,t+1),setTimeout(function(){g=!1},h)}),z(".ms-right").animate({top:-m},v.scrollingSpeed,v.easing);lastScrolledDestiny=o,a=o,v.menu&&(z(v.menu).find(".active").removeClass("active"),z(v.menu).find('[data-menuanchor="'+a+'"]').addClass("active")),l=o,r=t,v.navigation&&(z("#multiscroll-nav").find(".active").removeClass("active"),l?z("#multiscroll-nav").find('a[href="#'+l+'"]').addClass("active"):z("#multiscroll-nav").find("li").eq(r).find("a").addClass("active"))}function w(){F.addEventListener?(F.addEventListener("mousewheel",x,!1),F.addEventListener("wheel",x,!1)):F.attachEvent("onmousewheel",x)}function x(e){e=R.event||e;var t=Y.max(-1,Y.min(1,e.wheelDelta||-e.deltaY||-e.detail));return g||(t<0?o.moveSectionDown():o.moveSectionUp()),!1}function b(e,t,n){var o;e.toggleClass("ms-easing",n),e.css({"-webkit-transform":o=t,"-moz-transform":o,"-ms-transform":o,transform:o})}function y(){var e=z(".ms-left .ms-section.active"),t=e.data("anchor"),n=e.index(),o=String(n);v.anchors.length&&(o=t),o=o.replace("/","-").replace("#","");var i=new RegExp("\\b\\s?ms-viewing-[^\\s]+\\b","g");z("body")[0].className=z("body")[0].className.replace(i,""),z("body").addClass("ms-viewing-"+o)}function C(e){var t=r;if(v.paddingTop||v.paddingBottom){var n=parseInt(e.css("padding-top"))+parseInt(e.css("padding-bottom"));t=r-n}return t}o.moveSectionUp=function(){var e=z(".ms-left .ms-section.active").prev(".ms-section");!e.length&&v.loopTop&&(e=z(".ms-left .ms-section").last()),e.length&&S(e)},o.moveSectionDown=function(){var e=z(".ms-left .ms-section.active").next(".ms-section");!e.length&&v.loopBottom&&(e=z(".ms-left .ms-section").first()),e.length&&S(e)},o.moveTo=function(e){S(isNaN(e)?z('.ms-left [data-anchor="'+e+'"]'):z(".ms-left .ms-section").eq(e-1))},o.setKeyboardScrolling=function(e){v.keyboardScrolling=e},o.setMouseWheelScrolling=function(e){e?w():F.addEventListener?(F.removeEventListener("mousewheel",x,!1),F.removeEventListener("wheel",x,!1)):F.detachEvent("onmousewheel",x)},o.setScrollingSpeed=function(e){v.scrollingSpeed=e};var T=0,E=0;function M(e){var t=e.originalEvent;if(P(t)){e.preventDefault();z(".ms-left .ms-section.active");if(!g){var n=D(t);E=n.y,n.x,Y.abs(T-E)>z(R).height()/100*v.touchSensitivity&&(E<T?o.moveSectionDown():T<E&&o.moveSectionUp())}}}function P(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function k(e){var t=e.originalEvent;if(P(t)){var n=D(t);T=n.y,n.x}}function L(){i&&(MSPointer=B(),z(F).off("touchstart "+MSPointer.down).on("touchstart "+MSPointer.down,k),z(F).off("touchmove "+MSPointer.move).on("touchmove "+MSPointer.move,M))}function B(){return R.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function D(e){var t=[];return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,i&&P(e)&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t}o.destroy=function(){o.setKeyboardScrolling(!1),o.setMouseWheelScrolling(!1),i&&(MSPointer=B(),z(F).off("touchstart "+MSPointer.down),z(F).off("touchmove "+MSPointer.move)),z(R).off("hashchange",e).off("resize",doneResizing),z(F).off("mouseenter","#multiscroll-nav li").off("mouseleave","#multiscroll-nav li").off("click","#multiscroll-nav a")},o.build=function(){o.setKeyboardScrolling(!0),o.setMouseWheelScrolling(!0),L(),z(R).on("hashchange",e).on("resize",doneResizing),z(F).on("mouseenter","#multiscroll-nav li",c).on("mouseleave","#multiscroll-nav li",m).on("click","#multiscroll-nav a",t)}}}(jQuery,window,document,Math);
//# sourceMappingURL=jquery.multiscroll.min.js.map
