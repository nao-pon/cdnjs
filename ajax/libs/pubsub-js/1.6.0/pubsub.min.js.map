{"version":3,"sources":["pubsub.js"],"names":["root","factory","PubSub","define","messages","lastUid","hasKeys","obj","key","hasOwnProperty","callSubscriberWithDelayedExceptions","subscriber","message","data","ex","setTimeout","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","s","subscribers","callSubscriber","publish","sync","deliver","topic","String","position","lastIndexOf","substr","hasSubscribers","found","Boolean","messageHasSubscribers","publishSync","subscribe","func","token","subscribeOnce","unsubscribe","apply","this","arguments","clearAllSubscriptions","clearSubscriptions","m","indexOf","value","t","isTopic","descendantTopicExists","isToken","isFunction","result","amd","exports","undefined","module","window"],"mappings":"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"}