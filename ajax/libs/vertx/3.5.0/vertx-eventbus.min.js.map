{"version":3,"sources":["vertx-eventbus.js"],"names":["factory","require","module","SockJS","Error","define","amd","this","EventBus","makeUUID","replace","a","b","Math","random","toString","mergeHeaders","defaultHeaders","headers","headerName","hasOwnProperty","url","options","self","pingInterval","vertxbus_ping_interval","pingTimerID","reconnectEnabled","reconnectAttempts","reconnectTimerID","maxReconnectAttempts","vertxbus_reconnect_attempts_max","Infinity","reconnectDelayMin","vertxbus_reconnect_delay_min","reconnectDelayMax","vertxbus_reconnect_delay_max","reconnectExponent","vertxbus_reconnect_exponent","randomizationFactor","vertxbus_randomization_factor","getReconnectDelay","ms","pow","rand","deviation","floor","min","onerror","err","console","error","e","setupSockJSConnection","sockJSConn","state","CONNECTING","handlers","replyHandlers","onopen","enablePing","OPEN","onreconnect","onclose","CLOSED","clearInterval","setTimeout","onmessage","json","JSON","parse","data","replyAddress","Object","defineProperty","value","message","callback","send","address","i","length","type","failureCode","failureType","handler","warn","prototype","envelope","body","stringify","publish","registerHandler","push","unregisterHandler","idx","indexOf","splice","close","CLOSING","enableReconnect","enable","sendPing","setInterval","clearTimeout","exports"],"mappings":"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"}