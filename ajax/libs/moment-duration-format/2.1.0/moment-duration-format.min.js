!function(e,t){if("function"==typeof define&&define.amd)define(["moment"],t);else if("object"==typeof exports)try{module.exports=t(require("moment"))}catch(e){module.exports=t}e&&(e.momentDurationFormatSetup=e.moment?t(e.moment):t)}(this,function(e){function t(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=0,a=e&&e.length||0;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<a;){if(t(e[r]))return e[r];r+=1}}function u(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(!1===t(e[n],n))return;n+=1}}function i(e,t){var n=0,r=e.length,a=[];if(!e||!r)return a;for(;n<r;)a[n]=t(e[n],n),n+=1;return a}function l(e,t){return i(e,function(e){return e[t]})}function o(e){var t=[];return u(e,function(e){e&&t.push(e)}),t}function s(e){var t=[];return u(e,function(e){a(t,e)||t.push(e)}),t}function c(e,t){var n=[];return u(e,function(e){u(t,function(t){e===t&&n.push(e)})}),s(n)}function m(e,t){var n=[];return u(e,function(r,a){if(!t(r))return n=e.slice(a),!1}),n}function f(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function p(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function h(e,t){var n=0,r=e.length;if(!e||!r)return!1;for(;n<r;){if(!0===t(e[n],n))return!0;n+=1}return!1}function y(){var e,t={};if(u([].slice.call(arguments),function(a,u){if(!u){if(!n(a))throw"Expected array as the first argument to durationsFormat.";e=a}"string"!=typeof a&&"function"!=typeof a?"number"!=typeof a?r(a)&&f(t,a):t.precision=a:t.template=a}),!e||!e.length)return[];t.returnMomentTypes=!0;var a=i(e,function(e){return e.format(t)}),o=c(w,s(l(function(e){var t=[];return u(e,function(e){t=t.concat(e)}),t}(a),"type"))),m=t.largest;return m&&(o=o.slice(0,m)),t.returnMomentTypes=!1,t.outputTypes=o,i(e,function(e){return e.format(t)})}function d(){var y=[].slice.call(arguments),d=f({},this.format.defaults),g=this.asMilliseconds(),v=this.asMonths();!1===this.isValid()&&(g=0);var _=g<0,S=e.duration(Math.abs(g),"milliseconds"),b=e.duration(Math.abs(v),"months");u(y,function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?r(e)&&f(d,e):d.precision=e:d.template=e});var M={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},x={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};d.types=w;var L=function(e){return a(w,function(t){return x[t].test(e)})},k=new RegExp(i(w,function(e){return x[e].source}).join("|"),"g");d.duration=this;var T="function"==typeof d.template?d.template.apply(d):d.template,D=d.outputTypes,j=d.returnMomentTypes,U=d.largest,E=[];D||(n(d.stopTrim)&&(d.stopTrim=d.stopTrim.join("")),d.stopTrim&&u(d.stopTrim.match(k),function(e){var t=L(e);"escape"!==t&&"general"!==t&&E.push(t)}));var F=e.localeData();F||(F={}),u(p(V),function(e){"function"!=typeof V[e]?F["_"+e]||(F["_"+e]=V[e]):F[e]||(F[e]=V[e])}),u(p(F._durationTimeTemplates),function(e){T=T.replace("_"+e+"_",F._durationTimeTemplates[e])});var P=d.userLocale||e.locale(),G=d.useLeftUnits,O=d.usePlural,H=d.precision,I=d.forceLength,K=d.useGrouping,$=d.trunc,q=d.useSignificantDigits&&H>0,A=q?d.precision:0,C=A,R=d.minValue,W=!1,Y=d.maxValue,z=!1,B=d.trim;n(B)&&(B=B.join(" ")),null===B&&(U||Y||q)&&(B="all"),null!==B&&!0!==B&&"left"!==B&&"right"!==B||(B="large"),!1===B&&(B="");var J=function(e){return e.test(B)},N=/both/,Q=/^all|[^sm]all/,X=U>0||h([/large/,N,Q],J),Z=h([/small/,N,Q],J),ee=h([/mid/,Q],J),te=h([/final/,Q],J),ne=i(T.match(k),function(e,t){var n=L(e);return"*"===e.slice(0,1)&&(e=e.slice(1),"escape"!==n&&"general"!==n&&E.push(n)),{index:t,length:e.length,text:"",token:"escape"===n?e.replace(x.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}}),re={index:0,length:0,token:"",text:"",type:null},ae=[];G&&ne.reverse(),u(ne,function(e){if(e.type)return(re.type||re.text)&&ae.push(re),void(re=e);G?re.text=e.token+re.text:re.text+=e.token}),(re.type||re.text)&&ae.push(re),G&&ae.reverse();var ue=c(w,s(o(l(ae,"type"))));if(!ue.length)return l(ae,"text").join("");ue=i(ue,function(e,t){var n,r=t+1===ue.length,u=!t;n="years"===e||"months"===e?b.as(e):S.as(e);var i=Math.floor(n),l=n-i,o=a(ae,function(t){return e===t.type});return u&&Y&&n>Y&&(z=!0),r&&R&&Math.abs(d.duration.as(e))<R&&(W=!0),u&&null===I&&o.length>1&&(I=!0),S.subtract(i,e),b.subtract(i,e),{rawValue:n,wholeValue:i,decimalValue:r?l:0,isSmallest:r,isLargest:u,type:e,tokenLength:o.length}});var ie=$?Math.floor:Math.round,le=function(e,t){return ie(e*Math.pow(10,t))*Math.pow(10,-t)},oe=!1,se=!1,ce=function(e,t){var n={useGrouping:K};return q&&(A<=0?(e.rawValue=0,e.wholeValue=0,e.decimalValue=0):(n.maximumSignificantDigits=A,e.significantDigits=A)),z&&!se&&(e.isLargest?(e.wholeValue=Y,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),W&&!se&&(e.isSmallest?(e.wholeValue=R,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),e.isSmallest||e.significantDigits&&e.significantDigits-e.wholeValue.toString().length<=0?H<0?e.value=le(e.wholeValue,H):0===H?e.value=ie(e.wholeValue+e.decimalValue):q?(e.value=$?le(e.rawValue,A-e.wholeValue.toString().length):e.rawValue,e.wholeValue&&(A-=e.wholeValue.toString().length)):(n.minimumFractionDigits=H,n.maximumFractionDigits=H,e.value=$?e.wholeValue+le(e.decimalValue,H):e.wholeValue+e.decimalValue):q&&e.wholeValue?(e.value=Math.round(le(e.wholeValue,e.significantDigits-e.wholeValue.toString().length)),A-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(I||oe)&&(n.minimumIntegerDigits=e.tokenLength,se&&n.maximumSignificantDigits<e.tokenLength&&delete n.maximumSignificantDigits),!oe&&(e.value>0||a(E,e.type)||a(D,e.type))&&(oe=!0),e.formattedValue=e.value.toLocaleString(P,n),n.useGrouping=!1,e.formattedValueEnUS=e.value.toLocaleString("en-US",n),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=e.value.toLocaleString("en-US",{minimumIntegerDigits:3,useGrouping:!1}).slice(0,2)),e};if(ue=i(ue,ce),(ue=o(ue)).length>1){var me=function(e){return a(ue,function(t){return t.type===e})};u([{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}],function(e){var t=me(e.type);t&&u(e.targets,function(e){var n=me(e.type);n&&parseInt(t.formattedValueEnUS,10)===e.value&&(t.rawValue=0,t.wholeValue=0,t.decimalValue=0,n.rawValue+=1,n.wholeValue+=1,n.decimalValue=0,n.formattedValueEnUS=n.wholeValue.toString(),se=!0)})})}return se&&(oe=!1,A=C,ue=o(ue=i(ue,ce))),!D||z&&!d.trim?(X&&(ue=m(ue,function(e){return!e.isSmallest&&!e.wholeValue&&!a(E,e.type)})),U&&ue.length&&(ue=ue.slice(0,U)),Z&&ue.length>1&&(ue=function(e,t){return m(e.slice().reverse(),t).reverse()}(ue,function(e){return!e.wholeValue&&!a(E,e.type)&&!e.isLargest})),ee&&(ue=o(ue=i(ue,function(e,t){return t>0&&t<ue.length-1&&!e.wholeValue?null:e}))),!te||1!==ue.length||ue[0].wholeValue||!$&&ue[0].isSmallest&&ue[0].rawValue<R||(ue=[])):ue=o(ue=i(ue,function(e){return a(D,function(t){return e.type===t})?e:null})),j?ue:(u(ae,function(e){var n=M[e.type],r=a(ue,function(t){return t.type===e.type});if(n&&r){var i=r.formattedValueEnUS.split(".");i[0]=parseInt(i[0],10),i[1]?i[1]=parseFloat("0."+i[1],10):i[1]=null;var l=F.durationPluralKey(n,i[0],i[1]),o=function(e,t){var n=[];return u(p(t),function(r){if("_durationLabels"===r.slice(0,15)){var a=r.slice(15).toLowerCase();u(p(t[r]),function(u){u.slice(0,1)===e&&n.push({type:a,key:u,label:t[r][u]})})}}),n}(n,F),s=!1,c={};u(F._durationLabelTypes,function(t){var n=a(o,function(e){return e.type===t.type&&e.key===l});n&&(c[n.type]=n.label,e.text.includes(t.string)&&(e.text=e.text.replace(t.string,n.label),s=!0))}),O&&!s&&(o.sort(t),u(o,function(t){if(c[t.type]!==t.label){if(e.text.includes(t.label))return e.text=e.text.replace(t.label,c[t.type]),!1}else if(e.text.includes(t.label))return!1}))}}),(ae=i(ae,function(e){if(!e.type)return e.text;var t=a(ue,function(t){return t.type===e.type});if(!t)return"";var n="";return G&&(n+=e.text),(_&&z||!_&&W)&&(n+="< ",z=!1,W=!1),(_&&W||!_&&z)&&(n+="> ",z=!1,W=!1),_&&(t.value>0||a(E,t.type)||a(D,t.type))&&(n+="-",_=!1),"milliseconds"===e.type&&t.formattedValueMS?n+=t.formattedValueMS:n+=t.formattedValue,G||(n+=e.text),n})).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function g(){var e=this.duration,t=function(t){return e._data[t]},n=a(this.types,t),r=function(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}(this.types,t);switch(n){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(n===r)return"d __";case"weeks":return n===r?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(n===r)return"M __";case"years":return n===r?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function v(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.format=y,e.duration.fn.format=d,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:g},e.updateLocale("en",V)}var w="escape years months weeks days hours minutes seconds milliseconds general".split(" "),V={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,n){return 1===t&&null===n?e:e+e}};return v(e),v});