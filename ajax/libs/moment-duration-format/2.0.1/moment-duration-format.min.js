!function(e,t){if("function"==typeof define&&define.amd)define(["moment"],t);else if("object"==typeof exports)try{module.exports=t(require("moment"))}catch(e){module.exports=t}e&&(e.momentDurationFormatSetup=e.moment?t(e.moment):t)}(this,function(e){function t(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e,t){var n,r=0,i=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<i;){if(t(e[r]))return e[r];r+=1}}function i(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(!1===t(e[n],n))return;n+=1}}function a(e,t){var n=0,r=e.length,i=[];if(!e||!r)return i;for(;n<r;)i[n]=t(e[n],n),n+=1;return i}function l(e,t){return a(e,function(e){return e[t]})}function u(e){var t=[];return i(e,function(e){e&&t.push(e)}),t}function s(e){var t=[];return i(e,function(e){r(t,e)||t.push(e)}),t}function o(e,t){var n=[];return i(e,function(r,i){if(!t(r))return n=e.slice(i),!1}),n}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function m(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function f(e,t){var n=0,r=e.length;if(!e||!r)return!1;for(;n<r;){if(!0===t(e[n],n))return!0;n+=1}return!1}function h(e,t,n){return e(t*Math.pow(10,n))*Math.pow(10,-n)}function p(){var p=[].slice.call(arguments),d=c({},this.format.defaults),y=this.asMilliseconds(),v=this.asMonths();!1===this.isValid()&&(y=0);var _=y<0,w=e.duration(Math.abs(y),"milliseconds"),V=e.duration(Math.abs(v),"months");i(p,function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)&&c(d,e):d.precision=e:d.template=e});var S={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},M={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/},x="escape years months weeks days hours minutes seconds milliseconds general".split(" ");d.types=x;var b=function(e){return r(x,function(t){return M[t].test(e)})},L=new RegExp(a(x,function(e){return M[e].source}).join("|"),"g");d.duration=this;var k="function"==typeof d.template?d.template.apply(d):d.template,T=d.largest,j=[];T||(n(d.stopTrim)&&(d.stopTrim=d.stopTrim.join("")),d.stopTrim&&i(d.stopTrim.match(L),function(e){var t=b(e);"escape"!==t&&"general"!==t&&j.push(t)}));var D=e.localeData();D||(D={}),i(m(g),function(e){"function"!=typeof g[e]?D["_"+e]||(D["_"+e]=g[e]):D[e]||(D[e]=g[e])}),i(m(D._durationTimeTemplates),function(e){k=k.replace("_"+e+"_",D._durationTimeTemplates[e])});var P=d.userLocale||e.locale(),U=d.useLeftUnits,F=d.usePlural,G=d.precision,O=d.forceLength,H=d.minValue,E=d.maxValue,I=d.useGrouping,K=d.trunc,$=d.useSignificantDigits&&G>0,q=$?d.precision:0,A=d.trim;n(A)&&(A=A.join(" ")),null!==A&&!0!==A&&"left"!==A&&"right"!==A||(A="large"),!1===A&&(A=""),T&&(A="all");var C=function(e){return e.test(A)},R=/both/,W=/^all|[^sm]all/,Y=f([/large/,R,W],C),z=f([/small/,R,W],C),B=f([/mid/,W],C),J=f([/final/,W],C),N=a(k.match(L),function(e,t){var n=b(e);return"*"===e.slice(0,1)&&(e=e.slice(1),T||"escape"===n||"general"===n||j.push(n)),{index:t,length:e.length,text:"",token:"escape"===n?e.replace(M.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}}),Q={index:0,length:0,token:"",text:"",type:null},X=[];U&&N.reverse(),i(N,function(e){if(e.type)return(Q.type||Q.text)&&X.push(Q),void(Q=e);U?Q.text=e.token+Q.text:Q.text+=e.token}),(Q.type||Q.text)&&X.push(Q),U&&X.reverse();var Z=function(e,t){var n=[];return i(e,function(e){i(t,function(t){e===t&&n.push(e)})}),s(n)}(x,s(u(l(X,"type"))));if(!Z.length)return l(X,"text").join("");Z=a(Z,function(e,t){var n,i=t+1===Z.length,a=!t;n="years"===e||"months"===e?V.as(e):w.as(e);var l=Math.floor(n),u=n-l,s=r(X,function(t){return e===t.type});return a&&null==O&&s.length>1&&(O=!0),w.subtract(l,e),V.subtract(l,e),{rawValue:n,wholeValue:l,decimalValue:i?u:0,isSmallest:i,isLargest:a,type:e,tokenLength:s.length}}),Y&&(Z=o(Z,function(e){return!e.isSmallest&&!e.wholeValue&&!r(j,e.type)})),z&&Z.length>1&&(Z=function(e,t){return o(e.slice().reverse(),t).reverse()}(Z,function(e){return!e.wholeValue&&!r(j,e.type)&&!e.isLargest})),B&&(Z=u(Z=a(Z,function(e,t){return t>0&&t<Z.length-1&&!e.wholeValue?null:e}))),!J||1!==Z.length||Z[0].wholeValue||!K&&Z[0].isSmallest&&Z[0].rawValue<H||(Z=[]),E&&Z.length&&Z[0].isLargest&&Z[0].rawValue>E&&((Z=Z.slice(0,1))[0].isMaxValue=!0),H&&1===Z.length&&Z[0].isSmallest&&Z[0].rawValue<H&&(Z[0].isMinValue=!0),T&&Z.length&&(Z=Z.slice(0,T));var ee=K?Math.floor:Math.round;return Z=a(Z,function(e,t){var n={useGrouping:I};if($){if(q<=0)return null;n.maximumSignificantDigits=q}return e.isMaxValue?e.value=E:e.isMinValue?e.value=H:e.isSmallest?G<0?e.value=h(ee,e.wholeValue,G):0===G?e.value=ee(e.wholeValue+e.decimalValue):$?e.value=K?h(ee,e.wholeValue+e.decimalValue,q-e.wholeValue.toString().length):e.wholeValue+e.decimalValue:(n.minimumFractionDigits=G,n.maximumFractionDigits=G,e.value=K?e.wholeValue+h(ee,e.decimalValue,G):e.wholeValue+e.decimalValue):$?(e.value=Math.round(h(ee,e.wholeValue,q-e.wholeValue.toString().length)),q-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(t||e.isLargest||O)&&(n.minimumIntegerDigits=e.tokenLength),e.formattedValue=e.value.toLocaleString(P,n),n.useGrouping=!1,e.formattedValueEnUS=e.value.toLocaleString("en-US",n),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=e.value.toLocaleString("en-US",{minimumIntegerDigits:3,useGrouping:!1}).slice(0,2)),e}),Z=u(Z),i(X,function(e){var n=S[e.type],a=r(Z,function(t){return t.type===e.type});if(n&&a){var l=a.formattedValueEnUS.split(".");l[0]=parseInt(l[0],10),l[1]?l[1]=parseFloat("0."+l[1],10):l[1]=null;var u=D.durationPluralKey(n,l[0],l[1]),s=function(e,t){var n=[];return i(m(t),function(r){if("_durationLabels"===r.slice(0,15)){var a=r.slice(15).toLowerCase();i(m(t[r]),function(i){i.slice(0,1)===e&&n.push({type:a,key:i,label:t[r][i]})})}}),n}(n,D),o=!1,c={};i(D._durationLabelTypes,function(t){var n=r(s,function(e){return e.type===t.type&&e.key===u});n&&(c[n.type]=n.label,e.text.includes(t.string)&&(e.text=e.text.replace(t.string,n.label),o=!0))}),F&&!o&&(s.sort(t),i(s,function(t){if(c[t.type]!==t.label){if(e.text.includes(t.label))return e.text=e.text.replace(t.label,c[t.type]),!1}else if(e.text.includes(t.label))return!1}))}}),(X=a(X,function(e){if(!e.type)return e.text;var t=r(Z,function(t){return t.type===e.type});if(!t)return"";var n="";return U&&(n+=e.text),(_&&t.isMaxValue||!_&&t.isMinValue)&&(n+="< "),(_&&t.isMinValue||!_&&t.isMaxValue)&&(n+="> "),_&&t.value>0&&(n+="-"),_=!1,"milliseconds"===e.type&&t.formattedValueMS?n+=t.formattedValueMS:n+=t.formattedValue,U||(n+=e.text),n})).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,"")}function d(){var e=this.duration,t=function(t){return e._data[t]},n=r(this.types,t),i=function(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}(this.types,t);switch(n){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(n===i)return"d __";case"weeks":return n===i?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(n===i)return"M __";case"years":return n===i?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function y(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.fn.format=p,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:d},e.updateLocale("en",g)}var g={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,n){return 1===t&&null===n?e:e+e}};return y(e),y});