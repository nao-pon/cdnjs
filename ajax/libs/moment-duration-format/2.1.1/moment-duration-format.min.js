!function(e,t){if("function"==typeof define&&define.amd)define(["moment"],t);else if("object"==typeof exports)try{module.exports=t(require("moment"))}catch(e){module.exports=t}e&&(e.momentDurationFormatSetup=e.moment?t(e.moment):t)}(this,function(e){function t(e,t){return!(t.length>e.length)&&-1!==e.indexOf(t)}function n(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=0,a=e&&e.length||0;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<a;){if(t(e[r]))return e[r];r+=1}}function i(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(!1===t(e[n],n))return;n+=1}}function l(e,t){var n=0,r=e.length,a=[];if(!e||!r)return a;for(;n<r;)a[n]=t(e[n],n),n+=1;return a}function o(e,t){return l(e,function(e){return e[t]})}function s(e){var t=[];return i(e,function(e){e&&t.push(e)}),t}function c(e){var t=[];return i(e,function(e){u(t,e)||t.push(e)}),t}function f(e,t){var n=[];return i(e,function(e){i(t,function(t){e===t&&n.push(e)})}),c(n)}function m(e,t){var n=[];return i(e,function(r,a){if(!t(r))return n=e.slice(a),!1}),n}function p(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function h(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function y(e,t){var n=0,r=e.length;if(!e||!r)return!1;for(;n<r;){if(!0===t(e[n],n))return!0;n+=1}return!1}function d(){var e,t={};if(i([].slice.call(arguments),function(n,u){if(!u){if(!r(n))throw"Expected array as the first argument to durationsFormat.";e=n}"string"!=typeof n&&"function"!=typeof n?"number"!=typeof n?a(n)&&p(t,n):t.precision=n:t.template=n}),!e||!e.length)return[];t.returnMomentTypes=!0;var n=l(e,function(e){return e.format(t)}),u=f(V,c(o(function(e){var t=[];return i(e,function(e){t=t.concat(e)}),t}(n),"type"))),s=t.largest;return s&&(u=u.slice(0,s)),t.returnMomentTypes=!1,t.outputTypes=u,l(e,function(e){return e.format(t)})}function g(){var d=[].slice.call(arguments),g=p({},this.format.defaults),v=this.asMilliseconds(),w=this.asMonths();!1===this.isValid()&&(v=0);var S=v<0,b=e.duration(Math.abs(v),"milliseconds"),M=e.duration(Math.abs(w),"months");i(d,function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?a(e)&&p(g,e):g.precision=e:g.template=e});var x={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},L={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};g.types=V;var k=function(e){return u(V,function(t){return L[t].test(e)})},T=new RegExp(l(V,function(e){return L[e].source}).join("|"),"g");g.duration=this;var D="function"==typeof g.template?g.template.apply(g):g.template,j=g.outputTypes,U=g.returnMomentTypes,E=g.largest,F=[];j||(r(g.stopTrim)&&(g.stopTrim=g.stopTrim.join("")),g.stopTrim&&i(g.stopTrim.match(T),function(e){var t=k(e);"escape"!==t&&"general"!==t&&F.push(t)}));var O=e.localeData();O||(O={}),i(h(_),function(e){"function"!=typeof _[e]?O["_"+e]||(O["_"+e]=_[e]):O[e]||(O[e]=_[e])}),i(h(O._durationTimeTemplates),function(e){D=D.replace("_"+e+"_",O._durationTimeTemplates[e])});var P=g.userLocale||e.locale(),G=g.useLeftUnits,H=g.usePlural,I=g.precision,K=g.forceLength,$=g.useGrouping,q=g.trunc,A=g.useSignificantDigits&&I>0,C=A?g.precision:0,R=C,W=g.minValue,Y=!1,z=g.maxValue,B=!1,J=g.trim;r(J)&&(J=J.join(" ")),null===J&&(E||z||A)&&(J="all"),null!==J&&!0!==J&&"left"!==J&&"right"!==J||(J="large"),!1===J&&(J="");var N=function(e){return e.test(J)},Q=/both/,X=/^all|[^sm]all/,Z=E>0||y([/large/,Q,X],N),ee=y([/small/,Q,X],N),te=y([/mid/,X],N),ne=y([/final/,X],N),re=l(D.match(T),function(e,t){var n=k(e);return"*"===e.slice(0,1)&&(e=e.slice(1),"escape"!==n&&"general"!==n&&F.push(n)),{index:t,length:e.length,text:"",token:"escape"===n?e.replace(L.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}}),ae={index:0,length:0,token:"",text:"",type:null},ue=[];G&&re.reverse(),i(re,function(e){if(e.type)return(ae.type||ae.text)&&ue.push(ae),void(ae=e);G?ae.text=e.token+ae.text:ae.text+=e.token}),(ae.type||ae.text)&&ue.push(ae),G&&ue.reverse();var ie=f(V,c(s(o(ue,"type"))));if(!ie.length)return o(ue,"text").join("");ie=l(ie,function(e,t){var n,r=t+1===ie.length,a=!t;n="years"===e||"months"===e?M.as(e):b.as(e);var i=Math.floor(n),l=n-i,o=u(ue,function(t){return e===t.type});return a&&z&&n>z&&(B=!0),r&&W&&Math.abs(g.duration.as(e))<W&&(Y=!0),a&&null===K&&o.length>1&&(K=!0),b.subtract(i,e),M.subtract(i,e),{rawValue:n,wholeValue:i,decimalValue:r?l:0,isSmallest:r,isLargest:a,type:e,tokenLength:o.length}});var le=q?Math.floor:Math.round,oe=function(e,t){return le(e*Math.pow(10,t))*Math.pow(10,-t)},se=!1,ce=!1,fe=function(e,t){var n={useGrouping:$};return A&&(C<=0?(e.rawValue=0,e.wholeValue=0,e.decimalValue=0):(n.maximumSignificantDigits=C,e.significantDigits=C)),B&&!ce&&(e.isLargest?(e.wholeValue=z,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),Y&&!ce&&(e.isSmallest?(e.wholeValue=W,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),e.isSmallest||e.significantDigits&&e.significantDigits-e.wholeValue.toString().length<=0?I<0?e.value=oe(e.wholeValue,I):0===I?e.value=le(e.wholeValue+e.decimalValue):A?(e.value=q?oe(e.rawValue,C-e.wholeValue.toString().length):e.rawValue,e.wholeValue&&(C-=e.wholeValue.toString().length)):(n.minimumFractionDigits=I,n.maximumFractionDigits=I,e.value=q?e.wholeValue+oe(e.decimalValue,I):e.wholeValue+e.decimalValue):A&&e.wholeValue?(e.value=Math.round(oe(e.wholeValue,e.significantDigits-e.wholeValue.toString().length)),C-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(K||se)&&(n.minimumIntegerDigits=e.tokenLength,ce&&n.maximumSignificantDigits<e.tokenLength&&delete n.maximumSignificantDigits),!se&&(e.value>0||""===J||u(F,e.type)||u(j,e.type))&&(se=!0),e.formattedValue=e.value.toLocaleString(P,n),n.useGrouping=!1,e.formattedValueEnUS=e.value.toLocaleString("en-US",n),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=e.value.toLocaleString("en-US",{minimumIntegerDigits:3,useGrouping:!1}).slice(0,2)),e};if(ie=l(ie,fe),(ie=s(ie)).length>1){var me=function(e){return u(ie,function(t){return t.type===e})};i([{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}],function(e){var t=me(e.type);t&&i(e.targets,function(e){var n=me(e.type);n&&parseInt(t.formattedValueEnUS,10)===e.value&&(t.rawValue=0,t.wholeValue=0,t.decimalValue=0,n.rawValue+=1,n.wholeValue+=1,n.decimalValue=0,n.formattedValueEnUS=n.wholeValue.toString(),ce=!0)})})}return ce&&(se=!1,C=R,ie=s(ie=l(ie,fe))),!j||B&&!g.trim?(Z&&(ie=m(ie,function(e){return!e.isSmallest&&!e.wholeValue&&!u(F,e.type)})),E&&ie.length&&(ie=ie.slice(0,E)),ee&&ie.length>1&&(ie=function(e,t){return m(e.slice().reverse(),t).reverse()}(ie,function(e){return!e.wholeValue&&!u(F,e.type)&&!e.isLargest})),te&&(ie=s(ie=l(ie,function(e,t){return t>0&&t<ie.length-1&&!e.wholeValue?null:e}))),!ne||1!==ie.length||ie[0].wholeValue||!q&&ie[0].isSmallest&&ie[0].rawValue<W||(ie=[])):ie=s(ie=l(ie,function(e){return u(j,function(t){return e.type===t})?e:null})),U?ie:(i(ue,function(e){var r=x[e.type],a=u(ie,function(t){return t.type===e.type});if(r&&a){var l=a.formattedValueEnUS.split(".");l[0]=parseInt(l[0],10),l[1]?l[1]=parseFloat("0."+l[1],10):l[1]=null;var o=O.durationPluralKey(r,l[0],l[1]),s=function(e,t){var n=[];return i(h(t),function(r){if("_durationLabels"===r.slice(0,15)){var a=r.slice(15).toLowerCase();i(h(t[r]),function(u){u.slice(0,1)===e&&n.push({type:a,key:u,label:t[r][u]})})}}),n}(r,O),c=!1,f={};i(O._durationLabelTypes,function(n){var r=u(s,function(e){return e.type===n.type&&e.key===o});r&&(f[r.type]=r.label,t(e.text,n.string)&&(e.text=e.text.replace(n.string,r.label),c=!0))}),H&&!c&&(s.sort(n),i(s,function(n){if(f[n.type]!==n.label){if(t(e.text,n.label))return e.text=e.text.replace(n.label,f[n.type]),!1}else if(t(e.text,n.label))return!1}))}}),(ue=l(ue,function(e){if(!e.type)return e.text;var t=u(ie,function(t){return t.type===e.type});if(!t)return"";var n="";return G&&(n+=e.text),(S&&B||!S&&Y)&&(n+="< ",B=!1,Y=!1),(S&&Y||!S&&B)&&(n+="> ",B=!1,Y=!1),S&&(t.value>0||u(F,t.type)||u(j,t.type))&&(n+="-",S=!1),"milliseconds"===e.type&&t.formattedValueMS?n+=t.formattedValueMS:n+=t.formattedValue,G||(n+=e.text),n})).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function v(){var e=this.duration,t=function(t){return e._data[t]},n=u(this.types,t),r=function(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}(this.types,t);switch(n){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(n===r)return"d __";case"weeks":return n===r?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(n===r)return"M __";case"years":return n===r?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function w(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.format=d,e.duration.fn.format=g,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:v},e.updateLocale("en",_)}var V="escape years months weeks days hours minutes seconds milliseconds general".split(" "),_={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,n){return 1===t&&null===n?e:e+e}};return w(e),w});