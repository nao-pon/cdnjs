!function(e,t){if("function"==typeof define&&define.amd)define(["moment"],t);else if("object"==typeof exports)try{module.exports=t(require("moment"))}catch(e){module.exports=t}e&&(e.momentDurationFormatSetup=e.moment?t(e.moment):t)}(this,function(e){function t(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e,t){var n,r=0,i=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<i;){if(t(e[r]))return e[r];r+=1}}function i(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(!1===t(e[n],n))return;n+=1}}function a(e,t){var n=0,r=e.length,i=[];if(!e||!r)return i;for(;n<r;)i[n]=t(e[n],n),n+=1;return i}function l(e,t){return a(e,function(e){return e[t]})}function u(e){var t=[];return i(e,function(e){e&&t.push(e)}),t}function s(e){var t=[];return i(e,function(e){r(t,e)||t.push(e)}),t}function o(e,t){var n=[];return i(e,function(r,i){if(!t(r))return n=e.slice(i),!1}),n}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function f(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function m(e,t){var n=0,r=e.length;if(!e||!r)return!1;for(;n<r;){if(!0===t(e[n],n))return!0;n+=1}return!1}function h(e,t,n){return e(t*Math.pow(10,n))*Math.pow(10,-n)}function p(){var p=[].slice.call(arguments),d=c({},this.format.defaults),g=this.asMilliseconds();!1===this.isValid()&&(g=0);var v=g<0,w=e.duration(Math.abs(g),"milliseconds");i(p,function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)&&c(d,e):d.precision=e:d.template=e});var _={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},V={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/},S="escape years months weeks days hours minutes seconds milliseconds general".split(" ");d.types=S;var M=function(e){return r(S,function(t){return V[t].test(e)})},x=new RegExp(a(S,function(e){return V[e].source}).join("|"),"g");d.duration=this;var b="function"==typeof d.template?d.template.apply(d):d.template,L=d.largest,k=[];L||(n(d.stopTrim)&&(d.stopTrim=d.stopTrim.join("")),d.stopTrim&&i(d.stopTrim.match(x),function(e){var t=M(e);"escape"!==t&&"general"!==t&&k.push(t)}));var T=e.localeData();T||(T={}),i(f(y),function(e){"function"!=typeof y[e]?T["_"+e]||(T["_"+e]=y[e]):T[e]||(T[e]=y[e])}),i(f(T._durationTimeTemplates),function(e){b=b.replace("_"+e+"_",T._durationTimeTemplates[e])});var j=d.userLocale||window.navigator.userLanguage||window.navigator.language,D=d.useLeftUnits,P=d.usePlural,U=d.precision,F=d.forceLength,G=d.minValue,O=d.maxValue,H=d.useGrouping,E=d.trunc,I=d.useSignificantDigits&&U>0,K=I?d.precision:0,$=d.trim;n($)&&($=$.join(" ")),null!==$&&!0!==$&&"left"!==$&&"right"!==$||($="large"),!1===$&&($=""),L&&($="all");var q=function(e){return e.test($)},A=/both/,C=/^all|[^sm]all/,R=m([/large/,A,C],q),W=m([/small/,A,C],q),Y=m([/mid/,C],q),z=m([/final/,C],q),B=a(b.match(x),function(e,t){var n=M(e);return"*"===e.slice(0,1)&&(e=e.slice(1),L||"escape"===n||"general"===n||k.push(n)),{index:t,length:e.length,text:"",token:"escape"===n?e.replace(V.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}}),J={index:0,length:0,token:"",text:"",type:null},N=[];D&&B.reverse(),i(B,function(e){if(e.type)return(J.type||J.text)&&N.push(J),void(J=e);D?J.text=e.token+J.text:J.text+=e.token}),(J.type||J.text)&&N.push(J),D&&N.reverse();var Q=function(e,t){var n=[];return i(e,function(e){i(t,function(t){e===t&&n.push(e)})}),s(n)}(S,s(u(l(N,"type"))));if(!Q.length)return l(N,"text").join("");Q=a(Q,function(e,t){var n=t+1===Q.length,i=!t,a=w.as(e),l=Math.floor(a),u=a-l,s=r(N,function(t){return e===t.type});return i&&null==F&&s.length>1&&(F=!0),w.subtract(l,e),{rawValue:a,wholeValue:l,decimalValue:n?u:0,isSmallest:n,isLargest:i,type:e,tokenLength:s.length}}),R&&(Q=o(Q,function(e){return!e.isSmallest&&!e.wholeValue&&!r(k,e.type)})),W&&Q.length>1&&(Q=function(e,t){return o(e.slice().reverse(),t).reverse()}(Q,function(e){return!e.wholeValue&&!r(k,e.type)&&!e.isLargest})),Y&&(Q=u(Q=a(Q,function(e,t){return t>0&&t<Q.length-1&&!e.wholeValue?null:e}))),!z||1!==Q.length||Q[0].wholeValue||!E&&Q[0].isSmallest&&Q[0].rawValue<G||(Q=[]),O&&Q.length&&Q[0].isLargest&&Q[0].rawValue>O&&((Q=Q.slice(0,1))[0].isMaxValue=!0),G&&1===Q.length&&Q[0].isSmallest&&Q[0].rawValue<G&&(Q[0].isMinValue=!0),L&&Q.length&&(Q=Q.slice(0,L));var X=E?Math.floor:Math.round;return Q=a(Q,function(e,t){var n={useGrouping:H};if(I){if(K<=0)return null;n.maximumSignificantDigits=K}return e.isMaxValue?e.value=O:e.isMinValue?e.value=G:e.isSmallest?U<0?e.value=h(X,e.wholeValue,U):0===U?e.value=X(e.wholeValue+e.decimalValue):I?e.value=E?h(X,e.wholeValue+e.decimalValue,K-e.wholeValue.toString().length):e.wholeValue+e.decimalValue:(n.minimumFractionDigits=U,n.maximumFractionDigits=U,e.value=E?e.wholeValue+h(X,e.decimalValue,U):e.wholeValue+e.decimalValue):I?(e.value=Math.round(h(X,e.wholeValue,K-e.wholeValue.toString().length)),K-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(t||e.isLargest||F)&&(n.minimumIntegerDigits=e.tokenLength),e.formattedValue=e.value.toLocaleString(j,n),n.useGrouping=!1,e.formattedValueEnUS=e.value.toLocaleString("en-US",n),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=e.value.toLocaleString("en-US",{minimumIntegerDigits:3,useGrouping:!1}).slice(0,2)),e}),Q=u(Q),i(N,function(e){var n=_[e.type],a=r(Q,function(t){return t.type===e.type});if(n&&a){var l=a.formattedValueEnUS.split(".");l[0]=parseInt(l[0],10),l[1]?l[1]=parseFloat("0."+l[1],10):l[1]=null;var u=T.durationPluralKey(n,l[0],l[1]),s=function(e,t){var n=[];return i(f(t),function(r){if("_durationLabels"===r.slice(0,15)){var a=r.slice(15).toLowerCase();i(f(t[r]),function(i){i.slice(0,1)===e&&n.push({type:a,key:i,label:t[r][i]})})}}),n}(n,T),o=!1,c={};i(T._durationLabelTypes,function(t){var n=r(s,function(e){return e.type===t.type&&e.key===u});n&&(c[n.type]=n.label,e.text.includes(t.string)&&(e.text=e.text.replace(t.string,n.label),o=!0))}),P&&!o&&(s.sort(t),i(s,function(t){if(c[t.type]!==t.label){if(e.text.includes(t.label))return e.text=e.text.replace(t.label,c[t.type]),!1}else if(e.text.includes(t.label))return!1}))}}),(N=a(N,function(e){if(!e.type)return e.text;var t=r(Q,function(t){return t.type===e.type});if(!t)return"";var n="";return D&&(n+=e.text),(v&&t.isMaxValue||!v&&t.isMinValue)&&(n+="< "),(v&&t.isMinValue||!v&&t.isMaxValue)&&(n+="> "),v&&t.value>0&&(n+="-"),v=!1,"milliseconds"===e.type&&t.formattedValueMS?n+=t.formattedValueMS:n+=t.formattedValue,D||(n+=e.text),n})).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,"")}function d(){var e=this.duration,t=function(t){return e._data[t]},n=r(this.types,t),i=function(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}(this.types,t);switch(n){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(n===i)return"d __";case"weeks":return n===i?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(n===i)return"M __";case"years":return n===i?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function g(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.fn.format=p,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:d},e.updateLocale("en",y)}var y={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,n){return 1===t&&null===n?e:e+e}};return g(e),g});